var IW=Object.defineProperty;var MW=(e,t,n)=>t in e?IW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tL=(e,t,n)=>(MW(e,typeof t!="symbol"?t+"":t,n),n);function j5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const c=Object.getOwnPropertyDescriptor(r,i);c&&Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();var Ma=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AW(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var c=Function.bind.apply(t,i);return new c}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var $5={exports:{}},Qw={},B5={exports:{}},Nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=Symbol.for("react.element"),RW=Symbol.for("react.portal"),OW=Symbol.for("react.fragment"),DW=Symbol.for("react.strict_mode"),LW=Symbol.for("react.profiler"),zW=Symbol.for("react.provider"),FW=Symbol.for("react.context"),jW=Symbol.for("react.forward_ref"),$W=Symbol.for("react.suspense"),BW=Symbol.for("react.memo"),NW=Symbol.for("react.lazy"),nL=Symbol.iterator;function UW(e){return e===null||typeof e!="object"?null:(e=nL&&e[nL]||e["@@iterator"],typeof e=="function"?e:null)}var N5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U5=Object.assign,V5={};function by(e,t,n){this.props=e,this.context=t,this.refs=V5,this.updater=n||N5}by.prototype.isReactComponent={};by.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};by.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function H5(){}H5.prototype=by.prototype;function bI(e,t,n){this.props=e,this.context=t,this.refs=V5,this.updater=n||N5}var wI=bI.prototype=new H5;wI.constructor=bI;U5(wI,by.prototype);wI.isPureReactComponent=!0;var rL=Array.isArray,G5=Object.prototype.hasOwnProperty,CI={current:null},W5={key:!0,ref:!0,__self:!0,__source:!0};function q5(e,t,n){var r,i={},c=null,d=null;if(t!=null)for(r in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(c=""+t.key),t)G5.call(t,r)&&!W5.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var m=Array(s),_=0;_<s;_++)m[_]=arguments[_+2];i.children=m}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:N_,type:e,key:c,ref:d,props:i,_owner:CI.current}}function VW(e,t){return{$$typeof:N_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function SI(e){return typeof e=="object"&&e!==null&&e.$$typeof===N_}function HW(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oL=/\/+/g;function bT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HW(""+e.key):t.toString(36)}function r1(e,t,n,r,i){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case N_:case RW:d=!0}}if(d)return d=e,i=i(d),e=r===""?"."+bT(d,0):r,rL(i)?(n="",e!=null&&(n=e.replace(oL,"$&/")+"/"),r1(i,t,n,"",function(_){return _})):i!=null&&(SI(i)&&(i=VW(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(oL,"$&/")+"/")+e)),t.push(i)),1;if(d=0,r=r===""?".":r+":",rL(e))for(var s=0;s<e.length;s++){c=e[s];var m=r+bT(c,s);d+=r1(c,t,n,m,i)}else if(m=UW(e),typeof m=="function")for(e=m.call(e),s=0;!(c=e.next()).done;)c=c.value,m=r+bT(c,s++),d+=r1(c,t,n,m,i);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function _b(e,t,n){if(e==null)return e;var r=[],i=0;return r1(e,r,"","",function(c){return t.call(n,c,i++)}),r}function GW(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bs={current:null},o1={transition:null},WW={ReactCurrentDispatcher:Bs,ReactCurrentBatchConfig:o1,ReactCurrentOwner:CI};Nr.Children={map:_b,forEach:function(e,t,n){_b(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _b(e,function(){t++}),t},toArray:function(e){return _b(e,function(t){return t})||[]},only:function(e){if(!SI(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Nr.Component=by;Nr.Fragment=OW;Nr.Profiler=LW;Nr.PureComponent=bI;Nr.StrictMode=DW;Nr.Suspense=$W;Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WW;Nr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=U5({},e.props),i=e.key,c=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,d=CI.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(m in t)G5.call(t,m)&&!W5.hasOwnProperty(m)&&(r[m]=t[m]===void 0&&s!==void 0?s[m]:t[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){s=Array(m);for(var _=0;_<m;_++)s[_]=arguments[_+2];r.children=s}return{$$typeof:N_,type:e.type,key:i,ref:c,props:r,_owner:d}};Nr.createContext=function(e){return e={$$typeof:FW,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zW,_context:e},e.Consumer=e};Nr.createElement=q5;Nr.createFactory=function(e){var t=q5.bind(null,e);return t.type=e,t};Nr.createRef=function(){return{current:null}};Nr.forwardRef=function(e){return{$$typeof:jW,render:e}};Nr.isValidElement=SI;Nr.lazy=function(e){return{$$typeof:NW,_payload:{_status:-1,_result:e},_init:GW}};Nr.memo=function(e,t){return{$$typeof:BW,type:e,compare:t===void 0?null:t}};Nr.startTransition=function(e){var t=o1.transition;o1.transition={};try{e()}finally{o1.transition=t}};Nr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Nr.useCallback=function(e,t){return Bs.current.useCallback(e,t)};Nr.useContext=function(e){return Bs.current.useContext(e)};Nr.useDebugValue=function(){};Nr.useDeferredValue=function(e){return Bs.current.useDeferredValue(e)};Nr.useEffect=function(e,t){return Bs.current.useEffect(e,t)};Nr.useId=function(){return Bs.current.useId()};Nr.useImperativeHandle=function(e,t,n){return Bs.current.useImperativeHandle(e,t,n)};Nr.useInsertionEffect=function(e,t){return Bs.current.useInsertionEffect(e,t)};Nr.useLayoutEffect=function(e,t){return Bs.current.useLayoutEffect(e,t)};Nr.useMemo=function(e,t){return Bs.current.useMemo(e,t)};Nr.useReducer=function(e,t,n){return Bs.current.useReducer(e,t,n)};Nr.useRef=function(e){return Bs.current.useRef(e)};Nr.useState=function(e){return Bs.current.useState(e)};Nr.useSyncExternalStore=function(e,t,n){return Bs.current.useSyncExternalStore(e,t,n)};Nr.useTransition=function(){return Bs.current.useTransition()};Nr.version="18.2.0";B5.exports=Nr;var P=B5.exports;const Tr=fa(P),L1=j5({__proto__:null,default:Tr},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qW=P,ZW=Symbol.for("react.element"),YW=Symbol.for("react.fragment"),KW=Object.prototype.hasOwnProperty,XW=qW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JW={key:!0,ref:!0,__self:!0,__source:!0};function Z5(e,t,n){var r,i={},c=null,d=null;n!==void 0&&(c=""+n),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(d=t.ref);for(r in t)KW.call(t,r)&&!JW.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ZW,type:e,key:c,ref:d,props:i,_owner:XW.current}}Qw.Fragment=YW;Qw.jsx=Z5;Qw.jsxs=Z5;$5.exports=Qw;var T=$5.exports,tP={},Y5={exports:{}},Ua={},K5={exports:{}},X5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,ge){var Te=ce.length;ce.push(ge);e:for(;0<Te;){var Ue=Te-1>>>1,We=ce[Ue];if(0<i(We,ge))ce[Ue]=ge,ce[Te]=We,Te=Ue;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var ge=ce[0],Te=ce.pop();if(Te!==ge){ce[0]=Te;e:for(var Ue=0,We=ce.length,Ye=We>>>1;Ue<Ye;){var gt=2*(Ue+1)-1,vt=ce[gt],jt=gt+1,Rt=ce[jt];if(0>i(vt,Te))jt<We&&0>i(Rt,vt)?(ce[Ue]=Rt,ce[jt]=Te,Ue=jt):(ce[Ue]=vt,ce[gt]=Te,Ue=gt);else if(jt<We&&0>i(Rt,Te))ce[Ue]=Rt,ce[jt]=Te,Ue=jt;else break e}}return ge}function i(ce,ge){var Te=ce.sortIndex-ge.sortIndex;return Te!==0?Te:ce.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,s=d.now();e.unstable_now=function(){return d.now()-s}}var m=[],_=[],w=1,E=null,k=3,O=!1,R=!1,L=!1,U=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ce){for(var ge=n(_);ge!==null;){if(ge.callback===null)r(_);else if(ge.startTime<=ce)r(_),ge.sortIndex=ge.expirationTime,t(m,ge);else break;ge=n(_)}}function Z(ce){if(L=!1,B(ce),!R)if(n(m)!==null)R=!0,me(ee);else{var ge=n(_);ge!==null&&xe(Z,ge.startTime-ce)}}function ee(ce,ge){R=!1,L&&(L=!1,F(ne),ne=-1),O=!0;var Te=k;try{for(B(ge),E=n(m);E!==null&&(!(E.expirationTime>ge)||ce&&!se());){var Ue=E.callback;if(typeof Ue=="function"){E.callback=null,k=E.priorityLevel;var We=Ue(E.expirationTime<=ge);ge=e.unstable_now(),typeof We=="function"?E.callback=We:E===n(m)&&r(m),B(ge)}else r(m);E=n(m)}if(E!==null)var Ye=!0;else{var gt=n(_);gt!==null&&xe(Z,gt.startTime-ge),Ye=!1}return Ye}finally{E=null,k=Te,O=!1}}var X=!1,W=null,ne=-1,J=5,re=-1;function se(){return!(e.unstable_now()-re<J)}function de(){if(W!==null){var ce=e.unstable_now();re=ce;var ge=!0;try{ge=W(!0,ce)}finally{ge?pe():(X=!1,W=null)}}else X=!1}var pe;if(typeof z=="function")pe=function(){z(de)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=de,pe=function(){oe.postMessage(null)}}else pe=function(){U(de,0)};function me(ce){W=ce,X||(X=!0,pe())}function xe(ce,ge){ne=U(function(){ce(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){R||O||(R=!0,me(ee))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(ce){switch(k){case 1:case 2:case 3:var ge=3;break;default:ge=k}var Te=k;k=ge;try{return ce()}finally{k=Te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,ge){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Te=k;k=ce;try{return ge()}finally{k=Te}},e.unstable_scheduleCallback=function(ce,ge,Te){var Ue=e.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ue+Te:Ue):Te=Ue,ce){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=Te+We,ce={id:w++,callback:ge,priorityLevel:ce,startTime:Te,expirationTime:We,sortIndex:-1},Te>Ue?(ce.sortIndex=Te,t(_,ce),n(m)===null&&ce===n(_)&&(L?(F(ne),ne=-1):L=!0,xe(Z,Te-Ue))):(ce.sortIndex=We,t(m,ce),R||O||(R=!0,me(ee))),ce},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(ce){var ge=k;return function(){var Te=k;k=ge;try{return ce.apply(this,arguments)}finally{k=Te}}}})(X5);K5.exports=X5;var QW=K5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=P,Ba=QW;function an(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q5=new Set,K0={};function jp(e,t){Yg(e,t),Yg(e+"Capture",t)}function Yg(e,t){for(K0[e]=t,e=0;e<t.length;e++)Q5.add(t[e])}var rd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nP=Object.prototype.hasOwnProperty,e9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iL={},sL={};function t9(e){return nP.call(sL,e)?!0:nP.call(iL,e)?!1:e9.test(e)?sL[e]=!0:(iL[e]=!0,!1)}function n9(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r9(e,t,n,r){if(t===null||typeof t>"u"||n9(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ns(e,t,n,r,i,c,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=d}var ls={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ls[e]=new Ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ls[t]=new Ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ls[e]=new Ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ls[e]=new Ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ls[e]=new Ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ls[e]=new Ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ls[e]=new Ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ls[e]=new Ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ls[e]=new Ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var TI=/[\-:]([a-z])/g;function EI(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(TI,EI);ls[t]=new Ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(TI,EI);ls[t]=new Ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(TI,EI);ls[t]=new Ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ls[e]=new Ns(e,1,!1,e.toLowerCase(),null,!1,!1)});ls.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ls[e]=new Ns(e,1,!1,e.toLowerCase(),null,!0,!0)});function PI(e,t,n,r){var i=ls.hasOwnProperty(t)?ls[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r9(t,n,i,r)&&(n=null),r||i===null?t9(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ud=J5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xb=Symbol.for("react.element"),hg=Symbol.for("react.portal"),fg=Symbol.for("react.fragment"),kI=Symbol.for("react.strict_mode"),rP=Symbol.for("react.profiler"),eB=Symbol.for("react.provider"),tB=Symbol.for("react.context"),II=Symbol.for("react.forward_ref"),oP=Symbol.for("react.suspense"),iP=Symbol.for("react.suspense_list"),MI=Symbol.for("react.memo"),ph=Symbol.for("react.lazy"),nB=Symbol.for("react.offscreen"),aL=Symbol.iterator;function Hv(e){return e===null||typeof e!="object"?null:(e=aL&&e[aL]||e["@@iterator"],typeof e=="function"?e:null)}var mi=Object.assign,wT;function v0(e){if(wT===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wT=t&&t[1]||""}return`
`+wT+e}var CT=!1;function ST(e,t){if(!e||CT)return"";CT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){r=_}e.call(t.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var i=_.stack.split(`
`),c=r.stack.split(`
`),d=i.length-1,s=c.length-1;1<=d&&0<=s&&i[d]!==c[s];)s--;for(;1<=d&&0<=s;d--,s--)if(i[d]!==c[s]){if(d!==1||s!==1)do if(d--,s--,0>s||i[d]!==c[s]){var m=`
`+i[d].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=d&&0<=s);break}}}finally{CT=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?v0(e):""}function o9(e){switch(e.tag){case 5:return v0(e.type);case 16:return v0("Lazy");case 13:return v0("Suspense");case 19:return v0("SuspenseList");case 0:case 2:case 15:return e=ST(e.type,!1),e;case 11:return e=ST(e.type.render,!1),e;case 1:return e=ST(e.type,!0),e;default:return""}}function sP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fg:return"Fragment";case hg:return"Portal";case rP:return"Profiler";case kI:return"StrictMode";case oP:return"Suspense";case iP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tB:return(e.displayName||"Context")+".Consumer";case eB:return(e._context.displayName||"Context")+".Provider";case II:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case MI:return t=e.displayName||null,t!==null?t:sP(e.type)||"Memo";case ph:t=e._payload,e=e._init;try{return sP(e(t))}catch{}}return null}function i9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sP(t);case 8:return t===kI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s9(e){var t=rB(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bb(e){e._valueTracker||(e._valueTracker=s9(e))}function oB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=rB(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function z1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function aP(e,t){var n=t.checked;return mi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lL(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iB(e,t){t=t.checked,t!=null&&PI(e,"checked",t,!1)}function lP(e,t){iB(e,t);var n=Hh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cP(e,t.type,n):t.hasOwnProperty("defaultValue")&&cP(e,t.type,Hh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cL(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cP(e,t,n){(t!=="number"||z1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _0=Array.isArray;function Mg(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hh(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function uP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(an(91));return mi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uL(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(an(92));if(_0(n)){if(1<n.length)throw Error(an(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hh(n)}}function sB(e,t){var n=Hh(t.value),r=Hh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dL(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wb,lB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wb=wb||document.createElement("div"),wb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function X0(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var k0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a9=["Webkit","ms","Moz","O"];Object.keys(k0).forEach(function(e){a9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),k0[t]=k0[e]})});function cB(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||k0.hasOwnProperty(e)&&k0[e]?(""+t).trim():t+"px"}function uB(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cB(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var l9=mi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hP(e,t){if(t){if(l9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(an(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(an(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(an(61))}if(t.style!=null&&typeof t.style!="object")throw Error(an(62))}}function fP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pP=null;function AI(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mP=null,Ag=null,Rg=null;function hL(e){if(e=H_(e)){if(typeof mP!="function")throw Error(an(280));var t=e.stateNode;t&&(t=oC(t),mP(e.stateNode,e.type,t))}}function dB(e){Ag?Rg?Rg.push(e):Rg=[e]:Ag=e}function hB(){if(Ag){var e=Ag,t=Rg;if(Rg=Ag=null,hL(e),t)for(e=0;e<t.length;e++)hL(t[e])}}function fB(e,t){return e(t)}function pB(){}var TT=!1;function mB(e,t,n){if(TT)return e(t,n);TT=!0;try{return fB(e,t,n)}finally{TT=!1,(Ag!==null||Rg!==null)&&(pB(),hB())}}function J0(e,t){var n=e.stateNode;if(n===null)return null;var r=oC(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(an(231,t,typeof n));return n}var gP=!1;if(rd)try{var Gv={};Object.defineProperty(Gv,"passive",{get:function(){gP=!0}}),window.addEventListener("test",Gv,Gv),window.removeEventListener("test",Gv,Gv)}catch{gP=!1}function c9(e,t,n,r,i,c,d,s,m){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(w){this.onError(w)}}var I0=!1,F1=null,j1=!1,yP=null,u9={onError:function(e){I0=!0,F1=e}};function d9(e,t,n,r,i,c,d,s,m){I0=!1,F1=null,c9.apply(u9,arguments)}function h9(e,t,n,r,i,c,d,s,m){if(d9.apply(this,arguments),I0){if(I0){var _=F1;I0=!1,F1=null}else throw Error(an(198));j1||(j1=!0,yP=_)}}function $p(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fL(e){if($p(e)!==e)throw Error(an(188))}function f9(e){var t=e.alternate;if(!t){if(t=$p(e),t===null)throw Error(an(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var c=i.alternate;if(c===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===n)return fL(i),e;if(c===r)return fL(i),t;c=c.sibling}throw Error(an(188))}if(n.return!==r.return)n=i,r=c;else{for(var d=!1,s=i.child;s;){if(s===n){d=!0,n=i,r=c;break}if(s===r){d=!0,r=i,n=c;break}s=s.sibling}if(!d){for(s=c.child;s;){if(s===n){d=!0,n=c,r=i;break}if(s===r){d=!0,r=c,n=i;break}s=s.sibling}if(!d)throw Error(an(189))}}if(n.alternate!==r)throw Error(an(190))}if(n.tag!==3)throw Error(an(188));return n.stateNode.current===n?e:t}function yB(e){return e=f9(e),e!==null?vB(e):null}function vB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vB(e);if(t!==null)return t;e=e.sibling}return null}var _B=Ba.unstable_scheduleCallback,pL=Ba.unstable_cancelCallback,p9=Ba.unstable_shouldYield,m9=Ba.unstable_requestPaint,Ei=Ba.unstable_now,g9=Ba.unstable_getCurrentPriorityLevel,RI=Ba.unstable_ImmediatePriority,xB=Ba.unstable_UserBlockingPriority,$1=Ba.unstable_NormalPriority,y9=Ba.unstable_LowPriority,bB=Ba.unstable_IdlePriority,eC=null,Yc=null;function v9(e){if(Yc&&typeof Yc.onCommitFiberRoot=="function")try{Yc.onCommitFiberRoot(eC,e,void 0,(e.current.flags&128)===128)}catch{}}var rc=Math.clz32?Math.clz32:b9,_9=Math.log,x9=Math.LN2;function b9(e){return e>>>=0,e===0?32:31-(_9(e)/x9|0)|0}var Cb=64,Sb=4194304;function x0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function B1(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,c=e.pingedLanes,d=n&268435455;if(d!==0){var s=d&~i;s!==0?r=x0(s):(c&=d,c!==0&&(r=x0(c)))}else d=n&~i,d!==0?r=x0(d):c!==0&&(r=x0(c));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,c=t&-t,i>=c||i===16&&(c&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rc(t),i=1<<n,r|=e[n],t&=~i;return r}function w9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C9(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-rc(c),s=1<<d,m=i[d];m===-1?(!(s&n)||s&r)&&(i[d]=w9(s,t)):m<=t&&(e.expiredLanes|=s),c&=~s}}function vP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wB(){var e=Cb;return Cb<<=1,!(Cb&4194240)&&(Cb=64),e}function ET(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function U_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rc(t),e[t]=n}function S9(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rc(n),c=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~c}}function OI(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rc(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bo=0;function CB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SB,DI,TB,EB,PB,_P=!1,Tb=[],Mh=null,Ah=null,Rh=null,Q0=new Map,e_=new Map,_h=[],T9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mL(e,t){switch(e){case"focusin":case"focusout":Mh=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Rh=null;break;case"pointerover":case"pointerout":Q0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":e_.delete(t.pointerId)}}function Wv(e,t,n,r,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:c,targetContainers:[i]},t!==null&&(t=H_(t),t!==null&&DI(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function E9(e,t,n,r,i){switch(t){case"focusin":return Mh=Wv(Mh,e,t,n,r,i),!0;case"dragenter":return Ah=Wv(Ah,e,t,n,r,i),!0;case"mouseover":return Rh=Wv(Rh,e,t,n,r,i),!0;case"pointerover":var c=i.pointerId;return Q0.set(c,Wv(Q0.get(c)||null,e,t,n,r,i)),!0;case"gotpointercapture":return c=i.pointerId,e_.set(c,Wv(e_.get(c)||null,e,t,n,r,i)),!0}return!1}function kB(e){var t=up(e.target);if(t!==null){var n=$p(t);if(n!==null){if(t=n.tag,t===13){if(t=gB(n),t!==null){e.blockedOn=t,PB(e.priority,function(){TB(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function i1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pP=r,n.target.dispatchEvent(r),pP=null}else return t=H_(n),t!==null&&DI(t),e.blockedOn=n,!1;t.shift()}return!0}function gL(e,t,n){i1(e)&&n.delete(t)}function P9(){_P=!1,Mh!==null&&i1(Mh)&&(Mh=null),Ah!==null&&i1(Ah)&&(Ah=null),Rh!==null&&i1(Rh)&&(Rh=null),Q0.forEach(gL),e_.forEach(gL)}function qv(e,t){e.blockedOn===t&&(e.blockedOn=null,_P||(_P=!0,Ba.unstable_scheduleCallback(Ba.unstable_NormalPriority,P9)))}function t_(e){function t(i){return qv(i,e)}if(0<Tb.length){qv(Tb[0],e);for(var n=1;n<Tb.length;n++){var r=Tb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mh!==null&&qv(Mh,e),Ah!==null&&qv(Ah,e),Rh!==null&&qv(Rh,e),Q0.forEach(t),e_.forEach(t),n=0;n<_h.length;n++)r=_h[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_h.length&&(n=_h[0],n.blockedOn===null);)kB(n),n.blockedOn===null&&_h.shift()}var Og=ud.ReactCurrentBatchConfig,N1=!0;function k9(e,t,n,r){var i=bo,c=Og.transition;Og.transition=null;try{bo=1,LI(e,t,n,r)}finally{bo=i,Og.transition=c}}function I9(e,t,n,r){var i=bo,c=Og.transition;Og.transition=null;try{bo=4,LI(e,t,n,r)}finally{bo=i,Og.transition=c}}function LI(e,t,n,r){if(N1){var i=xP(e,t,n,r);if(i===null)zT(e,t,r,U1,n),mL(e,r);else if(E9(i,e,t,n,r))r.stopPropagation();else if(mL(e,r),t&4&&-1<T9.indexOf(e)){for(;i!==null;){var c=H_(i);if(c!==null&&SB(c),c=xP(e,t,n,r),c===null&&zT(e,t,r,U1,n),c===i)break;i=c}i!==null&&r.stopPropagation()}else zT(e,t,r,null,n)}}var U1=null;function xP(e,t,n,r){if(U1=null,e=AI(r),e=up(e),e!==null)if(t=$p(e),t===null)e=null;else if(n=t.tag,n===13){if(e=gB(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return U1=e,null}function IB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g9()){case RI:return 1;case xB:return 4;case $1:case y9:return 16;case bB:return 536870912;default:return 16}default:return 16}}var Ch=null,zI=null,s1=null;function MB(){if(s1)return s1;var e,t=zI,n=t.length,r,i="value"in Ch?Ch.value:Ch.textContent,c=i.length;for(e=0;e<n&&t[e]===i[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===i[c-r];r++);return s1=i.slice(e,1<r?1-r:void 0)}function a1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eb(){return!0}function yL(){return!1}function Va(e){function t(n,r,i,c,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(c):c[s]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Eb:yL,this.isPropagationStopped=yL,this}return mi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eb)},persist:function(){},isPersistent:Eb}),t}var wy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FI=Va(wy),V_=mi({},wy,{view:0,detail:0}),M9=Va(V_),PT,kT,Zv,tC=mi({},V_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jI,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zv&&(Zv&&e.type==="mousemove"?(PT=e.screenX-Zv.screenX,kT=e.screenY-Zv.screenY):kT=PT=0,Zv=e),PT)},movementY:function(e){return"movementY"in e?e.movementY:kT}}),vL=Va(tC),A9=mi({},tC,{dataTransfer:0}),R9=Va(A9),O9=mi({},V_,{relatedTarget:0}),IT=Va(O9),D9=mi({},wy,{animationName:0,elapsedTime:0,pseudoElement:0}),L9=Va(D9),z9=mi({},wy,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F9=Va(z9),j9=mi({},wy,{data:0}),_L=Va(j9),$9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U9(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=N9[e])?!!t[e]:!1}function jI(){return U9}var V9=mi({},V_,{key:function(e){if(e.key){var t=$9[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=a1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B9[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jI,charCode:function(e){return e.type==="keypress"?a1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?a1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H9=Va(V9),G9=mi({},tC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xL=Va(G9),W9=mi({},V_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jI}),q9=Va(W9),Z9=mi({},wy,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y9=Va(Z9),K9=mi({},tC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),X9=Va(K9),J9=[9,13,27,32],$I=rd&&"CompositionEvent"in window,M0=null;rd&&"documentMode"in document&&(M0=document.documentMode);var Q9=rd&&"TextEvent"in window&&!M0,AB=rd&&(!$I||M0&&8<M0&&11>=M0),bL=String.fromCharCode(32),wL=!1;function RB(e,t){switch(e){case"keyup":return J9.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pg=!1;function e7(e,t){switch(e){case"compositionend":return OB(t);case"keypress":return t.which!==32?null:(wL=!0,bL);case"textInput":return e=t.data,e===bL&&wL?null:e;default:return null}}function t7(e,t){if(pg)return e==="compositionend"||!$I&&RB(e,t)?(e=MB(),s1=zI=Ch=null,pg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AB&&t.locale!=="ko"?null:t.data;default:return null}}var n7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n7[e.type]:t==="textarea"}function DB(e,t,n,r){dB(r),t=V1(t,"onChange"),0<t.length&&(n=new FI("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var A0=null,n_=null;function r7(e){GB(e,0)}function nC(e){var t=yg(e);if(oB(t))return e}function o7(e,t){if(e==="change")return t}var LB=!1;if(rd){var MT;if(rd){var AT="oninput"in document;if(!AT){var SL=document.createElement("div");SL.setAttribute("oninput","return;"),AT=typeof SL.oninput=="function"}MT=AT}else MT=!1;LB=MT&&(!document.documentMode||9<document.documentMode)}function TL(){A0&&(A0.detachEvent("onpropertychange",zB),n_=A0=null)}function zB(e){if(e.propertyName==="value"&&nC(n_)){var t=[];DB(t,n_,e,AI(e)),mB(r7,t)}}function i7(e,t,n){e==="focusin"?(TL(),A0=t,n_=n,A0.attachEvent("onpropertychange",zB)):e==="focusout"&&TL()}function s7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nC(n_)}function a7(e,t){if(e==="click")return nC(t)}function l7(e,t){if(e==="input"||e==="change")return nC(t)}function c7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ic=typeof Object.is=="function"?Object.is:c7;function r_(e,t){if(ic(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nP.call(t,i)||!ic(e[i],t[i]))return!1}return!0}function EL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function PL(e,t){var n=EL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=EL(n)}}function FB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jB(){for(var e=window,t=z1();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=z1(e.document)}return t}function BI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u7(e){var t=jB(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&FB(n.ownerDocument.documentElement,n)){if(r!==null&&BI(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,c=Math.min(r.start,i);r=r.end===void 0?c:Math.min(r.end,i),!e.extend&&c>r&&(i=r,r=c,c=i),i=PL(n,c);var d=PL(n,r);i&&d&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),c>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var d7=rd&&"documentMode"in document&&11>=document.documentMode,mg=null,bP=null,R0=null,wP=!1;function kL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wP||mg==null||mg!==z1(r)||(r=mg,"selectionStart"in r&&BI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),R0&&r_(R0,r)||(R0=r,r=V1(bP,"onSelect"),0<r.length&&(t=new FI("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mg)))}function Pb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gg={animationend:Pb("Animation","AnimationEnd"),animationiteration:Pb("Animation","AnimationIteration"),animationstart:Pb("Animation","AnimationStart"),transitionend:Pb("Transition","TransitionEnd")},RT={},$B={};rd&&($B=document.createElement("div").style,"AnimationEvent"in window||(delete gg.animationend.animation,delete gg.animationiteration.animation,delete gg.animationstart.animation),"TransitionEvent"in window||delete gg.transitionend.transition);function rC(e){if(RT[e])return RT[e];if(!gg[e])return e;var t=gg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $B)return RT[e]=t[n];return e}var BB=rC("animationend"),NB=rC("animationiteration"),UB=rC("animationstart"),VB=rC("transitionend"),HB=new Map,IL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xh(e,t){HB.set(e,t),jp(t,[e])}for(var OT=0;OT<IL.length;OT++){var DT=IL[OT],h7=DT.toLowerCase(),f7=DT[0].toUpperCase()+DT.slice(1);Xh(h7,"on"+f7)}Xh(BB,"onAnimationEnd");Xh(NB,"onAnimationIteration");Xh(UB,"onAnimationStart");Xh("dblclick","onDoubleClick");Xh("focusin","onFocus");Xh("focusout","onBlur");Xh(VB,"onTransitionEnd");Yg("onMouseEnter",["mouseout","mouseover"]);Yg("onMouseLeave",["mouseout","mouseover"]);Yg("onPointerEnter",["pointerout","pointerover"]);Yg("onPointerLeave",["pointerout","pointerover"]);jp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jp("onBeforeInput",["compositionend","keypress","textInput","paste"]);jp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var b0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p7=new Set("cancel close invalid load scroll toggle".split(" ").concat(b0));function ML(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,h9(r,t,void 0,e),e.currentTarget=null}function GB(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var d=r.length-1;0<=d;d--){var s=r[d],m=s.instance,_=s.currentTarget;if(s=s.listener,m!==c&&i.isPropagationStopped())break e;ML(i,s,_),c=m}else for(d=0;d<r.length;d++){if(s=r[d],m=s.instance,_=s.currentTarget,s=s.listener,m!==c&&i.isPropagationStopped())break e;ML(i,s,_),c=m}}}if(j1)throw e=yP,j1=!1,yP=null,e}function $o(e,t){var n=t[PP];n===void 0&&(n=t[PP]=new Set);var r=e+"__bubble";n.has(r)||(WB(t,e,2,!1),n.add(r))}function LT(e,t,n){var r=0;t&&(r|=4),WB(n,e,r,t)}var kb="_reactListening"+Math.random().toString(36).slice(2);function o_(e){if(!e[kb]){e[kb]=!0,Q5.forEach(function(n){n!=="selectionchange"&&(p7.has(n)||LT(n,!1,e),LT(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kb]||(t[kb]=!0,LT("selectionchange",!1,t))}}function WB(e,t,n,r){switch(IB(t)){case 1:var i=k9;break;case 4:i=I9;break;default:i=LI}n=i.bind(null,t,n,e),i=void 0,!gP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zT(e,t,n,r,i){var c=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var m=d.tag;if((m===3||m===4)&&(m=d.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;d=d.return}for(;s!==null;){if(d=up(s),d===null)return;if(m=d.tag,m===5||m===6){r=c=d;continue e}s=s.parentNode}}r=r.return}mB(function(){var _=c,w=AI(n),E=[];e:{var k=HB.get(e);if(k!==void 0){var O=FI,R=e;switch(e){case"keypress":if(a1(n)===0)break e;case"keydown":case"keyup":O=H9;break;case"focusin":R="focus",O=IT;break;case"focusout":R="blur",O=IT;break;case"beforeblur":case"afterblur":O=IT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=vL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=R9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=q9;break;case BB:case NB:case UB:O=L9;break;case VB:O=Y9;break;case"scroll":O=M9;break;case"wheel":O=X9;break;case"copy":case"cut":case"paste":O=F9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=xL}var L=(t&4)!==0,U=!L&&e==="scroll",F=L?k!==null?k+"Capture":null:k;L=[];for(var z=_,B;z!==null;){B=z;var Z=B.stateNode;if(B.tag===5&&Z!==null&&(B=Z,F!==null&&(Z=J0(z,F),Z!=null&&L.push(i_(z,Z,B)))),U)break;z=z.return}0<L.length&&(k=new O(k,R,null,n,w),E.push({event:k,listeners:L}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",k&&n!==pP&&(R=n.relatedTarget||n.fromElement)&&(up(R)||R[od]))break e;if((O||k)&&(k=w.window===w?w:(k=w.ownerDocument)?k.defaultView||k.parentWindow:window,O?(R=n.relatedTarget||n.toElement,O=_,R=R?up(R):null,R!==null&&(U=$p(R),R!==U||R.tag!==5&&R.tag!==6)&&(R=null)):(O=null,R=_),O!==R)){if(L=vL,Z="onMouseLeave",F="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(L=xL,Z="onPointerLeave",F="onPointerEnter",z="pointer"),U=O==null?k:yg(O),B=R==null?k:yg(R),k=new L(Z,z+"leave",O,n,w),k.target=U,k.relatedTarget=B,Z=null,up(w)===_&&(L=new L(F,z+"enter",R,n,w),L.target=B,L.relatedTarget=U,Z=L),U=Z,O&&R)t:{for(L=O,F=R,z=0,B=L;B;B=Gm(B))z++;for(B=0,Z=F;Z;Z=Gm(Z))B++;for(;0<z-B;)L=Gm(L),z--;for(;0<B-z;)F=Gm(F),B--;for(;z--;){if(L===F||F!==null&&L===F.alternate)break t;L=Gm(L),F=Gm(F)}L=null}else L=null;O!==null&&AL(E,k,O,L,!1),R!==null&&U!==null&&AL(E,U,R,L,!0)}}e:{if(k=_?yg(_):window,O=k.nodeName&&k.nodeName.toLowerCase(),O==="select"||O==="input"&&k.type==="file")var ee=o7;else if(CL(k))if(LB)ee=l7;else{ee=s7;var X=i7}else(O=k.nodeName)&&O.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(ee=a7);if(ee&&(ee=ee(e,_))){DB(E,ee,n,w);break e}X&&X(e,k,_),e==="focusout"&&(X=k._wrapperState)&&X.controlled&&k.type==="number"&&cP(k,"number",k.value)}switch(X=_?yg(_):window,e){case"focusin":(CL(X)||X.contentEditable==="true")&&(mg=X,bP=_,R0=null);break;case"focusout":R0=bP=mg=null;break;case"mousedown":wP=!0;break;case"contextmenu":case"mouseup":case"dragend":wP=!1,kL(E,n,w);break;case"selectionchange":if(d7)break;case"keydown":case"keyup":kL(E,n,w)}var W;if($I)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else pg?RB(e,n)&&(ne="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ne="onCompositionStart");ne&&(AB&&n.locale!=="ko"&&(pg||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&pg&&(W=MB()):(Ch=w,zI="value"in Ch?Ch.value:Ch.textContent,pg=!0)),X=V1(_,ne),0<X.length&&(ne=new _L(ne,e,null,n,w),E.push({event:ne,listeners:X}),W?ne.data=W:(W=OB(n),W!==null&&(ne.data=W)))),(W=Q9?e7(e,n):t7(e,n))&&(_=V1(_,"onBeforeInput"),0<_.length&&(w=new _L("onBeforeInput","beforeinput",null,n,w),E.push({event:w,listeners:_}),w.data=W))}GB(E,t)})}function i_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function V1(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,c=i.stateNode;i.tag===5&&c!==null&&(i=c,c=J0(e,n),c!=null&&r.unshift(i_(e,c,i)),c=J0(e,t),c!=null&&r.push(i_(e,c,i))),e=e.return}return r}function Gm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function AL(e,t,n,r,i){for(var c=t._reactName,d=[];n!==null&&n!==r;){var s=n,m=s.alternate,_=s.stateNode;if(m!==null&&m===r)break;s.tag===5&&_!==null&&(s=_,i?(m=J0(n,c),m!=null&&d.unshift(i_(n,m,s))):i||(m=J0(n,c),m!=null&&d.push(i_(n,m,s)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var m7=/\r\n?/g,g7=/\u0000|\uFFFD/g;function RL(e){return(typeof e=="string"?e:""+e).replace(m7,`
`).replace(g7,"")}function Ib(e,t,n){if(t=RL(t),RL(e)!==t&&n)throw Error(an(425))}function H1(){}var CP=null,SP=null;function TP(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var EP=typeof setTimeout=="function"?setTimeout:void 0,y7=typeof clearTimeout=="function"?clearTimeout:void 0,OL=typeof Promise=="function"?Promise:void 0,v7=typeof queueMicrotask=="function"?queueMicrotask:typeof OL<"u"?function(e){return OL.resolve(null).then(e).catch(_7)}:EP;function _7(e){setTimeout(function(){throw e})}function FT(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),t_(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);t_(t)}function Oh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function DL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cy=Math.random().toString(36).slice(2),Vc="__reactFiber$"+Cy,s_="__reactProps$"+Cy,od="__reactContainer$"+Cy,PP="__reactEvents$"+Cy,x7="__reactListeners$"+Cy,b7="__reactHandles$"+Cy;function up(e){var t=e[Vc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[od]||n[Vc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=DL(e);e!==null;){if(n=e[Vc])return n;e=DL(e)}return t}e=n,n=e.parentNode}return null}function H_(e){return e=e[Vc]||e[od],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(an(33))}function oC(e){return e[s_]||null}var kP=[],vg=-1;function Jh(e){return{current:e}}function Vo(e){0>vg||(e.current=kP[vg],kP[vg]=null,vg--)}function zo(e,t){vg++,kP[vg]=e.current,e.current=t}var Gh={},ks=Jh(Gh),ia=Jh(!1),Pp=Gh;function Kg(e,t){var n=e.type.contextTypes;if(!n)return Gh;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},c;for(c in n)i[c]=t[c];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function sa(e){return e=e.childContextTypes,e!=null}function G1(){Vo(ia),Vo(ks)}function LL(e,t,n){if(ks.current!==Gh)throw Error(an(168));zo(ks,t),zo(ia,n)}function qB(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(an(108,i9(e)||"Unknown",i));return mi({},n,r)}function W1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gh,Pp=ks.current,zo(ks,e),zo(ia,ia.current),!0}function zL(e,t,n){var r=e.stateNode;if(!r)throw Error(an(169));n?(e=qB(e,t,Pp),r.__reactInternalMemoizedMergedChildContext=e,Vo(ia),Vo(ks),zo(ks,e)):Vo(ia),zo(ia,n)}var Wu=null,iC=!1,jT=!1;function ZB(e){Wu===null?Wu=[e]:Wu.push(e)}function w7(e){iC=!0,ZB(e)}function Qh(){if(!jT&&Wu!==null){jT=!0;var e=0,t=bo;try{var n=Wu;for(bo=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wu=null,iC=!1}catch(i){throw Wu!==null&&(Wu=Wu.slice(e+1)),_B(RI,Qh),i}finally{bo=t,jT=!1}}return null}var _g=[],xg=0,q1=null,Z1=0,ul=[],dl=0,kp=null,Zu=1,Yu="";function tp(e,t){_g[xg++]=Z1,_g[xg++]=q1,q1=e,Z1=t}function YB(e,t,n){ul[dl++]=Zu,ul[dl++]=Yu,ul[dl++]=kp,kp=e;var r=Zu;e=Yu;var i=32-rc(r)-1;r&=~(1<<i),n+=1;var c=32-rc(t)+i;if(30<c){var d=i-i%5;c=(r&(1<<d)-1).toString(32),r>>=d,i-=d,Zu=1<<32-rc(t)+i|n<<i|r,Yu=c+e}else Zu=1<<c|n<<i|r,Yu=e}function NI(e){e.return!==null&&(tp(e,1),YB(e,1,0))}function UI(e){for(;e===q1;)q1=_g[--xg],_g[xg]=null,Z1=_g[--xg],_g[xg]=null;for(;e===kp;)kp=ul[--dl],ul[dl]=null,Yu=ul[--dl],ul[dl]=null,Zu=ul[--dl],ul[dl]=null}var ja=null,Fa=null,ei=!1,Jl=null;function KB(e,t){var n=fl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function FL(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ja=e,Fa=Oh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ja=e,Fa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kp!==null?{id:Zu,overflow:Yu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ja=e,Fa=null,!0):!1;default:return!1}}function IP(e){return(e.mode&1)!==0&&(e.flags&128)===0}function MP(e){if(ei){var t=Fa;if(t){var n=t;if(!FL(e,t)){if(IP(e))throw Error(an(418));t=Oh(n.nextSibling);var r=ja;t&&FL(e,t)?KB(r,n):(e.flags=e.flags&-4097|2,ei=!1,ja=e)}}else{if(IP(e))throw Error(an(418));e.flags=e.flags&-4097|2,ei=!1,ja=e}}}function jL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ja=e}function Mb(e){if(e!==ja)return!1;if(!ei)return jL(e),ei=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!TP(e.type,e.memoizedProps)),t&&(t=Fa)){if(IP(e))throw XB(),Error(an(418));for(;t;)KB(e,t),t=Oh(t.nextSibling)}if(jL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(an(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fa=Oh(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fa=null}}else Fa=ja?Oh(e.stateNode.nextSibling):null;return!0}function XB(){for(var e=Fa;e;)e=Oh(e.nextSibling)}function Xg(){Fa=ja=null,ei=!1}function VI(e){Jl===null?Jl=[e]:Jl.push(e)}var C7=ud.ReactCurrentBatchConfig;function Yl(e,t){if(e&&e.defaultProps){t=mi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Y1=Jh(null),K1=null,bg=null,HI=null;function GI(){HI=bg=K1=null}function WI(e){var t=Y1.current;Vo(Y1),e._currentValue=t}function AP(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Dg(e,t){K1=e,HI=bg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(oa=!0),e.firstContext=null)}function yl(e){var t=e._currentValue;if(HI!==e)if(e={context:e,memoizedValue:t,next:null},bg===null){if(K1===null)throw Error(an(308));bg=e,K1.dependencies={lanes:0,firstContext:e}}else bg=bg.next=e;return t}var dp=null;function qI(e){dp===null?dp=[e]:dp.push(e)}function JB(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qI(t)):(n.next=i.next,i.next=n),t.interleaved=n,id(e,r)}function id(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mh=!1;function ZI(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dh(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Gr&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,id(e,n)}return i=r.interleaved,i===null?(t.next=t,qI(r)):(t.next=i.next,i.next=t),r.interleaved=t,id(e,n)}function l1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OI(e,n)}}function $L(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?i=c=d:c=c.next=d,n=n.next}while(n!==null);c===null?i=c=t:c=c.next=t}else i=c=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function X1(e,t,n,r){var i=e.updateQueue;mh=!1;var c=i.firstBaseUpdate,d=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var m=s,_=m.next;m.next=null,d===null?c=_:d.next=_,d=m;var w=e.alternate;w!==null&&(w=w.updateQueue,s=w.lastBaseUpdate,s!==d&&(s===null?w.firstBaseUpdate=_:s.next=_,w.lastBaseUpdate=m))}if(c!==null){var E=i.baseState;d=0,w=_=m=null,s=c;do{var k=s.lane,O=s.eventTime;if((r&k)===k){w!==null&&(w=w.next={eventTime:O,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var R=e,L=s;switch(k=t,O=n,L.tag){case 1:if(R=L.payload,typeof R=="function"){E=R.call(O,E,k);break e}E=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=L.payload,k=typeof R=="function"?R.call(O,E,k):R,k==null)break e;E=mi({},E,k);break e;case 2:mh=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,k=i.effects,k===null?i.effects=[s]:k.push(s))}else O={eventTime:O,lane:k,tag:s.tag,payload:s.payload,callback:s.callback,next:null},w===null?(_=w=O,m=E):w=w.next=O,d|=k;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;k=s,s=k.next,k.next=null,i.lastBaseUpdate=k,i.shared.pending=null}}while(1);if(w===null&&(m=E),i.baseState=m,i.firstBaseUpdate=_,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do d|=i.lane,i=i.next;while(i!==t)}else c===null&&(i.shared.lanes=0);Mp|=d,e.lanes=d,e.memoizedState=E}}function BL(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(an(191,i));i.call(r)}}}var e3=new J5.Component().refs;function RP(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var sC={isMounted:function(e){return(e=e._reactInternals)?$p(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$s(),i=zh(e),c=Qu(r,i);c.payload=t,n!=null&&(c.callback=n),t=Dh(e,c,i),t!==null&&(oc(t,e,i,r),l1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$s(),i=zh(e),c=Qu(r,i);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Dh(e,c,i),t!==null&&(oc(t,e,i,r),l1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$s(),r=zh(e),i=Qu(n,r);i.tag=2,t!=null&&(i.callback=t),t=Dh(e,i,r),t!==null&&(oc(t,e,r,n),l1(t,e,r))}};function NL(e,t,n,r,i,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,d):t.prototype&&t.prototype.isPureReactComponent?!r_(n,r)||!r_(i,c):!0}function t3(e,t,n){var r=!1,i=Gh,c=t.contextType;return typeof c=="object"&&c!==null?c=yl(c):(i=sa(t)?Pp:ks.current,r=t.contextTypes,c=(r=r!=null)?Kg(e,i):Gh),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=c),t}function UL(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sC.enqueueReplaceState(t,t.state,null)}function OP(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=e3,ZI(e);var c=t.contextType;typeof c=="object"&&c!==null?i.context=yl(c):(c=sa(t)?Pp:ks.current,i.context=Kg(e,c)),i.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(RP(e,t,c,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&sC.enqueueReplaceState(i,i.state,null),X1(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Yv(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(an(309));var r=n.stateNode}if(!r)throw Error(an(147,e));var i=r,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(d){var s=i.refs;s===e3&&(s=i.refs={}),d===null?delete s[c]:s[c]=d},t._stringRef=c,t)}if(typeof e!="string")throw Error(an(284));if(!n._owner)throw Error(an(290,e))}return e}function Ab(e,t){throw e=Object.prototype.toString.call(t),Error(an(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function VL(e){var t=e._init;return t(e._payload)}function n3(e){function t(F,z){if(e){var B=F.deletions;B===null?(F.deletions=[z],F.flags|=16):B.push(z)}}function n(F,z){if(!e)return null;for(;z!==null;)t(F,z),z=z.sibling;return null}function r(F,z){for(F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function i(F,z){return F=Fh(F,z),F.index=0,F.sibling=null,F}function c(F,z,B){return F.index=B,e?(B=F.alternate,B!==null?(B=B.index,B<z?(F.flags|=2,z):B):(F.flags|=2,z)):(F.flags|=1048576,z)}function d(F){return e&&F.alternate===null&&(F.flags|=2),F}function s(F,z,B,Z){return z===null||z.tag!==6?(z=GT(B,F.mode,Z),z.return=F,z):(z=i(z,B),z.return=F,z)}function m(F,z,B,Z){var ee=B.type;return ee===fg?w(F,z,B.props.children,Z,B.key):z!==null&&(z.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ph&&VL(ee)===z.type)?(Z=i(z,B.props),Z.ref=Yv(F,z,B),Z.return=F,Z):(Z=p1(B.type,B.key,B.props,null,F.mode,Z),Z.ref=Yv(F,z,B),Z.return=F,Z)}function _(F,z,B,Z){return z===null||z.tag!==4||z.stateNode.containerInfo!==B.containerInfo||z.stateNode.implementation!==B.implementation?(z=WT(B,F.mode,Z),z.return=F,z):(z=i(z,B.children||[]),z.return=F,z)}function w(F,z,B,Z,ee){return z===null||z.tag!==7?(z=gp(B,F.mode,Z,ee),z.return=F,z):(z=i(z,B),z.return=F,z)}function E(F,z,B){if(typeof z=="string"&&z!==""||typeof z=="number")return z=GT(""+z,F.mode,B),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case xb:return B=p1(z.type,z.key,z.props,null,F.mode,B),B.ref=Yv(F,null,z),B.return=F,B;case hg:return z=WT(z,F.mode,B),z.return=F,z;case ph:var Z=z._init;return E(F,Z(z._payload),B)}if(_0(z)||Hv(z))return z=gp(z,F.mode,B,null),z.return=F,z;Ab(F,z)}return null}function k(F,z,B,Z){var ee=z!==null?z.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ee!==null?null:s(F,z,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case xb:return B.key===ee?m(F,z,B,Z):null;case hg:return B.key===ee?_(F,z,B,Z):null;case ph:return ee=B._init,k(F,z,ee(B._payload),Z)}if(_0(B)||Hv(B))return ee!==null?null:w(F,z,B,Z,null);Ab(F,B)}return null}function O(F,z,B,Z,ee){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(B)||null,s(z,F,""+Z,ee);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case xb:return F=F.get(Z.key===null?B:Z.key)||null,m(z,F,Z,ee);case hg:return F=F.get(Z.key===null?B:Z.key)||null,_(z,F,Z,ee);case ph:var X=Z._init;return O(F,z,B,X(Z._payload),ee)}if(_0(Z)||Hv(Z))return F=F.get(B)||null,w(z,F,Z,ee,null);Ab(z,Z)}return null}function R(F,z,B,Z){for(var ee=null,X=null,W=z,ne=z=0,J=null;W!==null&&ne<B.length;ne++){W.index>ne?(J=W,W=null):J=W.sibling;var re=k(F,W,B[ne],Z);if(re===null){W===null&&(W=J);break}e&&W&&re.alternate===null&&t(F,W),z=c(re,z,ne),X===null?ee=re:X.sibling=re,X=re,W=J}if(ne===B.length)return n(F,W),ei&&tp(F,ne),ee;if(W===null){for(;ne<B.length;ne++)W=E(F,B[ne],Z),W!==null&&(z=c(W,z,ne),X===null?ee=W:X.sibling=W,X=W);return ei&&tp(F,ne),ee}for(W=r(F,W);ne<B.length;ne++)J=O(W,F,ne,B[ne],Z),J!==null&&(e&&J.alternate!==null&&W.delete(J.key===null?ne:J.key),z=c(J,z,ne),X===null?ee=J:X.sibling=J,X=J);return e&&W.forEach(function(se){return t(F,se)}),ei&&tp(F,ne),ee}function L(F,z,B,Z){var ee=Hv(B);if(typeof ee!="function")throw Error(an(150));if(B=ee.call(B),B==null)throw Error(an(151));for(var X=ee=null,W=z,ne=z=0,J=null,re=B.next();W!==null&&!re.done;ne++,re=B.next()){W.index>ne?(J=W,W=null):J=W.sibling;var se=k(F,W,re.value,Z);if(se===null){W===null&&(W=J);break}e&&W&&se.alternate===null&&t(F,W),z=c(se,z,ne),X===null?ee=se:X.sibling=se,X=se,W=J}if(re.done)return n(F,W),ei&&tp(F,ne),ee;if(W===null){for(;!re.done;ne++,re=B.next())re=E(F,re.value,Z),re!==null&&(z=c(re,z,ne),X===null?ee=re:X.sibling=re,X=re);return ei&&tp(F,ne),ee}for(W=r(F,W);!re.done;ne++,re=B.next())re=O(W,F,ne,re.value,Z),re!==null&&(e&&re.alternate!==null&&W.delete(re.key===null?ne:re.key),z=c(re,z,ne),X===null?ee=re:X.sibling=re,X=re);return e&&W.forEach(function(de){return t(F,de)}),ei&&tp(F,ne),ee}function U(F,z,B,Z){if(typeof B=="object"&&B!==null&&B.type===fg&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case xb:e:{for(var ee=B.key,X=z;X!==null;){if(X.key===ee){if(ee=B.type,ee===fg){if(X.tag===7){n(F,X.sibling),z=i(X,B.props.children),z.return=F,F=z;break e}}else if(X.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ph&&VL(ee)===X.type){n(F,X.sibling),z=i(X,B.props),z.ref=Yv(F,X,B),z.return=F,F=z;break e}n(F,X);break}else t(F,X);X=X.sibling}B.type===fg?(z=gp(B.props.children,F.mode,Z,B.key),z.return=F,F=z):(Z=p1(B.type,B.key,B.props,null,F.mode,Z),Z.ref=Yv(F,z,B),Z.return=F,F=Z)}return d(F);case hg:e:{for(X=B.key;z!==null;){if(z.key===X)if(z.tag===4&&z.stateNode.containerInfo===B.containerInfo&&z.stateNode.implementation===B.implementation){n(F,z.sibling),z=i(z,B.children||[]),z.return=F,F=z;break e}else{n(F,z);break}else t(F,z);z=z.sibling}z=WT(B,F.mode,Z),z.return=F,F=z}return d(F);case ph:return X=B._init,U(F,z,X(B._payload),Z)}if(_0(B))return R(F,z,B,Z);if(Hv(B))return L(F,z,B,Z);Ab(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,z!==null&&z.tag===6?(n(F,z.sibling),z=i(z,B),z.return=F,F=z):(n(F,z),z=GT(B,F.mode,Z),z.return=F,F=z),d(F)):n(F,z)}return U}var Jg=n3(!0),r3=n3(!1),G_={},Kc=Jh(G_),a_=Jh(G_),l_=Jh(G_);function hp(e){if(e===G_)throw Error(an(174));return e}function YI(e,t){switch(zo(l_,t),zo(a_,e),zo(Kc,G_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dP(t,e)}Vo(Kc),zo(Kc,t)}function Qg(){Vo(Kc),Vo(a_),Vo(l_)}function o3(e){hp(l_.current);var t=hp(Kc.current),n=dP(t,e.type);t!==n&&(zo(a_,e),zo(Kc,n))}function KI(e){a_.current===e&&(Vo(Kc),Vo(a_))}var di=Jh(0);function J1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $T=[];function XI(){for(var e=0;e<$T.length;e++)$T[e]._workInProgressVersionPrimary=null;$T.length=0}var c1=ud.ReactCurrentDispatcher,BT=ud.ReactCurrentBatchConfig,Ip=0,hi=null,Bi=null,Ji=null,Q1=!1,O0=!1,c_=0,S7=0;function _s(){throw Error(an(321))}function JI(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ic(e[n],t[n]))return!1;return!0}function QI(e,t,n,r,i,c){if(Ip=c,hi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,c1.current=e===null||e.memoizedState===null?k7:I7,e=n(r,i),O0){c=0;do{if(O0=!1,c_=0,25<=c)throw Error(an(301));c+=1,Ji=Bi=null,t.updateQueue=null,c1.current=M7,e=n(r,i)}while(O0)}if(c1.current=ew,t=Bi!==null&&Bi.next!==null,Ip=0,Ji=Bi=hi=null,Q1=!1,t)throw Error(an(300));return e}function eM(){var e=c_!==0;return c_=0,e}function jc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ji===null?hi.memoizedState=Ji=e:Ji=Ji.next=e,Ji}function vl(){if(Bi===null){var e=hi.alternate;e=e!==null?e.memoizedState:null}else e=Bi.next;var t=Ji===null?hi.memoizedState:Ji.next;if(t!==null)Ji=t,Bi=e;else{if(e===null)throw Error(an(310));Bi=e,e={memoizedState:Bi.memoizedState,baseState:Bi.baseState,baseQueue:Bi.baseQueue,queue:Bi.queue,next:null},Ji===null?hi.memoizedState=Ji=e:Ji=Ji.next=e}return Ji}function u_(e,t){return typeof t=="function"?t(e):t}function NT(e){var t=vl(),n=t.queue;if(n===null)throw Error(an(311));n.lastRenderedReducer=e;var r=Bi,i=r.baseQueue,c=n.pending;if(c!==null){if(i!==null){var d=i.next;i.next=c.next,c.next=d}r.baseQueue=i=c,n.pending=null}if(i!==null){c=i.next,r=r.baseState;var s=d=null,m=null,_=c;do{var w=_.lane;if((Ip&w)===w)m!==null&&(m=m.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var E={lane:w,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};m===null?(s=m=E,d=r):m=m.next=E,hi.lanes|=w,Mp|=w}_=_.next}while(_!==null&&_!==c);m===null?d=r:m.next=s,ic(r,t.memoizedState)||(oa=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=m,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do c=i.lane,hi.lanes|=c,Mp|=c,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function UT(e){var t=vl(),n=t.queue;if(n===null)throw Error(an(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,c=t.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do c=e(c,d.action),d=d.next;while(d!==i);ic(c,t.memoizedState)||(oa=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,r]}function i3(){}function s3(e,t){var n=hi,r=vl(),i=t(),c=!ic(r.memoizedState,i);if(c&&(r.memoizedState=i,oa=!0),r=r.queue,tM(c3.bind(null,n,r,e),[e]),r.getSnapshot!==t||c||Ji!==null&&Ji.memoizedState.tag&1){if(n.flags|=2048,d_(9,l3.bind(null,n,r,i,t),void 0,null),es===null)throw Error(an(349));Ip&30||a3(n,t,i)}return i}function a3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hi.updateQueue,t===null?(t={lastEffect:null,stores:null},hi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function l3(e,t,n,r){t.value=n,t.getSnapshot=r,u3(t)&&d3(e)}function c3(e,t,n){return n(function(){u3(t)&&d3(e)})}function u3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ic(e,n)}catch{return!0}}function d3(e){var t=id(e,1);t!==null&&oc(t,e,1,-1)}function HL(e){var t=jc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:e},t.queue=e,e=e.dispatch=P7.bind(null,hi,e),[t.memoizedState,e]}function d_(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hi.updateQueue,t===null?(t={lastEffect:null,stores:null},hi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function h3(){return vl().memoizedState}function u1(e,t,n,r){var i=jc();hi.flags|=e,i.memoizedState=d_(1|t,n,void 0,r===void 0?null:r)}function aC(e,t,n,r){var i=vl();r=r===void 0?null:r;var c=void 0;if(Bi!==null){var d=Bi.memoizedState;if(c=d.destroy,r!==null&&JI(r,d.deps)){i.memoizedState=d_(t,n,c,r);return}}hi.flags|=e,i.memoizedState=d_(1|t,n,c,r)}function GL(e,t){return u1(8390656,8,e,t)}function tM(e,t){return aC(2048,8,e,t)}function f3(e,t){return aC(4,2,e,t)}function p3(e,t){return aC(4,4,e,t)}function m3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g3(e,t,n){return n=n!=null?n.concat([e]):null,aC(4,4,m3.bind(null,t,e),n)}function nM(){}function y3(e,t){var n=vl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function v3(e,t){var n=vl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&JI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _3(e,t,n){return Ip&21?(ic(n,t)||(n=wB(),hi.lanes|=n,Mp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,oa=!0),e.memoizedState=n)}function T7(e,t){var n=bo;bo=n!==0&&4>n?n:4,e(!0);var r=BT.transition;BT.transition={};try{e(!1),t()}finally{bo=n,BT.transition=r}}function x3(){return vl().memoizedState}function E7(e,t,n){var r=zh(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},b3(e))w3(t,n);else if(n=JB(e,t,n,r),n!==null){var i=$s();oc(n,e,r,i),C3(n,t,r)}}function P7(e,t,n){var r=zh(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(b3(e))w3(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,s=c(d,n);if(i.hasEagerState=!0,i.eagerState=s,ic(s,d)){var m=t.interleaved;m===null?(i.next=i,qI(t)):(i.next=m.next,m.next=i),t.interleaved=i;return}}catch{}finally{}n=JB(e,t,i,r),n!==null&&(i=$s(),oc(n,e,r,i),C3(n,t,r))}}function b3(e){var t=e.alternate;return e===hi||t!==null&&t===hi}function w3(e,t){O0=Q1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function C3(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,OI(e,n)}}var ew={readContext:yl,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},k7={readContext:yl,useCallback:function(e,t){return jc().memoizedState=[e,t===void 0?null:t],e},useContext:yl,useEffect:GL,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,u1(4194308,4,m3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return u1(4194308,4,e,t)},useInsertionEffect:function(e,t){return u1(4,2,e,t)},useMemo:function(e,t){var n=jc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=E7.bind(null,hi,e),[r.memoizedState,e]},useRef:function(e){var t=jc();return e={current:e},t.memoizedState=e},useState:HL,useDebugValue:nM,useDeferredValue:function(e){return jc().memoizedState=e},useTransition:function(){var e=HL(!1),t=e[0];return e=T7.bind(null,e[1]),jc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hi,i=jc();if(ei){if(n===void 0)throw Error(an(407));n=n()}else{if(n=t(),es===null)throw Error(an(349));Ip&30||a3(r,t,n)}i.memoizedState=n;var c={value:n,getSnapshot:t};return i.queue=c,GL(c3.bind(null,r,c,e),[e]),r.flags|=2048,d_(9,l3.bind(null,r,c,n,t),void 0,null),n},useId:function(){var e=jc(),t=es.identifierPrefix;if(ei){var n=Yu,r=Zu;n=(r&~(1<<32-rc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=c_++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=S7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},I7={readContext:yl,useCallback:y3,useContext:yl,useEffect:tM,useImperativeHandle:g3,useInsertionEffect:f3,useLayoutEffect:p3,useMemo:v3,useReducer:NT,useRef:h3,useState:function(){return NT(u_)},useDebugValue:nM,useDeferredValue:function(e){var t=vl();return _3(t,Bi.memoizedState,e)},useTransition:function(){var e=NT(u_)[0],t=vl().memoizedState;return[e,t]},useMutableSource:i3,useSyncExternalStore:s3,useId:x3,unstable_isNewReconciler:!1},M7={readContext:yl,useCallback:y3,useContext:yl,useEffect:tM,useImperativeHandle:g3,useInsertionEffect:f3,useLayoutEffect:p3,useMemo:v3,useReducer:UT,useRef:h3,useState:function(){return UT(u_)},useDebugValue:nM,useDeferredValue:function(e){var t=vl();return Bi===null?t.memoizedState=e:_3(t,Bi.memoizedState,e)},useTransition:function(){var e=UT(u_)[0],t=vl().memoizedState;return[e,t]},useMutableSource:i3,useSyncExternalStore:s3,useId:x3,unstable_isNewReconciler:!1};function ey(e,t){try{var n="",r=t;do n+=o9(r),r=r.return;while(r);var i=n}catch(c){i=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:i,digest:null}}function VT(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function DP(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var A7=typeof WeakMap=="function"?WeakMap:Map;function S3(e,t,n){n=Qu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nw||(nw=!0,HP=r),DP(e,t)},n}function T3(e,t,n){n=Qu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){DP(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){DP(e,t),typeof r!="function"&&(Lh===null?Lh=new Set([this]):Lh.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function WL(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new A7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=G7.bind(null,e,t,n),t.then(e,e))}function qL(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZL(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qu(-1,1),t.tag=2,Dh(n,t,1))),n.lanes|=1),e)}var R7=ud.ReactCurrentOwner,oa=!1;function zs(e,t,n,r){t.child=e===null?r3(t,null,n,r):Jg(t,e.child,n,r)}function YL(e,t,n,r,i){n=n.render;var c=t.ref;return Dg(t,i),r=QI(e,t,n,r,c,i),n=eM(),e!==null&&!oa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sd(e,t,i)):(ei&&n&&NI(t),t.flags|=1,zs(e,t,r,i),t.child)}function KL(e,t,n,r,i){if(e===null){var c=n.type;return typeof c=="function"&&!uM(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,E3(e,t,c,r,i)):(e=p1(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&i)){var d=c.memoizedProps;if(n=n.compare,n=n!==null?n:r_,n(d,r)&&e.ref===t.ref)return sd(e,t,i)}return t.flags|=1,e=Fh(c,r),e.ref=t.ref,e.return=t,t.child=e}function E3(e,t,n,r,i){if(e!==null){var c=e.memoizedProps;if(r_(c,r)&&e.ref===t.ref)if(oa=!1,t.pendingProps=r=c,(e.lanes&i)!==0)e.flags&131072&&(oa=!0);else return t.lanes=e.lanes,sd(e,t,i)}return LP(e,t,n,r,i)}function P3(e,t,n){var r=t.pendingProps,i=r.children,c=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zo(Cg,Aa),Aa|=n;else{if(!(n&1073741824))return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zo(Cg,Aa),Aa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=c!==null?c.baseLanes:n,zo(Cg,Aa),Aa|=r}else c!==null?(r=c.baseLanes|n,t.memoizedState=null):r=n,zo(Cg,Aa),Aa|=r;return zs(e,t,i,n),t.child}function k3(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function LP(e,t,n,r,i){var c=sa(n)?Pp:ks.current;return c=Kg(t,c),Dg(t,i),n=QI(e,t,n,r,c,i),r=eM(),e!==null&&!oa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,sd(e,t,i)):(ei&&r&&NI(t),t.flags|=1,zs(e,t,n,i),t.child)}function XL(e,t,n,r,i){if(sa(n)){var c=!0;W1(t)}else c=!1;if(Dg(t,i),t.stateNode===null)d1(e,t),t3(t,n,r),OP(t,n,r,i),r=!0;else if(e===null){var d=t.stateNode,s=t.memoizedProps;d.props=s;var m=d.context,_=n.contextType;typeof _=="object"&&_!==null?_=yl(_):(_=sa(n)?Pp:ks.current,_=Kg(t,_));var w=n.getDerivedStateFromProps,E=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function";E||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(s!==r||m!==_)&&UL(t,d,r,_),mh=!1;var k=t.memoizedState;d.state=k,X1(t,r,d,i),m=t.memoizedState,s!==r||k!==m||ia.current||mh?(typeof w=="function"&&(RP(t,n,w,r),m=t.memoizedState),(s=mh||NL(t,n,s,r,k,m,_))?(E||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=m),d.props=r,d.state=m,d.context=_,r=s):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,QB(e,t),s=t.memoizedProps,_=t.type===t.elementType?s:Yl(t.type,s),d.props=_,E=t.pendingProps,k=d.context,m=n.contextType,typeof m=="object"&&m!==null?m=yl(m):(m=sa(n)?Pp:ks.current,m=Kg(t,m));var O=n.getDerivedStateFromProps;(w=typeof O=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(s!==E||k!==m)&&UL(t,d,r,m),mh=!1,k=t.memoizedState,d.state=k,X1(t,r,d,i);var R=t.memoizedState;s!==E||k!==R||ia.current||mh?(typeof O=="function"&&(RP(t,n,O,r),R=t.memoizedState),(_=mh||NL(t,n,_,r,k,R,m)||!1)?(w||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,R,m),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,R,m)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),d.props=r,d.state=R,d.context=m,r=_):(typeof d.componentDidUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),r=!1)}return zP(e,t,n,r,c,i)}function zP(e,t,n,r,i,c){k3(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return i&&zL(t,n,!1),sd(e,t,c);r=t.stateNode,R7.current=t;var s=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=Jg(t,e.child,null,c),t.child=Jg(t,null,s,c)):zs(e,t,s,c),t.memoizedState=r.state,i&&zL(t,n,!0),t.child}function I3(e){var t=e.stateNode;t.pendingContext?LL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&LL(e,t.context,!1),YI(e,t.containerInfo)}function JL(e,t,n,r,i){return Xg(),VI(i),t.flags|=256,zs(e,t,n,r),t.child}var FP={dehydrated:null,treeContext:null,retryLane:0};function jP(e){return{baseLanes:e,cachePool:null,transitions:null}}function M3(e,t,n){var r=t.pendingProps,i=di.current,c=!1,d=(t.flags&128)!==0,s;if((s=d)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),zo(di,i&1),e===null)return MP(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=r.children,e=r.fallback,c?(r=t.mode,c=t.child,d={mode:"hidden",children:d},!(r&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=uC(d,r,0,null),e=gp(e,r,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=jP(n),t.memoizedState=FP,e):rM(t,d));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return O7(e,t,d,r,s,i,n);if(c){c=r.fallback,d=t.mode,i=e.child,s=i.sibling;var m={mode:"hidden",children:r.children};return!(d&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=m,t.deletions=null):(r=Fh(i,m),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?c=Fh(s,c):(c=gp(c,d,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,d=e.child.memoizedState,d=d===null?jP(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~n,t.memoizedState=FP,r}return c=e.child,e=c.sibling,r=Fh(c,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rM(e,t){return t=uC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rb(e,t,n,r){return r!==null&&VI(r),Jg(t,e.child,null,n),e=rM(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O7(e,t,n,r,i,c,d){if(n)return t.flags&256?(t.flags&=-257,r=VT(Error(an(422))),Rb(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=r.fallback,i=t.mode,r=uC({mode:"visible",children:r.children},i,0,null),c=gp(c,i,d,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,t.mode&1&&Jg(t,e.child,null,d),t.child.memoizedState=jP(d),t.memoizedState=FP,c);if(!(t.mode&1))return Rb(e,t,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,c=Error(an(419)),r=VT(c,r,void 0),Rb(e,t,d,r)}if(s=(d&e.childLanes)!==0,oa||s){if(r=es,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==c.retryLane&&(c.retryLane=i,id(e,i),oc(r,e,i,-1))}return cM(),r=VT(Error(an(421))),Rb(e,t,d,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=W7.bind(null,e),i._reactRetry=t,null):(e=c.treeContext,Fa=Oh(i.nextSibling),ja=t,ei=!0,Jl=null,e!==null&&(ul[dl++]=Zu,ul[dl++]=Yu,ul[dl++]=kp,Zu=e.id,Yu=e.overflow,kp=t),t=rM(t,r.children),t.flags|=4096,t)}function QL(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),AP(e.return,t,n)}function HT(e,t,n,r,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=r,c.tail=n,c.tailMode=i)}function A3(e,t,n){var r=t.pendingProps,i=r.revealOrder,c=r.tail;if(zs(e,t,r.children,n),r=di.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&QL(e,n,t);else if(e.tag===19)QL(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zo(di,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&J1(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),HT(t,!1,i,n,c);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&J1(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}HT(t,!0,n,null,c);break;case"together":HT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function d1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sd(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(an(153));if(t.child!==null){for(e=t.child,n=Fh(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fh(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function D7(e,t,n){switch(t.tag){case 3:I3(t),Xg();break;case 5:o3(t);break;case 1:sa(t.type)&&W1(t);break;case 4:YI(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;zo(Y1,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(zo(di,di.current&1),t.flags|=128,null):n&t.child.childLanes?M3(e,t,n):(zo(di,di.current&1),e=sd(e,t,n),e!==null?e.sibling:null);zo(di,di.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return A3(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zo(di,di.current),r)break;return null;case 22:case 23:return t.lanes=0,P3(e,t,n)}return sd(e,t,n)}var R3,$P,O3,D3;R3=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$P=function(){};O3=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,hp(Kc.current);var c=null;switch(n){case"input":i=aP(e,i),r=aP(e,r),c=[];break;case"select":i=mi({},i,{value:void 0}),r=mi({},r,{value:void 0}),c=[];break;case"textarea":i=uP(e,i),r=uP(e,r),c=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=H1)}hP(n,r);var d;n=null;for(_ in i)if(!r.hasOwnProperty(_)&&i.hasOwnProperty(_)&&i[_]!=null)if(_==="style"){var s=i[_];for(d in s)s.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(K0.hasOwnProperty(_)?c||(c=[]):(c=c||[]).push(_,null));for(_ in r){var m=r[_];if(s=i!=null?i[_]:void 0,r.hasOwnProperty(_)&&m!==s&&(m!=null||s!=null))if(_==="style")if(s){for(d in s)!s.hasOwnProperty(d)||m&&m.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in m)m.hasOwnProperty(d)&&s[d]!==m[d]&&(n||(n={}),n[d]=m[d])}else n||(c||(c=[]),c.push(_,n)),n=m;else _==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,s=s?s.__html:void 0,m!=null&&s!==m&&(c=c||[]).push(_,m)):_==="children"?typeof m!="string"&&typeof m!="number"||(c=c||[]).push(_,""+m):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(K0.hasOwnProperty(_)?(m!=null&&_==="onScroll"&&$o("scroll",e),c||s===m||(c=[])):(c=c||[]).push(_,m))}n&&(c=c||[]).push("style",n);var _=c;(t.updateQueue=_)&&(t.flags|=4)}};D3=function(e,t,n,r){n!==r&&(t.flags|=4)};function Kv(e,t){if(!ei)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function L7(e,t,n){var r=t.pendingProps;switch(UI(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xs(t),null;case 1:return sa(t.type)&&G1(),xs(t),null;case 3:return r=t.stateNode,Qg(),Vo(ia),Vo(ks),XI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jl!==null&&(qP(Jl),Jl=null))),$P(e,t),xs(t),null;case 5:KI(t);var i=hp(l_.current);if(n=t.type,e!==null&&t.stateNode!=null)O3(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(an(166));return xs(t),null}if(e=hp(Kc.current),Mb(t)){r=t.stateNode,n=t.type;var c=t.memoizedProps;switch(r[Vc]=t,r[s_]=c,e=(t.mode&1)!==0,n){case"dialog":$o("cancel",r),$o("close",r);break;case"iframe":case"object":case"embed":$o("load",r);break;case"video":case"audio":for(i=0;i<b0.length;i++)$o(b0[i],r);break;case"source":$o("error",r);break;case"img":case"image":case"link":$o("error",r),$o("load",r);break;case"details":$o("toggle",r);break;case"input":lL(r,c),$o("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!c.multiple},$o("invalid",r);break;case"textarea":uL(r,c),$o("invalid",r)}hP(n,c),i=null;for(var d in c)if(c.hasOwnProperty(d)){var s=c[d];d==="children"?typeof s=="string"?r.textContent!==s&&(c.suppressHydrationWarning!==!0&&Ib(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(c.suppressHydrationWarning!==!0&&Ib(r.textContent,s,e),i=["children",""+s]):K0.hasOwnProperty(d)&&s!=null&&d==="onScroll"&&$o("scroll",r)}switch(n){case"input":bb(r),cL(r,c,!0);break;case"textarea":bb(r),dL(r);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(r.onclick=H1)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aB(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[Vc]=t,e[s_]=r,R3(e,t,!1,!1),t.stateNode=e;e:{switch(d=fP(n,r),n){case"dialog":$o("cancel",e),$o("close",e),i=r;break;case"iframe":case"object":case"embed":$o("load",e),i=r;break;case"video":case"audio":for(i=0;i<b0.length;i++)$o(b0[i],e);i=r;break;case"source":$o("error",e),i=r;break;case"img":case"image":case"link":$o("error",e),$o("load",e),i=r;break;case"details":$o("toggle",e),i=r;break;case"input":lL(e,r),i=aP(e,r),$o("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=mi({},r,{value:void 0}),$o("invalid",e);break;case"textarea":uL(e,r),i=uP(e,r),$o("invalid",e);break;default:i=r}hP(n,i),s=i;for(c in s)if(s.hasOwnProperty(c)){var m=s[c];c==="style"?uB(e,m):c==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&lB(e,m)):c==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&X0(e,m):typeof m=="number"&&X0(e,""+m):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(K0.hasOwnProperty(c)?m!=null&&c==="onScroll"&&$o("scroll",e):m!=null&&PI(e,c,m,d))}switch(n){case"input":bb(e),cL(e,r,!1);break;case"textarea":bb(e),dL(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hh(r.value));break;case"select":e.multiple=!!r.multiple,c=r.value,c!=null?Mg(e,!!r.multiple,c,!1):r.defaultValue!=null&&Mg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=H1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xs(t),null;case 6:if(e&&t.stateNode!=null)D3(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(an(166));if(n=hp(l_.current),hp(Kc.current),Mb(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vc]=t,(c=r.nodeValue!==n)&&(e=ja,e!==null))switch(e.tag){case 3:Ib(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ib(r.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vc]=t,t.stateNode=r}return xs(t),null;case 13:if(Vo(di),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ei&&Fa!==null&&t.mode&1&&!(t.flags&128))XB(),Xg(),t.flags|=98560,c=!1;else if(c=Mb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(an(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(an(317));c[Vc]=t}else Xg(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xs(t),c=!1}else Jl!==null&&(qP(Jl),Jl=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||di.current&1?Ni===0&&(Ni=3):cM())),t.updateQueue!==null&&(t.flags|=4),xs(t),null);case 4:return Qg(),$P(e,t),e===null&&o_(t.stateNode.containerInfo),xs(t),null;case 10:return WI(t.type._context),xs(t),null;case 17:return sa(t.type)&&G1(),xs(t),null;case 19:if(Vo(di),c=t.memoizedState,c===null)return xs(t),null;if(r=(t.flags&128)!==0,d=c.rendering,d===null)if(r)Kv(c,!1);else{if(Ni!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=J1(e),d!==null){for(t.flags|=128,Kv(c,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)c=n,e=r,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zo(di,di.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ei()>ty&&(t.flags|=128,r=!0,Kv(c,!1),t.lanes=4194304)}else{if(!r)if(e=J1(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kv(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ei)return xs(t),null}else 2*Ei()-c.renderingStartTime>ty&&n!==1073741824&&(t.flags|=128,r=!0,Kv(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(n=c.last,n!==null?n.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ei(),t.sibling=null,n=di.current,zo(di,r?n&1|2:n&1),t):(xs(t),null);case 22:case 23:return lM(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Aa&1073741824&&(xs(t),t.subtreeFlags&6&&(t.flags|=8192)):xs(t),null;case 24:return null;case 25:return null}throw Error(an(156,t.tag))}function z7(e,t){switch(UI(t),t.tag){case 1:return sa(t.type)&&G1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qg(),Vo(ia),Vo(ks),XI(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return KI(t),null;case 13:if(Vo(di),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(an(340));Xg()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vo(di),null;case 4:return Qg(),null;case 10:return WI(t.type._context),null;case 22:case 23:return lM(),null;case 24:return null;default:return null}}var Ob=!1,Ts=!1,F7=typeof WeakSet=="function"?WeakSet:Set,On=null;function wg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bi(e,t,r)}else n.current=null}function BP(e,t,n){try{n()}catch(r){bi(e,t,r)}}var ez=!1;function j7(e,t){if(CP=N1,e=jB(),BI(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var d=0,s=-1,m=-1,_=0,w=0,E=e,k=null;t:for(;;){for(var O;E!==n||i!==0&&E.nodeType!==3||(s=d+i),E!==c||r!==0&&E.nodeType!==3||(m=d+r),E.nodeType===3&&(d+=E.nodeValue.length),(O=E.firstChild)!==null;)k=E,E=O;for(;;){if(E===e)break t;if(k===n&&++_===i&&(s=d),k===c&&++w===r&&(m=d),(O=E.nextSibling)!==null)break;E=k,k=E.parentNode}E=O}n=s===-1||m===-1?null:{start:s,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(SP={focusedElem:e,selectionRange:n},N1=!1,On=t;On!==null;)if(t=On,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,On=e;else for(;On!==null;){t=On;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var L=R.memoizedProps,U=R.memoizedState,F=t.stateNode,z=F.getSnapshotBeforeUpdate(t.elementType===t.type?L:Yl(t.type,L),U);F.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(an(163))}}catch(Z){bi(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,On=e;break}On=t.return}return R=ez,ez=!1,R}function D0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var c=i.destroy;i.destroy=void 0,c!==void 0&&BP(t,n,c)}i=i.next}while(i!==r)}}function lC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function NP(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function L3(e){var t=e.alternate;t!==null&&(e.alternate=null,L3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vc],delete t[s_],delete t[PP],delete t[x7],delete t[b7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function z3(e){return e.tag===5||e.tag===3||e.tag===4}function tz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function UP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=H1));else if(r!==4&&(e=e.child,e!==null))for(UP(e,t,n),e=e.sibling;e!==null;)UP(e,t,n),e=e.sibling}function VP(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(VP(e,t,n),e=e.sibling;e!==null;)VP(e,t,n),e=e.sibling}var os=null,Xl=!1;function rh(e,t,n){for(n=n.child;n!==null;)F3(e,t,n),n=n.sibling}function F3(e,t,n){if(Yc&&typeof Yc.onCommitFiberUnmount=="function")try{Yc.onCommitFiberUnmount(eC,n)}catch{}switch(n.tag){case 5:Ts||wg(n,t);case 6:var r=os,i=Xl;os=null,rh(e,t,n),os=r,Xl=i,os!==null&&(Xl?(e=os,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):os.removeChild(n.stateNode));break;case 18:os!==null&&(Xl?(e=os,n=n.stateNode,e.nodeType===8?FT(e.parentNode,n):e.nodeType===1&&FT(e,n),t_(e)):FT(os,n.stateNode));break;case 4:r=os,i=Xl,os=n.stateNode.containerInfo,Xl=!0,rh(e,t,n),os=r,Xl=i;break;case 0:case 11:case 14:case 15:if(!Ts&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var c=i,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&BP(n,t,d),i=i.next}while(i!==r)}rh(e,t,n);break;case 1:if(!Ts&&(wg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){bi(n,t,s)}rh(e,t,n);break;case 21:rh(e,t,n);break;case 22:n.mode&1?(Ts=(r=Ts)||n.memoizedState!==null,rh(e,t,n),Ts=r):rh(e,t,n);break;default:rh(e,t,n)}}function nz(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new F7),t.forEach(function(r){var i=q7.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ql(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var c=e,d=t,s=d;e:for(;s!==null;){switch(s.tag){case 5:os=s.stateNode,Xl=!1;break e;case 3:os=s.stateNode.containerInfo,Xl=!0;break e;case 4:os=s.stateNode.containerInfo,Xl=!0;break e}s=s.return}if(os===null)throw Error(an(160));F3(c,d,i),os=null,Xl=!1;var m=i.alternate;m!==null&&(m.return=null),i.return=null}catch(_){bi(i,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j3(t,e),t=t.sibling}function j3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ql(t,e),Fc(e),r&4){try{D0(3,e,e.return),lC(3,e)}catch(L){bi(e,e.return,L)}try{D0(5,e,e.return)}catch(L){bi(e,e.return,L)}}break;case 1:ql(t,e),Fc(e),r&512&&n!==null&&wg(n,n.return);break;case 5:if(ql(t,e),Fc(e),r&512&&n!==null&&wg(n,n.return),e.flags&32){var i=e.stateNode;try{X0(i,"")}catch(L){bi(e,e.return,L)}}if(r&4&&(i=e.stateNode,i!=null)){var c=e.memoizedProps,d=n!==null?n.memoizedProps:c,s=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{s==="input"&&c.type==="radio"&&c.name!=null&&iB(i,c),fP(s,d);var _=fP(s,c);for(d=0;d<m.length;d+=2){var w=m[d],E=m[d+1];w==="style"?uB(i,E):w==="dangerouslySetInnerHTML"?lB(i,E):w==="children"?X0(i,E):PI(i,w,E,_)}switch(s){case"input":lP(i,c);break;case"textarea":sB(i,c);break;case"select":var k=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!c.multiple;var O=c.value;O!=null?Mg(i,!!c.multiple,O,!1):k!==!!c.multiple&&(c.defaultValue!=null?Mg(i,!!c.multiple,c.defaultValue,!0):Mg(i,!!c.multiple,c.multiple?[]:"",!1))}i[s_]=c}catch(L){bi(e,e.return,L)}}break;case 6:if(ql(t,e),Fc(e),r&4){if(e.stateNode===null)throw Error(an(162));i=e.stateNode,c=e.memoizedProps;try{i.nodeValue=c}catch(L){bi(e,e.return,L)}}break;case 3:if(ql(t,e),Fc(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{t_(t.containerInfo)}catch(L){bi(e,e.return,L)}break;case 4:ql(t,e),Fc(e);break;case 13:ql(t,e),Fc(e),i=e.child,i.flags&8192&&(c=i.memoizedState!==null,i.stateNode.isHidden=c,!c||i.alternate!==null&&i.alternate.memoizedState!==null||(sM=Ei())),r&4&&nz(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Ts=(_=Ts)||w,ql(t,e),Ts=_):ql(t,e),Fc(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!w&&e.mode&1)for(On=e,w=e.child;w!==null;){for(E=On=w;On!==null;){switch(k=On,O=k.child,k.tag){case 0:case 11:case 14:case 15:D0(4,k,k.return);break;case 1:wg(k,k.return);var R=k.stateNode;if(typeof R.componentWillUnmount=="function"){r=k,n=k.return;try{t=r,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(L){bi(r,n,L)}}break;case 5:wg(k,k.return);break;case 22:if(k.memoizedState!==null){oz(E);continue}}O!==null?(O.return=k,On=O):oz(E)}w=w.sibling}e:for(w=null,E=e;;){if(E.tag===5){if(w===null){w=E;try{i=E.stateNode,_?(c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(s=E.stateNode,m=E.memoizedProps.style,d=m!=null&&m.hasOwnProperty("display")?m.display:null,s.style.display=cB("display",d))}catch(L){bi(e,e.return,L)}}}else if(E.tag===6){if(w===null)try{E.stateNode.nodeValue=_?"":E.memoizedProps}catch(L){bi(e,e.return,L)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;w===E&&(w=null),E=E.return}w===E&&(w=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:ql(t,e),Fc(e),r&4&&nz(e);break;case 21:break;default:ql(t,e),Fc(e)}}function Fc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(z3(n)){var r=n;break e}n=n.return}throw Error(an(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(X0(i,""),r.flags&=-33);var c=tz(e);VP(e,c,i);break;case 3:case 4:var d=r.stateNode.containerInfo,s=tz(e);UP(e,s,d);break;default:throw Error(an(161))}}catch(m){bi(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $7(e,t,n){On=e,$3(e)}function $3(e,t,n){for(var r=(e.mode&1)!==0;On!==null;){var i=On,c=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||Ob;if(!d){var s=i.alternate,m=s!==null&&s.memoizedState!==null||Ts;s=Ob;var _=Ts;if(Ob=d,(Ts=m)&&!_)for(On=i;On!==null;)d=On,m=d.child,d.tag===22&&d.memoizedState!==null?iz(i):m!==null?(m.return=d,On=m):iz(i);for(;c!==null;)On=c,$3(c),c=c.sibling;On=i,Ob=s,Ts=_}rz(e)}else i.subtreeFlags&8772&&c!==null?(c.return=i,On=c):rz(e)}}function rz(e){for(;On!==null;){var t=On;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ts||lC(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ts)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Yl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&BL(t,c,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}BL(t,d,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var w=_.memoizedState;if(w!==null){var E=w.dehydrated;E!==null&&t_(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(an(163))}Ts||t.flags&512&&NP(t)}catch(k){bi(t,t.return,k)}}if(t===e){On=null;break}if(n=t.sibling,n!==null){n.return=t.return,On=n;break}On=t.return}}function oz(e){for(;On!==null;){var t=On;if(t===e){On=null;break}var n=t.sibling;if(n!==null){n.return=t.return,On=n;break}On=t.return}}function iz(e){for(;On!==null;){var t=On;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lC(4,t)}catch(m){bi(t,n,m)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(m){bi(t,i,m)}}var c=t.return;try{NP(t)}catch(m){bi(t,c,m)}break;case 5:var d=t.return;try{NP(t)}catch(m){bi(t,d,m)}}}catch(m){bi(t,t.return,m)}if(t===e){On=null;break}var s=t.sibling;if(s!==null){s.return=t.return,On=s;break}On=t.return}}var B7=Math.ceil,tw=ud.ReactCurrentDispatcher,oM=ud.ReactCurrentOwner,pl=ud.ReactCurrentBatchConfig,Gr=0,es=null,Li=null,as=0,Aa=0,Cg=Jh(0),Ni=0,h_=null,Mp=0,cC=0,iM=0,L0=null,na=null,sM=0,ty=1/0,Vu=null,nw=!1,HP=null,Lh=null,Db=!1,Sh=null,rw=0,z0=0,GP=null,h1=-1,f1=0;function $s(){return Gr&6?Ei():h1!==-1?h1:h1=Ei()}function zh(e){return e.mode&1?Gr&2&&as!==0?as&-as:C7.transition!==null?(f1===0&&(f1=wB()),f1):(e=bo,e!==0||(e=window.event,e=e===void 0?16:IB(e.type)),e):1}function oc(e,t,n,r){if(50<z0)throw z0=0,GP=null,Error(an(185));U_(e,n,r),(!(Gr&2)||e!==es)&&(e===es&&(!(Gr&2)&&(cC|=n),Ni===4&&xh(e,as)),aa(e,r),n===1&&Gr===0&&!(t.mode&1)&&(ty=Ei()+500,iC&&Qh()))}function aa(e,t){var n=e.callbackNode;C9(e,t);var r=B1(e,e===es?as:0);if(r===0)n!==null&&pL(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pL(n),t===1)e.tag===0?w7(sz.bind(null,e)):ZB(sz.bind(null,e)),v7(function(){!(Gr&6)&&Qh()}),n=null;else{switch(CB(r)){case 1:n=RI;break;case 4:n=xB;break;case 16:n=$1;break;case 536870912:n=bB;break;default:n=$1}n=q3(n,B3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B3(e,t){if(h1=-1,f1=0,Gr&6)throw Error(an(327));var n=e.callbackNode;if(Lg()&&e.callbackNode!==n)return null;var r=B1(e,e===es?as:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ow(e,r);else{t=r;var i=Gr;Gr|=2;var c=U3();(es!==e||as!==t)&&(Vu=null,ty=Ei()+500,mp(e,t));do try{V7();break}catch(s){N3(e,s)}while(1);GI(),tw.current=c,Gr=i,Li!==null?t=0:(es=null,as=0,t=Ni)}if(t!==0){if(t===2&&(i=vP(e),i!==0&&(r=i,t=WP(e,i))),t===1)throw n=h_,mp(e,0),xh(e,r),aa(e,Ei()),n;if(t===6)xh(e,r);else{if(i=e.current.alternate,!(r&30)&&!N7(i)&&(t=ow(e,r),t===2&&(c=vP(e),c!==0&&(r=c,t=WP(e,c))),t===1))throw n=h_,mp(e,0),xh(e,r),aa(e,Ei()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(an(345));case 2:np(e,na,Vu);break;case 3:if(xh(e,r),(r&130023424)===r&&(t=sM+500-Ei(),10<t)){if(B1(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){$s(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=EP(np.bind(null,e,na,Vu),t);break}np(e,na,Vu);break;case 4:if(xh(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var d=31-rc(r);c=1<<d,d=t[d],d>i&&(i=d),r&=~c}if(r=i,r=Ei()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B7(r/1960))-r,10<r){e.timeoutHandle=EP(np.bind(null,e,na,Vu),r);break}np(e,na,Vu);break;case 5:np(e,na,Vu);break;default:throw Error(an(329))}}}return aa(e,Ei()),e.callbackNode===n?B3.bind(null,e):null}function WP(e,t){var n=L0;return e.current.memoizedState.isDehydrated&&(mp(e,t).flags|=256),e=ow(e,t),e!==2&&(t=na,na=n,t!==null&&qP(t)),e}function qP(e){na===null?na=e:na.push.apply(na,e)}function N7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],c=i.getSnapshot;i=i.value;try{if(!ic(c(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xh(e,t){for(t&=~iM,t&=~cC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rc(t),r=1<<n;e[n]=-1,t&=~r}}function sz(e){if(Gr&6)throw Error(an(327));Lg();var t=B1(e,0);if(!(t&1))return aa(e,Ei()),null;var n=ow(e,t);if(e.tag!==0&&n===2){var r=vP(e);r!==0&&(t=r,n=WP(e,r))}if(n===1)throw n=h_,mp(e,0),xh(e,t),aa(e,Ei()),n;if(n===6)throw Error(an(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,np(e,na,Vu),aa(e,Ei()),null}function aM(e,t){var n=Gr;Gr|=1;try{return e(t)}finally{Gr=n,Gr===0&&(ty=Ei()+500,iC&&Qh())}}function Ap(e){Sh!==null&&Sh.tag===0&&!(Gr&6)&&Lg();var t=Gr;Gr|=1;var n=pl.transition,r=bo;try{if(pl.transition=null,bo=1,e)return e()}finally{bo=r,pl.transition=n,Gr=t,!(Gr&6)&&Qh()}}function lM(){Aa=Cg.current,Vo(Cg)}function mp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,y7(n)),Li!==null)for(n=Li.return;n!==null;){var r=n;switch(UI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&G1();break;case 3:Qg(),Vo(ia),Vo(ks),XI();break;case 5:KI(r);break;case 4:Qg();break;case 13:Vo(di);break;case 19:Vo(di);break;case 10:WI(r.type._context);break;case 22:case 23:lM()}n=n.return}if(es=e,Li=e=Fh(e.current,null),as=Aa=t,Ni=0,h_=null,iM=cC=Mp=0,na=L0=null,dp!==null){for(t=0;t<dp.length;t++)if(n=dp[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,c=n.pending;if(c!==null){var d=c.next;c.next=i,r.next=d}n.pending=r}dp=null}return e}function N3(e,t){do{var n=Li;try{if(GI(),c1.current=ew,Q1){for(var r=hi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Q1=!1}if(Ip=0,Ji=Bi=hi=null,O0=!1,c_=0,oM.current=null,n===null||n.return===null){Ni=1,h_=t,Li=null;break}e:{var c=e,d=n.return,s=n,m=t;if(t=as,s.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var _=m,w=s,E=w.tag;if(!(w.mode&1)&&(E===0||E===11||E===15)){var k=w.alternate;k?(w.updateQueue=k.updateQueue,w.memoizedState=k.memoizedState,w.lanes=k.lanes):(w.updateQueue=null,w.memoizedState=null)}var O=qL(d);if(O!==null){O.flags&=-257,ZL(O,d,s,c,t),O.mode&1&&WL(c,_,t),t=O,m=_;var R=t.updateQueue;if(R===null){var L=new Set;L.add(m),t.updateQueue=L}else R.add(m);break e}else{if(!(t&1)){WL(c,_,t),cM();break e}m=Error(an(426))}}else if(ei&&s.mode&1){var U=qL(d);if(U!==null){!(U.flags&65536)&&(U.flags|=256),ZL(U,d,s,c,t),VI(ey(m,s));break e}}c=m=ey(m,s),Ni!==4&&(Ni=2),L0===null?L0=[c]:L0.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var F=S3(c,m,t);$L(c,F);break e;case 1:s=m;var z=c.type,B=c.stateNode;if(!(c.flags&128)&&(typeof z.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Lh===null||!Lh.has(B)))){c.flags|=65536,t&=-t,c.lanes|=t;var Z=T3(c,s,t);$L(c,Z);break e}}c=c.return}while(c!==null)}H3(n)}catch(ee){t=ee,Li===n&&n!==null&&(Li=n=n.return);continue}break}while(1)}function U3(){var e=tw.current;return tw.current=ew,e===null?ew:e}function cM(){(Ni===0||Ni===3||Ni===2)&&(Ni=4),es===null||!(Mp&268435455)&&!(cC&268435455)||xh(es,as)}function ow(e,t){var n=Gr;Gr|=2;var r=U3();(es!==e||as!==t)&&(Vu=null,mp(e,t));do try{U7();break}catch(i){N3(e,i)}while(1);if(GI(),Gr=n,tw.current=r,Li!==null)throw Error(an(261));return es=null,as=0,Ni}function U7(){for(;Li!==null;)V3(Li)}function V7(){for(;Li!==null&&!p9();)V3(Li)}function V3(e){var t=W3(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?H3(e):Li=t,oM.current=null}function H3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=z7(n,t),n!==null){n.flags&=32767,Li=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ni=6,Li=null;return}}else if(n=L7(n,t,Aa),n!==null){Li=n;return}if(t=t.sibling,t!==null){Li=t;return}Li=t=e}while(t!==null);Ni===0&&(Ni=5)}function np(e,t,n){var r=bo,i=pl.transition;try{pl.transition=null,bo=1,H7(e,t,n,r)}finally{pl.transition=i,bo=r}return null}function H7(e,t,n,r){do Lg();while(Sh!==null);if(Gr&6)throw Error(an(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(an(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(S9(e,c),e===es&&(Li=es=null,as=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Db||(Db=!0,q3($1,function(){return Lg(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=pl.transition,pl.transition=null;var d=bo;bo=1;var s=Gr;Gr|=4,oM.current=null,j7(e,n),j3(n,e),u7(SP),N1=!!CP,SP=CP=null,e.current=n,$7(n),m9(),Gr=s,bo=d,pl.transition=c}else e.current=n;if(Db&&(Db=!1,Sh=e,rw=i),c=e.pendingLanes,c===0&&(Lh=null),v9(n.stateNode),aa(e,Ei()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nw)throw nw=!1,e=HP,HP=null,e;return rw&1&&e.tag!==0&&Lg(),c=e.pendingLanes,c&1?e===GP?z0++:(z0=0,GP=e):z0=0,Qh(),null}function Lg(){if(Sh!==null){var e=CB(rw),t=pl.transition,n=bo;try{if(pl.transition=null,bo=16>e?16:e,Sh===null)var r=!1;else{if(e=Sh,Sh=null,rw=0,Gr&6)throw Error(an(331));var i=Gr;for(Gr|=4,On=e.current;On!==null;){var c=On,d=c.child;if(On.flags&16){var s=c.deletions;if(s!==null){for(var m=0;m<s.length;m++){var _=s[m];for(On=_;On!==null;){var w=On;switch(w.tag){case 0:case 11:case 15:D0(8,w,c)}var E=w.child;if(E!==null)E.return=w,On=E;else for(;On!==null;){w=On;var k=w.sibling,O=w.return;if(L3(w),w===_){On=null;break}if(k!==null){k.return=O,On=k;break}On=O}}}var R=c.alternate;if(R!==null){var L=R.child;if(L!==null){R.child=null;do{var U=L.sibling;L.sibling=null,L=U}while(L!==null)}}On=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,On=d;else e:for(;On!==null;){if(c=On,c.flags&2048)switch(c.tag){case 0:case 11:case 15:D0(9,c,c.return)}var F=c.sibling;if(F!==null){F.return=c.return,On=F;break e}On=c.return}}var z=e.current;for(On=z;On!==null;){d=On;var B=d.child;if(d.subtreeFlags&2064&&B!==null)B.return=d,On=B;else e:for(d=z;On!==null;){if(s=On,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:lC(9,s)}}catch(ee){bi(s,s.return,ee)}if(s===d){On=null;break e}var Z=s.sibling;if(Z!==null){Z.return=s.return,On=Z;break e}On=s.return}}if(Gr=i,Qh(),Yc&&typeof Yc.onPostCommitFiberRoot=="function")try{Yc.onPostCommitFiberRoot(eC,e)}catch{}r=!0}return r}finally{bo=n,pl.transition=t}}return!1}function az(e,t,n){t=ey(n,t),t=S3(e,t,1),e=Dh(e,t,1),t=$s(),e!==null&&(U_(e,1,t),aa(e,t))}function bi(e,t,n){if(e.tag===3)az(e,e,n);else for(;t!==null;){if(t.tag===3){az(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lh===null||!Lh.has(r))){e=ey(n,e),e=T3(t,e,1),t=Dh(t,e,1),e=$s(),t!==null&&(U_(t,1,e),aa(t,e));break}}t=t.return}}function G7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$s(),e.pingedLanes|=e.suspendedLanes&n,es===e&&(as&n)===n&&(Ni===4||Ni===3&&(as&130023424)===as&&500>Ei()-sM?mp(e,0):iM|=n),aa(e,t)}function G3(e,t){t===0&&(e.mode&1?(t=Sb,Sb<<=1,!(Sb&130023424)&&(Sb=4194304)):t=1);var n=$s();e=id(e,t),e!==null&&(U_(e,t,n),aa(e,n))}function W7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),G3(e,n)}function q7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(an(314))}r!==null&&r.delete(t),G3(e,n)}var W3;W3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ia.current)oa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return oa=!1,D7(e,t,n);oa=!!(e.flags&131072)}else oa=!1,ei&&t.flags&1048576&&YB(t,Z1,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;d1(e,t),e=t.pendingProps;var i=Kg(t,ks.current);Dg(t,n),i=QI(null,t,r,e,i,n);var c=eM();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sa(r)?(c=!0,W1(t)):c=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZI(t),i.updater=sC,t.stateNode=i,i._reactInternals=t,OP(t,r,e,n),t=zP(null,t,r,!0,c,n)):(t.tag=0,ei&&c&&NI(t),zs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(d1(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Y7(r),e=Yl(r,e),i){case 0:t=LP(null,t,r,e,n);break e;case 1:t=XL(null,t,r,e,n);break e;case 11:t=YL(null,t,r,e,n);break e;case 14:t=KL(null,t,r,Yl(r.type,e),n);break e}throw Error(an(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),LP(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),XL(e,t,r,i,n);case 3:e:{if(I3(t),e===null)throw Error(an(387));r=t.pendingProps,c=t.memoizedState,i=c.element,QB(e,t),X1(t,r,null,n);var d=t.memoizedState;if(r=d.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){i=ey(Error(an(423)),t),t=JL(e,t,r,n,i);break e}else if(r!==i){i=ey(Error(an(424)),t),t=JL(e,t,r,n,i);break e}else for(Fa=Oh(t.stateNode.containerInfo.firstChild),ja=t,ei=!0,Jl=null,n=r3(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xg(),r===i){t=sd(e,t,n);break e}zs(e,t,r,n)}t=t.child}return t;case 5:return o3(t),e===null&&MP(t),r=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,d=i.children,TP(r,i)?d=null:c!==null&&TP(r,c)&&(t.flags|=32),k3(e,t),zs(e,t,d,n),t.child;case 6:return e===null&&MP(t),null;case 13:return M3(e,t,n);case 4:return YI(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jg(t,null,r,n):zs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),YL(e,t,r,i,n);case 7:return zs(e,t,t.pendingProps,n),t.child;case 8:return zs(e,t,t.pendingProps.children,n),t.child;case 12:return zs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,c=t.memoizedProps,d=i.value,zo(Y1,r._currentValue),r._currentValue=d,c!==null)if(ic(c.value,d)){if(c.children===i.children&&!ia.current){t=sd(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var s=c.dependencies;if(s!==null){d=c.child;for(var m=s.firstContext;m!==null;){if(m.context===r){if(c.tag===1){m=Qu(-1,n&-n),m.tag=2;var _=c.updateQueue;if(_!==null){_=_.shared;var w=_.pending;w===null?m.next=m:(m.next=w.next,w.next=m),_.pending=m}}c.lanes|=n,m=c.alternate,m!==null&&(m.lanes|=n),AP(c.return,n,t),s.lanes|=n;break}m=m.next}}else if(c.tag===10)d=c.type===t.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(an(341));d.lanes|=n,s=d.alternate,s!==null&&(s.lanes|=n),AP(d,n,t),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===t){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}zs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Dg(t,n),i=yl(i),r=r(i),t.flags|=1,zs(e,t,r,n),t.child;case 14:return r=t.type,i=Yl(r,t.pendingProps),i=Yl(r.type,i),KL(e,t,r,i,n);case 15:return E3(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yl(r,i),d1(e,t),t.tag=1,sa(r)?(e=!0,W1(t)):e=!1,Dg(t,n),t3(t,r,i),OP(t,r,i,n),zP(null,t,r,!0,e,n);case 19:return A3(e,t,n);case 22:return P3(e,t,n)}throw Error(an(156,t.tag))};function q3(e,t){return _B(e,t)}function Z7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fl(e,t,n,r){return new Z7(e,t,n,r)}function uM(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y7(e){if(typeof e=="function")return uM(e)?1:0;if(e!=null){if(e=e.$$typeof,e===II)return 11;if(e===MI)return 14}return 2}function Fh(e,t){var n=e.alternate;return n===null?(n=fl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function p1(e,t,n,r,i,c){var d=2;if(r=e,typeof e=="function")uM(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case fg:return gp(n.children,i,c,t);case kI:d=8,i|=8;break;case rP:return e=fl(12,n,t,i|2),e.elementType=rP,e.lanes=c,e;case oP:return e=fl(13,n,t,i),e.elementType=oP,e.lanes=c,e;case iP:return e=fl(19,n,t,i),e.elementType=iP,e.lanes=c,e;case nB:return uC(n,i,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eB:d=10;break e;case tB:d=9;break e;case II:d=11;break e;case MI:d=14;break e;case ph:d=16,r=null;break e}throw Error(an(130,e==null?e:typeof e,""))}return t=fl(d,n,t,i),t.elementType=e,t.type=r,t.lanes=c,t}function gp(e,t,n,r){return e=fl(7,e,r,t),e.lanes=n,e}function uC(e,t,n,r){return e=fl(22,e,r,t),e.elementType=nB,e.lanes=n,e.stateNode={isHidden:!1},e}function GT(e,t,n){return e=fl(6,e,null,t),e.lanes=n,e}function WT(e,t,n){return t=fl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K7(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ET(0),this.expirationTimes=ET(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ET(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dM(e,t,n,r,i,c,d,s,m){return e=new K7(e,t,n,s,m),t===1?(t=1,c===!0&&(t|=8)):t=0,c=fl(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZI(c),e}function X7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Z3(e){if(!e)return Gh;e=e._reactInternals;e:{if($p(e)!==e||e.tag!==1)throw Error(an(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(an(171))}if(e.tag===1){var n=e.type;if(sa(n))return qB(e,n,t)}return t}function Y3(e,t,n,r,i,c,d,s,m){return e=dM(n,r,!0,e,i,c,d,s,m),e.context=Z3(null),n=e.current,r=$s(),i=zh(n),c=Qu(r,i),c.callback=t??null,Dh(n,c,i),e.current.lanes=i,U_(e,i,r),aa(e,r),e}function dC(e,t,n,r){var i=t.current,c=$s(),d=zh(i);return n=Z3(n),t.context===null?t.context=n:t.pendingContext=n,t=Qu(c,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dh(i,t,d),e!==null&&(oc(e,i,d,c),l1(e,i,d)),d}function iw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hM(e,t){lz(e,t),(e=e.alternate)&&lz(e,t)}function J7(){return null}var K3=typeof reportError=="function"?reportError:function(e){console.error(e)};function fM(e){this._internalRoot=e}hC.prototype.render=fM.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(an(409));dC(e,t,null,null)};hC.prototype.unmount=fM.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ap(function(){dC(null,e,null,null)}),t[od]=null}};function hC(e){this._internalRoot=e}hC.prototype.unstable_scheduleHydration=function(e){if(e){var t=EB();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_h.length&&t!==0&&t<_h[n].priority;n++);_h.splice(n,0,e),n===0&&kB(e)}};function pM(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cz(){}function Q7(e,t,n,r,i){if(i){if(typeof r=="function"){var c=r;r=function(){var _=iw(d);c.call(_)}}var d=Y3(t,r,e,0,null,!1,!1,"",cz);return e._reactRootContainer=d,e[od]=d.current,o_(e.nodeType===8?e.parentNode:e),Ap(),d}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var _=iw(m);s.call(_)}}var m=dM(e,0,!1,null,null,!1,!1,"",cz);return e._reactRootContainer=m,e[od]=m.current,o_(e.nodeType===8?e.parentNode:e),Ap(function(){dC(t,m,n,r)}),m}function pC(e,t,n,r,i){var c=n._reactRootContainer;if(c){var d=c;if(typeof i=="function"){var s=i;i=function(){var m=iw(d);s.call(m)}}dC(t,d,e,i)}else d=Q7(n,t,e,i,r);return iw(d)}SB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=x0(t.pendingLanes);n!==0&&(OI(t,n|1),aa(t,Ei()),!(Gr&6)&&(ty=Ei()+500,Qh()))}break;case 13:Ap(function(){var r=id(e,1);if(r!==null){var i=$s();oc(r,e,1,i)}}),hM(e,1)}};DI=function(e){if(e.tag===13){var t=id(e,134217728);if(t!==null){var n=$s();oc(t,e,134217728,n)}hM(e,134217728)}};TB=function(e){if(e.tag===13){var t=zh(e),n=id(e,t);if(n!==null){var r=$s();oc(n,e,t,r)}hM(e,t)}};EB=function(){return bo};PB=function(e,t){var n=bo;try{return bo=e,t()}finally{bo=n}};mP=function(e,t,n){switch(t){case"input":if(lP(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oC(r);if(!i)throw Error(an(90));oB(r),lP(r,i)}}}break;case"textarea":sB(e,n);break;case"select":t=n.value,t!=null&&Mg(e,!!n.multiple,t,!1)}};fB=aM;pB=Ap;var eq={usingClientEntryPoint:!1,Events:[H_,yg,oC,dB,hB,aM]},Xv={findFiberByHostInstance:up,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tq={bundleType:Xv.bundleType,version:Xv.version,rendererPackageName:Xv.rendererPackageName,rendererConfig:Xv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ud.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yB(e),e===null?null:e.stateNode},findFiberByHostInstance:Xv.findFiberByHostInstance||J7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lb.isDisabled&&Lb.supportsFiber)try{eC=Lb.inject(tq),Yc=Lb}catch{}}Ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eq;Ua.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pM(t))throw Error(an(200));return X7(e,t,null,n)};Ua.createRoot=function(e,t){if(!pM(e))throw Error(an(299));var n=!1,r="",i=K3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dM(e,1,!1,null,null,n,!1,r,i),e[od]=t.current,o_(e.nodeType===8?e.parentNode:e),new fM(t)};Ua.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(an(188)):(e=Object.keys(e).join(","),Error(an(268,e)));return e=yB(t),e=e===null?null:e.stateNode,e};Ua.flushSync=function(e){return Ap(e)};Ua.hydrate=function(e,t,n){if(!fC(t))throw Error(an(200));return pC(null,e,t,!0,n)};Ua.hydrateRoot=function(e,t,n){if(!pM(e))throw Error(an(405));var r=n!=null&&n.hydratedSources||null,i=!1,c="",d=K3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Y3(t,null,e,1,n??null,i,!1,c,d),e[od]=t.current,o_(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new hC(t)};Ua.render=function(e,t,n){if(!fC(t))throw Error(an(200));return pC(null,e,t,!1,n)};Ua.unmountComponentAtNode=function(e){if(!fC(e))throw Error(an(40));return e._reactRootContainer?(Ap(function(){pC(null,null,e,!1,function(){e._reactRootContainer=null,e[od]=null})}),!0):!1};Ua.unstable_batchedUpdates=aM;Ua.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fC(n))throw Error(an(200));if(e==null||e._reactInternals===void 0)throw Error(an(38));return pC(e,t,n,!1,r)};Ua.version="18.2.0-next-9e3b772b8-20220608";function X3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X3)}catch(e){console.error(e)}}X3(),Y5.exports=Ua;var ef=Y5.exports;const zb=fa(ef);var uz=ef;tP.createRoot=uz.createRoot,tP.hydrateRoot=uz.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f_.apply(this,arguments)}var Th;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Th||(Th={}));const dz="popstate";function nq(e){e===void 0&&(e={});function t(r,i){let{pathname:c,search:d,hash:s}=r.location;return ZP("",{pathname:c,search:d,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:sw(i)}return oq(t,n,null,e)}function ki(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mM(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rq(){return Math.random().toString(36).substr(2,8)}function hz(e,t){return{usr:e.state,key:e.key,idx:t}}function ZP(e,t,n,r){return n===void 0&&(n=null),f_({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sy(t):t,{state:n,key:t&&t.key||r||rq()})}function sw(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Sy(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oq(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:c=!1}=r,d=i.history,s=Th.Pop,m=null,_=w();_==null&&(_=0,d.replaceState(f_({},d.state,{idx:_}),""));function w(){return(d.state||{idx:null}).idx}function E(){s=Th.Pop;let U=w(),F=U==null?null:U-_;_=U,m&&m({action:s,location:L.location,delta:F})}function k(U,F){s=Th.Push;let z=ZP(L.location,U,F);n&&n(z,U),_=w()+1;let B=hz(z,_),Z=L.createHref(z);try{d.pushState(B,"",Z)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;i.location.assign(Z)}c&&m&&m({action:s,location:L.location,delta:1})}function O(U,F){s=Th.Replace;let z=ZP(L.location,U,F);n&&n(z,U),_=w();let B=hz(z,_),Z=L.createHref(z);d.replaceState(B,"",Z),c&&m&&m({action:s,location:L.location,delta:0})}function R(U){let F=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof U=="string"?U:sw(U);return ki(F,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,F)}let L={get action(){return s},get location(){return e(i,d)},listen(U){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(dz,E),m=U,()=>{i.removeEventListener(dz,E),m=null}},createHref(U){return t(i,U)},createURL:R,encodeLocation(U){let F=R(U);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:k,replace:O,go(U){return d.go(U)}};return L}var fz;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fz||(fz={}));function iq(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Sy(t):t,i=gM(r.pathname||"/",n);if(i==null)return null;let c=J3(e);sq(c);let d=null;for(let s=0;d==null&&s<c.length;++s)d=mq(c[s],vq(i));return d}function J3(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(c,d,s)=>{let m={relativePath:s===void 0?c.path||"":s,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};m.relativePath.startsWith("/")&&(ki(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let _=jh([r,m.relativePath]),w=n.concat(m);c.children&&c.children.length>0&&(ki(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),J3(c.children,t,w,_)),!(c.path==null&&!c.index)&&t.push({path:_,score:fq(_,c.index),routesMeta:w})};return e.forEach((c,d)=>{var s;if(c.path===""||!((s=c.path)!=null&&s.includes("?")))i(c,d);else for(let m of Q3(c.path))i(c,d,m)}),t}function Q3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return i?[c,""]:[c];let d=Q3(r.join("/")),s=[];return s.push(...d.map(m=>m===""?c:[c,m].join("/"))),i&&s.push(...d),s.map(m=>e.startsWith("/")&&m===""?"/":m)}function sq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aq=/^:\w+$/,lq=3,cq=2,uq=1,dq=10,hq=-2,pz=e=>e==="*";function fq(e,t){let n=e.split("/"),r=n.length;return n.some(pz)&&(r+=hq),t&&(r+=cq),n.filter(i=>!pz(i)).reduce((i,c)=>i+(aq.test(c)?lq:c===""?uq:dq),r)}function pq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function mq(e,t){let{routesMeta:n}=e,r={},i="/",c=[];for(let d=0;d<n.length;++d){let s=n[d],m=d===n.length-1,_=i==="/"?t:t.slice(i.length)||"/",w=gq({path:s.relativePath,caseSensitive:s.caseSensitive,end:m},_);if(!w)return null;Object.assign(r,w.params);let E=s.route;c.push({params:r,pathname:jh([i,w.pathname]),pathnameBase:wq(jh([i,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(i=jh([i,w.pathnameBase]))}return c}function gq(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yq(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((_,w,E)=>{if(w==="*"){let k=s[E]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}return _[w]=_q(s[E]||"",w),_},{}),pathname:c,pathnameBase:d,pattern:e}}function yq(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mM(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(d,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vq(e){try{return decodeURI(e)}catch(t){return mM(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _q(e,t){try{return decodeURIComponent(e)}catch(n){return mM(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function gM(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xq(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Sy(e):e;return{pathname:n?n.startsWith("/")?n:bq(n,t):t,search:Cq(r),hash:Sq(i)}}function bq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qT(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vM(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Sy(e):(i=f_({},e),ki(!i.pathname||!i.pathname.includes("?"),qT("?","pathname","search",i)),ki(!i.pathname||!i.pathname.includes("#"),qT("#","pathname","hash",i)),ki(!i.search||!i.search.includes("#"),qT("#","search","hash",i)));let c=e===""||i.pathname==="",d=c?"/":i.pathname,s;if(r||d==null)s=n;else{let E=t.length-1;if(d.startsWith("..")){let k=d.split("/");for(;k[0]==="..";)k.shift(),E-=1;i.pathname=k.join("/")}s=E>=0?t[E]:"/"}let m=xq(i,s),_=d&&d!=="/"&&d.endsWith("/"),w=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(_||w)&&(m.pathname+="/"),m}const jh=e=>e.join("/").replace(/\/\/+/g,"/"),wq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eN=["post","put","patch","delete"];new Set(eN);const Eq=["get",...eN];new Set(Eq);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(this,arguments)}const _M=P.createContext(null),Pq=P.createContext(null),Ty=P.createContext(null),mC=P.createContext(null),iu=P.createContext({outlet:null,matches:[],isDataRoute:!1}),tN=P.createContext(null);function kq(e,t){let{relative:n}=t===void 0?{}:t;Ey()||ki(!1);let{basename:r,navigator:i}=P.useContext(Ty),{hash:c,pathname:d,search:s}=oN(e,{relative:n}),m=d;return r!=="/"&&(m=d==="/"?r:jh([r,d])),i.createHref({pathname:m,search:s,hash:c})}function Ey(){return P.useContext(mC)!=null}function Py(){return Ey()||ki(!1),P.useContext(mC).location}function nN(e){P.useContext(Ty).static||P.useLayoutEffect(e)}function rN(){let{isDataRoute:e}=P.useContext(iu);return e?Vq():Iq()}function Iq(){Ey()||ki(!1);let e=P.useContext(_M),{basename:t,navigator:n}=P.useContext(Ty),{matches:r}=P.useContext(iu),{pathname:i}=Py(),c=JSON.stringify(yM(r).map(m=>m.pathnameBase)),d=P.useRef(!1);return nN(()=>{d.current=!0}),P.useCallback(function(m,_){if(_===void 0&&(_={}),!d.current)return;if(typeof m=="number"){n.go(m);return}let w=vM(m,JSON.parse(c),i,_.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:jh([t,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[t,n,c,i,e])}const Mq=P.createContext(null);function Aq(e){let t=P.useContext(iu).outlet;return t&&P.createElement(Mq.Provider,{value:e},t)}function xM(){let{matches:e}=P.useContext(iu),t=e[e.length-1];return t?t.params:{}}function oN(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=P.useContext(iu),{pathname:i}=Py(),c=JSON.stringify(yM(r).map(d=>d.pathnameBase));return P.useMemo(()=>vM(e,JSON.parse(c),i,n==="path"),[e,c,i,n])}function Rq(e,t){return Oq(e,t)}function Oq(e,t,n){Ey()||ki(!1);let{navigator:r}=P.useContext(Ty),{matches:i}=P.useContext(iu),c=i[i.length-1],d=c?c.params:{};c&&c.pathname;let s=c?c.pathnameBase:"/";c&&c.route;let m=Py(),_;if(t){var w;let L=typeof t=="string"?Sy(t):t;s==="/"||(w=L.pathname)!=null&&w.startsWith(s)||ki(!1),_=L}else _=m;let E=_.pathname||"/",k=s==="/"?E:E.slice(s.length)||"/",O=iq(e,{pathname:k}),R=jq(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:jh([s,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?s:jh([s,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),i,n);return t&&R?P.createElement(mC.Provider,{value:{location:aw({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Th.Pop}},R):R}function Dq(){let e=Uq(),t=Tq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},c=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:i},n):null,c)}const Lq=P.createElement(Dq,null);class zq extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?P.createElement(iu.Provider,{value:this.props.routeContext},P.createElement(tN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fq(e){let{routeContext:t,match:n,children:r}=e,i=P.useContext(_M);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(iu.Provider,{value:t},r)}function jq(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let c=e,d=(r=n)==null?void 0:r.errors;if(d!=null){let s=c.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id]));s>=0||ki(!1),c=c.slice(0,Math.min(c.length,s+1))}return c.reduceRight((s,m,_)=>{let w=m.route.id?d==null?void 0:d[m.route.id]:null,E=null;n&&(E=m.route.errorElement||Lq);let k=t.concat(c.slice(0,_+1)),O=()=>{let R;return w?R=E:m.route.Component?R=P.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=s,P.createElement(Fq,{match:m,routeContext:{outlet:s,matches:k,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?P.createElement(zq,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}var YP;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(YP||(YP={}));var p_;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(p_||(p_={}));function $q(e){let t=P.useContext(_M);return t||ki(!1),t}function Bq(e){let t=P.useContext(Pq);return t||ki(!1),t}function Nq(e){let t=P.useContext(iu);return t||ki(!1),t}function iN(e){let t=Nq(),n=t.matches[t.matches.length-1];return n.route.id||ki(!1),n.route.id}function Uq(){var e;let t=P.useContext(tN),n=Bq(p_.UseRouteError),r=iN(p_.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Vq(){let{router:e}=$q(YP.UseNavigateStable),t=iN(p_.UseNavigateStable),n=P.useRef(!1);return nN(()=>{n.current=!0}),P.useCallback(function(i,c){c===void 0&&(c={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,aw({fromRouteId:t},c)))},[e,t])}function Hq(e){let{to:t,replace:n,state:r,relative:i}=e;Ey()||ki(!1);let{matches:c}=P.useContext(iu),{pathname:d}=Py(),s=rN(),m=vM(t,yM(c).map(w=>w.pathnameBase),d,i==="path"),_=JSON.stringify(m);return P.useEffect(()=>s(JSON.parse(_),{replace:n,state:r,relative:i}),[s,_,i,n,r]),null}function Gq(e){return Aq(e.context)}function bs(e){ki(!1)}function Wq(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Th.Pop,navigator:c,static:d=!1}=e;Ey()&&ki(!1);let s=t.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:s,navigator:c,static:d}),[s,c,d]);typeof r=="string"&&(r=Sy(r));let{pathname:_="/",search:w="",hash:E="",state:k=null,key:O="default"}=r,R=P.useMemo(()=>{let L=gM(_,s);return L==null?null:{location:{pathname:L,search:w,hash:E,state:k,key:O},navigationType:i}},[s,_,w,E,k,O,i]);return R==null?null:P.createElement(Ty.Provider,{value:m},P.createElement(mC.Provider,{children:n,value:R}))}function qq(e){let{children:t,location:n}=e;return Rq(KP(t),n)}var mz;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(mz||(mz={}));new Promise(()=>{});function KP(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,i)=>{if(!P.isValidElement(r))return;let c=[...t,i];if(r.type===P.Fragment){n.push.apply(n,KP(r.props.children,c));return}r.type!==bs&&ki(!1),!r.props.index||!r.props.children||ki(!1);let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=KP(r.props.children,c)),n.push(d)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XP(){return XP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XP.apply(this,arguments)}function Zq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,c;for(c=0;c<r.length;c++)i=r[c],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Yq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kq(e,t){return e.button===0&&(!t||t==="_self")&&!Yq(e)}const Xq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Jq="startTransition",gz=L1[Jq];function Qq(e){let{basename:t,children:n,future:r,window:i}=e,c=P.useRef();c.current==null&&(c.current=nq({window:i,v5Compat:!0}));let d=c.current,[s,m]=P.useState({action:d.action,location:d.location}),{v7_startTransition:_}=r||{},w=P.useCallback(E=>{_&&gz?gz(()=>m(E)):m(E)},[m,_]);return P.useLayoutEffect(()=>d.listen(w),[d,w]),P.createElement(Wq,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:d})}const eZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jv=P.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:c,replace:d,state:s,target:m,to:_,preventScrollReset:w}=t,E=Zq(t,Xq),{basename:k}=P.useContext(Ty),O,R=!1;if(typeof _=="string"&&tZ.test(_)&&(O=_,eZ))try{let z=new URL(window.location.href),B=_.startsWith("//")?new URL(z.protocol+_):new URL(_),Z=gM(B.pathname,k);B.origin===z.origin&&Z!=null?_=Z+B.search+B.hash:R=!0}catch{}let L=kq(_,{relative:i}),U=nZ(_,{replace:d,state:s,target:m,preventScrollReset:w,relative:i});function F(z){r&&r(z),z.defaultPrevented||U(z)}return P.createElement("a",XP({},E,{href:O||L,onClick:R||c?r:F,ref:n,target:m}))});var yz;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(yz||(yz={}));var vz;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vz||(vz={}));function nZ(e,t){let{target:n,replace:r,state:i,preventScrollReset:c,relative:d}=t===void 0?{}:t,s=rN(),m=Py(),_=oN(e,{relative:d});return P.useCallback(w=>{if(Kq(w,n)){w.preventDefault();let E=r!==void 0?r:sw(m)===sw(_);s(e,{replace:E,state:i,preventScrollReset:c,relative:d})}},[m,s,_,r,i,n,e,c,d])}const rZ={black:"#000",white:"#fff"},m_=rZ,oZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wm=oZ,iZ={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qm=iZ,sZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zm=sZ,aZ={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ym=aZ,lZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Km=lZ,cZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qv=cZ,uZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},dZ=uZ;function hZ(e,t){return()=>null}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function ap(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function sN(e){if(!ap(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=sN(e[n])}),t}function la(e,t,n={clone:!0}){const r=n.clone?$({},e):e;return ap(e)&&ap(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(ap(t[i])&&i in e&&ap(e[i])?r[i]=la(e[i],t[i],n):n.clone?r[i]=ap(t[i])?sN(t[i]):t[i]:r[i]=t[i])}),r}var aN={exports:{}},fZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pZ=fZ,mZ=pZ;function lN(){}function cN(){}cN.resetWarningCache=lN;var gZ=function(){function e(r,i,c,d,s,m){if(m!==mZ){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cN,resetWarningCache:lN};return n.PropTypes=n,n};aN.exports=gZ();var yZ=aN.exports;const qe=fa(yZ);function ad(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}var ko={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM=Symbol.for("react.element"),wM=Symbol.for("react.portal"),gC=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),vC=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),xC=Symbol.for("react.context"),vZ=Symbol.for("react.server_context"),bC=Symbol.for("react.forward_ref"),wC=Symbol.for("react.suspense"),CC=Symbol.for("react.suspense_list"),SC=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),_Z=Symbol.for("react.offscreen"),uN;uN=Symbol.for("react.module.reference");function wl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bM:switch(e=e.type,e){case gC:case vC:case yC:case wC:case CC:return e;default:switch(e=e&&e.$$typeof,e){case vZ:case xC:case bC:case TC:case SC:case _C:return e;default:return t}}case wM:return t}}}ko.ContextConsumer=xC;ko.ContextProvider=_C;ko.Element=bM;ko.ForwardRef=bC;ko.Fragment=gC;ko.Lazy=TC;ko.Memo=SC;ko.Portal=wM;ko.Profiler=vC;ko.StrictMode=yC;ko.Suspense=wC;ko.SuspenseList=CC;ko.isAsyncMode=function(){return!1};ko.isConcurrentMode=function(){return!1};ko.isContextConsumer=function(e){return wl(e)===xC};ko.isContextProvider=function(e){return wl(e)===_C};ko.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bM};ko.isForwardRef=function(e){return wl(e)===bC};ko.isFragment=function(e){return wl(e)===gC};ko.isLazy=function(e){return wl(e)===TC};ko.isMemo=function(e){return wl(e)===SC};ko.isPortal=function(e){return wl(e)===wM};ko.isProfiler=function(e){return wl(e)===vC};ko.isStrictMode=function(e){return wl(e)===yC};ko.isSuspense=function(e){return wl(e)===wC};ko.isSuspenseList=function(e){return wl(e)===CC};ko.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gC||e===vC||e===yC||e===wC||e===CC||e===_Z||typeof e=="object"&&e!==null&&(e.$$typeof===TC||e.$$typeof===SC||e.$$typeof===_C||e.$$typeof===xC||e.$$typeof===bC||e.$$typeof===uN||e.getModuleId!==void 0)};ko.typeOf=wl;function xt(e){if(typeof e!="string")throw new Error(ad(7));return e.charAt(0).toUpperCase()+e.slice(1)}function JP(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function W_(e,t=166){let n;function r(...i){const c=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(c,t)}return r.clear=()=>{clearTimeout(n)},r}function ZT(e,t){return P.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function wi(e){return e&&e.ownerDocument||document}function tu(e){return wi(e).defaultView||window}function lw(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const xZ=typeof window<"u"?P.useLayoutEffect:P.useEffect,fi=xZ;let _z=0;function bZ(e){const[t,n]=P.useState(e),r=e||t;return P.useEffect(()=>{t==null&&(_z+=1,n(`mui-${_z}`))},[t]),r}const xz=L1["useId".toString()];function Ao(e){if(xz!==void 0){const t=xz();return e??t}return bZ(e)}function $h({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=P.useRef(e!==void 0),[c,d]=P.useState(t),s=i?e:c,m=P.useCallback(_=>{i||d(_)},[]);return[s,m]}function Pi(e){const t=P.useRef(e);return fi(()=>{t.current=e}),P.useCallback((...n)=>(0,t.current)(...n),[])}function fo(...e){return P.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{lw(n,t)})},e)}let EC=!0,QP=!1,bz;const wZ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function CZ(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&wZ[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function SZ(e){e.metaKey||e.altKey||e.ctrlKey||(EC=!0)}function YT(){EC=!1}function TZ(){this.visibilityState==="hidden"&&QP&&(EC=!0)}function EZ(e){e.addEventListener("keydown",SZ,!0),e.addEventListener("mousedown",YT,!0),e.addEventListener("pointerdown",YT,!0),e.addEventListener("touchstart",YT,!0),e.addEventListener("visibilitychange",TZ,!0)}function PZ(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return EC||CZ(t)}function CM(){const e=P.useCallback(i=>{i!=null&&EZ(i.ownerDocument)},[]),t=P.useRef(!1);function n(){return t.current?(QP=!0,window.clearTimeout(bz),bz=window.setTimeout(()=>{QP=!1},100),t.current=!1,!0):!1}function r(i){return PZ(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function dN(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const kZ=e=>{const t=P.useRef({});return P.useEffect(()=>{t.current=e}),t.current},SM=kZ;function TM(e,t){const n=$({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=$({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},c=t[r];n[r]={},!c||!Object.keys(c)?n[r]=i:!i||!Object.keys(i)?n[r]=c:(n[r]=$({},c),Object.keys(i).forEach(d=>{n[r][d]=TM(i[d],c[d])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function hn(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((c,d)=>{if(d){const s=t(d);s!==""&&c.push(s),n&&n[d]&&c.push(n[d])}return c},[]).join(" ")}),r}const wz=e=>e,IZ=()=>{let e=wz;return{configure(t){e=t},generate(t){return e(t)},reset(){e=wz}}},MZ=IZ(),hN=MZ,AZ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function qn(e,t,n="Mui"){const r=AZ[t];return r?`${n}-${r}`:`${hN.generate(e)}-${t}`}function Zn(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=qn(e,i,n)}),r}const q_="$$material";function mt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,c;for(c=0;c<r.length;c++)i=r[c],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fN(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var RZ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,OZ=fN(function(e){return RZ.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function DZ(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function LZ(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var zZ=function(){function e(n){var r=this;this._insertTag=function(i){var c;r.tags.length===0?r.insertionPoint?c=r.insertionPoint.nextSibling:r.prepend?c=r.container.firstChild:c=r.before:c=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,c),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(LZ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var c=DZ(i);try{c.insertRule(r,c.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ws="-ms-",cw="-moz-",co="-webkit-",pN="comm",EM="rule",PM="decl",FZ="@import",mN="@keyframes",jZ="@layer",$Z=Math.abs,PC=String.fromCharCode,BZ=Object.assign;function NZ(e,t){return ss(e,0)^45?(((t<<2^ss(e,0))<<2^ss(e,1))<<2^ss(e,2))<<2^ss(e,3):0}function gN(e){return e.trim()}function UZ(e,t){return(e=t.exec(e))?e[0]:e}function uo(e,t,n){return e.replace(t,n)}function ek(e,t){return e.indexOf(t)}function ss(e,t){return e.charCodeAt(t)|0}function g_(e,t,n){return e.slice(t,n)}function Bc(e){return e.length}function kM(e){return e.length}function Fb(e,t){return t.push(e),e}function VZ(e,t){return e.map(t).join("")}var kC=1,ny=1,yN=0,da=0,Di=0,ky="";function IC(e,t,n,r,i,c,d){return{value:e,root:t,parent:n,type:r,props:i,children:c,line:kC,column:ny,length:d,return:""}}function e0(e,t){return BZ(IC("",null,null,"",null,null,0),e,{length:-e.length},t)}function HZ(){return Di}function GZ(){return Di=da>0?ss(ky,--da):0,ny--,Di===10&&(ny=1,kC--),Di}function $a(){return Di=da<yN?ss(ky,da++):0,ny++,Di===10&&(ny=1,kC++),Di}function Xc(){return ss(ky,da)}function m1(){return da}function Z_(e,t){return g_(ky,e,t)}function y_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vN(e){return kC=ny=1,yN=Bc(ky=e),da=0,[]}function _N(e){return ky="",e}function g1(e){return gN(Z_(da-1,tk(e===91?e+2:e===40?e+1:e)))}function WZ(e){for(;(Di=Xc())&&Di<33;)$a();return y_(e)>2||y_(Di)>3?"":" "}function qZ(e,t){for(;--t&&$a()&&!(Di<48||Di>102||Di>57&&Di<65||Di>70&&Di<97););return Z_(e,m1()+(t<6&&Xc()==32&&$a()==32))}function tk(e){for(;$a();)switch(Di){case e:return da;case 34:case 39:e!==34&&e!==39&&tk(Di);break;case 40:e===41&&tk(e);break;case 92:$a();break}return da}function ZZ(e,t){for(;$a()&&e+Di!==47+10;)if(e+Di===42+42&&Xc()===47)break;return"/*"+Z_(t,da-1)+"*"+PC(e===47?e:$a())}function YZ(e){for(;!y_(Xc());)$a();return Z_(e,da)}function KZ(e){return _N(y1("",null,null,null,[""],e=vN(e),0,[0],e))}function y1(e,t,n,r,i,c,d,s,m){for(var _=0,w=0,E=d,k=0,O=0,R=0,L=1,U=1,F=1,z=0,B="",Z=i,ee=c,X=r,W=B;U;)switch(R=z,z=$a()){case 40:if(R!=108&&ss(W,E-1)==58){ek(W+=uo(g1(z),"&","&\f"),"&\f")!=-1&&(F=-1);break}case 34:case 39:case 91:W+=g1(z);break;case 9:case 10:case 13:case 32:W+=WZ(R);break;case 92:W+=qZ(m1()-1,7);continue;case 47:switch(Xc()){case 42:case 47:Fb(XZ(ZZ($a(),m1()),t,n),m);break;default:W+="/"}break;case 123*L:s[_++]=Bc(W)*F;case 125*L:case 59:case 0:switch(z){case 0:case 125:U=0;case 59+w:F==-1&&(W=uo(W,/\f/g,"")),O>0&&Bc(W)-E&&Fb(O>32?Sz(W+";",r,n,E-1):Sz(uo(W," ","")+";",r,n,E-2),m);break;case 59:W+=";";default:if(Fb(X=Cz(W,t,n,_,w,i,s,B,Z=[],ee=[],E),c),z===123)if(w===0)y1(W,t,X,X,Z,c,E,s,ee);else switch(k===99&&ss(W,3)===110?100:k){case 100:case 108:case 109:case 115:y1(e,X,X,r&&Fb(Cz(e,X,X,0,0,i,s,B,i,Z=[],E),ee),i,ee,E,s,r?Z:ee);break;default:y1(W,X,X,X,[""],ee,0,s,ee)}}_=w=O=0,L=F=1,B=W="",E=d;break;case 58:E=1+Bc(W),O=R;default:if(L<1){if(z==123)--L;else if(z==125&&L++==0&&GZ()==125)continue}switch(W+=PC(z),z*L){case 38:F=w>0?1:(W+="\f",-1);break;case 44:s[_++]=(Bc(W)-1)*F,F=1;break;case 64:Xc()===45&&(W+=g1($a())),k=Xc(),w=E=Bc(B=W+=YZ(m1())),z++;break;case 45:R===45&&Bc(W)==2&&(L=0)}}return c}function Cz(e,t,n,r,i,c,d,s,m,_,w){for(var E=i-1,k=i===0?c:[""],O=kM(k),R=0,L=0,U=0;R<r;++R)for(var F=0,z=g_(e,E+1,E=$Z(L=d[R])),B=e;F<O;++F)(B=gN(L>0?k[F]+" "+z:uo(z,/&\f/g,k[F])))&&(m[U++]=B);return IC(e,t,n,i===0?EM:s,m,_,w)}function XZ(e,t,n){return IC(e,t,n,pN,PC(HZ()),g_(e,2,-2),0)}function Sz(e,t,n,r){return IC(e,t,n,PM,g_(e,0,r),g_(e,r+1,-1),r)}function zg(e,t){for(var n="",r=kM(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function JZ(e,t,n,r){switch(e.type){case jZ:if(e.children.length)break;case FZ:case PM:return e.return=e.return||e.value;case pN:return"";case mN:return e.return=e.value+"{"+zg(e.children,r)+"}";case EM:e.value=e.props.join(",")}return Bc(n=zg(e.children,r))?e.return=e.value+"{"+n+"}":""}function QZ(e){var t=kM(e);return function(n,r,i,c){for(var d="",s=0;s<t;s++)d+=e[s](n,r,i,c)||"";return d}}function eY(e){return function(t){t.root||(t=t.return)&&e(t)}}var tY=function(t,n,r){for(var i=0,c=0;i=c,c=Xc(),i===38&&c===12&&(n[r]=1),!y_(c);)$a();return Z_(t,da)},nY=function(t,n){var r=-1,i=44;do switch(y_(i)){case 0:i===38&&Xc()===12&&(n[r]=1),t[r]+=tY(da-1,n,r);break;case 2:t[r]+=g1(i);break;case 4:if(i===44){t[++r]=Xc()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=PC(i)}while(i=$a());return t},rY=function(t,n){return _N(nY(vN(t),n))},Tz=new WeakMap,oY=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Tz.get(r))&&!i){Tz.set(t,!0);for(var c=[],d=rY(n,c),s=r.props,m=0,_=0;m<d.length;m++)for(var w=0;w<s.length;w++,_++)t.props[_]=c[m]?d[m].replace(/&\f/g,s[w]):s[w]+" "+d[m]}}},iY=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function xN(e,t){switch(NZ(e,t)){case 5103:return co+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return co+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return co+e+cw+e+ws+e+e;case 6828:case 4268:return co+e+ws+e+e;case 6165:return co+e+ws+"flex-"+e+e;case 5187:return co+e+uo(e,/(\w+).+(:[^]+)/,co+"box-$1$2"+ws+"flex-$1$2")+e;case 5443:return co+e+ws+"flex-item-"+uo(e,/flex-|-self/,"")+e;case 4675:return co+e+ws+"flex-line-pack"+uo(e,/align-content|flex-|-self/,"")+e;case 5548:return co+e+ws+uo(e,"shrink","negative")+e;case 5292:return co+e+ws+uo(e,"basis","preferred-size")+e;case 6060:return co+"box-"+uo(e,"-grow","")+co+e+ws+uo(e,"grow","positive")+e;case 4554:return co+uo(e,/([^-])(transform)/g,"$1"+co+"$2")+e;case 6187:return uo(uo(uo(e,/(zoom-|grab)/,co+"$1"),/(image-set)/,co+"$1"),e,"")+e;case 5495:case 3959:return uo(e,/(image-set\([^]*)/,co+"$1$`$1");case 4968:return uo(uo(e,/(.+:)(flex-)?(.*)/,co+"box-pack:$3"+ws+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+co+e+e;case 4095:case 3583:case 4068:case 2532:return uo(e,/(.+)-inline(.+)/,co+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bc(e)-1-t>6)switch(ss(e,t+1)){case 109:if(ss(e,t+4)!==45)break;case 102:return uo(e,/(.+:)(.+)-([^]+)/,"$1"+co+"$2-$3$1"+cw+(ss(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ek(e,"stretch")?xN(uo(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ss(e,t+1)!==115)break;case 6444:switch(ss(e,Bc(e)-3-(~ek(e,"!important")&&10))){case 107:return uo(e,":",":"+co)+e;case 101:return uo(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+co+(ss(e,14)===45?"inline-":"")+"box$3$1"+co+"$2$3$1"+ws+"$2box$3")+e}break;case 5936:switch(ss(e,t+11)){case 114:return co+e+ws+uo(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return co+e+ws+uo(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return co+e+ws+uo(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return co+e+ws+e+e}return e}var sY=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case PM:t.return=xN(t.value,t.length);break;case mN:return zg([e0(t,{value:uo(t.value,"@","@"+co)})],i);case EM:if(t.length)return VZ(t.props,function(c){switch(UZ(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zg([e0(t,{props:[uo(c,/:(read-\w+)/,":"+cw+"$1")]})],i);case"::placeholder":return zg([e0(t,{props:[uo(c,/:(plac\w+)/,":"+co+"input-$1")]}),e0(t,{props:[uo(c,/:(plac\w+)/,":"+cw+"$1")]}),e0(t,{props:[uo(c,/:(plac\w+)/,ws+"input-$1")]})],i)}return""})}},aY=[sY],lY=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(L){var U=L.getAttribute("data-emotion");U.indexOf(" ")!==-1&&(document.head.appendChild(L),L.setAttribute("data-s",""))})}var i=t.stylisPlugins||aY,c={},d,s=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(L){for(var U=L.getAttribute("data-emotion").split(" "),F=1;F<U.length;F++)c[U[F]]=!0;s.push(L)});var m,_=[oY,iY];{var w,E=[JZ,eY(function(L){w.insert(L)})],k=QZ(_.concat(i,E)),O=function(U){return zg(KZ(U),k)};m=function(U,F,z,B){w=z,O(U?U+"{"+F.styles+"}":F.styles),B&&(R.inserted[F.name]=!0)}}var R={key:n,sheet:new zZ({key:n,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:c,registered:{},insert:m};return R.sheet.hydrate(s),R},bN={exports:{}},wo={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=typeof Symbol=="function"&&Symbol.for,IM=ts?Symbol.for("react.element"):60103,MM=ts?Symbol.for("react.portal"):60106,MC=ts?Symbol.for("react.fragment"):60107,AC=ts?Symbol.for("react.strict_mode"):60108,RC=ts?Symbol.for("react.profiler"):60114,OC=ts?Symbol.for("react.provider"):60109,DC=ts?Symbol.for("react.context"):60110,AM=ts?Symbol.for("react.async_mode"):60111,LC=ts?Symbol.for("react.concurrent_mode"):60111,zC=ts?Symbol.for("react.forward_ref"):60112,FC=ts?Symbol.for("react.suspense"):60113,cY=ts?Symbol.for("react.suspense_list"):60120,jC=ts?Symbol.for("react.memo"):60115,$C=ts?Symbol.for("react.lazy"):60116,uY=ts?Symbol.for("react.block"):60121,dY=ts?Symbol.for("react.fundamental"):60117,hY=ts?Symbol.for("react.responder"):60118,fY=ts?Symbol.for("react.scope"):60119;function Ha(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IM:switch(e=e.type,e){case AM:case LC:case MC:case RC:case AC:case FC:return e;default:switch(e=e&&e.$$typeof,e){case DC:case zC:case $C:case jC:case OC:return e;default:return t}}case MM:return t}}}function wN(e){return Ha(e)===LC}wo.AsyncMode=AM;wo.ConcurrentMode=LC;wo.ContextConsumer=DC;wo.ContextProvider=OC;wo.Element=IM;wo.ForwardRef=zC;wo.Fragment=MC;wo.Lazy=$C;wo.Memo=jC;wo.Portal=MM;wo.Profiler=RC;wo.StrictMode=AC;wo.Suspense=FC;wo.isAsyncMode=function(e){return wN(e)||Ha(e)===AM};wo.isConcurrentMode=wN;wo.isContextConsumer=function(e){return Ha(e)===DC};wo.isContextProvider=function(e){return Ha(e)===OC};wo.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IM};wo.isForwardRef=function(e){return Ha(e)===zC};wo.isFragment=function(e){return Ha(e)===MC};wo.isLazy=function(e){return Ha(e)===$C};wo.isMemo=function(e){return Ha(e)===jC};wo.isPortal=function(e){return Ha(e)===MM};wo.isProfiler=function(e){return Ha(e)===RC};wo.isStrictMode=function(e){return Ha(e)===AC};wo.isSuspense=function(e){return Ha(e)===FC};wo.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===MC||e===LC||e===RC||e===AC||e===FC||e===cY||typeof e=="object"&&e!==null&&(e.$$typeof===$C||e.$$typeof===jC||e.$$typeof===OC||e.$$typeof===DC||e.$$typeof===zC||e.$$typeof===dY||e.$$typeof===hY||e.$$typeof===fY||e.$$typeof===uY)};wo.typeOf=Ha;bN.exports=wo;var pY=bN.exports,CN=pY,mY={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SN={};SN[CN.ForwardRef]=mY;SN[CN.Memo]=gY;var yY=!0;function vY(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var TN=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||yY===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},EN=function(t,n,r){TN(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var c=n;do t.insert(n===c?"."+i:"",c,t.sheet,!0),c=c.next;while(c!==void 0)}};function _Y(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var xY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bY=/[A-Z]|^ms/g,wY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PN=function(t){return t.charCodeAt(1)===45},Ez=function(t){return t!=null&&typeof t!="boolean"},KT=fN(function(e){return PN(e)?e:e.replace(bY,"-$&").toLowerCase()}),Pz=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(wY,function(r,i,c){return Nc={name:i,styles:c,next:Nc},i})}return xY[t]!==1&&!PN(t)&&typeof n=="number"&&n!==0?n+"px":n};function v_(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Nc={name:n.name,styles:n.styles,next:Nc},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Nc={name:r.name,styles:r.styles,next:Nc},r=r.next;var i=n.styles+";";return i}return CY(e,t,n)}case"function":{if(e!==void 0){var c=Nc,d=n(e);return Nc=c,v_(e,t,d)}break}}if(t==null)return n;var s=t[n];return s!==void 0?s:n}function CY(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=v_(e,t,n[i])+";";else for(var c in n){var d=n[c];if(typeof d!="object")t!=null&&t[d]!==void 0?r+=c+"{"+t[d]+"}":Ez(d)&&(r+=KT(c)+":"+Pz(c,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var s=0;s<d.length;s++)Ez(d[s])&&(r+=KT(c)+":"+Pz(c,d[s])+";");else{var m=v_(e,t,d);switch(c){case"animation":case"animationName":{r+=KT(c)+":"+m+";";break}default:r+=c+"{"+m+"}"}}}return r}var kz=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Nc,RM=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,c="";Nc=void 0;var d=t[0];d==null||d.raw===void 0?(i=!1,c+=v_(r,n,d)):c+=d[0];for(var s=1;s<t.length;s++)c+=v_(r,n,t[s]),i&&(c+=d[s]);kz.lastIndex=0;for(var m="",_;(_=kz.exec(c))!==null;)m+="-"+_[1];var w=_Y(c)+m;return{name:w,styles:c,next:Nc}},SY=function(t){return t()},kN=L1["useInsertionEffect"]?L1["useInsertionEffect"]:!1,TY=kN||SY,Iz=kN||P.useLayoutEffect,IN=P.createContext(typeof HTMLElement<"u"?lY({key:"css"}):null);IN.Provider;var MN=function(t){return P.forwardRef(function(n,r){var i=P.useContext(IN);return t(n,i,r)})},OM=P.createContext({}),EY=MN(function(e,t){var n=e.styles,r=RM([n],void 0,P.useContext(OM)),i=P.useRef();return Iz(function(){var c=t.key+"-global",d=new t.sheet.constructor({key:c,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,m=document.querySelector('style[data-emotion="'+c+" "+r.name+'"]');return t.sheet.tags.length&&(d.before=t.sheet.tags[0]),m!==null&&(s=!0,m.setAttribute("data-emotion",c),d.hydrate([m])),i.current=[d,s],function(){d.flush()}},[t]),Iz(function(){var c=i.current,d=c[0],s=c[1];if(s){c[1]=!1;return}if(r.next!==void 0&&EN(t,r.next,!0),d.tags.length){var m=d.tags[d.tags.length-1].nextElementSibling;d.before=m,d.flush()}t.insert("",r,d,!1)},[t,r.name]),null});function __(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return RM(t)}var Bp=function(){var t=__.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},PY=OZ,kY=function(t){return t!=="theme"},Mz=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?PY:kY},Az=function(t,n,r){var i;if(n){var c=n.shouldForwardProp;i=t.__emotion_forwardProp&&c?function(d){return t.__emotion_forwardProp(d)&&c(d)}:c}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},IY=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return TN(n,r,i),TY(function(){return EN(n,r,i)}),null},MY=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,c,d;n!==void 0&&(c=n.label,d=n.target);var s=Az(t,n,r),m=s||Mz(i),_=!m("as");return function(){var w=arguments,E=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(c!==void 0&&E.push("label:"+c+";"),w[0]==null||w[0].raw===void 0)E.push.apply(E,w);else{E.push(w[0][0]);for(var k=w.length,O=1;O<k;O++)E.push(w[O],w[0][O])}var R=MN(function(L,U,F){var z=_&&L.as||i,B="",Z=[],ee=L;if(L.theme==null){ee={};for(var X in L)ee[X]=L[X];ee.theme=P.useContext(OM)}typeof L.className=="string"?B=vY(U.registered,Z,L.className):L.className!=null&&(B=L.className+" ");var W=RM(E.concat(Z),U.registered,ee);B+=U.key+"-"+W.name,d!==void 0&&(B+=" "+d);var ne=_&&s===void 0?Mz(z):m,J={};for(var re in L)_&&re==="as"||ne(re)&&(J[re]=L[re]);return J.className=B,J.ref=F,P.createElement(P.Fragment,null,P.createElement(IY,{cache:U,serialized:W,isStringTag:typeof z=="string"}),P.createElement(z,J))});return R.displayName=c!==void 0?c:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=t.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=E,R.__emotion_forwardProp=s,Object.defineProperty(R,"toString",{value:function(){return"."+d}}),R.withComponent=function(L,U){return e(L,$({},n,U,{shouldForwardProp:Az(R,U,!0)})).apply(void 0,E)},R}},AY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nk=MY.bind();AY.forEach(function(e){nk[e]=nk(e)});function RY(e){return e==null||Object.keys(e).length===0}function OY(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(RY(i)?n:i):t;return T.jsx(EY,{styles:r})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function AN(e,t){return nk(e,t)}const DY=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},LY=["values","unit","step"],zY=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>$({},n,{[r.key]:r.val}),{})};function FY(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=mt(e,LY),c=zY(t),d=Object.keys(c);function s(k){return`@media (min-width:${typeof t[k]=="number"?t[k]:k}${n})`}function m(k){return`@media (max-width:${(typeof t[k]=="number"?t[k]:k)-r/100}${n})`}function _(k,O){const R=d.indexOf(O);return`@media (min-width:${typeof t[k]=="number"?t[k]:k}${n}) and (max-width:${(R!==-1&&typeof t[d[R]]=="number"?t[d[R]]:O)-r/100}${n})`}function w(k){return d.indexOf(k)+1<d.length?_(k,d[d.indexOf(k)+1]):s(k)}function E(k){const O=d.indexOf(k);return O===0?s(d[1]):O===d.length-1?m(d[O]):_(k,d[d.indexOf(k)+1]).replace("@media","@media not all and")}return $({keys:d,values:c,up:s,down:m,between:_,only:w,not:E,unit:n},i)}const jY={borderRadius:4},$Y=jY;function F0(e,t){return t?la(e,t,{clone:!1}):e}const DM={xs:0,sm:600,md:900,lg:1200,xl:1536},Rz={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${DM[e]}px)`};function _l(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const c=r.breakpoints||Rz;return t.reduce((d,s,m)=>(d[c.up(c.keys[m])]=n(t[m]),d),{})}if(typeof t=="object"){const c=r.breakpoints||Rz;return Object.keys(t).reduce((d,s)=>{if(Object.keys(c.values||DM).indexOf(s)!==-1){const m=c.up(s);d[m]=n(t[s],s)}else{const m=s;d[m]=t[m]}return d},{})}return n(t)}function BY(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const c=e.up(i);return r[c]={},r},{}))||{}}function NY(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function UY(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((i,c)=>{c<e.length&&(n[i]=!0)}):r.forEach(i=>{e[i]!=null&&(n[i]=!0)}),n}function BC({values:e,breakpoints:t,base:n}){const r=n||UY(e,t),i=Object.keys(r);if(i.length===0)return e;let c;return i.reduce((d,s,m)=>(Array.isArray(e)?(d[s]=e[m]!=null?e[m]:e[c],c=m):typeof e=="object"?(d[s]=e[s]!=null?e[s]:e[c],c=s):d[s]=e,d),{})}function ry(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,c)=>i&&i[c]?i[c]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function uw(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=ry(e,n)||r,t&&(i=t(i,r,e)),i}function go(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,c=d=>{if(d[t]==null)return null;const s=d[t],m=d.theme,_=ry(m,r)||{};return _l(d,s,E=>{let k=uw(_,i,E);return E===k&&typeof E=="string"&&(k=uw(_,i,`${t}${E==="default"?"":xt(E)}`,E)),n===!1?k:{[n]:k}})};return c.propTypes={},c.filterProps=[t],c}function VY(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const HY={m:"margin",p:"padding"},GY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Oz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},WY=VY(e=>{if(e.length>2)if(Oz[e])e=Oz[e];else return[e];const[t,n]=e.split(""),r=HY[t],i=GY[n]||"";return Array.isArray(i)?i.map(c=>r+c):[r+i]}),LM=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],zM=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...LM,...zM];function Y_(e,t,n,r){var i;const c=(i=ry(e,t,!1))!=null?i:n;return typeof c=="number"?d=>typeof d=="string"?d:c*d:Array.isArray(c)?d=>typeof d=="string"?d:c[d]:typeof c=="function"?c:()=>{}}function RN(e){return Y_(e,"spacing",8)}function K_(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function qY(e,t){return n=>e.reduce((r,i)=>(r[i]=K_(t,n),r),{})}function ZY(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=WY(n),c=qY(i,r),d=e[n];return _l(e,d,c)}function ON(e,t){const n=RN(e.theme);return Object.keys(e).map(r=>ZY(e,t,r,n)).reduce(F0,{})}function _i(e){return ON(e,LM)}_i.propTypes={};_i.filterProps=LM;function xi(e){return ON(e,zM)}xi.propTypes={};xi.filterProps=zM;function YY(e=8){if(e.mui)return e;const t=RN({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(c=>{const d=t(c);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function NC(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(c=>{r[c]=i}),r),{}),n=r=>Object.keys(r).reduce((i,c)=>t[c]?F0(i,t[c](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Hc(e){return typeof e!="number"?e:`${e}px solid`}const KY=go({prop:"border",themeKey:"borders",transform:Hc}),XY=go({prop:"borderTop",themeKey:"borders",transform:Hc}),JY=go({prop:"borderRight",themeKey:"borders",transform:Hc}),QY=go({prop:"borderBottom",themeKey:"borders",transform:Hc}),eK=go({prop:"borderLeft",themeKey:"borders",transform:Hc}),tK=go({prop:"borderColor",themeKey:"palette"}),nK=go({prop:"borderTopColor",themeKey:"palette"}),rK=go({prop:"borderRightColor",themeKey:"palette"}),oK=go({prop:"borderBottomColor",themeKey:"palette"}),iK=go({prop:"borderLeftColor",themeKey:"palette"}),UC=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Y_(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:K_(t,r)});return _l(e,e.borderRadius,n)}return null};UC.propTypes={};UC.filterProps=["borderRadius"];NC(KY,XY,JY,QY,eK,tK,nK,rK,oK,iK,UC);const VC=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Y_(e.theme,"spacing",8),n=r=>({gap:K_(t,r)});return _l(e,e.gap,n)}return null};VC.propTypes={};VC.filterProps=["gap"];const HC=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Y_(e.theme,"spacing",8),n=r=>({columnGap:K_(t,r)});return _l(e,e.columnGap,n)}return null};HC.propTypes={};HC.filterProps=["columnGap"];const GC=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Y_(e.theme,"spacing",8),n=r=>({rowGap:K_(t,r)});return _l(e,e.rowGap,n)}return null};GC.propTypes={};GC.filterProps=["rowGap"];const sK=go({prop:"gridColumn"}),aK=go({prop:"gridRow"}),lK=go({prop:"gridAutoFlow"}),cK=go({prop:"gridAutoColumns"}),uK=go({prop:"gridAutoRows"}),dK=go({prop:"gridTemplateColumns"}),hK=go({prop:"gridTemplateRows"}),fK=go({prop:"gridTemplateAreas"}),pK=go({prop:"gridArea"});NC(VC,HC,GC,sK,aK,lK,cK,uK,dK,hK,fK,pK);function Fg(e,t){return t==="grey"?t:e}const mK=go({prop:"color",themeKey:"palette",transform:Fg}),gK=go({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Fg}),yK=go({prop:"backgroundColor",themeKey:"palette",transform:Fg});NC(mK,gK,yK);function za(e){return e<=1&&e!==0?`${e*100}%`:e}const vK=go({prop:"width",transform:za}),FM=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i,c;return{maxWidth:((r=e.theme)==null||(i=r.breakpoints)==null||(c=i.values)==null?void 0:c[n])||DM[n]||za(n)}};return _l(e,e.maxWidth,t)}return null};FM.filterProps=["maxWidth"];const _K=go({prop:"minWidth",transform:za}),xK=go({prop:"height",transform:za}),bK=go({prop:"maxHeight",transform:za}),wK=go({prop:"minHeight",transform:za});go({prop:"size",cssProperty:"width",transform:za});go({prop:"size",cssProperty:"height",transform:za});const CK=go({prop:"boxSizing"});NC(vK,FM,_K,xK,bK,wK,CK);const SK={border:{themeKey:"borders",transform:Hc},borderTop:{themeKey:"borders",transform:Hc},borderRight:{themeKey:"borders",transform:Hc},borderBottom:{themeKey:"borders",transform:Hc},borderLeft:{themeKey:"borders",transform:Hc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:UC},color:{themeKey:"palette",transform:Fg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Fg},backgroundColor:{themeKey:"palette",transform:Fg},p:{style:xi},pt:{style:xi},pr:{style:xi},pb:{style:xi},pl:{style:xi},px:{style:xi},py:{style:xi},padding:{style:xi},paddingTop:{style:xi},paddingRight:{style:xi},paddingBottom:{style:xi},paddingLeft:{style:xi},paddingX:{style:xi},paddingY:{style:xi},paddingInline:{style:xi},paddingInlineStart:{style:xi},paddingInlineEnd:{style:xi},paddingBlock:{style:xi},paddingBlockStart:{style:xi},paddingBlockEnd:{style:xi},m:{style:_i},mt:{style:_i},mr:{style:_i},mb:{style:_i},ml:{style:_i},mx:{style:_i},my:{style:_i},margin:{style:_i},marginTop:{style:_i},marginRight:{style:_i},marginBottom:{style:_i},marginLeft:{style:_i},marginX:{style:_i},marginY:{style:_i},marginInline:{style:_i},marginInlineStart:{style:_i},marginInlineEnd:{style:_i},marginBlock:{style:_i},marginBlockStart:{style:_i},marginBlockEnd:{style:_i},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:VC},rowGap:{style:GC},columnGap:{style:HC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:za},maxWidth:{style:FM},minWidth:{transform:za},height:{transform:za},maxHeight:{transform:za},minHeight:{transform:za},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},WC=SK;function TK(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function EK(e,t){return typeof e=="function"?e(t):e}function PK(){function e(n,r,i,c){const d={[n]:r,theme:i},s=c[n];if(!s)return{[n]:r};const{cssProperty:m=n,themeKey:_,transform:w,style:E}=s;if(r==null)return null;if(_==="typography"&&r==="inherit")return{[n]:r};const k=ry(i,_)||{};return E?E(d):_l(d,r,R=>{let L=uw(k,w,R);return R===L&&typeof R=="string"&&(L=uw(k,w,`${n}${R==="default"?"":xt(R)}`,R)),m===!1?L:{[m]:L}})}function t(n){var r;const{sx:i,theme:c={}}=n||{};if(!i)return null;const d=(r=c.unstable_sxConfig)!=null?r:WC;function s(m){let _=m;if(typeof m=="function")_=m(c);else if(typeof m!="object")return m;if(!_)return null;const w=BY(c.breakpoints),E=Object.keys(w);let k=w;return Object.keys(_).forEach(O=>{const R=EK(_[O],c);if(R!=null)if(typeof R=="object")if(d[O])k=F0(k,e(O,R,c,d));else{const L=_l({theme:c},R,U=>({[O]:U}));TK(L,R)?k[O]=t({sx:R,theme:c}):k=F0(k,L)}else k=F0(k,e(O,R,c,d))}),NY(E,k)}return Array.isArray(i)?i.map(s):s(i)}return t}const DN=PK();DN.filterProps=["sx"];const qC=DN,kK=["breakpoints","palette","spacing","shape"];function ZC(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:c={}}=e,d=mt(e,kK),s=FY(n),m=YY(i);let _=la({breakpoints:s,direction:"ltr",components:{},palette:$({mode:"light"},r),spacing:m,shape:$({},$Y,c)},d);return _=t.reduce((w,E)=>la(w,E),_),_.unstable_sxConfig=$({},WC,d==null?void 0:d.unstable_sxConfig),_.unstable_sx=function(E){return qC({sx:E,theme:this})},_}function IK(e){return Object.keys(e).length===0}function LN(e=null){const t=P.useContext(OM);return!t||IK(t)?e:t}const MK=ZC();function X_(e=MK){return LN(e)}function AK({styles:e,themeId:t,defaultTheme:n={}}){const r=X_(n),i=typeof e=="function"?e(t&&r[t]||r):e;return T.jsx(OY,{styles:i})}const RK=["sx"],OK=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:WC;return Object.keys(e).forEach(c=>{i[c]?r.systemProps[c]=e[c]:r.otherProps[c]=e[c]}),r};function jM(e){const{sx:t}=e,n=mt(e,RK),{systemProps:r,otherProps:i}=OK(n);let c;return Array.isArray(t)?c=[r,...t]:typeof t=="function"?c=(...d)=>{const s=t(...d);return ap(s)?$({},r,s):r}:c=$({},r,t),$({},i,{sx:c})}function zN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=zN(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function $t(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=zN(e))&&(r&&(r+=" "),r+=t);return r}const DK=["className","component"];function LK(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,c=AN("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(qC);return P.forwardRef(function(m,_){const w=X_(n),E=jM(m),{className:k,component:O="div"}=E,R=mt(E,DK);return T.jsx(c,$({as:O,ref:_,className:$t(k,i?i(r):r),theme:t&&w[t]||w},R))})}const zK=["variant"];function Dz(e){return e.length===0}function FN(e){const{variant:t}=e,n=mt(e,zK);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Dz(r)?e[i]:xt(e[i]):r+=`${Dz(r)?i:xt(i)}${xt(e[i].toString())}`}),r}const FK=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function jK(e){return Object.keys(e).length===0}function $K(e){return typeof e=="string"&&e.charCodeAt(0)>96}const BK=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,NK=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach(i=>{const c=FN(i.props);r[c]=i.style}),r},UK=(e,t,n,r)=>{var i,c;const{ownerState:d={}}=e,s=[],m=n==null||(i=n.components)==null||(c=i[r])==null?void 0:c.variants;return m&&m.forEach(_=>{let w=!0;Object.keys(_.props).forEach(E=>{d[E]!==_.props[E]&&e[E]!==_.props[E]&&(w=!1)}),w&&s.push(t[FN(_.props)])}),s};function j0(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const VK=ZC();function t0({defaultTheme:e,theme:t,themeId:n}){return jK(t)?e:t[n]||t}function jN(e={}){const{themeId:t,defaultTheme:n=VK,rootShouldForwardProp:r=j0,slotShouldForwardProp:i=j0}=e,c=d=>qC($({},d,{theme:t0($({},d,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,(d,s={})=>{DY(d,Z=>Z.filter(ee=>!(ee!=null&&ee.__mui_systemSx)));const{name:m,slot:_,skipVariantsResolver:w,skipSx:E,overridesResolver:k}=s,O=mt(s,FK),R=w!==void 0?w:_&&_!=="Root"||!1,L=E||!1;let U,F=j0;_==="Root"?F=r:_?F=i:$K(d)&&(F=void 0);const z=AN(d,$({shouldForwardProp:F,label:U},O)),B=(Z,...ee)=>{const X=ee?ee.map(re=>typeof re=="function"&&re.__emotion_real!==re?se=>re($({},se,{theme:t0($({},se,{defaultTheme:n,themeId:t}))})):re):[];let W=Z;m&&k&&X.push(re=>{const se=t0($({},re,{defaultTheme:n,themeId:t})),de=BK(m,se);if(de){const pe={};return Object.entries(de).forEach(([ae,oe])=>{pe[ae]=typeof oe=="function"?oe($({},re,{theme:se})):oe}),k(re,pe)}return null}),m&&!R&&X.push(re=>{const se=t0($({},re,{defaultTheme:n,themeId:t}));return UK(re,NK(m,se),se,m)}),L||X.push(c);const ne=X.length-ee.length;if(Array.isArray(Z)&&ne>0){const re=new Array(ne).fill("");W=[...Z,...re],W.raw=[...Z.raw,...re]}else typeof Z=="function"&&Z.__emotion_real!==Z&&(W=re=>Z($({},re,{theme:t0($({},re,{defaultTheme:n,themeId:t}))})));const J=z(W,...X);return d.muiName&&(J.muiName=d.muiName),J};return z.withConfig&&(B.withConfig=z.withConfig),B}}const HK=jN(),Gi=HK;function GK(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:TM(t.components[n].defaultProps,r)}function $N({props:e,name:t,defaultTheme:n,themeId:r}){let i=X_(n);return r&&(i=i[r]||i),GK({theme:i,name:t,props:e})}function $M(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function WK(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Rp(e){if(e.type)return e;if(e.charAt(0)==="#")return Rp(WK(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ad(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ad(10,i))}else r=r.split(",");return r=r.map(c=>parseFloat(c)),{type:n,values:r,colorSpace:i}}function YC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,c)=>c<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function qK(e){e=Rp(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,c=r*Math.min(i,1-i),d=(_,w=(_+n/30)%12)=>i-c*Math.max(Math.min(w-3,9-w,1),-1);let s="rgb";const m=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return e.type==="hsla"&&(s+="a",m.push(t[3])),YC({type:s,values:m})}function rk(e){e=Rp(e);let t=e.type==="hsl"||e.type==="hsla"?Rp(qK(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ZK(e,t){const n=rk(e),r=rk(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function dr(e,t){return e=Rp(e),t=$M(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,YC(e)}function J_(e,t){if(e=Rp(e),t=$M(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return YC(e)}function Q_(e,t){if(e=Rp(e),t=$M(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return YC(e)}function Lz(e,t=.15){return rk(e)>.5?J_(e,t):Q_(e,t)}const YK=P.createContext(null),BN=YK;function NN(){return P.useContext(BN)}const KK=typeof Symbol=="function"&&Symbol.for,UN=KK?Symbol.for("mui.nested"):"__THEME_NESTED__";function XK(e,t){return typeof t=="function"?t(e):$({},e,t)}function JK(e){const{children:t,theme:n}=e,r=NN(),i=P.useMemo(()=>{const c=r===null?n:XK(r,n);return c!=null&&(c[UN]=r!==null),c},[n,r]);return T.jsx(BN.Provider,{value:i,children:t})}const QK=["className","component","disableGutters","fixed","maxWidth","classes"],eX=ZC(),tX=Gi("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${xt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),nX=e=>$N({props:e,name:"MuiContainer",defaultTheme:eX}),rX=(e,t)=>{const n=m=>qn(t,m),{classes:r,fixed:i,disableGutters:c,maxWidth:d}=e,s={root:["root",d&&`maxWidth${xt(String(d))}`,i&&"fixed",c&&"disableGutters"]};return hn(s,n,r)};function oX(e={}){const{createStyledComponent:t=tX,useThemeProps:n=nX,componentName:r="MuiContainer"}=e,i=t(({theme:d,ownerState:s})=>$({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!s.disableGutters&&{paddingLeft:d.spacing(2),paddingRight:d.spacing(2),[d.breakpoints.up("sm")]:{paddingLeft:d.spacing(3),paddingRight:d.spacing(3)}}),({theme:d,ownerState:s})=>s.fixed&&Object.keys(d.breakpoints.values).reduce((m,_)=>{const w=_,E=d.breakpoints.values[w];return E!==0&&(m[d.breakpoints.up(w)]={maxWidth:`${E}${d.breakpoints.unit}`}),m},{}),({theme:d,ownerState:s})=>$({},s.maxWidth==="xs"&&{[d.breakpoints.up("xs")]:{maxWidth:Math.max(d.breakpoints.values.xs,444)}},s.maxWidth&&s.maxWidth!=="xs"&&{[d.breakpoints.up(s.maxWidth)]:{maxWidth:`${d.breakpoints.values[s.maxWidth]}${d.breakpoints.unit}`}}));return P.forwardRef(function(s,m){const _=n(s),{className:w,component:E="div",disableGutters:k=!1,fixed:O=!1,maxWidth:R="lg"}=_,L=mt(_,QK),U=$({},_,{component:E,disableGutters:k,fixed:O,maxWidth:R}),F=rX(U,r);return T.jsx(i,$({as:E,ownerState:U,className:$t(F.root,w),ref:m},L))})}function iX(e,t){return $({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const sX=["mode","contrastThreshold","tonalOffset"],zz={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:m_.white,default:m_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},XT={text:{primary:m_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:m_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Fz(e,t,n,r){const i=r.light||r,c=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Q_(e.main,i):t==="dark"&&(e.dark=J_(e.main,c)))}function aX(e="light"){return e==="dark"?{main:Zm[200],light:Zm[50],dark:Zm[400]}:{main:Zm[700],light:Zm[400],dark:Zm[800]}}function lX(e="light"){return e==="dark"?{main:qm[200],light:qm[50],dark:qm[400]}:{main:qm[500],light:qm[300],dark:qm[700]}}function cX(e="light"){return e==="dark"?{main:Wm[500],light:Wm[300],dark:Wm[700]}:{main:Wm[700],light:Wm[400],dark:Wm[800]}}function uX(e="light"){return e==="dark"?{main:Ym[400],light:Ym[300],dark:Ym[700]}:{main:Ym[700],light:Ym[500],dark:Ym[900]}}function dX(e="light"){return e==="dark"?{main:Km[400],light:Km[300],dark:Km[700]}:{main:Km[800],light:Km[500],dark:Km[900]}}function hX(e="light"){return e==="dark"?{main:Qv[400],light:Qv[300],dark:Qv[700]}:{main:"#ed6c02",light:Qv[500],dark:Qv[900]}}function fX(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=mt(e,sX),c=e.primary||aX(t),d=e.secondary||lX(t),s=e.error||cX(t),m=e.info||uX(t),_=e.success||dX(t),w=e.warning||hX(t);function E(L){return ZK(L,XT.text.primary)>=n?XT.text.primary:zz.text.primary}const k=({color:L,name:U,mainShade:F=500,lightShade:z=300,darkShade:B=700})=>{if(L=$({},L),!L.main&&L[F]&&(L.main=L[F]),!L.hasOwnProperty("main"))throw new Error(ad(11,U?` (${U})`:"",F));if(typeof L.main!="string")throw new Error(ad(12,U?` (${U})`:"",JSON.stringify(L.main)));return Fz(L,"light",z,r),Fz(L,"dark",B,r),L.contrastText||(L.contrastText=E(L.main)),L},O={dark:XT,light:zz};return la($({common:$({},m_),mode:t,primary:k({color:c,name:"primary"}),secondary:k({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:s,name:"error"}),warning:k({color:w,name:"warning"}),info:k({color:m,name:"info"}),success:k({color:_,name:"success"}),grey:dZ,contrastThreshold:n,getContrastText:E,augmentColor:k,tonalOffset:r},O[t]),i)}const pX=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function mX(e){return Math.round(e*1e5)/1e5}const jz={textTransform:"uppercase"},$z='"Roboto", "Helvetica", "Arial", sans-serif';function gX(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=$z,fontSize:i=14,fontWeightLight:c=300,fontWeightRegular:d=400,fontWeightMedium:s=500,fontWeightBold:m=700,htmlFontSize:_=16,allVariants:w,pxToRem:E}=n,k=mt(n,pX),O=i/14,R=E||(F=>`${F/_*O}rem`),L=(F,z,B,Z,ee)=>$({fontFamily:r,fontWeight:F,fontSize:R(z),lineHeight:B},r===$z?{letterSpacing:`${mX(Z/z)}em`}:{},ee,w),U={h1:L(c,96,1.167,-1.5),h2:L(c,60,1.2,-.5),h3:L(d,48,1.167,0),h4:L(d,34,1.235,.25),h5:L(d,24,1.334,0),h6:L(s,20,1.6,.15),subtitle1:L(d,16,1.75,.15),subtitle2:L(s,14,1.57,.1),body1:L(d,16,1.5,.15),body2:L(d,14,1.43,.15),button:L(s,14,1.75,.4,jz),caption:L(d,12,1.66,.4),overline:L(d,12,2.66,1,jz),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return la($({htmlFontSize:_,pxToRem:R,fontFamily:r,fontSize:i,fontWeightLight:c,fontWeightRegular:d,fontWeightMedium:s,fontWeightBold:m},U),k,{clone:!1})}const yX=.2,vX=.14,_X=.12;function Yo(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${yX})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${vX})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${_X})`].join(",")}const xX=["none",Yo(0,2,1,-1,0,1,1,0,0,1,3,0),Yo(0,3,1,-2,0,2,2,0,0,1,5,0),Yo(0,3,3,-2,0,3,4,0,0,1,8,0),Yo(0,2,4,-1,0,4,5,0,0,1,10,0),Yo(0,3,5,-1,0,5,8,0,0,1,14,0),Yo(0,3,5,-1,0,6,10,0,0,1,18,0),Yo(0,4,5,-2,0,7,10,1,0,2,16,1),Yo(0,5,5,-3,0,8,10,1,0,3,14,2),Yo(0,5,6,-3,0,9,12,1,0,3,16,2),Yo(0,6,6,-3,0,10,14,1,0,4,18,3),Yo(0,6,7,-4,0,11,15,1,0,4,20,3),Yo(0,7,8,-4,0,12,17,2,0,5,22,4),Yo(0,7,8,-4,0,13,19,2,0,5,24,4),Yo(0,7,9,-4,0,14,21,2,0,5,26,4),Yo(0,8,9,-5,0,15,22,2,0,6,28,5),Yo(0,8,10,-5,0,16,24,2,0,6,30,5),Yo(0,8,11,-5,0,17,26,2,0,6,32,5),Yo(0,9,11,-5,0,18,28,2,0,7,34,6),Yo(0,9,12,-6,0,19,29,2,0,7,36,6),Yo(0,10,13,-6,0,20,31,3,0,8,38,7),Yo(0,10,13,-6,0,21,33,3,0,8,40,7),Yo(0,10,14,-6,0,22,35,3,0,8,42,7),Yo(0,11,14,-7,0,23,36,3,0,9,44,8),Yo(0,11,15,-7,0,24,38,3,0,9,46,8)],bX=xX,wX=["duration","easing","delay"],CX={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},SX={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Bz(e){return`${Math.round(e)}ms`}function TX(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function EX(e){const t=$({},CX,e.easing),n=$({},SX,e.duration);return $({getAutoHeightDuration:TX,create:(i=["all"],c={})=>{const{duration:d=n.standard,easing:s=t.easeInOut,delay:m=0}=c;return mt(c,wX),(Array.isArray(i)?i:[i]).map(_=>`${_} ${typeof d=="string"?d:Bz(d)} ${s} ${typeof m=="string"?m:Bz(m)}`).join(",")}},e,{easing:t,duration:n})}const PX={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kX=PX,IX=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function BM(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:c={}}=e,d=mt(e,IX);if(e.vars)throw new Error(ad(18));const s=fX(r),m=ZC(e);let _=la(m,{mixins:iX(m.breakpoints,n),palette:s,shadows:bX.slice(),typography:gX(s,c),transitions:EX(i),zIndex:$({},kX)});return _=la(_,d),_=t.reduce((w,E)=>la(w,E),_),_.unstable_sxConfig=$({},WC,d==null?void 0:d.unstable_sxConfig),_.unstable_sx=function(E){return qC({sx:E,theme:this})},_}function Nz(e){return String(parseFloat(e)).length===String(e).length}function VN(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function ah(e){return parseFloat(e)}function MX(e){return(t,n)=>{const r=VN(t);if(r===n)return t;let i=ah(t);r!=="px"&&(r==="em"||r==="rem")&&(i=ah(t)*ah(e));let c=i;if(n!=="px")if(n==="em")c=i/ah(e);else if(n==="rem")c=i/ah(e);else return t;return parseFloat(c.toFixed(5))+n}}function AX({size:e,grid:t}){const n=e-e%t,r=n+t;return e-n<r-e?n:r}function RX({lineHeight:e,pixels:t,htmlFontSize:n}){return t/(e*n)}function OX({cssProperty:e,min:t,max:n,unit:r="rem",breakpoints:i=[600,900,1200],transform:c=null}){const d={[e]:`${t}${r}`},s=(n-t)/i[i.length-1];return i.forEach(m=>{let _=t+s*m;c!==null&&(_=c(_)),d[`@media (min-width:${m}px)`]={[e]:`${Math.round(_*1e4)/1e4}${r}`}}),d}function DX(e,t={}){const{breakpoints:n=["sm","md","lg"],disableAlign:r=!1,factor:i=2,variants:c=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]}=t,d=$({},e);d.typography=$({},d.typography);const s=d.typography,m=MX(s.htmlFontSize),_=n.map(w=>d.breakpoints.values[w]);return c.forEach(w=>{const E=s[w],k=parseFloat(m(E.fontSize,"rem"));if(k<=1)return;const O=k,R=1+(O-1)/i;let{lineHeight:L}=E;if(!Nz(L)&&!r)throw new Error(ad(6));Nz(L)||(L=parseFloat(m(L,"rem"))/parseFloat(k));let U=null;r||(U=F=>AX({size:F,grid:RX({pixels:4,lineHeight:L,htmlFontSize:s.htmlFontSize})})),s[w]=$({},E,OX({cssProperty:"fontSize",min:R,max:O,unit:"rem",breakpoints:_,transform:U}))}),d}const LX=BM(),KC=LX;function Cl(){const e=X_(KC);return e[q_]||e}function Xn({props:e,name:t}){return $N({props:e,name:t,defaultTheme:KC,themeId:q_})}const Sl=e=>j0(e)&&e!=="classes",zX=j0,FX=jN({themeId:q_,defaultTheme:KC,rootShouldForwardProp:Sl}),Et=FX,jX=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},Uz=jX;function oy(e){return typeof e=="string"}function w0(e,t,n){return e===void 0||oy(e)?t:$({},t,{ownerState:$({},t.ownerState,n)})}const $X={disableDefaultClasses:!1},BX=P.createContext($X);function HN(e){const{disableDefaultClasses:t}=P.useContext(BX);return n=>t?"":e(n)}function NX(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function ok(e,t,n){return typeof e=="function"?e(t,n):e}function Vz(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function UX(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:c}=e;if(!t){const O=$t(i==null?void 0:i.className,r==null?void 0:r.className,c,n==null?void 0:n.className),R=$({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),L=$({},n,i,r);return O.length>0&&(L.className=O),Object.keys(R).length>0&&(L.style=R),{props:L,internalRef:void 0}}const d=NX($({},i,r)),s=Vz(r),m=Vz(i),_=t(d),w=$t(_==null?void 0:_.className,n==null?void 0:n.className,c,i==null?void 0:i.className,r==null?void 0:r.className),E=$({},_==null?void 0:_.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),k=$({},_,n,m,s);return w.length>0&&(k.className=w),Object.keys(E).length>0&&(k.style=E),{props:k,internalRef:_.ref}}const VX=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Wh(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:c=!1}=e,d=mt(e,VX),s=c?{}:ok(r,i),{props:m,internalRef:_}=UX($({},d,{externalSlotProps:s})),w=fo(_,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return w0(n,$({},m,{ref:w}),i)}function HX(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:i=!1}=e,c=SM({badgeContent:t,max:r});let d=n;n===!1&&t===0&&!i&&(d=!0);const{badgeContent:s,max:m=r}=d?c:e,_=s&&Number(s)>m?`${m}+`:s;return{badgeContent:s,invisible:d,max:m,displayValue:_}}function Hz(e){return e.substring(2).toLowerCase()}function GX(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function GN(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:c="onTouchEnd"}=e,d=P.useRef(!1),s=P.useRef(null),m=P.useRef(!1),_=P.useRef(!1);P.useEffect(()=>(setTimeout(()=>{m.current=!0},0),()=>{m.current=!1}),[]);const w=fo(t.ref,s),E=Pi(R=>{const L=_.current;_.current=!1;const U=wi(s.current);if(!m.current||!s.current||"clientX"in R&&GX(R,U))return;if(d.current){d.current=!1;return}let F;R.composedPath?F=R.composedPath().indexOf(s.current)>-1:F=!U.documentElement.contains(R.target)||s.current.contains(R.target),!F&&(n||!L)&&i(R)}),k=R=>L=>{_.current=!0;const U=t.props[R];U&&U(L)},O={ref:w};return c!==!1&&(O[c]=k(c)),P.useEffect(()=>{if(c!==!1){const R=Hz(c),L=wi(s.current),U=()=>{d.current=!0};return L.addEventListener(R,E),L.addEventListener("touchmove",U),()=>{L.removeEventListener(R,E),L.removeEventListener("touchmove",U)}}},[E,c]),r!==!1&&(O[r]=k(r)),P.useEffect(()=>{if(r!==!1){const R=Hz(r),L=wi(s.current);return L.addEventListener(R,E),()=>{L.removeEventListener(R,E)}}},[E,r]),T.jsx(P.Fragment,{children:P.cloneElement(t,O)})}const WX=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function qX(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function ZX(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function YX(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||ZX(e))}function KX(e){const t=[],n=[];return Array.from(e.querySelectorAll(WX)).forEach((r,i)=>{const c=qX(r);c===-1||!YX(r)||(c===0?t.push(r):n.push({documentOrder:i,tabIndex:c,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function XX(){return!0}function WN(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:c=KX,isEnabled:d=XX,open:s}=e,m=P.useRef(!1),_=P.useRef(null),w=P.useRef(null),E=P.useRef(null),k=P.useRef(null),O=P.useRef(!1),R=P.useRef(null),L=fo(t.ref,R),U=P.useRef(null);P.useEffect(()=>{!s||!R.current||(O.current=!n)},[n,s]),P.useEffect(()=>{if(!s||!R.current)return;const B=wi(R.current);return R.current.contains(B.activeElement)||(R.current.hasAttribute("tabIndex")||R.current.setAttribute("tabIndex","-1"),O.current&&R.current.focus()),()=>{i||(E.current&&E.current.focus&&(m.current=!0,E.current.focus()),E.current=null)}},[s]),P.useEffect(()=>{if(!s||!R.current)return;const B=wi(R.current),Z=W=>{const{current:ne}=R;if(ne!==null){if(!B.hasFocus()||r||!d()||m.current){m.current=!1;return}if(!ne.contains(B.activeElement)){if(W&&k.current!==W.target||B.activeElement!==k.current)k.current=null;else if(k.current!==null)return;if(!O.current)return;let se=[];if((B.activeElement===_.current||B.activeElement===w.current)&&(se=c(R.current)),se.length>0){var J,re;const de=!!((J=U.current)!=null&&J.shiftKey&&((re=U.current)==null?void 0:re.key)==="Tab"),pe=se[0],ae=se[se.length-1];typeof pe!="string"&&typeof ae!="string"&&(de?ae.focus():pe.focus())}else ne.focus()}}},ee=W=>{U.current=W,!(r||!d()||W.key!=="Tab")&&B.activeElement===R.current&&W.shiftKey&&(m.current=!0,w.current&&w.current.focus())};B.addEventListener("focusin",Z),B.addEventListener("keydown",ee,!0);const X=setInterval(()=>{B.activeElement&&B.activeElement.tagName==="BODY"&&Z(null)},50);return()=>{clearInterval(X),B.removeEventListener("focusin",Z),B.removeEventListener("keydown",ee,!0)}},[n,r,i,d,s,c]);const F=B=>{E.current===null&&(E.current=B.relatedTarget),O.current=!0,k.current=B.target;const Z=t.props.onFocus;Z&&Z(B)},z=B=>{E.current===null&&(E.current=B.relatedTarget),O.current=!0};return T.jsxs(P.Fragment,{children:[T.jsx("div",{tabIndex:s?0:-1,onFocus:z,ref:_,"data-testid":"sentinelStart"}),P.cloneElement(t,{ref:L,onFocus:F}),T.jsx("div",{tabIndex:s?0:-1,onFocus:z,ref:w,"data-testid":"sentinelEnd"})]})}var ca="top",xl="bottom",bl="right",ua="left",NM="auto",ex=[ca,xl,bl,ua],iy="start",x_="end",JX="clippingParents",qN="viewport",n0="popper",QX="reference",Gz=ex.reduce(function(e,t){return e.concat([t+"-"+iy,t+"-"+x_])},[]),ZN=[].concat(ex,[NM]).reduce(function(e,t){return e.concat([t,t+"-"+iy,t+"-"+x_])},[]),eJ="beforeRead",tJ="read",nJ="afterRead",rJ="beforeMain",oJ="main",iJ="afterMain",sJ="beforeWrite",aJ="write",lJ="afterWrite",cJ=[eJ,tJ,nJ,rJ,oJ,iJ,sJ,aJ,lJ];function nu(e){return e?(e.nodeName||"").toLowerCase():null}function Na(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Op(e){var t=Na(e).Element;return e instanceof t||e instanceof Element}function ml(e){var t=Na(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function UM(e){if(typeof ShadowRoot>"u")return!1;var t=Na(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function uJ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},c=t.elements[n];!ml(c)||!nu(c)||(Object.assign(c.style,r),Object.keys(i).forEach(function(d){var s=i[d];s===!1?c.removeAttribute(d):c.setAttribute(d,s===!0?"":s)}))})}function dJ(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],c=t.attributes[r]||{},d=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=d.reduce(function(m,_){return m[_]="",m},{});!ml(i)||!nu(i)||(Object.assign(i.style,s),Object.keys(c).forEach(function(m){i.removeAttribute(m)}))})}}const hJ={name:"applyStyles",enabled:!0,phase:"write",fn:uJ,effect:dJ,requires:["computeStyles"]};function Jc(e){return e.split("-")[0]}var yp=Math.max,dw=Math.min,sy=Math.round;function ik(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function YN(){return!/^((?!chrome|android).)*safari/i.test(ik())}function ay(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,c=1;t&&ml(e)&&(i=e.offsetWidth>0&&sy(r.width)/e.offsetWidth||1,c=e.offsetHeight>0&&sy(r.height)/e.offsetHeight||1);var d=Op(e)?Na(e):window,s=d.visualViewport,m=!YN()&&n,_=(r.left+(m&&s?s.offsetLeft:0))/i,w=(r.top+(m&&s?s.offsetTop:0))/c,E=r.width/i,k=r.height/c;return{width:E,height:k,top:w,right:_+E,bottom:w+k,left:_,x:_,y:w}}function VM(e){var t=ay(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function KN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&UM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ld(e){return Na(e).getComputedStyle(e)}function fJ(e){return["table","td","th"].indexOf(nu(e))>=0}function tf(e){return((Op(e)?e.ownerDocument:e.document)||window.document).documentElement}function XC(e){return nu(e)==="html"?e:e.assignedSlot||e.parentNode||(UM(e)?e.host:null)||tf(e)}function Wz(e){return!ml(e)||ld(e).position==="fixed"?null:e.offsetParent}function pJ(e){var t=/firefox/i.test(ik()),n=/Trident/i.test(ik());if(n&&ml(e)){var r=ld(e);if(r.position==="fixed")return null}var i=XC(e);for(UM(i)&&(i=i.host);ml(i)&&["html","body"].indexOf(nu(i))<0;){var c=ld(i);if(c.transform!=="none"||c.perspective!=="none"||c.contain==="paint"||["transform","perspective"].indexOf(c.willChange)!==-1||t&&c.willChange==="filter"||t&&c.filter&&c.filter!=="none")return i;i=i.parentNode}return null}function tx(e){for(var t=Na(e),n=Wz(e);n&&fJ(n)&&ld(n).position==="static";)n=Wz(n);return n&&(nu(n)==="html"||nu(n)==="body"&&ld(n).position==="static")?t:n||pJ(e)||t}function HM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $0(e,t,n){return yp(e,dw(t,n))}function mJ(e,t,n){var r=$0(e,t,n);return r>n?n:r}function XN(){return{top:0,right:0,bottom:0,left:0}}function JN(e){return Object.assign({},XN(),e)}function QN(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var gJ=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,JN(typeof t!="number"?t:QN(t,ex))};function yJ(e){var t,n=e.state,r=e.name,i=e.options,c=n.elements.arrow,d=n.modifiersData.popperOffsets,s=Jc(n.placement),m=HM(s),_=[ua,bl].indexOf(s)>=0,w=_?"height":"width";if(!(!c||!d)){var E=gJ(i.padding,n),k=VM(c),O=m==="y"?ca:ua,R=m==="y"?xl:bl,L=n.rects.reference[w]+n.rects.reference[m]-d[m]-n.rects.popper[w],U=d[m]-n.rects.reference[m],F=tx(c),z=F?m==="y"?F.clientHeight||0:F.clientWidth||0:0,B=L/2-U/2,Z=E[O],ee=z-k[w]-E[R],X=z/2-k[w]/2+B,W=$0(Z,X,ee),ne=m;n.modifiersData[r]=(t={},t[ne]=W,t.centerOffset=W-X,t)}}function vJ(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||KN(t.elements.popper,i)&&(t.elements.arrow=i))}const _J={name:"arrow",enabled:!0,phase:"main",fn:yJ,effect:vJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ly(e){return e.split("-")[1]}var xJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bJ(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:sy(n*i)/i||0,y:sy(r*i)/i||0}}function qz(e){var t,n=e.popper,r=e.popperRect,i=e.placement,c=e.variation,d=e.offsets,s=e.position,m=e.gpuAcceleration,_=e.adaptive,w=e.roundOffsets,E=e.isFixed,k=d.x,O=k===void 0?0:k,R=d.y,L=R===void 0?0:R,U=typeof w=="function"?w({x:O,y:L}):{x:O,y:L};O=U.x,L=U.y;var F=d.hasOwnProperty("x"),z=d.hasOwnProperty("y"),B=ua,Z=ca,ee=window;if(_){var X=tx(n),W="clientHeight",ne="clientWidth";if(X===Na(n)&&(X=tf(n),ld(X).position!=="static"&&s==="absolute"&&(W="scrollHeight",ne="scrollWidth")),X=X,i===ca||(i===ua||i===bl)&&c===x_){Z=xl;var J=E&&X===ee&&ee.visualViewport?ee.visualViewport.height:X[W];L-=J-r.height,L*=m?1:-1}if(i===ua||(i===ca||i===xl)&&c===x_){B=bl;var re=E&&X===ee&&ee.visualViewport?ee.visualViewport.width:X[ne];O-=re-r.width,O*=m?1:-1}}var se=Object.assign({position:s},_&&xJ),de=w===!0?bJ({x:O,y:L},Na(n)):{x:O,y:L};if(O=de.x,L=de.y,m){var pe;return Object.assign({},se,(pe={},pe[Z]=z?"0":"",pe[B]=F?"0":"",pe.transform=(ee.devicePixelRatio||1)<=1?"translate("+O+"px, "+L+"px)":"translate3d("+O+"px, "+L+"px, 0)",pe))}return Object.assign({},se,(t={},t[Z]=z?L+"px":"",t[B]=F?O+"px":"",t.transform="",t))}function wJ(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,c=n.adaptive,d=c===void 0?!0:c,s=n.roundOffsets,m=s===void 0?!0:s,_={placement:Jc(t.placement),variation:ly(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,qz(Object.assign({},_,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:m})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,qz(Object.assign({},_,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:m})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const CJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wJ,data:{}};var jb={passive:!0};function SJ(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,c=i===void 0?!0:i,d=r.resize,s=d===void 0?!0:d,m=Na(t.elements.popper),_=[].concat(t.scrollParents.reference,t.scrollParents.popper);return c&&_.forEach(function(w){w.addEventListener("scroll",n.update,jb)}),s&&m.addEventListener("resize",n.update,jb),function(){c&&_.forEach(function(w){w.removeEventListener("scroll",n.update,jb)}),s&&m.removeEventListener("resize",n.update,jb)}}const TJ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:SJ,data:{}};var EJ={left:"right",right:"left",bottom:"top",top:"bottom"};function v1(e){return e.replace(/left|right|bottom|top/g,function(t){return EJ[t]})}var PJ={start:"end",end:"start"};function Zz(e){return e.replace(/start|end/g,function(t){return PJ[t]})}function GM(e){var t=Na(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function WM(e){return ay(tf(e)).left+GM(e).scrollLeft}function kJ(e,t){var n=Na(e),r=tf(e),i=n.visualViewport,c=r.clientWidth,d=r.clientHeight,s=0,m=0;if(i){c=i.width,d=i.height;var _=YN();(_||!_&&t==="fixed")&&(s=i.offsetLeft,m=i.offsetTop)}return{width:c,height:d,x:s+WM(e),y:m}}function IJ(e){var t,n=tf(e),r=GM(e),i=(t=e.ownerDocument)==null?void 0:t.body,c=yp(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),d=yp(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+WM(e),m=-r.scrollTop;return ld(i||n).direction==="rtl"&&(s+=yp(n.clientWidth,i?i.clientWidth:0)-c),{width:c,height:d,x:s,y:m}}function qM(e){var t=ld(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function e4(e){return["html","body","#document"].indexOf(nu(e))>=0?e.ownerDocument.body:ml(e)&&qM(e)?e:e4(XC(e))}function B0(e,t){var n;t===void 0&&(t=[]);var r=e4(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),c=Na(r),d=i?[c].concat(c.visualViewport||[],qM(r)?r:[]):r,s=t.concat(d);return i?s:s.concat(B0(XC(d)))}function sk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function MJ(e,t){var n=ay(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Yz(e,t,n){return t===qN?sk(kJ(e,n)):Op(t)?MJ(t,n):sk(IJ(tf(e)))}function AJ(e){var t=B0(XC(e)),n=["absolute","fixed"].indexOf(ld(e).position)>=0,r=n&&ml(e)?tx(e):e;return Op(r)?t.filter(function(i){return Op(i)&&KN(i,r)&&nu(i)!=="body"}):[]}function RJ(e,t,n,r){var i=t==="clippingParents"?AJ(e):[].concat(t),c=[].concat(i,[n]),d=c[0],s=c.reduce(function(m,_){var w=Yz(e,_,r);return m.top=yp(w.top,m.top),m.right=dw(w.right,m.right),m.bottom=dw(w.bottom,m.bottom),m.left=yp(w.left,m.left),m},Yz(e,d,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function t4(e){var t=e.reference,n=e.element,r=e.placement,i=r?Jc(r):null,c=r?ly(r):null,d=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,m;switch(i){case ca:m={x:d,y:t.y-n.height};break;case xl:m={x:d,y:t.y+t.height};break;case bl:m={x:t.x+t.width,y:s};break;case ua:m={x:t.x-n.width,y:s};break;default:m={x:t.x,y:t.y}}var _=i?HM(i):null;if(_!=null){var w=_==="y"?"height":"width";switch(c){case iy:m[_]=m[_]-(t[w]/2-n[w]/2);break;case x_:m[_]=m[_]+(t[w]/2-n[w]/2);break}}return m}function b_(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,c=n.strategy,d=c===void 0?e.strategy:c,s=n.boundary,m=s===void 0?JX:s,_=n.rootBoundary,w=_===void 0?qN:_,E=n.elementContext,k=E===void 0?n0:E,O=n.altBoundary,R=O===void 0?!1:O,L=n.padding,U=L===void 0?0:L,F=JN(typeof U!="number"?U:QN(U,ex)),z=k===n0?QX:n0,B=e.rects.popper,Z=e.elements[R?z:k],ee=RJ(Op(Z)?Z:Z.contextElement||tf(e.elements.popper),m,w,d),X=ay(e.elements.reference),W=t4({reference:X,element:B,strategy:"absolute",placement:i}),ne=sk(Object.assign({},B,W)),J=k===n0?ne:X,re={top:ee.top-J.top+F.top,bottom:J.bottom-ee.bottom+F.bottom,left:ee.left-J.left+F.left,right:J.right-ee.right+F.right},se=e.modifiersData.offset;if(k===n0&&se){var de=se[i];Object.keys(re).forEach(function(pe){var ae=[bl,xl].indexOf(pe)>=0?1:-1,oe=[ca,xl].indexOf(pe)>=0?"y":"x";re[pe]+=de[oe]*ae})}return re}function OJ(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,c=n.rootBoundary,d=n.padding,s=n.flipVariations,m=n.allowedAutoPlacements,_=m===void 0?ZN:m,w=ly(r),E=w?s?Gz:Gz.filter(function(R){return ly(R)===w}):ex,k=E.filter(function(R){return _.indexOf(R)>=0});k.length===0&&(k=E);var O=k.reduce(function(R,L){return R[L]=b_(e,{placement:L,boundary:i,rootBoundary:c,padding:d})[Jc(L)],R},{});return Object.keys(O).sort(function(R,L){return O[R]-O[L]})}function DJ(e){if(Jc(e)===NM)return[];var t=v1(e);return[Zz(e),t,Zz(t)]}function LJ(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,c=i===void 0?!0:i,d=n.altAxis,s=d===void 0?!0:d,m=n.fallbackPlacements,_=n.padding,w=n.boundary,E=n.rootBoundary,k=n.altBoundary,O=n.flipVariations,R=O===void 0?!0:O,L=n.allowedAutoPlacements,U=t.options.placement,F=Jc(U),z=F===U,B=m||(z||!R?[v1(U)]:DJ(U)),Z=[U].concat(B).reduce(function(gt,vt){return gt.concat(Jc(vt)===NM?OJ(t,{placement:vt,boundary:w,rootBoundary:E,padding:_,flipVariations:R,allowedAutoPlacements:L}):vt)},[]),ee=t.rects.reference,X=t.rects.popper,W=new Map,ne=!0,J=Z[0],re=0;re<Z.length;re++){var se=Z[re],de=Jc(se),pe=ly(se)===iy,ae=[ca,xl].indexOf(de)>=0,oe=ae?"width":"height",me=b_(t,{placement:se,boundary:w,rootBoundary:E,altBoundary:k,padding:_}),xe=ae?pe?bl:ua:pe?xl:ca;ee[oe]>X[oe]&&(xe=v1(xe));var ce=v1(xe),ge=[];if(c&&ge.push(me[de]<=0),s&&ge.push(me[xe]<=0,me[ce]<=0),ge.every(function(gt){return gt})){J=se,ne=!1;break}W.set(se,ge)}if(ne)for(var Te=R?3:1,Ue=function(vt){var jt=Z.find(function(Rt){var pn=W.get(Rt);if(pn)return pn.slice(0,vt).every(function(Ut){return Ut})});if(jt)return J=jt,"break"},We=Te;We>0;We--){var Ye=Ue(We);if(Ye==="break")break}t.placement!==J&&(t.modifiersData[r]._skip=!0,t.placement=J,t.reset=!0)}}const zJ={name:"flip",enabled:!0,phase:"main",fn:LJ,requiresIfExists:["offset"],data:{_skip:!1}};function Kz(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Xz(e){return[ca,bl,xl,ua].some(function(t){return e[t]>=0})}function FJ(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,c=t.modifiersData.preventOverflow,d=b_(t,{elementContext:"reference"}),s=b_(t,{altBoundary:!0}),m=Kz(d,r),_=Kz(s,i,c),w=Xz(m),E=Xz(_);t.modifiersData[n]={referenceClippingOffsets:m,popperEscapeOffsets:_,isReferenceHidden:w,hasPopperEscaped:E},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":w,"data-popper-escaped":E})}const jJ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FJ};function $J(e,t,n){var r=Jc(e),i=[ua,ca].indexOf(r)>=0?-1:1,c=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,d=c[0],s=c[1];return d=d||0,s=(s||0)*i,[ua,bl].indexOf(r)>=0?{x:s,y:d}:{x:d,y:s}}function BJ(e){var t=e.state,n=e.options,r=e.name,i=n.offset,c=i===void 0?[0,0]:i,d=ZN.reduce(function(w,E){return w[E]=$J(E,t.rects,c),w},{}),s=d[t.placement],m=s.x,_=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=m,t.modifiersData.popperOffsets.y+=_),t.modifiersData[r]=d}const NJ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:BJ};function UJ(e){var t=e.state,n=e.name;t.modifiersData[n]=t4({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const VJ={name:"popperOffsets",enabled:!0,phase:"read",fn:UJ,data:{}};function HJ(e){return e==="x"?"y":"x"}function GJ(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,c=i===void 0?!0:i,d=n.altAxis,s=d===void 0?!1:d,m=n.boundary,_=n.rootBoundary,w=n.altBoundary,E=n.padding,k=n.tether,O=k===void 0?!0:k,R=n.tetherOffset,L=R===void 0?0:R,U=b_(t,{boundary:m,rootBoundary:_,padding:E,altBoundary:w}),F=Jc(t.placement),z=ly(t.placement),B=!z,Z=HM(F),ee=HJ(Z),X=t.modifiersData.popperOffsets,W=t.rects.reference,ne=t.rects.popper,J=typeof L=="function"?L(Object.assign({},t.rects,{placement:t.placement})):L,re=typeof J=="number"?{mainAxis:J,altAxis:J}:Object.assign({mainAxis:0,altAxis:0},J),se=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,de={x:0,y:0};if(X){if(c){var pe,ae=Z==="y"?ca:ua,oe=Z==="y"?xl:bl,me=Z==="y"?"height":"width",xe=X[Z],ce=xe+U[ae],ge=xe-U[oe],Te=O?-ne[me]/2:0,Ue=z===iy?W[me]:ne[me],We=z===iy?-ne[me]:-W[me],Ye=t.elements.arrow,gt=O&&Ye?VM(Ye):{width:0,height:0},vt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:XN(),jt=vt[ae],Rt=vt[oe],pn=$0(0,W[me],gt[me]),Ut=B?W[me]/2-Te-pn-jt-re.mainAxis:Ue-pn-jt-re.mainAxis,rn=B?-W[me]/2+Te+pn+Rt+re.mainAxis:We+pn+Rt+re.mainAxis,et=t.elements.arrow&&tx(t.elements.arrow),Pt=et?Z==="y"?et.clientTop||0:et.clientLeft||0:0,Ot=(pe=se==null?void 0:se[Z])!=null?pe:0,Yt=xe+Ut-Ot-Pt,st=xe+rn-Ot,Ct=$0(O?dw(ce,Yt):ce,xe,O?yp(ge,st):ge);X[Z]=Ct,de[Z]=Ct-xe}if(s){var ht,en=Z==="x"?ca:ua,Kt=Z==="x"?xl:bl,vn=X[ee],wn=ee==="y"?"height":"width",Ve=vn+U[en],ft=vn-U[Kt],Dt=[ca,ua].indexOf(F)!==-1,Qt=(ht=se==null?void 0:se[ee])!=null?ht:0,yn=Dt?Ve:vn-W[wn]-ne[wn]-Qt+re.altAxis,on=Dt?vn+W[wn]+ne[wn]-Qt-re.altAxis:ft,un=O&&Dt?mJ(yn,vn,on):$0(O?yn:Ve,vn,O?on:ft);X[ee]=un,de[ee]=un-vn}t.modifiersData[r]=de}}const WJ={name:"preventOverflow",enabled:!0,phase:"main",fn:GJ,requiresIfExists:["offset"]};function qJ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ZJ(e){return e===Na(e)||!ml(e)?GM(e):qJ(e)}function YJ(e){var t=e.getBoundingClientRect(),n=sy(t.width)/e.offsetWidth||1,r=sy(t.height)/e.offsetHeight||1;return n!==1||r!==1}function KJ(e,t,n){n===void 0&&(n=!1);var r=ml(t),i=ml(t)&&YJ(t),c=tf(t),d=ay(e,i,n),s={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(r||!r&&!n)&&((nu(t)!=="body"||qM(c))&&(s=ZJ(t)),ml(t)?(m=ay(t,!0),m.x+=t.clientLeft,m.y+=t.clientTop):c&&(m.x=WM(c))),{x:d.left+s.scrollLeft-m.x,y:d.top+s.scrollTop-m.y,width:d.width,height:d.height}}function XJ(e){var t=new Map,n=new Set,r=[];e.forEach(function(c){t.set(c.name,c)});function i(c){n.add(c.name);var d=[].concat(c.requires||[],c.requiresIfExists||[]);d.forEach(function(s){if(!n.has(s)){var m=t.get(s);m&&i(m)}}),r.push(c)}return e.forEach(function(c){n.has(c.name)||i(c)}),r}function JJ(e){var t=XJ(e);return cJ.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function QJ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function eQ(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var Jz={placement:"bottom",modifiers:[],strategy:"absolute"};function Qz(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function tQ(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,c=i===void 0?Jz:i;return function(s,m,_){_===void 0&&(_=c);var w={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jz,c),modifiersData:{},elements:{reference:s,popper:m},attributes:{},styles:{}},E=[],k=!1,O={state:w,setOptions:function(F){var z=typeof F=="function"?F(w.options):F;L(),w.options=Object.assign({},c,w.options,z),w.scrollParents={reference:Op(s)?B0(s):s.contextElement?B0(s.contextElement):[],popper:B0(m)};var B=JJ(eQ([].concat(r,w.options.modifiers)));return w.orderedModifiers=B.filter(function(Z){return Z.enabled}),R(),O.update()},forceUpdate:function(){if(!k){var F=w.elements,z=F.reference,B=F.popper;if(Qz(z,B)){w.rects={reference:KJ(z,tx(B),w.options.strategy==="fixed"),popper:VM(B)},w.reset=!1,w.placement=w.options.placement,w.orderedModifiers.forEach(function(re){return w.modifiersData[re.name]=Object.assign({},re.data)});for(var Z=0;Z<w.orderedModifiers.length;Z++){if(w.reset===!0){w.reset=!1,Z=-1;continue}var ee=w.orderedModifiers[Z],X=ee.fn,W=ee.options,ne=W===void 0?{}:W,J=ee.name;typeof X=="function"&&(w=X({state:w,options:ne,name:J,instance:O})||w)}}}},update:QJ(function(){return new Promise(function(U){O.forceUpdate(),U(w)})}),destroy:function(){L(),k=!0}};if(!Qz(s,m))return O;O.setOptions(_).then(function(U){!k&&_.onFirstUpdate&&_.onFirstUpdate(U)});function R(){w.orderedModifiers.forEach(function(U){var F=U.name,z=U.options,B=z===void 0?{}:z,Z=U.effect;if(typeof Z=="function"){var ee=Z({state:w,name:F,instance:O,options:B}),X=function(){};E.push(ee||X)}})}function L(){E.forEach(function(U){return U()}),E=[]}return O}}var nQ=[TJ,VJ,CJ,hJ,NJ,zJ,WJ,_J,jJ],rQ=tQ({defaultModifiers:nQ});function oQ(e){return typeof e=="function"?e():e}const iQ=P.forwardRef(function(t,n){const{children:r,container:i,disablePortal:c=!1}=t,[d,s]=P.useState(null),m=fo(P.isValidElement(r)?r.ref:null,n);if(fi(()=>{c||s(oQ(i)||document.body)},[i,c]),fi(()=>{if(d&&!c)return lw(n,d),()=>{lw(n,null)}},[n,d,c]),c){if(P.isValidElement(r)){const _={ref:m};return P.cloneElement(r,_)}return T.jsx(P.Fragment,{children:r})}return T.jsx(P.Fragment,{children:d&&ef.createPortal(r,d)})}),n4=iQ;function sQ(e){return qn("MuiPopper",e)}Zn("MuiPopper",["root"]);const aQ=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],lQ=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function cQ(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function ak(e){return typeof e=="function"?e():e}function uQ(e){return e.nodeType!==void 0}const dQ=()=>hn({root:["root"]},HN(sQ)),hQ={},fQ=P.forwardRef(function(t,n){var r;const{anchorEl:i,children:c,direction:d,disablePortal:s,modifiers:m,open:_,placement:w,popperOptions:E,popperRef:k,slotProps:O={},slots:R={},TransitionProps:L}=t,U=mt(t,aQ),F=P.useRef(null),z=fo(F,n),B=P.useRef(null),Z=fo(B,k),ee=P.useRef(Z);fi(()=>{ee.current=Z},[Z]),P.useImperativeHandle(k,()=>B.current,[]);const X=cQ(w,d),[W,ne]=P.useState(X),[J,re]=P.useState(ak(i));P.useEffect(()=>{B.current&&B.current.forceUpdate()}),P.useEffect(()=>{i&&re(ak(i))},[i]),fi(()=>{if(!J||!_)return;const oe=ce=>{ne(ce.placement)};let me=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ce})=>{oe(ce)}}];m!=null&&(me=me.concat(m)),E&&E.modifiers!=null&&(me=me.concat(E.modifiers));const xe=rQ(J,F.current,$({placement:X},E,{modifiers:me}));return ee.current(xe),()=>{xe.destroy(),ee.current(null)}},[J,s,m,_,E,X]);const se={placement:W};L!==null&&(se.TransitionProps=L);const de=dQ(),pe=(r=R.root)!=null?r:"div",ae=Wh({elementType:pe,externalSlotProps:O.root,externalForwardedProps:U,additionalProps:{role:"tooltip",ref:z},ownerState:t,className:de.root});return T.jsx(pe,$({},ae,{children:typeof c=="function"?c(se):c}))}),pQ=P.forwardRef(function(t,n){const{anchorEl:r,children:i,container:c,direction:d="ltr",disablePortal:s=!1,keepMounted:m=!1,modifiers:_,open:w,placement:E="bottom",popperOptions:k=hQ,popperRef:O,style:R,transition:L=!1,slotProps:U={},slots:F={}}=t,z=mt(t,lQ),[B,Z]=P.useState(!0),ee=()=>{Z(!1)},X=()=>{Z(!0)};if(!m&&!w&&(!L||B))return null;let W;if(c)W=c;else if(r){const re=ak(r);W=re&&uQ(re)?wi(re).body:wi(null).body}const ne=!w&&m&&(!L||B)?"none":void 0,J=L?{in:w,onEnter:ee,onExited:X}:void 0;return T.jsx(n4,{disablePortal:s,container:W,children:T.jsx(fQ,$({anchorEl:r,direction:d,disablePortal:s,modifiers:_,ref:n,open:L?!B:w,placement:E,popperOptions:k,popperRef:O,slotProps:U,slots:F},z,{style:$({position:"fixed",top:0,left:0,display:ne},R),TransitionProps:J,children:i}))})}),mQ=pQ;function gQ(e){const t=wi(e);return t.body===e?tu(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function N0(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function eF(e){return parseInt(tu(e).getComputedStyle(e).paddingRight,10)||0}function yQ(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function tF(e,t,n,r,i){const c=[t,n,...r];[].forEach.call(e.children,d=>{const s=c.indexOf(d)===-1,m=!yQ(d);s&&m&&N0(d,i)})}function JT(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function vQ(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(gQ(r)){const d=dN(wi(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${eF(r)+d}px`;const s=wi(r).querySelectorAll(".mui-fixed");[].forEach.call(s,m=>{n.push({value:m.style.paddingRight,property:"padding-right",el:m}),m.style.paddingRight=`${eF(m)+d}px`})}let c;if(r.parentNode instanceof DocumentFragment)c=wi(r).body;else{const d=r.parentElement,s=tu(r);c=(d==null?void 0:d.nodeName)==="HTML"&&s.getComputedStyle(d).overflowY==="scroll"?d:r}n.push({value:c.style.overflow,property:"overflow",el:c},{value:c.style.overflowX,property:"overflow-x",el:c},{value:c.style.overflowY,property:"overflow-y",el:c}),c.style.overflow="hidden"}return()=>{n.forEach(({value:c,el:d,property:s})=>{c?d.style.setProperty(s,c):d.style.removeProperty(s)})}}function _Q(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class xQ{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&N0(t.modalRef,!1);const i=_Q(n);tF(n,t.mount,t.modalRef,i,!0);const c=JT(this.containers,d=>d.container===n);return c!==-1?(this.containers[c].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=JT(this.containers,c=>c.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=vQ(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=JT(this.containers,d=>d.modals.indexOf(t)!==-1),c=this.containers[i];if(c.modals.splice(c.modals.indexOf(t),1),this.modals.splice(r,1),c.modals.length===0)c.restore&&c.restore(),t.modalRef&&N0(t.modalRef,n),tF(c.container,t.mount,t.modalRef,c.hiddenSiblings,!1),this.containers.splice(i,1);else{const d=c.modals[c.modals.length-1];d.modalRef&&N0(d.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function bQ(e){return qn("MuiModal",e)}Zn("MuiModal",["root","hidden","backdrop"]);const wQ=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],CQ=e=>{const{open:t,exited:n}=e;return hn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},HN(bQ))};function SQ(e){return typeof e=="function"?e():e}function TQ(e){return e?e.props.hasOwnProperty("in"):!1}const EQ=new xQ,PQ=P.forwardRef(function(t,n){var r,i;const{children:c,closeAfterTransition:d=!1,container:s,disableAutoFocus:m=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:w=!1,disablePortal:E=!1,disableRestoreFocus:k=!1,disableScrollLock:O=!1,hideBackdrop:R=!1,keepMounted:L=!1,manager:U=EQ,onBackdropClick:F,onClose:z,onKeyDown:B,open:Z,onTransitionEnter:ee,onTransitionExited:X,slotProps:W={},slots:ne={}}=t,J=mt(t,wQ),re=U,[se,de]=P.useState(!Z),pe=P.useRef({}),ae=P.useRef(null),oe=P.useRef(null),me=fo(oe,n),xe=TQ(c),ce=(r=t["aria-hidden"])!=null?r:!0,ge=()=>wi(ae.current),Te=()=>(pe.current.modalRef=oe.current,pe.current.mountNode=ae.current,pe.current),Ue=()=>{re.mount(Te(),{disableScrollLock:O}),oe.current&&(oe.current.scrollTop=0)},We=Pi(()=>{const ht=SQ(s)||ge().body;re.add(Te(),ht),oe.current&&Ue()}),Ye=P.useCallback(()=>re.isTopModal(Te()),[re]),gt=Pi(ht=>{ae.current=ht,!(!ht||!oe.current)&&(Z&&Ye()?Ue():N0(oe.current,ce))}),vt=P.useCallback(()=>{re.remove(Te(),ce)},[re,ce]);P.useEffect(()=>()=>{vt()},[vt]),P.useEffect(()=>{Z?We():(!xe||!d)&&vt()},[Z,vt,xe,d,We]);const jt=$({},t,{closeAfterTransition:d,disableAutoFocus:m,disableEnforceFocus:_,disableEscapeKeyDown:w,disablePortal:E,disableRestoreFocus:k,disableScrollLock:O,exited:se,hideBackdrop:R,keepMounted:L}),Rt=CQ(jt),pn=()=>{de(!1),ee&&ee()},Ut=()=>{de(!0),X&&X(),d&&vt()},rn=ht=>{ht.target===ht.currentTarget&&(F&&F(ht),z&&z(ht,"backdropClick"))},et=ht=>{B&&B(ht),!(ht.key!=="Escape"||!Ye())&&(w||(ht.stopPropagation(),z&&z(ht,"escapeKeyDown")))},Pt={};c.props.tabIndex===void 0&&(Pt.tabIndex="-1"),xe&&(Pt.onEnter=JP(pn,c.props.onEnter),Pt.onExited=JP(Ut,c.props.onExited));const Ot=(i=ne.root)!=null?i:"div",Yt=Wh({elementType:Ot,externalSlotProps:W.root,externalForwardedProps:J,additionalProps:{ref:me,role:"presentation",onKeyDown:et},className:Rt.root,ownerState:jt}),st=ne.backdrop,Ct=Wh({elementType:st,externalSlotProps:W.backdrop,additionalProps:{"aria-hidden":!0,onClick:rn,open:Z},className:Rt.backdrop,ownerState:jt});return!L&&!Z&&(!xe||se)?null:T.jsx(n4,{ref:gt,container:s,disablePortal:E,children:T.jsxs(Ot,$({},Yt,{children:[!R&&st?T.jsx(st,$({},Ct)):null,T.jsx(WN,{disableEnforceFocus:_,disableAutoFocus:m,disableRestoreFocus:k,isEnabled:Ye,open:Z,children:P.cloneElement(c,Pt)})]}))})}),kQ=PQ,IQ=["onChange","maxRows","minRows","style","value"];function $b(e){return parseInt(e,10)||0}const MQ={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function nF(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const AQ=P.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:c=1,style:d,value:s}=t,m=mt(t,IQ),{current:_}=P.useRef(s!=null),w=P.useRef(null),E=fo(n,w),k=P.useRef(null),O=P.useRef(0),[R,L]=P.useState({outerHeightStyle:0}),U=P.useCallback(()=>{const ee=w.current,W=tu(ee).getComputedStyle(ee);if(W.width==="0px")return{outerHeightStyle:0};const ne=k.current;ne.style.width=W.width,ne.value=ee.value||t.placeholder||"x",ne.value.slice(-1)===`
`&&(ne.value+=" ");const J=W.boxSizing,re=$b(W.paddingBottom)+$b(W.paddingTop),se=$b(W.borderBottomWidth)+$b(W.borderTopWidth),de=ne.scrollHeight;ne.value="x";const pe=ne.scrollHeight;let ae=de;c&&(ae=Math.max(Number(c)*pe,ae)),i&&(ae=Math.min(Number(i)*pe,ae)),ae=Math.max(ae,pe);const oe=ae+(J==="border-box"?re+se:0),me=Math.abs(ae-de)<=1;return{outerHeightStyle:oe,overflow:me}},[i,c,t.placeholder]),F=(ee,X)=>{const{outerHeightStyle:W,overflow:ne}=X;return O.current<20&&(W>0&&Math.abs((ee.outerHeightStyle||0)-W)>1||ee.overflow!==ne)?(O.current+=1,{overflow:ne,outerHeightStyle:W}):ee},z=P.useCallback(()=>{const ee=U();nF(ee)||L(X=>F(X,ee))},[U]),B=()=>{const ee=U();nF(ee)||ef.flushSync(()=>{L(X=>F(X,ee))})};P.useEffect(()=>{const ee=W_(()=>{O.current=0,w.current&&B()});let X;const W=w.current,ne=tu(W);return ne.addEventListener("resize",ee),typeof ResizeObserver<"u"&&(X=new ResizeObserver(ee),X.observe(W)),()=>{ee.clear(),ne.removeEventListener("resize",ee),X&&X.disconnect()}}),fi(()=>{z()}),P.useEffect(()=>{O.current=0},[s]);const Z=ee=>{O.current=0,_||z(),r&&r(ee)};return T.jsxs(P.Fragment,{children:[T.jsx("textarea",$({value:s,onChange:Z,ref:E,rows:c,style:$({height:R.outerHeightStyle,overflow:R.overflow?"hidden":void 0},d)},m)),T.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:k,tabIndex:-1,style:$({},MQ.shadow,d,{paddingTop:0,paddingBottom:0})})]})}),RQ=AQ;function rF(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function r4(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:c,trim:d=!1}=e;return(s,{inputValue:m,getOptionLabel:_})=>{let w=d?m.trim():m;n&&(w=w.toLowerCase()),t&&(w=rF(w));const E=w?s.filter(k=>{let O=(c||_)(k);return n&&(O=O.toLowerCase()),t&&(O=rF(O)),i==="start"?O.indexOf(w)===0:O.indexOf(w)>-1}):s;return typeof r=="number"?E.slice(0,r):E}}function QT(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const OQ=r4(),oF=5,DQ=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function LQ(e){const{unstable_isActiveElementInListbox:t=DQ,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:c=!1,blurOnSelect:d=!1,clearOnBlur:s=!e.freeSolo,clearOnEscape:m=!1,componentName:_="useAutocomplete",defaultValue:w=e.multiple?[]:null,disableClearable:E=!1,disableCloseOnSelect:k=!1,disabled:O,disabledItemsFocusable:R=!1,disableListWrap:L=!1,filterOptions:U=OQ,filterSelectedOptions:F=!1,freeSolo:z=!1,getOptionDisabled:B,getOptionLabel:Z=ot=>{var dt;return(dt=ot.label)!=null?dt:ot},groupBy:ee,handleHomeEndKeys:X=!e.freeSolo,id:W,includeInputInList:ne=!1,inputValue:J,isOptionEqualToValue:re=(ot,dt)=>ot===dt,multiple:se=!1,onChange:de,onClose:pe,onHighlightChange:ae,onInputChange:oe,onOpen:me,open:xe,openOnFocus:ce=!1,options:ge,readOnly:Te=!1,selectOnFocus:Ue=!e.freeSolo,value:We}=e,Ye=Ao(W);let gt=Z;gt=ot=>{const dt=Z(ot);return typeof dt!="string"?String(dt):dt};const vt=P.useRef(!1),jt=P.useRef(!0),Rt=P.useRef(null),pn=P.useRef(null),[Ut,rn]=P.useState(null),[et,Pt]=P.useState(-1),Ot=i?0:-1,Yt=P.useRef(Ot),[st,Ct]=$h({controlled:We,default:w,name:_}),[ht,en]=$h({controlled:J,default:"",name:_,state:"inputValue"}),[Kt,vn]=P.useState(!1),wn=P.useCallback((ot,dt)=>{if(!(se?st.length<dt.length:dt!==null)&&!s)return;let Tn;if(se)Tn="";else if(dt==null)Tn="";else{const mr=gt(dt);Tn=typeof mr=="string"?mr:""}ht!==Tn&&(en(Tn),oe&&oe(ot,Tn,"reset"))},[gt,ht,se,oe,en,s,st]),[Ve,ft]=$h({controlled:xe,default:!1,name:_,state:"open"}),[Dt,Qt]=P.useState(!0),yn=!se&&st!=null&&ht===gt(st),on=Ve&&!Te,un=on?U(ge.filter(ot=>!(F&&(se?st:[st]).some(dt=>dt!==null&&re(ot,dt)))),{inputValue:yn&&Dt?"":ht,getOptionLabel:gt}):[],dn=SM({filteredOptions:un,value:st,inputValue:ht});P.useEffect(()=>{const ot=st!==dn.value;Kt&&!ot||z&&!ot||wn(null,st)},[st,wn,Kt,dn.value,z]);const sn=Ve&&un.length>0&&!Te,kn=Pi(ot=>{ot===-1?Rt.current.focus():Ut.querySelector(`[data-tag-index="${ot}"]`).focus()});P.useEffect(()=>{se&&et>st.length-1&&(Pt(-1),kn(-1))},[st,se,et,kn]);function Vn(ot,dt){if(!pn.current||ot===-1)return-1;let tn=ot;for(;;){if(dt==="next"&&tn===un.length||dt==="previous"&&tn===-1)return-1;const Tn=pn.current.querySelector(`[data-option-index="${tn}"]`),mr=R?!1:!Tn||Tn.disabled||Tn.getAttribute("aria-disabled")==="true";if(Tn&&!Tn.hasAttribute("tabindex")||mr)tn+=dt==="next"?1:-1;else return tn}}const ar=Pi(({event:ot,index:dt,reason:tn="auto"})=>{if(Yt.current=dt,dt===-1?Rt.current.removeAttribute("aria-activedescendant"):Rt.current.setAttribute("aria-activedescendant",`${Ye}-option-${dt}`),ae&&ae(ot,dt===-1?null:un[dt],tn),!pn.current)return;const Tn=pn.current.querySelector(`[role="option"].${n}-focused`);Tn&&(Tn.classList.remove(`${n}-focused`),Tn.classList.remove(`${n}-focusVisible`));let mr=pn.current;if(pn.current.getAttribute("role")!=="listbox"&&(mr=pn.current.parentElement.querySelector('[role="listbox"]')),!mr)return;if(dt===-1){mr.scrollTop=0;return}const kr=pn.current.querySelector(`[data-option-index="${dt}"]`);if(kr&&(kr.classList.add(`${n}-focused`),tn==="keyboard"&&kr.classList.add(`${n}-focusVisible`),mr.scrollHeight>mr.clientHeight&&tn!=="mouse")){const Co=kr,Jn=mr.clientHeight+mr.scrollTop,lr=Co.offsetTop+Co.offsetHeight;lr>Jn?mr.scrollTop=lr-mr.clientHeight:Co.offsetTop-Co.offsetHeight*(ee?1.3:0)<mr.scrollTop&&(mr.scrollTop=Co.offsetTop-Co.offsetHeight*(ee?1.3:0))}}),vr=Pi(({event:ot,diff:dt,direction:tn="next",reason:Tn="auto"})=>{if(!on)return;const kr=Vn((()=>{const Co=un.length-1;if(dt==="reset")return Ot;if(dt==="start")return 0;if(dt==="end")return Co;const Jn=Yt.current+dt;return Jn<0?Jn===-1&&ne?-1:L&&Yt.current!==-1||Math.abs(dt)>1?0:Co:Jn>Co?Jn===Co+1&&ne?-1:L||Math.abs(dt)>1?Co:0:Jn})(),tn);if(ar({index:kr,reason:Tn,event:ot}),r&&dt!=="reset")if(kr===-1)Rt.current.value=ht;else{const Co=gt(un[kr]);Rt.current.value=Co,Co.toLowerCase().indexOf(ht.toLowerCase())===0&&ht.length>0&&Rt.current.setSelectionRange(ht.length,Co.length)}}),Ar=()=>{const ot=(dt,tn)=>{const Tn=dt?gt(dt):"",mr=tn?gt(tn):"";return Tn===mr};if(Yt.current!==-1&&dn.filteredOptions&&dn.filteredOptions.length!==un.length&&dn.inputValue===ht&&(se?st.length===dn.value.length&&dn.value.every((dt,tn)=>gt(st[tn])===gt(dt)):ot(dn.value,st))){const dt=dn.filteredOptions[Yt.current];if(dt&&un.some(Tn=>gt(Tn)===gt(dt)))return!0}return!1},nr=P.useCallback(()=>{if(!on||Ar())return;const ot=se?st[0]:st;if(un.length===0||ot==null){vr({diff:"reset"});return}if(pn.current){if(ot!=null){const dt=un[Yt.current];if(se&&dt&&QT(st,Tn=>re(dt,Tn))!==-1)return;const tn=QT(un,Tn=>re(Tn,ot));tn===-1?vr({diff:"reset"}):ar({index:tn});return}if(Yt.current>=un.length-1){ar({index:un.length-1});return}ar({index:Yt.current})}},[un.length,se?!1:st,F,vr,ar,on,ht,se]),gi=Pi(ot=>{lw(pn,ot),ot&&nr()});P.useEffect(()=>{nr()},[nr]);const ti=ot=>{Ve||(ft(!0),Qt(!0),me&&me(ot))},Re=(ot,dt)=>{Ve&&(ft(!1),pe&&pe(ot,dt))},he=(ot,dt,tn,Tn)=>{if(se){if(st.length===dt.length&&st.every((mr,kr)=>mr===dt[kr]))return}else if(st===dt)return;de&&de(ot,dt,tn,Tn),Ct(dt)},ye=P.useRef(!1),Ie=(ot,dt,tn="selectOption",Tn="options")=>{let mr=tn,kr=dt;if(se){kr=Array.isArray(st)?st.slice():[];const Co=QT(kr,Jn=>re(dt,Jn));Co===-1?kr.push(dt):Tn!=="freeSolo"&&(kr.splice(Co,1),mr="removeOption")}wn(ot,kr),he(ot,kr,mr,{option:dt}),!k&&(!ot||!ot.ctrlKey&&!ot.metaKey)&&Re(ot,mr),(d===!0||d==="touch"&&ye.current||d==="mouse"&&!ye.current)&&Rt.current.blur()};function ze(ot,dt){if(ot===-1)return-1;let tn=ot;for(;;){if(dt==="next"&&tn===st.length||dt==="previous"&&tn===-1)return-1;const Tn=Ut.querySelector(`[data-tag-index="${tn}"]`);if(!Tn||!Tn.hasAttribute("tabindex")||Tn.disabled||Tn.getAttribute("aria-disabled")==="true")tn+=dt==="next"?1:-1;else return tn}}const He=(ot,dt)=>{if(!se)return;ht===""&&Re(ot,"toggleInput");let tn=et;et===-1?ht===""&&dt==="previous"&&(tn=st.length-1):(tn+=dt==="next"?1:-1,tn<0&&(tn=0),tn===st.length&&(tn=-1)),tn=ze(tn,dt),Pt(tn),kn(tn)},Xe=ot=>{vt.current=!0,en(""),oe&&oe(ot,"","clear"),he(ot,se?[]:null,"clear")},Qe=ot=>dt=>{if(ot.onKeyDown&&ot.onKeyDown(dt),!dt.defaultMuiPrevented&&(et!==-1&&["ArrowLeft","ArrowRight"].indexOf(dt.key)===-1&&(Pt(-1),kn(-1)),dt.which!==229))switch(dt.key){case"Home":on&&X&&(dt.preventDefault(),vr({diff:"start",direction:"next",reason:"keyboard",event:dt}));break;case"End":on&&X&&(dt.preventDefault(),vr({diff:"end",direction:"previous",reason:"keyboard",event:dt}));break;case"PageUp":dt.preventDefault(),vr({diff:-oF,direction:"previous",reason:"keyboard",event:dt}),ti(dt);break;case"PageDown":dt.preventDefault(),vr({diff:oF,direction:"next",reason:"keyboard",event:dt}),ti(dt);break;case"ArrowDown":dt.preventDefault(),vr({diff:1,direction:"next",reason:"keyboard",event:dt}),ti(dt);break;case"ArrowUp":dt.preventDefault(),vr({diff:-1,direction:"previous",reason:"keyboard",event:dt}),ti(dt);break;case"ArrowLeft":He(dt,"previous");break;case"ArrowRight":He(dt,"next");break;case"Enter":if(Yt.current!==-1&&on){const tn=un[Yt.current],Tn=B?B(tn):!1;if(dt.preventDefault(),Tn)return;Ie(dt,tn,"selectOption"),r&&Rt.current.setSelectionRange(Rt.current.value.length,Rt.current.value.length)}else z&&ht!==""&&yn===!1&&(se&&dt.preventDefault(),Ie(dt,ht,"createOption","freeSolo"));break;case"Escape":on?(dt.preventDefault(),dt.stopPropagation(),Re(dt,"escape")):m&&(ht!==""||se&&st.length>0)&&(dt.preventDefault(),dt.stopPropagation(),Xe(dt));break;case"Backspace":if(se&&!Te&&ht===""&&st.length>0){const tn=et===-1?st.length-1:et,Tn=st.slice();Tn.splice(tn,1),he(dt,Tn,"removeOption",{option:st[tn]})}break;case"Delete":if(se&&!Te&&ht===""&&st.length>0&&et!==-1){const tn=et,Tn=st.slice();Tn.splice(tn,1),he(dt,Tn,"removeOption",{option:st[tn]})}break}},Ge=ot=>{vn(!0),ce&&!vt.current&&ti(ot)},tt=ot=>{if(t(pn)){Rt.current.focus();return}vn(!1),jt.current=!0,vt.current=!1,c&&Yt.current!==-1&&on?Ie(ot,un[Yt.current],"blur"):c&&z&&ht!==""?Ie(ot,ht,"blur","freeSolo"):s&&wn(ot,st),Re(ot,"blur")},Mt=ot=>{const dt=ot.target.value;ht!==dt&&(en(dt),Qt(!1),oe&&oe(ot,dt,"input")),dt===""?!E&&!se&&he(ot,null,"clear"):ti(ot)},qt=ot=>{const dt=Number(ot.currentTarget.getAttribute("data-option-index"));Yt.current!==dt&&ar({event:ot,index:dt,reason:"mouse"})},Ft=ot=>{ar({event:ot,index:Number(ot.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ye.current=!0},Un=ot=>{const dt=Number(ot.currentTarget.getAttribute("data-option-index"));Ie(ot,un[dt],"selectOption"),ye.current=!1},Hn=ot=>dt=>{const tn=st.slice();tn.splice(ot,1),he(dt,tn,"removeOption",{option:st[ot]})},$n=ot=>{Ve?Re(ot,"toggleInput"):ti(ot)},Dn=ot=>{ot.currentTarget.contains(ot.target)&&ot.target.getAttribute("id")!==Ye&&ot.preventDefault()},Wn=ot=>{ot.currentTarget.contains(ot.target)&&(Rt.current.focus(),Ue&&jt.current&&Rt.current.selectionEnd-Rt.current.selectionStart===0&&Rt.current.select(),jt.current=!1)},Rr=ot=>{(ht===""||!Ve)&&$n(ot)};let Er=z&&ht.length>0;Er=Er||(se?st.length>0:st!==null);let ro=un;return ee&&(ro=un.reduce((ot,dt,tn)=>{const Tn=ee(dt);return ot.length>0&&ot[ot.length-1].group===Tn?ot[ot.length-1].options.push(dt):ot.push({key:tn,index:tn,group:Tn,options:[dt]}),ot},[])),O&&Kt&&tt(),{getRootProps:(ot={})=>$({"aria-owns":sn?`${Ye}-listbox`:null},ot,{onKeyDown:Qe(ot),onMouseDown:Dn,onClick:Wn}),getInputLabelProps:()=>({id:`${Ye}-label`,htmlFor:Ye}),getInputProps:()=>({id:Ye,value:ht,onBlur:tt,onFocus:Ge,onChange:Mt,onMouseDown:Rr,"aria-activedescendant":on?"":null,"aria-autocomplete":r?"both":"list","aria-controls":sn?`${Ye}-listbox`:void 0,"aria-expanded":sn,autoComplete:"off",ref:Rt,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:O}),getClearProps:()=>({tabIndex:-1,onClick:Xe}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:$n}),getTagProps:({index:ot})=>$({key:ot,"data-tag-index":ot,tabIndex:-1},!Te&&{onDelete:Hn(ot)}),getListboxProps:()=>({role:"listbox",id:`${Ye}-listbox`,"aria-labelledby":`${Ye}-label`,ref:gi,onMouseDown:ot=>{ot.preventDefault()}}),getOptionProps:({index:ot,option:dt})=>{const tn=(se?st:[st]).some(mr=>mr!=null&&re(dt,mr)),Tn=B?B(dt):!1;return{key:gt(dt),tabIndex:-1,role:"option",id:`${Ye}-option-${ot}`,onMouseMove:qt,onClick:Un,onTouchStart:Ft,"data-option-index":ot,"aria-disabled":Tn,"aria-selected":tn}},id:Ye,inputValue:ht,value:st,dirty:Er,expanded:on&&Ut,popupOpen:on,focused:Kt||et!==-1,anchorEl:Ut,setAnchorEl:rn,focusedTag:et,groupedOptions:ro}}function zQ(e){return qn("MuiSvgIcon",e)}Zn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const FQ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jQ=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${xt(t)}`,`fontSize${xt(n)}`]};return hn(i,zQ,r)},$Q=Et("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${xt(n.color)}`],t[`fontSize${xt(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,c,d,s,m,_,w,E,k,O,R,L,U,F,z;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(c=i.duration)==null?void 0:c.shorter}),fontSize:{inherit:"inherit",small:((d=e.typography)==null||(s=d.pxToRem)==null?void 0:s.call(d,20))||"1.25rem",medium:((m=e.typography)==null||(_=m.pxToRem)==null?void 0:_.call(m,24))||"1.5rem",large:((w=e.typography)==null||(E=w.pxToRem)==null?void 0:E.call(w,35))||"2.1875rem"}[t.fontSize],color:(k=(O=(e.vars||e).palette)==null||(R=O[t.color])==null?void 0:R.main)!=null?k:{action:(L=(e.vars||e).palette)==null||(U=L.action)==null?void 0:U.active,disabled:(F=(e.vars||e).palette)==null||(z=F.action)==null?void 0:z.disabled,inherit:void 0}[t.color]}}),o4=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiSvgIcon"}),{children:i,className:c,color:d="inherit",component:s="svg",fontSize:m="medium",htmlColor:_,inheritViewBox:w=!1,titleAccess:E,viewBox:k="0 0 24 24"}=r,O=mt(r,FQ),R=P.isValidElement(i)&&i.type==="svg",L=$({},r,{color:d,component:s,fontSize:m,instanceFontSize:t.fontSize,inheritViewBox:w,viewBox:k,hasSvgAsChild:R}),U={};w||(U.viewBox=k);const F=jQ(L);return T.jsxs($Q,$({as:s,className:$t(F.root,c),focusable:"false",color:_,"aria-hidden":E?void 0:!0,role:E?"img":void 0,ref:n},U,O,R&&i.props,{ownerState:L,children:[R?i.props.children:i,E?T.jsx("title",{children:E}):null]}))});o4.muiName="SvgIcon";const iF=o4;function Gn(e,t){function n(r,i){return T.jsx(iF,$({"data-testid":`${t}Icon`,ref:i},r,{children:e}))}return n.muiName=iF.muiName,P.memo(P.forwardRef(n))}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lk(e,t)}function JC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lk(e,t)}const sF={disabled:!1},hw=Tr.createContext(null);var BQ=function(t){return t.scrollTop},C0="unmounted",rp="exited",op="entering",ag="entered",ck="exiting",dd=function(e){JC(t,e);function t(r,i){var c;c=e.call(this,r,i)||this;var d=i,s=d&&!d.isMounting?r.enter:r.appear,m;return c.appearStatus=null,r.in?s?(m=rp,c.appearStatus=op):m=ag:r.unmountOnExit||r.mountOnEnter?m=C0:m=rp,c.state={status:m},c.nextCallback=null,c}t.getDerivedStateFromProps=function(i,c){var d=i.in;return d&&c.status===C0?{status:rp}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var c=null;if(i!==this.props){var d=this.state.status;this.props.in?d!==op&&d!==ag&&(c=op):(d===op||d===ag)&&(c=ck)}this.updateStatus(!1,c)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,c,d,s;return c=d=s=i,i!=null&&typeof i!="number"&&(c=i.exit,d=i.enter,s=i.appear!==void 0?i.appear:d),{exit:c,enter:d,appear:s}},n.updateStatus=function(i,c){if(i===void 0&&(i=!1),c!==null)if(this.cancelNextCallback(),c===op){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:zb.findDOMNode(this);d&&BQ(d)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===rp&&this.setState({status:C0})},n.performEnter=function(i){var c=this,d=this.props.enter,s=this.context?this.context.isMounting:i,m=this.props.nodeRef?[s]:[zb.findDOMNode(this),s],_=m[0],w=m[1],E=this.getTimeouts(),k=s?E.appear:E.enter;if(!i&&!d||sF.disabled){this.safeSetState({status:ag},function(){c.props.onEntered(_)});return}this.props.onEnter(_,w),this.safeSetState({status:op},function(){c.props.onEntering(_,w),c.onTransitionEnd(k,function(){c.safeSetState({status:ag},function(){c.props.onEntered(_,w)})})})},n.performExit=function(){var i=this,c=this.props.exit,d=this.getTimeouts(),s=this.props.nodeRef?void 0:zb.findDOMNode(this);if(!c||sF.disabled){this.safeSetState({status:rp},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:ck},function(){i.props.onExiting(s),i.onTransitionEnd(d.exit,function(){i.safeSetState({status:rp},function(){i.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,c){c=this.setNextCallback(c),this.setState(i,c)},n.setNextCallback=function(i){var c=this,d=!0;return this.nextCallback=function(s){d&&(d=!1,c.nextCallback=null,i(s))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},n.onTransitionEnd=function(i,c){this.setNextCallback(c);var d=this.props.nodeRef?this.props.nodeRef.current:zb.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!d||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],_=m[0],w=m[1];this.props.addEndListener(_,w)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===C0)return null;var c=this.props,d=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var s=mt(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Tr.createElement(hw.Provider,{value:null},typeof d=="function"?d(i,s):Tr.cloneElement(Tr.Children.only(d),s))},t}(Tr.Component);dd.contextType=hw;dd.propTypes={};function Xm(){}dd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xm,onEntering:Xm,onEntered:Xm,onExit:Xm,onExiting:Xm,onExited:Xm};dd.UNMOUNTED=C0;dd.EXITED=rp;dd.ENTERING=op;dd.ENTERED=ag;dd.EXITING=ck;const ZM=dd;function uk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YM(e,t){var n=function(c){return t&&P.isValidElement(c)?t(c):c},r=Object.create(null);return e&&P.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function NQ(e,t){e=e||{},t=t||{};function n(w){return w in t?t[w]:e[w]}var r=Object.create(null),i=[];for(var c in e)c in t?i.length&&(r[c]=i,i=[]):i.push(c);var d,s={};for(var m in t){if(r[m])for(d=0;d<r[m].length;d++){var _=r[m][d];s[r[m][d]]=n(_)}s[m]=n(m)}for(d=0;d<i.length;d++)s[i[d]]=n(i[d]);return s}function fp(e,t,n){return n[t]!=null?n[t]:e.props[t]}function UQ(e,t){return YM(e.children,function(n){return P.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:fp(n,"appear",e),enter:fp(n,"enter",e),exit:fp(n,"exit",e)})})}function VQ(e,t,n){var r=YM(e.children),i=NQ(t,r);return Object.keys(i).forEach(function(c){var d=i[c];if(P.isValidElement(d)){var s=c in t,m=c in r,_=t[c],w=P.isValidElement(_)&&!_.props.in;m&&(!s||w)?i[c]=P.cloneElement(d,{onExited:n.bind(null,d),in:!0,exit:fp(d,"exit",e),enter:fp(d,"enter",e)}):!m&&s&&!w?i[c]=P.cloneElement(d,{in:!1}):m&&s&&P.isValidElement(_)&&(i[c]=P.cloneElement(d,{onExited:n.bind(null,d),in:_.props.in,exit:fp(d,"exit",e),enter:fp(d,"enter",e)}))}}),i}var HQ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},GQ={component:"div",childFactory:function(t){return t}},KM=function(e){JC(t,e);function t(r,i){var c;c=e.call(this,r,i)||this;var d=c.handleExited.bind(uk(c));return c.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},c}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,c){var d=c.children,s=c.handleExited,m=c.firstRender;return{children:m?UQ(i,s):VQ(i,d,s),firstRender:!1}},n.handleExited=function(i,c){var d=YM(this.props.children);i.key in d||(i.props.onExited&&i.props.onExited(c),this.mounted&&this.setState(function(s){var m=$({},s.children);return delete m[i.key],{children:m}}))},n.render=function(){var i=this.props,c=i.component,d=i.childFactory,s=mt(i,["component","childFactory"]),m=this.state.contextValue,_=HQ(this.state.children).map(d);return delete s.appear,delete s.enter,delete s.exit,c===null?Tr.createElement(hw.Provider,{value:m},_):Tr.createElement(hw.Provider,{value:m},Tr.createElement(c,s,_))},t}(Tr.Component);KM.propTypes={};KM.defaultProps=GQ;const WQ=KM,XM=e=>e.scrollTop;function cy(e,t){var n,r;const{timeout:i,easing:c,style:d={}}=e;return{duration:(n=d.transitionDuration)!=null?n:typeof i=="number"?i:i[t.mode]||0,easing:(r=d.transitionTimingFunction)!=null?r:typeof c=="object"?c[t.mode]:c,delay:d.transitionDelay}}function qQ(e){return qn("MuiPaper",e)}Zn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ZQ=["className","component","elevation","square","variant"],YQ=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,c={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return hn(c,qQ,i)},KQ=Et("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return $({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&$({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${dr("#fff",Uz(t.elevation))}, ${dr("#fff",Uz(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),XQ=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiPaper"}),{className:i,component:c="div",elevation:d=1,square:s=!1,variant:m="elevation"}=r,_=mt(r,ZQ),w=$({},r,{component:c,elevation:d,square:s,variant:m}),E=YQ(w);return T.jsx(KQ,$({as:c,ownerState:w,className:$t(E.root,i),ref:n},_))}),pi=XQ;function JQ(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:c,rippleSize:d,in:s,onExited:m,timeout:_}=e,[w,E]=P.useState(!1),k=$t(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),O={width:d,height:d,top:-(d/2)+c,left:-(d/2)+i},R=$t(n.child,w&&n.childLeaving,r&&n.childPulsate);return!s&&!w&&E(!0),P.useEffect(()=>{if(!s&&m!=null){const L=setTimeout(m,_);return()=>{clearTimeout(L)}}},[m,s,_]),T.jsx("span",{className:k,style:O,children:T.jsx("span",{className:R})})}const QQ=Zn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),al=QQ,eee=["center","classes","className"];let QC=e=>e,aF,lF,cF,uF;const dk=550,tee=80,nee=Bp(aF||(aF=QC`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),ree=Bp(lF||(lF=QC`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),oee=Bp(cF||(cF=QC`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),iee=Et("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),see=Et(JQ,{name:"MuiTouchRipple",slot:"Ripple"})(uF||(uF=QC`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),al.rippleVisible,nee,dk,({theme:e})=>e.transitions.easing.easeInOut,al.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,al.child,al.childLeaving,ree,dk,({theme:e})=>e.transitions.easing.easeInOut,al.childPulsate,oee,({theme:e})=>e.transitions.easing.easeInOut),aee=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:c={},className:d}=r,s=mt(r,eee),[m,_]=P.useState([]),w=P.useRef(0),E=P.useRef(null);P.useEffect(()=>{E.current&&(E.current(),E.current=null)},[m]);const k=P.useRef(!1),O=P.useRef(0),R=P.useRef(null),L=P.useRef(null);P.useEffect(()=>()=>{O.current&&clearTimeout(O.current)},[]);const U=P.useCallback(Z=>{const{pulsate:ee,rippleX:X,rippleY:W,rippleSize:ne,cb:J}=Z;_(re=>[...re,T.jsx(see,{classes:{ripple:$t(c.ripple,al.ripple),rippleVisible:$t(c.rippleVisible,al.rippleVisible),ripplePulsate:$t(c.ripplePulsate,al.ripplePulsate),child:$t(c.child,al.child),childLeaving:$t(c.childLeaving,al.childLeaving),childPulsate:$t(c.childPulsate,al.childPulsate)},timeout:dk,pulsate:ee,rippleX:X,rippleY:W,rippleSize:ne},w.current)]),w.current+=1,E.current=J},[c]),F=P.useCallback((Z={},ee={},X=()=>{})=>{const{pulsate:W=!1,center:ne=i||ee.pulsate,fakeElement:J=!1}=ee;if((Z==null?void 0:Z.type)==="mousedown"&&k.current){k.current=!1;return}(Z==null?void 0:Z.type)==="touchstart"&&(k.current=!0);const re=J?null:L.current,se=re?re.getBoundingClientRect():{width:0,height:0,left:0,top:0};let de,pe,ae;if(ne||Z===void 0||Z.clientX===0&&Z.clientY===0||!Z.clientX&&!Z.touches)de=Math.round(se.width/2),pe=Math.round(se.height/2);else{const{clientX:oe,clientY:me}=Z.touches&&Z.touches.length>0?Z.touches[0]:Z;de=Math.round(oe-se.left),pe=Math.round(me-se.top)}if(ne)ae=Math.sqrt((2*se.width**2+se.height**2)/3),ae%2===0&&(ae+=1);else{const oe=Math.max(Math.abs((re?re.clientWidth:0)-de),de)*2+2,me=Math.max(Math.abs((re?re.clientHeight:0)-pe),pe)*2+2;ae=Math.sqrt(oe**2+me**2)}Z!=null&&Z.touches?R.current===null&&(R.current=()=>{U({pulsate:W,rippleX:de,rippleY:pe,rippleSize:ae,cb:X})},O.current=setTimeout(()=>{R.current&&(R.current(),R.current=null)},tee)):U({pulsate:W,rippleX:de,rippleY:pe,rippleSize:ae,cb:X})},[i,U]),z=P.useCallback(()=>{F({},{pulsate:!0})},[F]),B=P.useCallback((Z,ee)=>{if(clearTimeout(O.current),(Z==null?void 0:Z.type)==="touchend"&&R.current){R.current(),R.current=null,O.current=setTimeout(()=>{B(Z,ee)});return}R.current=null,_(X=>X.length>0?X.slice(1):X),E.current=ee},[]);return P.useImperativeHandle(n,()=>({pulsate:z,start:F,stop:B}),[z,F,B]),T.jsx(iee,$({className:$t(al.root,c.root,d),ref:L},s,{children:T.jsx(WQ,{component:null,exit:!0,children:m})}))}),lee=aee;function cee(e){return qn("MuiButtonBase",e)}const uee=Zn("MuiButtonBase",["root","disabled","focusVisible"]),dee=uee,hee=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],fee=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,d=hn({root:["root",t&&"disabled",n&&"focusVisible"]},cee,i);return n&&r&&(d.root+=` ${r}`),d},pee=Et("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dee.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),mee=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:c=!1,children:d,className:s,component:m="button",disabled:_=!1,disableRipple:w=!1,disableTouchRipple:E=!1,focusRipple:k=!1,LinkComponent:O="a",onBlur:R,onClick:L,onContextMenu:U,onDragLeave:F,onFocus:z,onFocusVisible:B,onKeyDown:Z,onKeyUp:ee,onMouseDown:X,onMouseLeave:W,onMouseUp:ne,onTouchEnd:J,onTouchMove:re,onTouchStart:se,tabIndex:de=0,TouchRippleProps:pe,touchRippleRef:ae,type:oe}=r,me=mt(r,hee),xe=P.useRef(null),ce=P.useRef(null),ge=fo(ce,ae),{isFocusVisibleRef:Te,onFocus:Ue,onBlur:We,ref:Ye}=CM(),[gt,vt]=P.useState(!1);_&&gt&&vt(!1),P.useImperativeHandle(i,()=>({focusVisible:()=>{vt(!0),xe.current.focus()}}),[]);const[jt,Rt]=P.useState(!1);P.useEffect(()=>{Rt(!0)},[]);const pn=jt&&!w&&!_;P.useEffect(()=>{gt&&k&&!w&&jt&&ce.current.pulsate()},[w,k,gt,jt]);function Ut(dn,sn,kn=E){return Pi(Vn=>(sn&&sn(Vn),!kn&&ce.current&&ce.current[dn](Vn),!0))}const rn=Ut("start",X),et=Ut("stop",U),Pt=Ut("stop",F),Ot=Ut("stop",ne),Yt=Ut("stop",dn=>{gt&&dn.preventDefault(),W&&W(dn)}),st=Ut("start",se),Ct=Ut("stop",J),ht=Ut("stop",re),en=Ut("stop",dn=>{We(dn),Te.current===!1&&vt(!1),R&&R(dn)},!1),Kt=Pi(dn=>{xe.current||(xe.current=dn.currentTarget),Ue(dn),Te.current===!0&&(vt(!0),B&&B(dn)),z&&z(dn)}),vn=()=>{const dn=xe.current;return m&&m!=="button"&&!(dn.tagName==="A"&&dn.href)},wn=P.useRef(!1),Ve=Pi(dn=>{k&&!wn.current&&gt&&ce.current&&dn.key===" "&&(wn.current=!0,ce.current.stop(dn,()=>{ce.current.start(dn)})),dn.target===dn.currentTarget&&vn()&&dn.key===" "&&dn.preventDefault(),Z&&Z(dn),dn.target===dn.currentTarget&&vn()&&dn.key==="Enter"&&!_&&(dn.preventDefault(),L&&L(dn))}),ft=Pi(dn=>{k&&dn.key===" "&&ce.current&&gt&&!dn.defaultPrevented&&(wn.current=!1,ce.current.stop(dn,()=>{ce.current.pulsate(dn)})),ee&&ee(dn),L&&dn.target===dn.currentTarget&&vn()&&dn.key===" "&&!dn.defaultPrevented&&L(dn)});let Dt=m;Dt==="button"&&(me.href||me.to)&&(Dt=O);const Qt={};Dt==="button"?(Qt.type=oe===void 0?"button":oe,Qt.disabled=_):(!me.href&&!me.to&&(Qt.role="button"),_&&(Qt["aria-disabled"]=_));const yn=fo(n,Ye,xe),on=$({},r,{centerRipple:c,component:m,disabled:_,disableRipple:w,disableTouchRipple:E,focusRipple:k,tabIndex:de,focusVisible:gt}),un=fee(on);return T.jsxs(pee,$({as:Dt,className:$t(un.root,s),ownerState:on,onBlur:en,onClick:L,onContextMenu:et,onFocus:Kt,onKeyDown:Ve,onKeyUp:ft,onMouseDown:rn,onMouseLeave:Yt,onMouseUp:Ot,onDragLeave:Pt,onTouchEnd:Ct,onTouchMove:ht,onTouchStart:st,ref:yn,tabIndex:_?-1:de,type:oe},Qt,me,{children:[d,pn?T.jsx(lee,$({ref:ge,center:c},pe)):null]}))}),ha=mee;function gee(e){return qn("MuiIconButton",e)}const yee=Zn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),vee=yee,_ee=["edge","children","className","color","disabled","disableFocusRipple","size"],xee=e=>{const{classes:t,disabled:n,color:r,edge:i,size:c}=e,d={root:["root",n&&"disabled",r!=="default"&&`color${xt(r)}`,i&&`edge${xt(i)}`,`size${xt(c)}`]};return hn(d,gee,t)},bee=Et(ha,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${xt(n.color)}`],n.edge&&t[`edge${xt(n.edge)}`],t[`size${xt(n.size)}`]]}})(({theme:e,ownerState:t})=>$({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const r=(n=(e.vars||e).palette)==null?void 0:n[t.color];return $({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&$({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":$({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${vee.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),wee=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiIconButton"}),{edge:i=!1,children:c,className:d,color:s="default",disabled:m=!1,disableFocusRipple:_=!1,size:w="medium"}=r,E=mt(r,_ee),k=$({},r,{edge:i,color:s,disabled:m,disableFocusRipple:_,size:w}),O=xee(k);return T.jsx(bee,$({className:$t(O.root,d),centerRipple:!0,focusRipple:!_,disabled:m,ref:n,ownerState:k},E,{children:c}))}),Qi=wee,Cee=Gn(T.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function See(e){return qn("MuiTypography",e)}Zn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Tee=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Eee=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:c,classes:d}=e,s={root:["root",c,e.align!=="inherit"&&`align${xt(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return hn(s,See,d)},Pee=Et("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${xt(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>$({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),dF={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},kee={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Iee=e=>kee[e]||e,Mee=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiTypography"}),i=Iee(r.color),c=jM($({},r,{color:i})),{align:d="inherit",className:s,component:m,gutterBottom:_=!1,noWrap:w=!1,paragraph:E=!1,variant:k="body1",variantMapping:O=dF}=c,R=mt(c,Tee),L=$({},c,{align:d,color:i,className:s,component:m,gutterBottom:_,noWrap:w,paragraph:E,variant:k,variantMapping:O}),U=m||(E?"p":O[k]||dF[k])||"span",F=Eee(L);return T.jsx(Pee,$({as:U,ref:n,ownerState:L,className:$t(F.root,s)},R))}),Wt=Mee;function Aee(e){return qn("MuiAppBar",e)}Zn("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const Ree=["className","color","enableColorOnDark","position"],Oee=e=>{const{color:t,position:n,classes:r}=e,i={root:["root",`color${xt(t)}`,`position${xt(n)}`]};return hn(i,Aee,r)},Bb=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Dee=Et(pi,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${xt(n.position)}`],t[`color${xt(n.color)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return $({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&$({},t.color==="default"&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&$({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&$({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:Bb(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:Bb(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:Bb(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:Bb(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Lee=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiAppBar"}),{className:i,color:c="primary",enableColorOnDark:d=!1,position:s="fixed"}=r,m=mt(r,Ree),_=$({},r,{color:c,position:s,enableColorOnDark:d}),w=Oee(_);return T.jsx(Dee,$({square:!0,component:"header",ownerState:_,elevation:4,className:$t(w.root,i,s==="fixed"&&"mui-fixed"),ref:n},m))}),zee=Lee,Fee=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],jee=Et(mQ,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$ee=P.forwardRef(function(t,n){var r;const i=LN(),c=Xn({props:t,name:"MuiPopper"}),{anchorEl:d,component:s,components:m,componentsProps:_,container:w,disablePortal:E,keepMounted:k,modifiers:O,open:R,placement:L,popperOptions:U,popperRef:F,transition:z,slots:B,slotProps:Z}=c,ee=mt(c,Fee),X=(r=B==null?void 0:B.root)!=null?r:m==null?void 0:m.Root,W=$({anchorEl:d,container:w,disablePortal:E,keepMounted:k,modifiers:O,open:R,placement:L,popperOptions:U,popperRef:F,transition:z},ee);return T.jsx(jee,$({as:s,direction:i==null?void 0:i.direction,slots:{root:X},slotProps:Z??_},W,{ref:n}))}),Np=$ee;function Bee(e){return qn("MuiListSubheader",e)}Zn("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Nee=["className","color","component","disableGutters","disableSticky","inset"],Uee=e=>{const{classes:t,color:n,disableGutters:r,inset:i,disableSticky:c}=e,d={root:["root",n!=="default"&&`color${xt(n)}`,!r&&"gutters",i&&"inset",!c&&"sticky"]};return hn(d,Bee,t)},Vee=Et("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${xt(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>$({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),i4=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiListSubheader"}),{className:i,color:c="default",component:d="li",disableGutters:s=!1,disableSticky:m=!1,inset:_=!1}=r,w=mt(r,Nee),E=$({},r,{color:c,component:d,disableGutters:s,disableSticky:m,inset:_}),k=Uee(E);return T.jsx(Vee,$({as:d,className:$t(k.root,i),ref:n,ownerState:E},w))});i4.muiSkipListHighlight=!0;const Hee=i4,Gee=Gn(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Wee(e){return qn("MuiChip",e)}const qee=Zn("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),eo=qee,Zee=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Yee=e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:c,onDelete:d,clickable:s,variant:m}=e,_={root:["root",m,n&&"disabled",`size${xt(r)}`,`color${xt(i)}`,s&&"clickable",s&&`clickableColor${xt(i)}`,d&&"deletable",d&&`deletableColor${xt(i)}`,`${m}${xt(i)}`],label:["label",`label${xt(r)}`],avatar:["avatar",`avatar${xt(r)}`,`avatarColor${xt(i)}`],icon:["icon",`icon${xt(r)}`,`iconColor${xt(c)}`],deleteIcon:["deleteIcon",`deleteIcon${xt(r)}`,`deleteIconColor${xt(i)}`,`deleteIcon${xt(m)}Color${xt(i)}`]};return hn(_,Wee,t)},Kee=Et("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:c,onDelete:d,size:s,variant:m}=n;return[{[`& .${eo.avatar}`]:t.avatar},{[`& .${eo.avatar}`]:t[`avatar${xt(s)}`]},{[`& .${eo.avatar}`]:t[`avatarColor${xt(r)}`]},{[`& .${eo.icon}`]:t.icon},{[`& .${eo.icon}`]:t[`icon${xt(s)}`]},{[`& .${eo.icon}`]:t[`iconColor${xt(i)}`]},{[`& .${eo.deleteIcon}`]:t.deleteIcon},{[`& .${eo.deleteIcon}`]:t[`deleteIcon${xt(s)}`]},{[`& .${eo.deleteIcon}`]:t[`deleteIconColor${xt(r)}`]},{[`& .${eo.deleteIcon}`]:t[`deleteIcon${xt(m)}Color${xt(r)}`]},t.root,t[`size${xt(s)}`],t[`color${xt(r)}`],c&&t.clickable,c&&r!=="default"&&t[`clickableColor${xt(r)})`],d&&t.deletable,d&&r!=="default"&&t[`deletableColor${xt(r)}`],t[m],t[`${m}${xt(r)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return $({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${eo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${eo.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${eo.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${eo.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${eo.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${eo.icon}`]:$({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&$({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${eo.deleteIcon}`]:$({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:dr(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:dr(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:dr(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${eo.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:dr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${eo.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>$({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:dr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${eo.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:dr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${eo.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>$({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${eo.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${eo.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${eo.avatar}`]:{marginLeft:4},[`& .${eo.avatarSmall}`]:{marginLeft:2},[`& .${eo.icon}`]:{marginLeft:4},[`& .${eo.iconSmall}`]:{marginLeft:2},[`& .${eo.deleteIcon}`]:{marginRight:5},[`& .${eo.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:dr(e.palette[t.color].main,.7)}`,[`&.${eo.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${eo.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:dr(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${eo.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:dr(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),Xee=Et("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${xt(r)}`]]}})(({ownerState:e})=>$({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function hF(e){return e.key==="Backspace"||e.key==="Delete"}const Jee=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiChip"}),{avatar:i,className:c,clickable:d,color:s="default",component:m,deleteIcon:_,disabled:w=!1,icon:E,label:k,onClick:O,onDelete:R,onKeyDown:L,onKeyUp:U,size:F="medium",variant:z="filled",tabIndex:B,skipFocusWhenDisabled:Z=!1}=r,ee=mt(r,Zee),X=P.useRef(null),W=fo(X,n),ne=ge=>{ge.stopPropagation(),R&&R(ge)},J=ge=>{ge.currentTarget===ge.target&&hF(ge)&&ge.preventDefault(),L&&L(ge)},re=ge=>{ge.currentTarget===ge.target&&(R&&hF(ge)?R(ge):ge.key==="Escape"&&X.current&&X.current.blur()),U&&U(ge)},se=d!==!1&&O?!0:d,de=se||R?ha:m||"div",pe=$({},r,{component:de,disabled:w,size:F,color:s,iconColor:P.isValidElement(E)&&E.props.color||s,onDelete:!!R,clickable:se,variant:z}),ae=Yee(pe),oe=de===ha?$({component:m||"div",focusVisibleClassName:ae.focusVisible},R&&{disableRipple:!0}):{};let me=null;R&&(me=_&&P.isValidElement(_)?P.cloneElement(_,{className:$t(_.props.className,ae.deleteIcon),onClick:ne}):T.jsx(Gee,{className:$t(ae.deleteIcon),onClick:ne}));let xe=null;i&&P.isValidElement(i)&&(xe=P.cloneElement(i,{className:$t(ae.avatar,i.props.className)}));let ce=null;return E&&P.isValidElement(E)&&(ce=P.cloneElement(E,{className:$t(ae.icon,E.props.className)})),T.jsxs(Kee,$({as:de,className:$t(ae.root,c),disabled:se&&w?!0:void 0,onClick:O,onKeyDown:J,onKeyUp:re,ref:W,tabIndex:Z&&w?-1:B,ownerState:pe},oe,ee,{children:[xe||ce,T.jsx(Xee,{className:$t(ae.label),ownerState:pe,children:k}),me]}))}),s4=Jee;function nf({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const Qee=P.createContext(void 0),eS=Qee;function su(){return P.useContext(eS)}function ete(e){return T.jsx(AK,$({},e,{defaultTheme:KC,themeId:q_}))}function fF(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function fw(e,t=!1){return e&&(fF(e.value)&&e.value!==""||t&&fF(e.defaultValue)&&e.defaultValue!=="")}function tte(e){return e.startAdornment}function nte(e){return qn("MuiInputBase",e)}const rte=Zn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ra=rte,ote=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],tS=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${xt(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},nS=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},ite=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:c,focused:d,formControl:s,fullWidth:m,hiddenLabel:_,multiline:w,readOnly:E,size:k,startAdornment:O,type:R}=e,L={root:["root",`color${xt(n)}`,r&&"disabled",i&&"error",m&&"fullWidth",d&&"focused",s&&"formControl",k==="small"&&"sizeSmall",w&&"multiline",O&&"adornedStart",c&&"adornedEnd",_&&"hiddenLabel",E&&"readOnly"],input:["input",r&&"disabled",R==="search"&&"inputTypeSearch",w&&"inputMultiline",k==="small"&&"inputSizeSmall",_&&"inputHiddenLabel",O&&"inputAdornedStart",c&&"inputAdornedEnd",E&&"readOnly"]};return hn(L,nte,t)},rS=Et("div",{name:"MuiInputBase",slot:"Root",overridesResolver:tS})(({theme:e,ownerState:t})=>$({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ra.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&$({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),oS=Et("input",{name:"MuiInputBase",slot:"Input",overridesResolver:nS})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=$({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},c=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return $({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ra.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c},[`&.${Ra.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),ste=T.jsx(ete,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),ate=P.forwardRef(function(t,n){var r;const i=Xn({props:t,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:d,autoFocus:s,className:m,components:_={},componentsProps:w={},defaultValue:E,disabled:k,disableInjectingGlobalStyles:O,endAdornment:R,fullWidth:L=!1,id:U,inputComponent:F="input",inputProps:z={},inputRef:B,maxRows:Z,minRows:ee,multiline:X=!1,name:W,onBlur:ne,onChange:J,onClick:re,onFocus:se,onKeyDown:de,onKeyUp:pe,placeholder:ae,readOnly:oe,renderSuffix:me,rows:xe,slotProps:ce={},slots:ge={},startAdornment:Te,type:Ue="text",value:We}=i,Ye=mt(i,ote),gt=z.value!=null?z.value:We,{current:vt}=P.useRef(gt!=null),jt=P.useRef(),Rt=P.useCallback(un=>{},[]),pn=fo(jt,B,z.ref,Rt),[Ut,rn]=P.useState(!1),et=su(),Pt=nf({props:i,muiFormControl:et,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Pt.focused=et?et.focused:Ut,P.useEffect(()=>{!et&&k&&Ut&&(rn(!1),ne&&ne())},[et,k,Ut,ne]);const Ot=et&&et.onFilled,Yt=et&&et.onEmpty,st=P.useCallback(un=>{fw(un)?Ot&&Ot():Yt&&Yt()},[Ot,Yt]);fi(()=>{vt&&st({value:gt})},[gt,st,vt]);const Ct=un=>{if(Pt.disabled){un.stopPropagation();return}se&&se(un),z.onFocus&&z.onFocus(un),et&&et.onFocus?et.onFocus(un):rn(!0)},ht=un=>{ne&&ne(un),z.onBlur&&z.onBlur(un),et&&et.onBlur?et.onBlur(un):rn(!1)},en=(un,...dn)=>{if(!vt){const sn=un.target||jt.current;if(sn==null)throw new Error(ad(1));st({value:sn.value})}z.onChange&&z.onChange(un,...dn),J&&J(un,...dn)};P.useEffect(()=>{st(jt.current)},[]);const Kt=un=>{jt.current&&un.currentTarget===un.target&&jt.current.focus(),re&&!Pt.disabled&&re(un)};let vn=F,wn=z;X&&vn==="input"&&(xe?wn=$({type:void 0,minRows:xe,maxRows:xe},wn):wn=$({type:void 0,maxRows:Z,minRows:ee},wn),vn=RQ);const Ve=un=>{st(un.animationName==="mui-auto-fill-cancel"?jt.current:{value:"x"})};P.useEffect(()=>{et&&et.setAdornedStart(!!Te)},[et,Te]);const ft=$({},i,{color:Pt.color||"primary",disabled:Pt.disabled,endAdornment:R,error:Pt.error,focused:Pt.focused,formControl:et,fullWidth:L,hiddenLabel:Pt.hiddenLabel,multiline:X,size:Pt.size,startAdornment:Te,type:Ue}),Dt=ite(ft),Qt=ge.root||_.Root||rS,yn=ce.root||w.root||{},on=ge.input||_.Input||oS;return wn=$({},wn,(r=ce.input)!=null?r:w.input),T.jsxs(P.Fragment,{children:[!O&&ste,T.jsxs(Qt,$({},yn,!oy(Qt)&&{ownerState:$({},ft,yn.ownerState)},{ref:n,onClick:Kt},Ye,{className:$t(Dt.root,yn.className,m,oe&&"MuiInputBase-readOnly"),children:[Te,T.jsx(eS.Provider,{value:null,children:T.jsx(on,$({ownerState:ft,"aria-invalid":Pt.error,"aria-describedby":c,autoComplete:d,autoFocus:s,defaultValue:E,disabled:Pt.disabled,id:U,onAnimationStart:Ve,name:W,placeholder:ae,readOnly:oe,required:Pt.required,rows:xe,value:gt,onKeyDown:de,onKeyUp:pe,type:Ue},wn,!oy(on)&&{as:vn,ownerState:$({},ft,wn.ownerState)},{ref:pn,className:$t(Dt.input,wn.className,oe&&"MuiInputBase-readOnly"),onBlur:ht,onChange:en,onFocus:Ct}))}),R,me?me($({},Pt,{startAdornment:Te})):null]}))]})}),au=ate;function lte(e){return qn("MuiInput",e)}const cte=$({},Ra,Zn("MuiInput",["root","underline","input"])),bh=cte;function ute(e){return qn("MuiOutlinedInput",e)}const dte=$({},Ra,Zn("MuiOutlinedInput",["root","notchedOutline","input"])),$c=dte;function hte(e){return qn("MuiFilledInput",e)}const fte=$({},Ra,Zn("MuiFilledInput",["root","underline","input"])),Oa=fte,a4=Gn(T.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function pte(e){return qn("MuiAutocomplete",e)}const mte=Zn("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Fr=mte;var pF,mF;const gte=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],yte=["ref"],vte=e=>{const{classes:t,disablePortal:n,expanded:r,focused:i,fullWidth:c,hasClearIcon:d,hasPopupIcon:s,inputFocused:m,popupOpen:_,size:w}=e,E={root:["root",r&&"expanded",i&&"focused",c&&"fullWidth",d&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",m&&"inputFocused"],tag:["tag",`tagSize${xt(w)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",_&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return hn(E,pte,t)},_te=Et("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:c,inputFocused:d,size:s}=n;return[{[`& .${Fr.tag}`]:t.tag},{[`& .${Fr.tag}`]:t[`tagSize${xt(s)}`]},{[`& .${Fr.inputRoot}`]:t.inputRoot},{[`& .${Fr.input}`]:t.input},{[`& .${Fr.input}`]:d&&t.inputFocused},t.root,r&&t.fullWidth,c&&t.hasPopupIcon,i&&t.hasClearIcon]}})(({ownerState:e})=>$({[`&.${Fr.focused} .${Fr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Fr.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${Fr.tag}`]:$({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${Fr.inputRoot}`]:{flexWrap:"wrap",[`.${Fr.hasPopupIcon}&, .${Fr.hasClearIcon}&`]:{paddingRight:26+4},[`.${Fr.hasPopupIcon}.${Fr.hasClearIcon}&`]:{paddingRight:52+4},[`& .${Fr.input}`]:{width:0,minWidth:30}},[`& .${bh.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${bh.root}.${Ra.sizeSmall}`]:{[`& .${bh.input}`]:{padding:"2px 4px 3px 0"}},[`& .${$c.root}`]:{padding:9,[`.${Fr.hasPopupIcon}&, .${Fr.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Fr.hasPopupIcon}.${Fr.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Fr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Fr.endAdornment}`]:{right:9}},[`& .${$c.root}.${Ra.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Fr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Oa.root}`]:{paddingTop:19,paddingLeft:8,[`.${Fr.hasPopupIcon}&, .${Fr.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Fr.hasPopupIcon}.${Fr.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Oa.input}`]:{padding:"7px 4px"},[`& .${Fr.endAdornment}`]:{right:9}},[`& .${Oa.root}.${Ra.sizeSmall}`]:{paddingBottom:1,[`& .${Oa.input}`]:{padding:"2.5px 4px"}},[`& .${Ra.hiddenLabel}`]:{paddingTop:8},[`& .${Oa.root}.${Ra.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Fr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Oa.root}.${Ra.hiddenLabel}.${Ra.sizeSmall}`]:{[`& .${Fr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Fr.input}`]:$({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),xte=Et("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),bte=Et(Qi,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),wte=Et(Qi,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>$({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>$({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),Cte=Et(Np,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Fr.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>$({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),Ste=Et(pi,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>$({},e.typography.body1,{overflow:"auto"})),Tte=Et("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Ete=Et("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Pte=Et("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Fr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Fr.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Fr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Fr.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:dr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Fr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:dr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),kte=Et(Hee,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Ite=Et("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Fr.option}`]:{paddingLeft:24}}),Mte=P.forwardRef(function(t,n){var r,i,c,d;const s=Xn({props:t,name:"MuiAutocomplete"}),{autoComplete:m=!1,autoHighlight:_=!1,autoSelect:w=!1,blurOnSelect:E=!1,ChipProps:k,className:O,clearIcon:R=pF||(pF=T.jsx(Cee,{fontSize:"small"})),clearOnBlur:L=!s.freeSolo,clearOnEscape:U=!1,clearText:F="Clear",closeText:z="Close",componentsProps:B={},defaultValue:Z=s.multiple?[]:null,disableClearable:ee=!1,disableCloseOnSelect:X=!1,disabled:W=!1,disabledItemsFocusable:ne=!1,disableListWrap:J=!1,disablePortal:re=!1,filterSelectedOptions:se=!1,forcePopupIcon:de="auto",freeSolo:pe=!1,fullWidth:ae=!1,getLimitTagsText:oe=ot=>`+${ot}`,getOptionLabel:me=ot=>{var dt;return(dt=ot.label)!=null?dt:ot},groupBy:xe,handleHomeEndKeys:ce=!s.freeSolo,includeInputInList:ge=!1,limitTags:Te=-1,ListboxComponent:Ue="ul",ListboxProps:We,loading:Ye=!1,loadingText:gt="Loading…",multiple:vt=!1,noOptionsText:jt="No options",openOnFocus:Rt=!1,openText:pn="Open",PaperComponent:Ut=pi,PopperComponent:rn=Np,popupIcon:et=mF||(mF=T.jsx(a4,{})),readOnly:Pt=!1,renderGroup:Ot,renderInput:Yt,renderOption:st,renderTags:Ct,selectOnFocus:ht=!s.freeSolo,size:en="medium",slotProps:Kt={}}=s,vn=mt(s,gte),{getRootProps:wn,getInputProps:Ve,getInputLabelProps:ft,getPopupIndicatorProps:Dt,getClearProps:Qt,getTagProps:yn,getListboxProps:on,getOptionProps:un,value:dn,dirty:sn,expanded:kn,id:Vn,popupOpen:ar,focused:vr,focusedTag:Ar,anchorEl:nr,setAnchorEl:gi,inputValue:ti,groupedOptions:Re}=LQ($({},s,{componentName:"Autocomplete"})),he=!ee&&!W&&sn&&!Pt,ye=(!pe||de===!0)&&de!==!1,{onMouseDown:Ie}=Ve(),{ref:ze}=We??{},He=on(),{ref:Xe}=He,Qe=mt(He,yte),Ge=fo(Xe,ze),tt=$({},s,{disablePortal:re,expanded:kn,focused:vr,fullWidth:ae,hasClearIcon:he,hasPopupIcon:ye,inputFocused:Ar===-1,popupOpen:ar,size:en}),Mt=vte(tt);let qt;if(vt&&dn.length>0){const ot=dt=>$({className:Mt.tag,disabled:W},yn(dt));Ct?qt=Ct(dn,ot,tt):qt=dn.map((dt,tn)=>T.jsx(s4,$({label:me(dt),size:en},ot({index:tn}),k)))}if(Te>-1&&Array.isArray(qt)){const ot=qt.length-Te;!vr&&ot>0&&(qt=qt.splice(0,Te),qt.push(T.jsx("span",{className:Mt.tag,children:oe(ot)},qt.length)))}const Un=Ot||(ot=>T.jsxs("li",{children:[T.jsx(kte,{className:Mt.groupLabel,ownerState:tt,component:"div",children:ot.group}),T.jsx(Ite,{className:Mt.groupUl,ownerState:tt,children:ot.children})]},ot.key)),$n=st||((ot,dt)=>T.jsx("li",$({},ot,{children:me(dt)}))),Dn=(ot,dt)=>{const tn=un({option:ot,index:dt});return $n($({},tn,{className:Mt.option}),ot,{selected:tn["aria-selected"],index:dt,inputValue:ti},tt)},Wn=(r=Kt.clearIndicator)!=null?r:B.clearIndicator,Rr=(i=Kt.paper)!=null?i:B.paper,Er=(c=Kt.popper)!=null?c:B.popper,ro=(d=Kt.popupIndicator)!=null?d:B.popupIndicator;return T.jsxs(P.Fragment,{children:[T.jsx(_te,$({ref:n,className:$t(Mt.root,O),ownerState:tt},wn(vn),{children:Yt({id:Vn,disabled:W,fullWidth:!0,size:en==="small"?"small":void 0,InputLabelProps:ft(),InputProps:$({ref:gi,className:Mt.inputRoot,startAdornment:qt,onClick:ot=>{ot.target===ot.currentTarget&&Ie(ot)}},(he||ye)&&{endAdornment:T.jsxs(xte,{className:Mt.endAdornment,ownerState:tt,children:[he?T.jsx(bte,$({},Qt(),{"aria-label":F,title:F,ownerState:tt},Wn,{className:$t(Mt.clearIndicator,Wn==null?void 0:Wn.className),children:R})):null,ye?T.jsx(wte,$({},Dt(),{disabled:W,"aria-label":ar?z:pn,title:ar?z:pn,ownerState:tt},ro,{className:$t(Mt.popupIndicator,ro==null?void 0:ro.className),children:et})):null]})}),inputProps:$({className:Mt.input,disabled:W,readOnly:Pt},Ve())})})),nr?T.jsx(Cte,$({as:rn,disablePortal:re,style:{width:nr?nr.clientWidth:null},ownerState:tt,role:"presentation",anchorEl:nr,open:ar},Er,{className:$t(Mt.popper,Er==null?void 0:Er.className),children:T.jsxs(Ste,$({ownerState:tt,as:Ut},Rr,{className:$t(Mt.paper,Rr==null?void 0:Rr.className),children:[Ye&&Re.length===0?T.jsx(Tte,{className:Mt.loading,ownerState:tt,children:gt}):null,Re.length===0&&!pe&&!Ye?T.jsx(Ete,{className:Mt.noOptions,ownerState:tt,role:"presentation",onMouseDown:ot=>{ot.preventDefault()},children:jt}):null,Re.length>0?T.jsx(Pte,$({as:Ue,className:Mt.listbox,ownerState:tt},Qe,We,{ref:Ge,children:Re.map((ot,dt)=>xe?Un({key:ot.key,group:ot.group,children:ot.options.map((tn,Tn)=>Dn(tn,ot.index+Tn))}):Dn(ot,dt))})):null]}))})):null]})}),JM=Mte,Ate=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Rte={entering:{opacity:1},entered:{opacity:1}},Ote=P.forwardRef(function(t,n){const r=Cl(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:c,appear:d=!0,children:s,easing:m,in:_,onEnter:w,onEntered:E,onEntering:k,onExit:O,onExited:R,onExiting:L,style:U,timeout:F=i,TransitionComponent:z=ZM}=t,B=mt(t,Ate),Z=P.useRef(null),ee=fo(Z,s.ref,n),X=ae=>oe=>{if(ae){const me=Z.current;oe===void 0?ae(me):ae(me,oe)}},W=X(k),ne=X((ae,oe)=>{XM(ae);const me=cy({style:U,timeout:F,easing:m},{mode:"enter"});ae.style.webkitTransition=r.transitions.create("opacity",me),ae.style.transition=r.transitions.create("opacity",me),w&&w(ae,oe)}),J=X(E),re=X(L),se=X(ae=>{const oe=cy({style:U,timeout:F,easing:m},{mode:"exit"});ae.style.webkitTransition=r.transitions.create("opacity",oe),ae.style.transition=r.transitions.create("opacity",oe),O&&O(ae)}),de=X(R),pe=ae=>{c&&c(Z.current,ae)};return T.jsx(z,$({appear:d,in:_,nodeRef:Z,onEnter:ne,onEntered:J,onEntering:W,onExit:se,onExited:de,onExiting:re,addEndListener:pe,timeout:F},B,{children:(ae,oe)=>P.cloneElement(s,$({style:$({opacity:0,visibility:ae==="exited"&&!_?"hidden":void 0},Rte[ae],U,s.props.style),ref:ee},oe))}))}),l4=Ote;function Dte(e){return qn("MuiBackdrop",e)}Zn("MuiBackdrop",["root","invisible"]);const Lte=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],zte=e=>{const{classes:t,invisible:n}=e;return hn({root:["root",n&&"invisible"]},Dte,t)},Fte=Et("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>$({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),jte=P.forwardRef(function(t,n){var r,i,c;const d=Xn({props:t,name:"MuiBackdrop"}),{children:s,className:m,component:_="div",components:w={},componentsProps:E={},invisible:k=!1,open:O,slotProps:R={},slots:L={},TransitionComponent:U=l4,transitionDuration:F}=d,z=mt(d,Lte),B=$({},d,{component:_,invisible:k}),Z=zte(B),ee=(r=R.root)!=null?r:E.root;return T.jsx(U,$({in:O,timeout:F},z,{children:T.jsx(Fte,$({"aria-hidden":!0},ee,{as:(i=(c=L.root)!=null?c:w.Root)!=null?i:_,className:$t(Z.root,m,ee==null?void 0:ee.className),ownerState:$({},B,ee==null?void 0:ee.ownerState),classes:Z,ref:n,children:s}))}))}),c4=jte;function $te(e){return qn("MuiBadge",e)}const Bte=Zn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),oh=Bte,Nte=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],eE=10,tE=4,Ute=e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:i,variant:c,classes:d={}}=e,s={root:["root"],badge:["badge",c,r&&"invisible",`anchorOrigin${xt(n.vertical)}${xt(n.horizontal)}`,`anchorOrigin${xt(n.vertical)}${xt(n.horizontal)}${xt(i)}`,`overlap${xt(i)}`,t!=="default"&&`color${xt(t)}`]};return hn(s,$te,d)},Vte=Et("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Hte=Et("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${xt(n.anchorOrigin.vertical)}${xt(n.anchorOrigin.horizontal)}${xt(n.overlap)}`],n.color!=="default"&&t[`color${xt(n.color)}`],n.invisible&&t.invisible]}})(({theme:e,ownerState:t})=>$({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:eE*2,lineHeight:1,padding:"0 6px",height:eE*2,borderRadius:eE,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.variant==="dot"&&{borderRadius:tE,height:tE*2,minWidth:tE*2,padding:0},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${oh.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},t.invisible&&{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})})),Gte=P.forwardRef(function(t,n){var r,i,c,d,s,m;const _=Xn({props:t,name:"MuiBadge"}),{anchorOrigin:w={vertical:"top",horizontal:"right"},className:E,component:k,components:O={},componentsProps:R={},children:L,overlap:U="rectangular",color:F="default",invisible:z=!1,max:B=99,badgeContent:Z,slots:ee,slotProps:X,showZero:W=!1,variant:ne="standard"}=_,J=mt(_,Nte),{badgeContent:re,invisible:se,max:de,displayValue:pe}=HX({max:B,invisible:z,badgeContent:Z,showZero:W}),ae=SM({anchorOrigin:w,color:F,overlap:U,variant:ne,badgeContent:Z}),oe=se||re==null&&ne!=="dot",{color:me=F,overlap:xe=U,anchorOrigin:ce=w,variant:ge=ne}=oe?ae:_,Te=ge!=="dot"?pe:void 0,Ue=$({},_,{badgeContent:re,invisible:oe,max:de,displayValue:Te,showZero:W,anchorOrigin:ce,color:me,overlap:xe,variant:ge}),We=Ute(Ue),Ye=(r=(i=ee==null?void 0:ee.root)!=null?i:O.Root)!=null?r:Vte,gt=(c=(d=ee==null?void 0:ee.badge)!=null?d:O.Badge)!=null?c:Hte,vt=(s=X==null?void 0:X.root)!=null?s:R.root,jt=(m=X==null?void 0:X.badge)!=null?m:R.badge,Rt=Wh({elementType:Ye,externalSlotProps:vt,externalForwardedProps:J,additionalProps:{ref:n,as:k},ownerState:Ue,className:$t(vt==null?void 0:vt.className,We.root,E)}),pn=Wh({elementType:gt,externalSlotProps:jt,ownerState:Ue,className:$t(We.badge,jt==null?void 0:jt.className)});return T.jsxs(Ye,$({},Rt,{children:[L,T.jsx(gt,$({},pn,{children:Te}))]}))}),u4=Gte,Wte=BM(),qte=LK({themeId:q_,defaultTheme:Wte,defaultClassName:"MuiBox-root",generateClassName:hN.generate}),pt=qte,Zte=Gn(T.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),Yte=["slots","slotProps"],Kte=Et(ha)(({theme:e})=>$({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":$({},e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":$({boxShadow:e.shadows[0]},e.palette.mode==="light"?{backgroundColor:Lz(e.palette.grey[200],.12)}:{backgroundColor:Lz(e.palette.grey[600],.12)})})),Xte=Et(Zte)({width:24,height:16});function Jte(e){const{slots:t={},slotProps:n={}}=e,r=mt(e,Yte),i=e;return T.jsx("li",{children:T.jsx(Kte,$({focusRipple:!0},r,{ownerState:i,children:T.jsx(Xte,$({as:t.CollapsedIcon,ownerState:i},n.collapsedIcon))}))})}function Qte(e){return qn("MuiBreadcrumbs",e)}const ene=Zn("MuiBreadcrumbs",["root","ol","li","separator"]),tne=ene,nne=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],rne=e=>{const{classes:t}=e;return hn({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Qte,t)},one=Et(Wt,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${tne.li}`]:t.li},t.root]})({}),ine=Et("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),sne=Et("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function ane(e,t,n,r){return e.reduce((i,c,d)=>(d<e.length-1?i=i.concat(c,T.jsx(sne,{"aria-hidden":!0,className:t,ownerState:r,children:n},`separator-${d}`)):i.push(c),i),[])}const lne=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiBreadcrumbs"}),{children:i,className:c,component:d="nav",slots:s={},slotProps:m={},expandText:_="Show path",itemsAfterCollapse:w=1,itemsBeforeCollapse:E=1,maxItems:k=8,separator:O="/"}=r,R=mt(r,nne),[L,U]=P.useState(!1),F=$({},r,{component:d,expanded:L,expandText:_,itemsAfterCollapse:w,itemsBeforeCollapse:E,maxItems:k,separator:O}),z=rne(F),B=Wh({elementType:s.CollapsedIcon,externalSlotProps:m.collapsedIcon,ownerState:F}),Z=P.useRef(null),ee=W=>{const ne=()=>{U(!0);const J=Z.current.querySelector("a[href],button,[tabindex]");J&&J.focus()};return E+w>=W.length?W:[...W.slice(0,E),T.jsx(Jte,{"aria-label":_,slots:{CollapsedIcon:s.CollapsedIcon},slotProps:{collapsedIcon:B},onClick:ne},"ellipsis"),...W.slice(W.length-w,W.length)]},X=P.Children.toArray(i).filter(W=>P.isValidElement(W)).map((W,ne)=>T.jsx("li",{className:z.li,children:W},`child-${ne}`));return T.jsx(one,$({ref:n,component:d,color:"text.secondary",className:$t(z.root,c),ownerState:F},R,{children:T.jsx(ine,{className:z.ol,ref:Z,ownerState:F,children:ane(L||k&&X.length<=k?X:ee(X),z.separator,O,F)})}))}),uy=lne;function cne(e){return qn("MuiButton",e)}const une=Zn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Nb=une,dne=P.createContext({}),d4=dne,hne=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],fne=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:c,classes:d}=e,s={root:["root",c,`${c}${xt(t)}`,`size${xt(i)}`,`${c}Size${xt(i)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${xt(i)}`],endIcon:["endIcon",`iconSize${xt(i)}`]},m=hn(s,cne,d);return $({},d,m)},h4=e=>$({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),pne=Et(ha,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${xt(n.color)}`],t[`size${xt(n.size)}`],t[`${n.variant}Size${xt(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],c=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return $({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":$({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:c,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Nb.focusVisible}`]:$({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Nb.disabled}`]:$({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${dr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Nb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Nb.disabled}`]:{boxShadow:"none"}}),mne=Et("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${xt(n.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},h4(e))),gne=Et("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${xt(n.size)}`]]}})(({ownerState:e})=>$({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},h4(e))),yne=P.forwardRef(function(t,n){const r=P.useContext(d4),i=TM(r,t),c=Xn({props:i,name:"MuiButton"}),{children:d,color:s="primary",component:m="button",className:_,disabled:w=!1,disableElevation:E=!1,disableFocusRipple:k=!1,endIcon:O,focusVisibleClassName:R,fullWidth:L=!1,size:U="medium",startIcon:F,type:z,variant:B="text"}=c,Z=mt(c,hne),ee=$({},c,{color:s,component:m,disabled:w,disableElevation:E,disableFocusRipple:k,fullWidth:L,size:U,type:z,variant:B}),X=fne(ee),W=F&&T.jsx(mne,{className:X.startIcon,ownerState:ee,children:F}),ne=O&&T.jsx(gne,{className:X.endIcon,ownerState:ee,children:O});return T.jsxs(pne,$({ownerState:ee,className:$t(r.className,X.root,_),component:m,disabled:w,focusRipple:!k,focusVisibleClassName:$t(X.focusVisible,R),ref:n,type:z},Z,{classes:X,children:[W,d,ne]}))}),Po=yne;function vne(e){return qn("MuiButtonGroup",e)}const _ne=Zn("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),Gc=_ne,xne=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],bne=(e,t)=>{const{ownerState:n}=e;return[{[`& .${Gc.grouped}`]:t.grouped},{[`& .${Gc.grouped}`]:t[`grouped${xt(n.orientation)}`]},{[`& .${Gc.grouped}`]:t[`grouped${xt(n.variant)}`]},{[`& .${Gc.grouped}`]:t[`grouped${xt(n.variant)}${xt(n.orientation)}`]},{[`& .${Gc.grouped}`]:t[`grouped${xt(n.variant)}${xt(n.color)}`]},t.root,t[n.variant],n.disableElevation===!0&&t.disableElevation,n.fullWidth&&t.fullWidth,n.orientation==="vertical"&&t.vertical]},wne=e=>{const{classes:t,color:n,disabled:r,disableElevation:i,fullWidth:c,orientation:d,variant:s}=e,m={root:["root",s,d==="vertical"&&"vertical",c&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${xt(d)}`,`grouped${xt(s)}`,`grouped${xt(s)}${xt(d)}`,`grouped${xt(s)}${xt(n)}`,r&&"disabled"]};return hn(m,vne,t)},Cne=Et("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:bne})(({theme:e,ownerState:t})=>$({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},t.orientation==="vertical"&&{flexDirection:"column"},{[`& .${Gc.grouped}`]:$({minWidth:40,"&:not(:first-of-type)":$({},t.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},t.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},t.variant==="outlined"&&t.orientation==="horizontal"&&{marginLeft:-1},t.variant==="outlined"&&t.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":$({},t.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},t.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},t.variant==="text"&&t.orientation==="horizontal"&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Gc.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.orientation==="vertical"&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Gc.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="text"&&t.color!=="inherit"&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:dr(e.palette[t.color].main,.5)},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"transparent"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"transparent"},t.variant==="contained"&&t.orientation==="horizontal"&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Gc.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.orientation==="vertical"&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Gc.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},t.variant==="contained"&&t.color!=="inherit"&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":$({},t.variant==="outlined"&&t.orientation==="horizontal"&&{borderRightColor:"currentColor"},t.variant==="outlined"&&t.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":$({},t.variant==="contained"&&{boxShadow:"none"})},t.variant==="contained"&&{boxShadow:"none"})})),Sne=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiButtonGroup"}),{children:i,className:c,color:d="primary",component:s="div",disabled:m=!1,disableElevation:_=!1,disableFocusRipple:w=!1,disableRipple:E=!1,fullWidth:k=!1,orientation:O="horizontal",size:R="medium",variant:L="outlined"}=r,U=mt(r,xne),F=$({},r,{color:d,component:s,disabled:m,disableElevation:_,disableFocusRipple:w,disableRipple:E,fullWidth:k,orientation:O,size:R,variant:L}),z=wne(F),B=P.useMemo(()=>({className:z.grouped,color:d,disabled:m,disableElevation:_,disableFocusRipple:w,disableRipple:E,fullWidth:k,size:R,variant:L}),[d,m,_,w,E,k,R,L,z.grouped]);return T.jsx(Cne,$({as:s,role:"group",className:$t(z.root,c),ref:n,ownerState:F},U,{children:T.jsx(d4.Provider,{value:B,children:i})}))}),Tne=Sne;function Ene(e){return qn("MuiCard",e)}Zn("MuiCard",["root"]);const Pne=["className","raised"],kne=e=>{const{classes:t}=e;return hn({root:["root"]},Ene,t)},Ine=Et(pi,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Mne=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiCard"}),{className:i,raised:c=!1}=r,d=mt(r,Pne),s=$({},r,{raised:c}),m=kne(s);return T.jsx(Ine,$({className:$t(m.root,i),elevation:c?8:void 0,ref:n,ownerState:s},d))}),f4=Mne;function Ane(e){return qn("MuiCardContent",e)}Zn("MuiCardContent",["root"]);const Rne=["className","component"],One=e=>{const{classes:t}=e;return hn({root:["root"]},Ane,t)},Dne=Et("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Lne=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiCardContent"}),{className:i,component:c="div"}=r,d=mt(r,Rne),s=$({},r,{component:c}),m=One(s);return T.jsx(Dne,$({as:c,className:$t(m.root,i),ownerState:s,ref:n},d))}),p4=Lne;function zne(e){return qn("MuiCardMedia",e)}Zn("MuiCardMedia",["root","media","img"]);const Fne=["children","className","component","image","src","style"],jne=e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e;return hn({root:["root",n&&"media",r&&"img"]},zne,t)},$ne=Et("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:i}=n;return[t.root,r&&t.media,i&&t.img]}})(({ownerState:e})=>$({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Bne=["video","audio","picture","iframe","img"],Nne=["picture","img"],Une=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiCardMedia"}),{children:i,className:c,component:d="div",image:s,src:m,style:_}=r,w=mt(r,Fne),E=Bne.indexOf(d)!==-1,k=!E&&s?$({backgroundImage:`url("${s}")`},_):_,O=$({},r,{component:d,isMediaComponent:E,isImageComponent:Nne.indexOf(d)!==-1}),R=jne(O);return T.jsx($ne,$({className:$t(R.root,c),as:d,role:!E&&s?"img":void 0,ref:n,style:k,ownerState:O,src:E?s||m:void 0},w,{children:i}))}),m4=Une;function Vne(e){return qn("PrivateSwitchBase",e)}Zn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Hne=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Gne=e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,c={root:["root",n&&"checked",r&&"disabled",i&&`edge${xt(i)}`],input:["input"]};return hn(c,Vne,t)},Wne=Et(ha)(({ownerState:e})=>$({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),qne=Et("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Zne=P.forwardRef(function(t,n){const{autoFocus:r,checked:i,checkedIcon:c,className:d,defaultChecked:s,disabled:m,disableFocusRipple:_=!1,edge:w=!1,icon:E,id:k,inputProps:O,inputRef:R,name:L,onBlur:U,onChange:F,onFocus:z,readOnly:B,required:Z=!1,tabIndex:ee,type:X,value:W}=t,ne=mt(t,Hne),[J,re]=$h({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),se=su(),de=ge=>{z&&z(ge),se&&se.onFocus&&se.onFocus(ge)},pe=ge=>{U&&U(ge),se&&se.onBlur&&se.onBlur(ge)},ae=ge=>{if(ge.nativeEvent.defaultPrevented)return;const Te=ge.target.checked;re(Te),F&&F(ge,Te)};let oe=m;se&&typeof oe>"u"&&(oe=se.disabled);const me=X==="checkbox"||X==="radio",xe=$({},t,{checked:J,disabled:oe,disableFocusRipple:_,edge:w}),ce=Gne(xe);return T.jsxs(Wne,$({component:"span",className:$t(ce.root,d),centerRipple:!0,focusRipple:!_,disabled:oe,tabIndex:null,role:void 0,onFocus:de,onBlur:pe,ownerState:xe,ref:n},ne,{children:[T.jsx(qne,$({autoFocus:r,checked:i,defaultChecked:s,className:ce.input,disabled:oe,id:me?k:void 0,name:L,onChange:ae,readOnly:B,ref:R,required:Z,ownerState:xe,tabIndex:ee,type:X},X==="checkbox"&&W===void 0?{}:{value:W},O)),J?c:E]}))}),QM=Zne,Yne=Gn(T.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Kne=Gn(T.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Xne=Gn(T.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Jne(e){return qn("MuiCheckbox",e)}const Qne=Zn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),nE=Qne,ere=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],tre=e=>{const{classes:t,indeterminate:n,color:r}=e,i={root:["root",n&&"indeterminate",`color${xt(r)}`]},c=hn(i,Jne,t);return $({},t,c)},nre=Et(QM,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,n.color!=="default"&&t[`color${xt(n.color)}`]]}})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${nE.checked}, &.${nE.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${nE.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),rre=T.jsx(Kne,{}),ore=T.jsx(Yne,{}),ire=T.jsx(Xne,{}),sre=P.forwardRef(function(t,n){var r,i;const c=Xn({props:t,name:"MuiCheckbox"}),{checkedIcon:d=rre,color:s="primary",icon:m=ore,indeterminate:_=!1,indeterminateIcon:w=ire,inputProps:E,size:k="medium",className:O}=c,R=mt(c,ere),L=_?w:m,U=_?w:d,F=$({},c,{color:s,indeterminate:_,size:k}),z=tre(F);return T.jsx(nre,$({type:"checkbox",inputProps:$({"data-indeterminate":_},E),icon:P.cloneElement(L,{fontSize:(r=L.props.fontSize)!=null?r:k}),checkedIcon:P.cloneElement(U,{fontSize:(i=U.props.fontSize)!=null?i:k}),ownerState:F,ref:n,className:$t(z.root,O)},R,{classes:z}))}),_1=sre;function are(e){return qn("MuiCircularProgress",e)}Zn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const lre=["className","color","disableShrink","size","style","thickness","value","variant"];let iS=e=>e,gF,yF,vF,_F;const ih=44,cre=Bp(gF||(gF=iS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),ure=Bp(yF||(yF=iS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),dre=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,c={root:["root",n,`color${xt(r)}`],svg:["svg"],circle:["circle",`circle${xt(n)}`,i&&"circleDisableShrink"]};return hn(c,are,t)},hre=Et("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${xt(n.color)}`]]}})(({ownerState:e,theme:t})=>$({display:"inline-block"},e.variant==="determinate"&&{transition:t.transitions.create("transform")},e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&__(vF||(vF=iS`
      animation: ${0} 1.4s linear infinite;
    `),cre)),fre=Et("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),pre=Et("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${xt(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>$({stroke:"currentColor"},e.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&__(_F||(_F=iS`
      animation: ${0} 1.4s ease-in-out infinite;
    `),ure)),mre=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiCircularProgress"}),{className:i,color:c="primary",disableShrink:d=!1,size:s=40,style:m,thickness:_=3.6,value:w=0,variant:E="indeterminate"}=r,k=mt(r,lre),O=$({},r,{color:c,disableShrink:d,size:s,thickness:_,value:w,variant:E}),R=dre(O),L={},U={},F={};if(E==="determinate"){const z=2*Math.PI*((ih-_)/2);L.strokeDasharray=z.toFixed(3),F["aria-valuenow"]=Math.round(w),L.strokeDashoffset=`${((100-w)/100*z).toFixed(3)}px`,U.transform="rotate(-90deg)"}return T.jsx(hre,$({className:$t(R.root,i),style:$({width:s,height:s},U,m),ownerState:O,ref:n,role:"progressbar"},F,k,{children:T.jsx(fre,{className:R.svg,ownerState:O,viewBox:`${ih/2} ${ih/2} ${ih} ${ih}`,children:T.jsx(pre,{className:R.circle,style:L,ownerState:O,cx:ih,cy:ih,r:(ih-_)/2,fill:"none",strokeWidth:_})})}))}),sS=mre,gre=oX({createStyledComponent:Et("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${xt(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Xn({props:e,name:"MuiContainer"})}),g4=gre,yre=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],vre=Et("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>$({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),_re=Et(c4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),xre=P.forwardRef(function(t,n){var r,i,c,d,s,m;const _=Xn({name:"MuiModal",props:t}),{BackdropComponent:w=_re,BackdropProps:E,classes:k,className:O,closeAfterTransition:R=!1,children:L,container:U,component:F,components:z={},componentsProps:B={},disableAutoFocus:Z=!1,disableEnforceFocus:ee=!1,disableEscapeKeyDown:X=!1,disablePortal:W=!1,disableRestoreFocus:ne=!1,disableScrollLock:J=!1,hideBackdrop:re=!1,keepMounted:se=!1,onBackdropClick:de,onClose:pe,open:ae,slotProps:oe,slots:me,theme:xe}=_,ce=mt(_,yre),[ge,Te]=P.useState(!0),Ue={container:U,closeAfterTransition:R,disableAutoFocus:Z,disableEnforceFocus:ee,disableEscapeKeyDown:X,disablePortal:W,disableRestoreFocus:ne,disableScrollLock:J,hideBackdrop:re,keepMounted:se,onBackdropClick:de,onClose:pe,open:ae},We=$({},_,Ue,{exited:ge}),Ye=(r=(i=me==null?void 0:me.root)!=null?i:z.Root)!=null?r:vre,gt=(c=(d=me==null?void 0:me.backdrop)!=null?d:z.Backdrop)!=null?c:w,vt=(s=oe==null?void 0:oe.root)!=null?s:B.root,jt=(m=oe==null?void 0:oe.backdrop)!=null?m:B.backdrop;return T.jsx(kQ,$({slots:{root:Ye,backdrop:gt},slotProps:{root:()=>$({},ok(vt,We),!oy(Ye)&&{as:F,theme:xe},{className:$t(O,vt==null?void 0:vt.className,k==null?void 0:k.root,!We.open&&We.exited&&(k==null?void 0:k.hidden))}),backdrop:()=>$({},E,ok(jt,We),{className:$t(jt==null?void 0:jt.className,E==null?void 0:E.className,k==null?void 0:k.backdrop)})},onTransitionEnter:()=>Te(!1),onTransitionExited:()=>Te(!0),ref:n},ce,Ue,{children:L}))}),y4=xre;function bre(e){return qn("MuiDialog",e)}const wre=Zn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),rE=wre,Cre=P.createContext({}),Sre=Cre,Tre=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Ere=Et(c4,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Pre=e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:c}=e,d={root:["root"],container:["container",`scroll${xt(n)}`],paper:["paper",`paperScroll${xt(n)}`,`paperWidth${xt(String(r))}`,i&&"paperFullWidth",c&&"paperFullScreen"]};return hn(d,bre,t)},kre=Et(y4,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ire=Et("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${xt(n.scroll)}`]]}})(({ownerState:e})=>$({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Mre=Et(pi,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${xt(n.scroll)}`],t[`paperWidth${xt(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>$({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${rE.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${rE.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${rE.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Are=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiDialog"}),i=Cl(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":s,BackdropComponent:m,BackdropProps:_,children:w,className:E,disableEscapeKeyDown:k=!1,fullScreen:O=!1,fullWidth:R=!1,maxWidth:L="sm",onBackdropClick:U,onClose:F,open:z,PaperComponent:B=pi,PaperProps:Z={},scroll:ee="paper",TransitionComponent:X=l4,transitionDuration:W=c,TransitionProps:ne}=r,J=mt(r,Tre),re=$({},r,{disableEscapeKeyDown:k,fullScreen:O,fullWidth:R,maxWidth:L,scroll:ee}),se=Pre(re),de=P.useRef(),pe=xe=>{de.current=xe.target===xe.currentTarget},ae=xe=>{de.current&&(de.current=null,U&&U(xe),F&&F(xe,"backdropClick"))},oe=Ao(s),me=P.useMemo(()=>({titleId:oe}),[oe]);return T.jsx(kre,$({className:$t(se.root,E),closeAfterTransition:!0,components:{Backdrop:Ere},componentsProps:{backdrop:$({transitionDuration:W,as:m},_)},disableEscapeKeyDown:k,onClose:F,open:z,ref:n,onClick:ae,ownerState:re},J,{children:T.jsx(X,$({appear:!0,in:z,timeout:W,role:"presentation"},ne,{children:T.jsx(Ire,{className:$t(se.container),onMouseDown:pe,ownerState:re,children:T.jsx(Mre,$({as:B,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":oe},Z,{className:$t(se.paper,Z.className),ownerState:re,children:T.jsx(Sre.Provider,{value:me,children:w})}))})}))}))}),v4=Are;function Rre(e){return qn("MuiDivider",e)}const Ore=Zn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),xF=Ore,Dre=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Lre=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:c,orientation:d,textAlign:s,variant:m}=e;return hn({root:["root",t&&"absolute",m,c&&"light",d==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&d==="vertical"&&"withChildrenVertical",s==="right"&&d!=="vertical"&&"textAlignRight",s==="left"&&d!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",d==="vertical"&&"wrapperVertical"]},Rre,r)},zre=Et("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>$({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:dr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>$({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>$({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>$({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>$({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Fre=Et("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>$({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),jre=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiDivider"}),{absolute:i=!1,children:c,className:d,component:s=c?"div":"hr",flexItem:m=!1,light:_=!1,orientation:w="horizontal",role:E=s!=="hr"?"separator":void 0,textAlign:k="center",variant:O="fullWidth"}=r,R=mt(r,Dre),L=$({},r,{absolute:i,component:s,flexItem:m,light:_,orientation:w,role:E,textAlign:k,variant:O}),U=Lre(L);return T.jsx(zre,$({as:s,className:$t(U.root,d),role:E,ref:n,ownerState:L},R,{children:c?T.jsx(Fre,{className:U.wrapper,ownerState:L,children:c}):null}))}),Ko=jre,$re=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Bre(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),c=tu(t);let d;if(t.fakeTransform)d=t.fakeTransform;else{const _=c.getComputedStyle(t);d=_.getPropertyValue("-webkit-transform")||_.getPropertyValue("transform")}let s=0,m=0;if(d&&d!=="none"&&typeof d=="string"){const _=d.split("(")[1].split(")")[0].split(",");s=parseInt(_[4],10),m=parseInt(_[5],10)}return e==="left"?i?`translateX(${i.right+s-r.left}px)`:`translateX(${c.innerWidth+s-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:e==="up"?i?`translateY(${i.bottom+m-r.top}px)`:`translateY(${c.innerHeight+m-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-m}px)`:`translateY(-${r.top+r.height-m}px)`}function Nre(e){return typeof e=="function"?e():e}function Ub(e,t,n){const r=Nre(n),i=Bre(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Ure=P.forwardRef(function(t,n){const r=Cl(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},c={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:d,appear:s=!0,children:m,container:_,direction:w="down",easing:E=i,in:k,onEnter:O,onEntered:R,onEntering:L,onExit:U,onExited:F,onExiting:z,style:B,timeout:Z=c,TransitionComponent:ee=ZM}=t,X=mt(t,$re),W=P.useRef(null),ne=fo(m.ref,W,n),J=ce=>ge=>{ce&&(ge===void 0?ce(W.current):ce(W.current,ge))},re=J((ce,ge)=>{Ub(w,ce,_),XM(ce),O&&O(ce,ge)}),se=J((ce,ge)=>{const Te=cy({timeout:Z,style:B,easing:E},{mode:"enter"});ce.style.webkitTransition=r.transitions.create("-webkit-transform",$({},Te)),ce.style.transition=r.transitions.create("transform",$({},Te)),ce.style.webkitTransform="none",ce.style.transform="none",L&&L(ce,ge)}),de=J(R),pe=J(z),ae=J(ce=>{const ge=cy({timeout:Z,style:B,easing:E},{mode:"exit"});ce.style.webkitTransition=r.transitions.create("-webkit-transform",ge),ce.style.transition=r.transitions.create("transform",ge),Ub(w,ce,_),U&&U(ce)}),oe=J(ce=>{ce.style.webkitTransition="",ce.style.transition="",F&&F(ce)}),me=ce=>{d&&d(W.current,ce)},xe=P.useCallback(()=>{W.current&&Ub(w,W.current,_)},[w,_]);return P.useEffect(()=>{if(k||w==="down"||w==="right")return;const ce=W_(()=>{W.current&&Ub(w,W.current,_)}),ge=tu(W.current);return ge.addEventListener("resize",ce),()=>{ce.clear(),ge.removeEventListener("resize",ce)}},[w,k,_]),P.useEffect(()=>{k||xe()},[k,xe]),T.jsx(ee,$({nodeRef:W,onEnter:re,onEntered:de,onEntering:se,onExit:ae,onExited:oe,onExiting:pe,addEndListener:me,appear:s,in:k,timeout:Z},X,{children:(ce,ge)=>P.cloneElement(m,$({ref:ne,style:$({visibility:ce==="exited"&&!k?"hidden":void 0},B,m.props.style)},ge))}))}),Vre=Ure,Hre=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Gre=e=>{const{classes:t,disableUnderline:n}=e,i=hn({root:["root",!n&&"underline"],input:["input"]},hte,t);return $({},t,i)},Wre=Et(rS,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...tS(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const r=e.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return $({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c}},[`&.${Oa.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c},[`&.${Oa.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Oa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Oa.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Oa.disabled}, .${Oa.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Oa.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&$({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),qre=Et(oS,{name:"MuiFilledInput",slot:"Input",overridesResolver:nS})(({theme:e,ownerState:t})=>$({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),_4=P.forwardRef(function(t,n){var r,i,c,d;const s=Xn({props:t,name:"MuiFilledInput"}),{components:m={},componentsProps:_,fullWidth:w=!1,inputComponent:E="input",multiline:k=!1,slotProps:O,slots:R={},type:L="text"}=s,U=mt(s,Hre),F=$({},s,{fullWidth:w,inputComponent:E,multiline:k,type:L}),z=Gre(s),B={root:{ownerState:F},input:{ownerState:F}},Z=O??_?la(O??_,B):B,ee=(r=(i=R.root)!=null?i:m.Root)!=null?r:Wre,X=(c=(d=R.input)!=null?d:m.Input)!=null?c:qre;return T.jsx(au,$({slots:{root:ee,input:X},componentsProps:Z,fullWidth:w,inputComponent:E,multiline:k,ref:n,type:L},U,{classes:z}))});_4.muiName="Input";const x4=_4;function Zre(e){return qn("MuiFormControl",e)}Zn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Yre=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Kre=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${xt(n)}`,r&&"fullWidth"]};return hn(i,Zre,t)},Xre=Et("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>$({},t.root,t[`margin${xt(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>$({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Jre=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiFormControl"}),{children:i,className:c,color:d="primary",component:s="div",disabled:m=!1,error:_=!1,focused:w,fullWidth:E=!1,hiddenLabel:k=!1,margin:O="none",required:R=!1,size:L="medium",variant:U="outlined"}=r,F=mt(r,Yre),z=$({},r,{color:d,component:s,disabled:m,error:_,fullWidth:E,hiddenLabel:k,margin:O,required:R,size:L,variant:U}),B=Kre(z),[Z,ee]=P.useState(()=>{let pe=!1;return i&&P.Children.forEach(i,ae=>{if(!ZT(ae,["Input","Select"]))return;const oe=ZT(ae,["Select"])?ae.props.input:ae;oe&&tte(oe.props)&&(pe=!0)}),pe}),[X,W]=P.useState(()=>{let pe=!1;return i&&P.Children.forEach(i,ae=>{ZT(ae,["Input","Select"])&&(fw(ae.props,!0)||fw(ae.props.inputProps,!0))&&(pe=!0)}),pe}),[ne,J]=P.useState(!1);m&&ne&&J(!1);const re=w!==void 0&&!m?w:ne;let se;const de=P.useMemo(()=>({adornedStart:Z,setAdornedStart:ee,color:d,disabled:m,error:_,filled:X,focused:re,fullWidth:E,hiddenLabel:k,size:L,onBlur:()=>{J(!1)},onEmpty:()=>{W(!1)},onFilled:()=>{W(!0)},onFocus:()=>{J(!0)},registerEffect:se,required:R,variant:U}),[Z,d,m,_,X,re,E,k,se,R,L,U]);return T.jsx(eS.Provider,{value:de,children:T.jsx(Xre,$({as:s,ownerState:z,className:$t(B.root,c),ref:n},F,{children:i}))})}),lp=Jre;function Qre(e){return qn("MuiFormControlLabel",e)}const eoe=Zn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),S0=eoe,toe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],noe=e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:c}=e,d={root:["root",n&&"disabled",`labelPlacement${xt(r)}`,i&&"error",c&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return hn(d,Qre,t)},roe=Et("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${S0.label}`]:t.label},t.root,t[`labelPlacement${xt(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>$({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${S0.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${S0.label}`]:{[`&.${S0.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),ooe=Et("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${S0.error}`]:{color:(e.vars||e).palette.error.main}})),ioe=P.forwardRef(function(t,n){var r,i;const c=Xn({props:t,name:"MuiFormControlLabel"}),{className:d,componentsProps:s={},control:m,disabled:_,disableTypography:w,label:E,labelPlacement:k="end",required:O,slotProps:R={}}=c,L=mt(c,toe),U=su(),F=(r=_??m.props.disabled)!=null?r:U==null?void 0:U.disabled,z=O??m.props.required,B={disabled:F,required:z};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof m.props[J]>"u"&&typeof c[J]<"u"&&(B[J]=c[J])});const Z=nf({props:c,muiFormControl:U,states:["error"]}),ee=$({},c,{disabled:F,labelPlacement:k,required:z,error:Z.error}),X=noe(ee),W=(i=R.typography)!=null?i:s.typography;let ne=E;return ne!=null&&ne.type!==Wt&&!w&&(ne=T.jsx(Wt,$({component:"span"},W,{className:$t(X.label,W==null?void 0:W.className),children:ne}))),T.jsxs(roe,$({className:$t(X.root,d),ownerState:ee,ref:n},L,{children:[P.cloneElement(m,B),ne,z&&T.jsxs(ooe,{ownerState:ee,"aria-hidden":!0,className:X.asterisk,children:[" ","*"]})]}))}),lh=ioe;function soe(e){return qn("MuiFormGroup",e)}Zn("MuiFormGroup",["root","row","error"]);const aoe=["className","row"],loe=e=>{const{classes:t,row:n,error:r}=e;return hn({root:["root",n&&"row",r&&"error"]},soe,t)},coe=Et("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>$({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),uoe=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiFormGroup"}),{className:i,row:c=!1}=r,d=mt(r,aoe),s=su(),m=nf({props:r,muiFormControl:s,states:["error"]}),_=$({},r,{row:c,error:m.error}),w=loe(_);return T.jsx(coe,$({className:$t(w.root,i),ownerState:_,ref:n},d))}),doe=uoe;function hoe(e){return qn("MuiFormHelperText",e)}const foe=Zn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),bF=foe;var wF;const poe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],moe=e=>{const{classes:t,contained:n,size:r,disabled:i,error:c,filled:d,focused:s,required:m}=e,_={root:["root",i&&"disabled",c&&"error",r&&`size${xt(r)}`,n&&"contained",s&&"focused",d&&"filled",m&&"required"]};return hn(_,hoe,t)},goe=Et("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${xt(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${bF.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${bF.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),yoe=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiFormHelperText"}),{children:i,className:c,component:d="p"}=r,s=mt(r,poe),m=su(),_=nf({props:r,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),w=$({},r,{component:d,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required}),E=moe(w);return T.jsx(goe,$({as:d,ownerState:w,className:$t(E.root,c),ref:n},s,{children:i===" "?wF||(wF=T.jsx("span",{className:"notranslate",children:"​"})):i}))}),voe=yoe;function _oe(e){return qn("MuiFormLabel",e)}const xoe=Zn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),U0=xoe,boe=["children","className","color","component","disabled","error","filled","focused","required"],woe=e=>{const{classes:t,color:n,focused:r,disabled:i,error:c,filled:d,required:s}=e,m={root:["root",`color${xt(n)}`,i&&"disabled",c&&"error",d&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",c&&"error"]};return hn(m,_oe,t)},Coe=Et("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>$({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${U0.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${U0.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${U0.error}`]:{color:(e.vars||e).palette.error.main}})),Soe=Et("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${U0.error}`]:{color:(e.vars||e).palette.error.main}})),Toe=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiFormLabel"}),{children:i,className:c,component:d="label"}=r,s=mt(r,boe),m=su(),_=nf({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),w=$({},r,{color:_.color||"primary",component:d,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required}),E=woe(w);return T.jsxs(Coe,$({as:d,ownerState:w,className:$t(E.root,c),ref:n},s,{children:[i,_.required&&T.jsxs(Soe,{ownerState:w,"aria-hidden":!0,className:E.asterisk,children:[" ","*"]})]}))}),Eoe=Toe,Poe=P.createContext(),CF=Poe;function koe(e){return qn("MuiGrid",e)}const Ioe=[0,1,2,3,4,5,6,7,8,9,10],Moe=["column-reverse","column","row-reverse","row"],Aoe=["nowrap","wrap-reverse","wrap"],r0=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],w_=Zn("MuiGrid",["root","container","item","zeroMinWidth",...Ioe.map(e=>`spacing-xs-${e}`),...Moe.map(e=>`direction-xs-${e}`),...Aoe.map(e=>`wrap-xs-${e}`),...r0.map(e=>`grid-xs-${e}`),...r0.map(e=>`grid-sm-${e}`),...r0.map(e=>`grid-md-${e}`),...r0.map(e=>`grid-lg-${e}`),...r0.map(e=>`grid-xl-${e}`)]),Roe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function jg(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Ooe({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,i)=>{let c={};if(t[i]&&(n=t[i]),!n)return r;if(n===!0)c={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")c={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const d=BC({values:t.columns,breakpoints:e.breakpoints.values}),s=typeof d=="object"?d[i]:d;if(s==null)return r;const m=`${Math.round(n/s*1e8)/1e6}%`;let _={};if(t.container&&t.item&&t.columnSpacing!==0){const w=e.spacing(t.columnSpacing);if(w!=="0px"){const E=`calc(${m} + ${jg(w)})`;_={flexBasis:E,maxWidth:E}}}c=$({flexBasis:m,flexGrow:0,maxWidth:m},_)}return e.breakpoints.values[i]===0?Object.assign(r,c):r[e.breakpoints.up(i)]=c,r},{})}function Doe({theme:e,ownerState:t}){const n=BC({values:t.direction,breakpoints:e.breakpoints.values});return _l({theme:e},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${w_.item}`]={maxWidth:"none"}),i})}function b4({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(i=>{n===""&&t[i]!==0&&(n=i)});const r=Object.keys(e).sort((i,c)=>e[i]-e[c]);return r.slice(0,r.indexOf(n))}function Loe({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&r!==0){const c=BC({values:r,breakpoints:e.breakpoints.values});let d;typeof c=="object"&&(d=b4({breakpoints:e.breakpoints.values,values:c})),i=_l({theme:e},c,(s,m)=>{var _;const w=e.spacing(s);return w!=="0px"?{marginTop:`-${jg(w)}`,[`& > .${w_.item}`]:{paddingTop:jg(w)}}:(_=d)!=null&&_.includes(m)?{}:{marginTop:0,[`& > .${w_.item}`]:{paddingTop:0}}})}return i}function zoe({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&r!==0){const c=BC({values:r,breakpoints:e.breakpoints.values});let d;typeof c=="object"&&(d=b4({breakpoints:e.breakpoints.values,values:c})),i=_l({theme:e},c,(s,m)=>{var _;const w=e.spacing(s);return w!=="0px"?{width:`calc(100% + ${jg(w)})`,marginLeft:`-${jg(w)}`,[`& > .${w_.item}`]:{paddingLeft:jg(w)}}:(_=d)!=null&&_.includes(m)?{}:{width:"100%",marginLeft:0,[`& > .${w_.item}`]:{paddingLeft:0}}})}return i}function Foe(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(i=>{const c=e[i];Number(c)>0&&r.push(n[`spacing-${i}-${String(c)}`])}),r}const joe=Et("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:c,spacing:d,wrap:s,zeroMinWidth:m,breakpoints:_}=n;let w=[];r&&(w=Foe(d,_,t));const E=[];return _.forEach(k=>{const O=n[k];O&&E.push(t[`grid-${k}-${String(O)}`])}),[t.root,r&&t.container,c&&t.item,m&&t.zeroMinWidth,...w,i!=="row"&&t[`direction-xs-${String(i)}`],s!=="wrap"&&t[`wrap-xs-${String(s)}`],...E]}})(({ownerState:e})=>$({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),Doe,Loe,zoe,Ooe);function $oe(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const i=e[r];if(Number(i)>0){const c=`spacing-${r}-${String(i)}`;n.push(c)}}),n}const Boe=e=>{const{classes:t,container:n,direction:r,item:i,spacing:c,wrap:d,zeroMinWidth:s,breakpoints:m}=e;let _=[];n&&(_=$oe(c,m));const w=[];m.forEach(k=>{const O=e[k];O&&w.push(`grid-${k}-${String(O)}`)});const E={root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",..._,r!=="row"&&`direction-xs-${String(r)}`,d!=="wrap"&&`wrap-xs-${String(d)}`,...w]};return hn(E,koe,t)},Noe=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiGrid"}),{breakpoints:i}=Cl(),c=jM(r),{className:d,columns:s,columnSpacing:m,component:_="div",container:w=!1,direction:E="row",item:k=!1,rowSpacing:O,spacing:R=0,wrap:L="wrap",zeroMinWidth:U=!1}=c,F=mt(c,Roe),z=O||R,B=m||R,Z=P.useContext(CF),ee=w?s||12:Z,X={},W=$({},F);i.keys.forEach(re=>{F[re]!=null&&(X[re]=F[re],delete W[re])});const ne=$({},c,{columns:ee,container:w,direction:E,item:k,rowSpacing:z,columnSpacing:B,wrap:L,zeroMinWidth:U,spacing:R},X,{breakpoints:i.keys}),J=Boe(ne);return T.jsx(CF.Provider,{value:ee,children:T.jsx(joe,$({ownerState:ne,className:$t(J.root,d),as:_,ref:n},W))})}),Cn=Noe,Uoe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function hk(e){return`scale(${e}, ${e**2})`}const Voe={entering:{opacity:1,transform:hk(1)},entered:{opacity:1,transform:"none"}},oE=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),w4=P.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:c,easing:d,in:s,onEnter:m,onEntered:_,onEntering:w,onExit:E,onExited:k,onExiting:O,style:R,timeout:L="auto",TransitionComponent:U=ZM}=t,F=mt(t,Uoe),z=P.useRef(),B=P.useRef(),Z=Cl(),ee=P.useRef(null),X=fo(ee,c.ref,n),W=oe=>me=>{if(oe){const xe=ee.current;me===void 0?oe(xe):oe(xe,me)}},ne=W(w),J=W((oe,me)=>{XM(oe);const{duration:xe,delay:ce,easing:ge}=cy({style:R,timeout:L,easing:d},{mode:"enter"});let Te;L==="auto"?(Te=Z.transitions.getAutoHeightDuration(oe.clientHeight),B.current=Te):Te=xe,oe.style.transition=[Z.transitions.create("opacity",{duration:Te,delay:ce}),Z.transitions.create("transform",{duration:oE?Te:Te*.666,delay:ce,easing:ge})].join(","),m&&m(oe,me)}),re=W(_),se=W(O),de=W(oe=>{const{duration:me,delay:xe,easing:ce}=cy({style:R,timeout:L,easing:d},{mode:"exit"});let ge;L==="auto"?(ge=Z.transitions.getAutoHeightDuration(oe.clientHeight),B.current=ge):ge=me,oe.style.transition=[Z.transitions.create("opacity",{duration:ge,delay:xe}),Z.transitions.create("transform",{duration:oE?ge:ge*.666,delay:oE?xe:xe||ge*.333,easing:ce})].join(","),oe.style.opacity=0,oe.style.transform=hk(.75),E&&E(oe)}),pe=W(k),ae=oe=>{L==="auto"&&(z.current=setTimeout(oe,B.current||0)),r&&r(ee.current,oe)};return P.useEffect(()=>()=>{clearTimeout(z.current)},[]),T.jsx(U,$({appear:i,in:s,nodeRef:ee,onEnter:J,onEntered:re,onEntering:ne,onExit:de,onExited:pe,onExiting:se,addEndListener:ae,timeout:L==="auto"?null:L},F,{children:(oe,me)=>P.cloneElement(c,$({style:$({opacity:0,transform:hk(.75),visibility:oe==="exited"&&!s?"hidden":void 0},Voe[oe],R,c.props.style),ref:X},me))}))});w4.muiSupportAuto=!0;const pw=w4,Hoe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Goe=e=>{const{classes:t,disableUnderline:n}=e,i=hn({root:["root",!n&&"underline"],input:["input"]},lte,t);return $({},t,i)},Woe=Et(rS,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...tS(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),$({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bh.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bh.disabled}, .${bh.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${bh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),qoe=Et(oS,{name:"MuiInput",slot:"Input",overridesResolver:nS})({}),C4=P.forwardRef(function(t,n){var r,i,c,d;const s=Xn({props:t,name:"MuiInput"}),{disableUnderline:m,components:_={},componentsProps:w,fullWidth:E=!1,inputComponent:k="input",multiline:O=!1,slotProps:R,slots:L={},type:U="text"}=s,F=mt(s,Hoe),z=Goe(s),Z={root:{ownerState:{disableUnderline:m}}},ee=R??w?la(R??w,Z):Z,X=(r=(i=L.root)!=null?i:_.Root)!=null?r:Woe,W=(c=(d=L.input)!=null?d:_.Input)!=null?c:qoe;return T.jsx(au,$({slots:{root:X,input:W},slotProps:ee,fullWidth:E,inputComponent:k,multiline:O,ref:n,type:U},F,{classes:z}))});C4.muiName="Input";const S4=C4;function Zoe(e){return qn("MuiInputAdornment",e)}const Yoe=Zn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),SF=Yoe;var TF;const Koe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Xoe=(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${xt(n.position)}`],n.disablePointerEvents===!0&&t.disablePointerEvents,t[n.variant]]},Joe=e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:c,variant:d}=e,s={root:["root",n&&"disablePointerEvents",i&&`position${xt(i)}`,d,r&&"hiddenLabel",c&&`size${xt(c)}`]};return hn(s,Zoe,t)},Qoe=Et("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Xoe})(({theme:e,ownerState:t})=>$({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${SF.positionStart}&:not(.${SF.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),eie=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiInputAdornment"}),{children:i,className:c,component:d="div",disablePointerEvents:s=!1,disableTypography:m=!1,position:_,variant:w}=r,E=mt(r,Koe),k=su()||{};let O=w;w&&k.variant,k&&!O&&(O=k.variant);const R=$({},r,{hiddenLabel:k.hiddenLabel,size:k.size,disablePointerEvents:s,position:_,variant:O}),L=Joe(R);return T.jsx(eS.Provider,{value:null,children:T.jsx(Qoe,$({as:d,ownerState:R,className:$t(L.root,c),ref:n},E,{children:typeof i=="string"&&!m?T.jsx(Wt,{color:"text.secondary",children:i}):T.jsxs(P.Fragment,{children:[_==="start"?TF||(TF=T.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})}),dy=eie;function tie(e){return qn("MuiInputLabel",e)}Zn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const nie=["disableAnimation","margin","shrink","variant","className"],rie=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:c,variant:d,required:s}=e,_=hn({root:["root",n&&"formControl",!c&&"animated",i&&"shrink",r==="small"&&"sizeSmall",d],asterisk:[s&&"asterisk"]},tie,t);return $({},t,_)},oie=Et(Eoe,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${U0.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})(({theme:e,ownerState:t})=>$({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&$({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&$({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&$({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),iie=P.forwardRef(function(t,n){const r=Xn({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:c,className:d}=r,s=mt(r,nie),m=su();let _=c;typeof _>"u"&&m&&(_=m.filled||m.focused||m.adornedStart);const w=nf({props:r,muiFormControl:m,states:["size","variant","required"]}),E=$({},r,{disableAnimation:i,formControl:m,shrink:_,size:w.size,variant:w.variant,required:w.required}),k=rie(E);return T.jsx(oie,$({"data-shrink":_,ownerState:E,ref:n,className:$t(k.root,d)},s,{classes:k}))}),T4=iie;function sie(e){return qn("MuiLink",e)}const aie=Zn("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),lie=aie,E4={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},cie=e=>E4[e]||e,uie=({theme:e,ownerState:t})=>{const n=cie(t.color),r=ry(e,`palette.${n}`,!1)||t.color,i=ry(e,`palette.${n}Channel`);return"vars"in e&&i?`rgba(${i} / 0.4)`:dr(r,.4)},die=uie,hie=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],fie=e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,c={root:["root",`underline${xt(i)}`,n==="button"&&"button",r&&"focusVisible"]};return hn(c,sie,t)},pie=Et(Wt,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${xt(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>$({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&$({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:die({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lie.focusVisible}`]:{outline:"auto"}})),mie=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiLink"}),{className:i,color:c="primary",component:d="a",onBlur:s,onFocus:m,TypographyClasses:_,underline:w="always",variant:E="inherit",sx:k}=r,O=mt(r,hie),{isFocusVisibleRef:R,onBlur:L,onFocus:U,ref:F}=CM(),[z,B]=P.useState(!1),Z=fo(n,F),ee=J=>{L(J),R.current===!1&&B(!1),s&&s(J)},X=J=>{U(J),R.current===!0&&B(!0),m&&m(J)},W=$({},r,{color:c,component:d,focusVisible:z,underline:w,variant:E}),ne=fie(W);return T.jsx(pie,$({color:c,className:$t(ne.root,i),classes:_,component:d,onBlur:ee,onFocus:X,ref:Z,ownerState:W,variant:E,sx:[...Object.keys(E4).includes(c)?[]:[{color:c}],...Array.isArray(k)?k:[k]]},O))}),qh=mie,gie=P.createContext({}),C_=gie;function yie(e){return qn("MuiList",e)}Zn("MuiList",["root","padding","dense","subheader"]);const vie=["children","className","component","dense","disablePadding","subheader"],_ie=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return hn({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},yie,t)},xie=Et("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>$({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),bie=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiList"}),{children:i,className:c,component:d="ul",dense:s=!1,disablePadding:m=!1,subheader:_}=r,w=mt(r,vie),E=P.useMemo(()=>({dense:s}),[s]),k=$({},r,{component:d,dense:s,disablePadding:m}),O=_ie(k);return T.jsx(C_.Provider,{value:E,children:T.jsxs(xie,$({as:d,className:$t(O.root,c),ref:n,ownerState:k},w,{children:[_,i]}))})}),wie=bie;function Cie(e){return qn("MuiListItemIcon",e)}const Sie=Zn("MuiListItemIcon",["root","alignItemsFlexStart"]),EF=Sie,Tie=["className"],Eie=e=>{const{alignItems:t,classes:n}=e;return hn({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Cie,n)},Pie=Et("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>$({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),kie=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiListItemIcon"}),{className:i}=r,c=mt(r,Tie),d=P.useContext(C_),s=$({},r,{alignItems:d.alignItems}),m=Eie(s);return T.jsx(Pie,$({className:$t(m.root,i),ownerState:s,ref:n},c))}),$g=kie;function Iie(e){return qn("MuiListItemText",e)}const Mie=Zn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),mw=Mie,Aie=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Rie=e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:c}=e;return hn({root:["root",n&&"inset",c&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Iie,t)},Oie=Et("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${mw.primary}`]:t.primary},{[`& .${mw.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>$({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Die=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiListItemText"}),{children:i,className:c,disableTypography:d=!1,inset:s=!1,primary:m,primaryTypographyProps:_,secondary:w,secondaryTypographyProps:E}=r,k=mt(r,Aie),{dense:O}=P.useContext(C_);let R=m??i,L=w;const U=$({},r,{disableTypography:d,inset:s,primary:!!R,secondary:!!L,dense:O}),F=Rie(U);return R!=null&&R.type!==Wt&&!d&&(R=T.jsx(Wt,$({variant:O?"body2":"body1",className:F.primary,component:_!=null&&_.variant?void 0:"span",display:"block"},_,{children:R}))),L!=null&&L.type!==Wt&&!d&&(L=T.jsx(Wt,$({variant:"body2",className:F.secondary,color:"text.secondary",display:"block"},E,{children:L}))),T.jsxs(Oie,$({className:$t(F.root,c),ownerState:U,ref:n},k,{children:[R,L]}))}),Bg=Die,Lie=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function iE(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function PF(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function P4(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function o0(e,t,n,r,i,c){let d=!1,s=i(e,t,t?n:!1);for(;s;){if(s===e.firstChild){if(d)return!1;d=!0}const m=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!P4(s,c)||m)s=i(e,s,n);else return s.focus(),!0}return!1}const zie=P.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:c=!1,children:d,className:s,disabledItemsFocusable:m=!1,disableListWrap:_=!1,onKeyDown:w,variant:E="selectedMenu"}=t,k=mt(t,Lie),O=P.useRef(null),R=P.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});fi(()=>{i&&O.current.focus()},[i]),P.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(B,Z)=>{const ee=!O.current.style.width;if(B.clientHeight<O.current.clientHeight&&ee){const X=`${dN(wi(B))}px`;O.current.style[Z.direction==="rtl"?"paddingLeft":"paddingRight"]=X,O.current.style.width=`calc(100% + ${X})`}return O.current}}),[]);const L=B=>{const Z=O.current,ee=B.key,X=wi(Z).activeElement;if(ee==="ArrowDown")B.preventDefault(),o0(Z,X,_,m,iE);else if(ee==="ArrowUp")B.preventDefault(),o0(Z,X,_,m,PF);else if(ee==="Home")B.preventDefault(),o0(Z,null,_,m,iE);else if(ee==="End")B.preventDefault(),o0(Z,null,_,m,PF);else if(ee.length===1){const W=R.current,ne=ee.toLowerCase(),J=performance.now();W.keys.length>0&&(J-W.lastTime>500?(W.keys=[],W.repeating=!0,W.previousKeyMatched=!0):W.repeating&&ne!==W.keys[0]&&(W.repeating=!1)),W.lastTime=J,W.keys.push(ne);const re=X&&!W.repeating&&P4(X,W);W.previousKeyMatched&&(re||o0(Z,X,!1,m,iE,W))?B.preventDefault():W.previousKeyMatched=!1}w&&w(B)},U=fo(O,n);let F=-1;P.Children.forEach(d,(B,Z)=>{if(!P.isValidElement(B)){F===Z&&(F+=1,F>=d.length&&(F=-1));return}B.props.disabled||(E==="selectedMenu"&&B.props.selected||F===-1)&&(F=Z),F===Z&&(B.props.disabled||B.props.muiSkipListHighlight||B.type.muiSkipListHighlight)&&(F+=1,F>=d.length&&(F=-1))});const z=P.Children.map(d,(B,Z)=>{if(Z===F){const ee={};return c&&(ee.autoFocus=!0),B.props.tabIndex===void 0&&E==="selectedMenu"&&(ee.tabIndex=0),P.cloneElement(B,ee)}return B});return T.jsx(wie,$({role:"menu",ref:U,className:s,onKeyDown:L,tabIndex:i?0:-1},k,{children:z}))}),eA=zie;function Fie(e){return qn("MuiPopover",e)}Zn("MuiPopover",["root","paper"]);const jie=["onEntering"],$ie=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],Bie=["slotProps"];function kF(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function IF(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function MF(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function sE(e){return typeof e=="function"?e():e}const Nie=e=>{const{classes:t}=e;return hn({root:["root"],paper:["paper"]},Fie,t)},Uie=Et(y4,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),k4=Et(pi,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Vie=P.forwardRef(function(t,n){var r,i,c;const d=Xn({props:t,name:"MuiPopover"}),{action:s,anchorEl:m,anchorOrigin:_={vertical:"top",horizontal:"left"},anchorPosition:w,anchorReference:E="anchorEl",children:k,className:O,container:R,elevation:L=8,marginThreshold:U=16,open:F,PaperProps:z={},slots:B,slotProps:Z,transformOrigin:ee={vertical:"top",horizontal:"left"},TransitionComponent:X=pw,transitionDuration:W="auto",TransitionProps:{onEntering:ne}={}}=d,J=mt(d.TransitionProps,jie),re=mt(d,$ie),se=(r=Z==null?void 0:Z.paper)!=null?r:z,de=P.useRef(),pe=fo(de,se.ref),ae=$({},d,{anchorOrigin:_,anchorReference:E,elevation:L,marginThreshold:U,externalPaperSlotProps:se,transformOrigin:ee,TransitionComponent:X,transitionDuration:W,TransitionProps:J}),oe=Nie(ae),me=P.useCallback(()=>{if(E==="anchorPosition")return w;const Pt=sE(m),Yt=(Pt&&Pt.nodeType===1?Pt:wi(de.current).body).getBoundingClientRect();return{top:Yt.top+kF(Yt,_.vertical),left:Yt.left+IF(Yt,_.horizontal)}},[m,_.horizontal,_.vertical,w,E]),xe=P.useCallback(Pt=>({vertical:kF(Pt,ee.vertical),horizontal:IF(Pt,ee.horizontal)}),[ee.horizontal,ee.vertical]),ce=P.useCallback(Pt=>{const Ot={width:Pt.offsetWidth,height:Pt.offsetHeight},Yt=xe(Ot);if(E==="none")return{top:null,left:null,transformOrigin:MF(Yt)};const st=me();let Ct=st.top-Yt.vertical,ht=st.left-Yt.horizontal;const en=Ct+Ot.height,Kt=ht+Ot.width,vn=tu(sE(m)),wn=vn.innerHeight-U,Ve=vn.innerWidth-U;if(Ct<U){const ft=Ct-U;Ct-=ft,Yt.vertical+=ft}else if(en>wn){const ft=en-wn;Ct-=ft,Yt.vertical+=ft}if(ht<U){const ft=ht-U;ht-=ft,Yt.horizontal+=ft}else if(Kt>Ve){const ft=Kt-Ve;ht-=ft,Yt.horizontal+=ft}return{top:`${Math.round(Ct)}px`,left:`${Math.round(ht)}px`,transformOrigin:MF(Yt)}},[m,E,me,xe,U]),[ge,Te]=P.useState(F),Ue=P.useCallback(()=>{const Pt=de.current;if(!Pt)return;const Ot=ce(Pt);Ot.top!==null&&(Pt.style.top=Ot.top),Ot.left!==null&&(Pt.style.left=Ot.left),Pt.style.transformOrigin=Ot.transformOrigin,Te(!0)},[ce]),We=(Pt,Ot)=>{ne&&ne(Pt,Ot),Ue()},Ye=()=>{Te(!1)};P.useEffect(()=>{F&&Ue()}),P.useImperativeHandle(s,()=>F?{updatePosition:()=>{Ue()}}:null,[F,Ue]),P.useEffect(()=>{if(!F)return;const Pt=W_(()=>{Ue()}),Ot=tu(m);return Ot.addEventListener("resize",Pt),()=>{Pt.clear(),Ot.removeEventListener("resize",Pt)}},[m,F,Ue]);let gt=W;W==="auto"&&!X.muiSupportAuto&&(gt=void 0);const vt=R||(m?wi(sE(m)).body:void 0),jt=(i=B==null?void 0:B.root)!=null?i:Uie,Rt=(c=B==null?void 0:B.paper)!=null?c:k4,pn=Wh({elementType:Rt,externalSlotProps:$({},se,{style:ge?se.style:$({},se.style,{opacity:0})}),additionalProps:{elevation:L,ref:pe},ownerState:ae,className:$t(oe.paper,se==null?void 0:se.className)}),Ut=Wh({elementType:jt,externalSlotProps:(Z==null?void 0:Z.root)||{},externalForwardedProps:re,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:vt,open:F},ownerState:ae,className:$t(oe.root,O)}),{slotProps:rn}=Ut,et=mt(Ut,Bie);return T.jsx(jt,$({},et,!oy(jt)&&{slotProps:rn},{children:T.jsx(X,$({appear:!0,in:F,onEntering:We,onExited:Ye,timeout:gt},J,{children:T.jsx(Rt,$({},pn,{children:k}))}))}))}),Hie=Vie;function Gie(e){return qn("MuiMenu",e)}Zn("MuiMenu",["root","paper","list"]);const Wie=["onEntering"],qie=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Zie={vertical:"top",horizontal:"right"},Yie={vertical:"top",horizontal:"left"},Kie=e=>{const{classes:t}=e;return hn({root:["root"],paper:["paper"],list:["list"]},Gie,t)},Xie=Et(Hie,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Jie=Et(k4,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qie=Et(eA,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),ese=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:c,disableAutoFocusItem:d=!1,MenuListProps:s={},onClose:m,open:_,PaperProps:w={},PopoverClasses:E,transitionDuration:k="auto",TransitionProps:{onEntering:O}={},variant:R="selectedMenu"}=r,L=mt(r.TransitionProps,Wie),U=mt(r,qie),F=Cl(),z=F.direction==="rtl",B=$({},r,{autoFocus:i,disableAutoFocusItem:d,MenuListProps:s,onEntering:O,PaperProps:w,transitionDuration:k,TransitionProps:L,variant:R}),Z=Kie(B),ee=i&&!d&&_,X=P.useRef(null),W=(re,se)=>{X.current&&X.current.adjustStyleForScrollbar(re,F),O&&O(re,se)},ne=re=>{re.key==="Tab"&&(re.preventDefault(),m&&m(re,"tabKeyDown"))};let J=-1;return P.Children.map(c,(re,se)=>{P.isValidElement(re)&&(re.props.disabled||(R==="selectedMenu"&&re.props.selected||J===-1)&&(J=se))}),T.jsx(Xie,$({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:z?"right":"left"},transformOrigin:z?Zie:Yie,slots:{paper:Jie},slotProps:{paper:$({},w,{classes:$({},w.classes,{root:Z.paper})})},className:Z.root,open:_,ref:n,transitionDuration:k,TransitionProps:$({onEntering:W},L),ownerState:B},U,{classes:E,children:T.jsx(Qie,$({onKeyDown:ne,actions:X,autoFocus:i&&(J===-1||d),autoFocusItem:ee,variant:R},s,{className:$t(Z.list,s.className),children:c}))}))}),tse=ese;function nse(e){return qn("MuiMenuItem",e)}const rse=Zn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),i0=rse,ose=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ise=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]},sse=e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:c,classes:d}=e,m=hn({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",c&&"selected"]},nse,d);return $({},d,m)},ase=Et(ha,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ise})(({theme:e,ownerState:t})=>$({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${i0.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${i0.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:dr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${i0.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:dr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${i0.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${i0.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${xF.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${xF.inset}`]:{marginLeft:52},[`& .${mw.root}`]:{marginTop:0,marginBottom:0},[`& .${mw.inset}`]:{paddingLeft:36},[`& .${EF.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&$({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${EF.root} svg`]:{fontSize:"1.25rem"}}))),lse=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:c="li",dense:d=!1,divider:s=!1,disableGutters:m=!1,focusVisibleClassName:_,role:w="menuitem",tabIndex:E,className:k}=r,O=mt(r,ose),R=P.useContext(C_),L=P.useMemo(()=>({dense:d||R.dense||!1,disableGutters:m}),[R.dense,d,m]),U=P.useRef(null);fi(()=>{i&&U.current&&U.current.focus()},[i]);const F=$({},r,{dense:L.dense,divider:s,disableGutters:m}),z=sse(r),B=fo(U,n);let Z;return r.disabled||(Z=E!==void 0?E:-1),T.jsx(C_.Provider,{value:L,children:T.jsx(ase,$({ref:B,role:w,tabIndex:Z,component:c,focusVisibleClassName:$t(z.focusVisible,_),className:$t(z.root,k)},O,{ownerState:F,classes:z}))})}),Oi=lse;function cse(e){return qn("MuiNativeSelect",e)}const use=Zn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),tA=use,dse=["className","disabled","error","IconComponent","inputRef","variant"],hse=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:c,error:d}=e,s={select:["select",n,r&&"disabled",i&&"multiple",d&&"error"],icon:["icon",`icon${xt(n)}`,c&&"iconOpen",r&&"disabled"]};return hn(s,cse,t)},I4=({ownerState:e,theme:t})=>$({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":$({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${tA.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),fse=Et("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Sl,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${tA.multiple}`]:t.multiple}]}})(I4),M4=({ownerState:e,theme:t})=>$({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${tA.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),pse=Et("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${xt(n.variant)}`],n.open&&t.iconOpen]}})(M4),mse=P.forwardRef(function(t,n){const{className:r,disabled:i,error:c,IconComponent:d,inputRef:s,variant:m="standard"}=t,_=mt(t,dse),w=$({},t,{disabled:i,variant:m,error:c}),E=hse(w);return T.jsxs(P.Fragment,{children:[T.jsx(fse,$({ownerState:w,className:$t(E.select,r),disabled:i,ref:s||n},_)),t.multiple?null:T.jsx(pse,{as:d,ownerState:w,className:E.icon})]})}),gse=mse;var AF;const yse=["children","classes","className","label","notched"],vse=Et("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),_se=Et("legend")(({ownerState:e,theme:t})=>$({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&$({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function xse(e){const{className:t,label:n,notched:r}=e,i=mt(e,yse),c=n!=null&&n!=="",d=$({},e,{notched:r,withLabel:c});return T.jsx(vse,$({"aria-hidden":!0,className:t,ownerState:d},i,{children:T.jsx(_se,{ownerState:d,children:c?T.jsx("span",{children:n}):AF||(AF=T.jsx("span",{className:"notranslate",children:"​"}))})}))}const bse=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],wse=e=>{const{classes:t}=e,r=hn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ute,t);return $({},t,r)},Cse=Et(rS,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:tS})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return $({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${$c.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${$c.focused} .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${$c.error} .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${$c.disabled} .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&$({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Sse=Et(xse,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Tse=Et(oS,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:nS})(({theme:e,ownerState:t})=>$({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),A4=P.forwardRef(function(t,n){var r,i,c,d,s;const m=Xn({props:t,name:"MuiOutlinedInput"}),{components:_={},fullWidth:w=!1,inputComponent:E="input",label:k,multiline:O=!1,notched:R,slots:L={},type:U="text"}=m,F=mt(m,bse),z=wse(m),B=su(),Z=nf({props:m,muiFormControl:B,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),ee=$({},m,{color:Z.color||"primary",disabled:Z.disabled,error:Z.error,focused:Z.focused,formControl:B,fullWidth:w,hiddenLabel:Z.hiddenLabel,multiline:O,size:Z.size,type:U}),X=(r=(i=L.root)!=null?i:_.Root)!=null?r:Cse,W=(c=(d=L.input)!=null?d:_.Input)!=null?c:Tse;return T.jsx(au,$({slots:{root:X,input:W},renderSuffix:ne=>T.jsx(Sse,{ownerState:ee,className:z.notchedOutline,label:k!=null&&k!==""&&Z.required?s||(s=T.jsxs(P.Fragment,{children:[k," ","*"]})):k,notched:typeof R<"u"?R:!!(ne.startAdornment||ne.filled||ne.focused)}),fullWidth:w,inputComponent:E,multiline:O,ref:n,type:U},F,{classes:$({},z,{notchedOutline:null})}))});A4.muiName="Input";const R4=A4,RF=Gn(T.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),OF=Gn(T.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Ese=Gn(T.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Pse=Gn(T.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),kse=Et("span")({position:"relative",display:"flex"}),Ise=Et(Ese)({transform:"scale(1)"}),Mse=Et(Pse)(({theme:e,ownerState:t})=>$({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}));function O4(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i=$({},e,{checked:t});return T.jsxs(kse,{className:n.root,ownerState:i,children:[T.jsx(Ise,{fontSize:r,className:n.background,ownerState:i}),T.jsx(Mse,{fontSize:r,className:n.dot,ownerState:i})]})}const Ase=P.createContext(void 0),D4=Ase;function Rse(){return P.useContext(D4)}function Ose(e){return qn("MuiRadio",e)}const Dse=Zn("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),DF=Dse,Lse=["checked","checkedIcon","color","icon","name","onChange","size","className"],zse=e=>{const{classes:t,color:n}=e,r={root:["root",`color${xt(n)}`]};return $({},t,hn(r,Ose,t))},Fse=Et(QM,{shouldForwardProp:e=>Sl(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${xt(n.color)}`]]}})(({theme:e,ownerState:t})=>$({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${DF.checked}`]:{color:(e.vars||e).palette[t.color].main}},{[`&.${DF.disabled}`]:{color:(e.vars||e).palette.action.disabled}}));function jse(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const LF=T.jsx(O4,{checked:!0}),zF=T.jsx(O4,{}),$se=P.forwardRef(function(t,n){var r,i;const c=Xn({props:t,name:"MuiRadio"}),{checked:d,checkedIcon:s=LF,color:m="primary",icon:_=zF,name:w,onChange:E,size:k="medium",className:O}=c,R=mt(c,Lse),L=$({},c,{color:m,size:k}),U=zse(L),F=Rse();let z=d;const B=JP(E,F&&F.onChange);let Z=w;return F&&(typeof z>"u"&&(z=jse(F.value,c.value)),typeof Z>"u"&&(Z=F.name)),T.jsx(Fse,$({type:"radio",icon:P.cloneElement(_,{fontSize:(r=zF.props.fontSize)!=null?r:k}),checkedIcon:P.cloneElement(s,{fontSize:(i=LF.props.fontSize)!=null?i:k}),ownerState:L,classes:U,name:Z,checked:z,onChange:B,ref:n,className:$t(U.root,O)},R))}),Vb=$se,Bse=["actions","children","defaultValue","name","onChange","value"],Nse=P.forwardRef(function(t,n){const{actions:r,children:i,defaultValue:c,name:d,onChange:s,value:m}=t,_=mt(t,Bse),w=P.useRef(null),[E,k]=$h({controlled:m,default:c,name:"RadioGroup"});P.useImperativeHandle(r,()=>({focus:()=>{let U=w.current.querySelector("input:not(:disabled):checked");U||(U=w.current.querySelector("input:not(:disabled)")),U&&U.focus()}}),[]);const O=fo(n,w),R=Ao(d),L=P.useMemo(()=>({name:R,onChange(U){k(U.target.value),s&&s(U,U.target.value)},value:E}),[R,s,k,E]);return T.jsx(D4.Provider,{value:L,children:T.jsx(doe,$({role:"radiogroup",ref:O},_,{children:i}))})}),aE=Nse;function Use(e){return qn("MuiSelect",e)}const Vse=Zn("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),s0=Vse;var FF;const Hse=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Gse=Et("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${s0.select}`]:t.select},{[`&.${s0.select}`]:t[n.variant]},{[`&.${s0.error}`]:t.error},{[`&.${s0.multiple}`]:t.multiple}]}})(I4,{[`&.${s0.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Wse=Et("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${xt(n.variant)}`],n.open&&t.iconOpen]}})(M4),qse=Et("input",{shouldForwardProp:e=>zX(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function jF(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Zse(e){return e==null||typeof e=="string"&&!e.trim()}const Yse=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:c,error:d}=e,s={select:["select",n,r&&"disabled",i&&"multiple",d&&"error"],icon:["icon",`icon${xt(n)}`,c&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return hn(s,Use,t)},Kse=P.forwardRef(function(t,n){const{"aria-describedby":r,"aria-label":i,autoFocus:c,autoWidth:d,children:s,className:m,defaultOpen:_,defaultValue:w,disabled:E,displayEmpty:k,error:O=!1,IconComponent:R,inputRef:L,labelId:U,MenuProps:F={},multiple:z,name:B,onBlur:Z,onChange:ee,onClose:X,onFocus:W,onOpen:ne,open:J,readOnly:re,renderValue:se,SelectDisplayProps:de={},tabIndex:pe,value:ae,variant:oe="standard"}=t,me=mt(t,Hse),[xe,ce]=$h({controlled:ae,default:w,name:"Select"}),[ge,Te]=$h({controlled:J,default:_,name:"Select"}),Ue=P.useRef(null),We=P.useRef(null),[Ye,gt]=P.useState(null),{current:vt}=P.useRef(J!=null),[jt,Rt]=P.useState(),pn=fo(n,L),Ut=P.useCallback(sn=>{We.current=sn,sn&&gt(sn)},[]),rn=Ye==null?void 0:Ye.parentNode;P.useImperativeHandle(pn,()=>({focus:()=>{We.current.focus()},node:Ue.current,value:xe}),[xe]),P.useEffect(()=>{_&&ge&&Ye&&!vt&&(Rt(d?null:rn.clientWidth),We.current.focus())},[Ye,d]),P.useEffect(()=>{c&&We.current.focus()},[c]),P.useEffect(()=>{if(!U)return;const sn=wi(We.current).getElementById(U);if(sn){const kn=()=>{getSelection().isCollapsed&&We.current.focus()};return sn.addEventListener("click",kn),()=>{sn.removeEventListener("click",kn)}}},[U]);const et=(sn,kn)=>{sn?ne&&ne(kn):X&&X(kn),vt||(Rt(d?null:rn.clientWidth),Te(sn))},Pt=sn=>{sn.button===0&&(sn.preventDefault(),We.current.focus(),et(!0,sn))},Ot=sn=>{et(!1,sn)},Yt=P.Children.toArray(s),st=sn=>{const kn=Yt.find(Vn=>Vn.props.value===sn.target.value);kn!==void 0&&(ce(kn.props.value),ee&&ee(sn,kn))},Ct=sn=>kn=>{let Vn;if(kn.currentTarget.hasAttribute("tabindex")){if(z){Vn=Array.isArray(xe)?xe.slice():[];const ar=xe.indexOf(sn.props.value);ar===-1?Vn.push(sn.props.value):Vn.splice(ar,1)}else Vn=sn.props.value;if(sn.props.onClick&&sn.props.onClick(kn),xe!==Vn&&(ce(Vn),ee)){const ar=kn.nativeEvent||kn,vr=new ar.constructor(ar.type,ar);Object.defineProperty(vr,"target",{writable:!0,value:{value:Vn,name:B}}),ee(vr,sn)}z||et(!1,kn)}},ht=sn=>{re||[" ","ArrowUp","ArrowDown","Enter"].indexOf(sn.key)!==-1&&(sn.preventDefault(),et(!0,sn))},en=Ye!==null&&ge,Kt=sn=>{!en&&Z&&(Object.defineProperty(sn,"target",{writable:!0,value:{value:xe,name:B}}),Z(sn))};delete me["aria-invalid"];let vn,wn;const Ve=[];let ft=!1;(fw({value:xe})||k)&&(se?vn=se(xe):ft=!0);const Dt=Yt.map(sn=>{if(!P.isValidElement(sn))return null;let kn;if(z){if(!Array.isArray(xe))throw new Error(ad(2));kn=xe.some(Vn=>jF(Vn,sn.props.value)),kn&&ft&&Ve.push(sn.props.children)}else kn=jF(xe,sn.props.value),kn&&ft&&(wn=sn.props.children);return P.cloneElement(sn,{"aria-selected":kn?"true":"false",onClick:Ct(sn),onKeyUp:Vn=>{Vn.key===" "&&Vn.preventDefault(),sn.props.onKeyUp&&sn.props.onKeyUp(Vn)},role:"option",selected:kn,value:void 0,"data-value":sn.props.value})});ft&&(z?Ve.length===0?vn=null:vn=Ve.reduce((sn,kn,Vn)=>(sn.push(kn),Vn<Ve.length-1&&sn.push(", "),sn),[]):vn=wn);let Qt=jt;!d&&vt&&Ye&&(Qt=rn.clientWidth);let yn;typeof pe<"u"?yn=pe:yn=E?null:0;const on=de.id||(B?`mui-component-select-${B}`:void 0),un=$({},t,{variant:oe,value:xe,open:en,error:O}),dn=Yse(un);return T.jsxs(P.Fragment,{children:[T.jsx(Gse,$({ref:Ut,tabIndex:yn,role:"button","aria-disabled":E?"true":void 0,"aria-expanded":en?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[U,on].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:ht,onMouseDown:E||re?null:Pt,onBlur:Kt,onFocus:W},de,{ownerState:un,className:$t(de.className,dn.select,m),id:on,children:Zse(vn)?FF||(FF=T.jsx("span",{className:"notranslate",children:"​"})):vn})),T.jsx(qse,$({"aria-invalid":O,value:Array.isArray(xe)?xe.join(","):xe,name:B,ref:Ue,"aria-hidden":!0,onChange:st,tabIndex:-1,disabled:E,className:dn.nativeInput,autoFocus:c,ownerState:un},me)),T.jsx(Wse,{as:R,className:dn.icon,ownerState:un}),T.jsx(tse,$({id:`menu-${B||""}`,anchorEl:rn,open:en,onClose:Ot,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},F,{MenuListProps:$({"aria-labelledby":U,role:"listbox",disableListWrap:!0},F.MenuListProps),PaperProps:$({},F.PaperProps,{style:$({minWidth:Qt},F.PaperProps!=null?F.PaperProps.style:null)}),children:Dt}))]})}),Xse=Kse,Jse=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Qse=e=>{const{classes:t}=e;return t},nA={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Sl(e)&&e!=="variant",slot:"Root"},eae=Et(S4,nA)(""),tae=Et(R4,nA)(""),nae=Et(x4,nA)(""),L4=P.forwardRef(function(t,n){const r=Xn({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:c,classes:d={},className:s,defaultOpen:m=!1,displayEmpty:_=!1,IconComponent:w=a4,id:E,input:k,inputProps:O,label:R,labelId:L,MenuProps:U,multiple:F=!1,native:z=!1,onClose:B,onOpen:Z,open:ee,renderValue:X,SelectDisplayProps:W,variant:ne="outlined"}=r,J=mt(r,Jse),re=z?gse:Xse,se=su(),de=nf({props:r,muiFormControl:se,states:["variant","error"]}),pe=de.variant||ne,ae=$({},r,{variant:pe,classes:d}),oe=Qse(ae),me=k||{standard:T.jsx(eae,{ownerState:ae}),outlined:T.jsx(tae,{label:R,ownerState:ae}),filled:T.jsx(nae,{ownerState:ae})}[pe],xe=fo(n,me.ref);return T.jsx(P.Fragment,{children:P.cloneElement(me,$({inputComponent:re,inputProps:$({children:c,error:de.error,IconComponent:w,variant:pe,type:void 0,multiple:F},z?{id:E}:{autoWidth:i,defaultOpen:m,displayEmpty:_,labelId:L,MenuProps:U,onClose:B,onOpen:Z,open:ee,renderValue:X,SelectDisplayProps:$({id:E},W)},O,{classes:O?la(oe,O.classes):oe},k?k.props.inputProps:{})},F&&z&&pe==="outlined"?{notched:!0}:{},{ref:xe,className:$t(me.props.className,s)},!k&&{variant:pe},J))})});L4.muiName="Select";const rA=L4;function rae(e){return qn("MuiSkeleton",e)}Zn("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const oae=["animation","className","component","height","style","variant","width"];let gw=e=>e,$F,BF,NF,UF;const iae=e=>{const{classes:t,variant:n,animation:r,hasChildren:i,width:c,height:d}=e;return hn({root:["root",n,r,i&&"withChildren",i&&!c&&"fitContent",i&&!d&&"heightAuto"]},rae,t)},sae=Bp($F||($F=gw`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),aae=Bp(BF||(BF=gw`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),lae=Et("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=VN(e.shape.borderRadius)||"px",r=ah(e.shape.borderRadius);return $({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:dr(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&__(NF||(NF=gw`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),sae),({ownerState:e,theme:t})=>e.animation==="wave"&&__(UF||(UF=gw`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),aae,(t.vars||t).palette.action.hover)),cae=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:c,component:d="span",height:s,style:m,variant:_="text",width:w}=r,E=mt(r,oae),k=$({},r,{animation:i,component:d,variant:_,hasChildren:!!E.children}),O=iae(k);return T.jsx(lae,$({as:d,ref:n,className:$t(O.root,c),ownerState:k},E,{style:$({width:w,height:s},m)}))}),uae=cae;function dae(e){return qn("MuiTooltip",e)}const hae=Zn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Eh=hae,fae=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function pae(e){return Math.round(e*1e5)/1e5}const mae=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:c}=e,d={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${xt(c.split("-")[0])}`],arrow:["arrow"]};return hn(d,dae,t)},gae=Et(Np,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>$({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Eh.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Eh.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Eh.arrow}`]:$({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Eh.arrow}`]:$({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),yae=Et("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${xt(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>$({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:dr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${pae(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Eh.popper}[data-popper-placement*="left"] &`]:$({transformOrigin:"right center"},t.isRtl?$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):$({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Eh.popper}[data-popper-placement*="right"] &`]:$({transformOrigin:"left center"},t.isRtl?$({marginRight:"14px"},t.touch&&{marginRight:"24px"}):$({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Eh.popper}[data-popper-placement*="top"] &`]:$({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Eh.popper}[data-popper-placement*="bottom"] &`]:$({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),vae=Et("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:dr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Hb=!1,lE=null,a0={x:0,y:0};function Gb(e,t){return n=>{t&&t(n),e(n)}}const _ae=P.forwardRef(function(t,n){var r,i,c,d,s,m,_,w,E,k,O,R,L,U,F,z,B,Z,ee;const X=Xn({props:t,name:"MuiTooltip"}),{arrow:W=!1,children:ne,components:J={},componentsProps:re={},describeChild:se=!1,disableFocusListener:de=!1,disableHoverListener:pe=!1,disableInteractive:ae=!1,disableTouchListener:oe=!1,enterDelay:me=100,enterNextDelay:xe=0,enterTouchDelay:ce=700,followCursor:ge=!1,id:Te,leaveDelay:Ue=0,leaveTouchDelay:We=1500,onClose:Ye,onOpen:gt,open:vt,placement:jt="bottom",PopperComponent:Rt,PopperProps:pn={},slotProps:Ut={},slots:rn={},title:et,TransitionComponent:Pt=pw,TransitionProps:Ot}=X,Yt=mt(X,fae),st=P.isValidElement(ne)?ne:T.jsx("span",{children:ne}),Ct=Cl(),ht=Ct.direction==="rtl",[en,Kt]=P.useState(),[vn,wn]=P.useState(null),Ve=P.useRef(!1),ft=ae||ge,Dt=P.useRef(),Qt=P.useRef(),yn=P.useRef(),on=P.useRef(),[un,dn]=$h({controlled:vt,default:!1,name:"Tooltip",state:"open"});let sn=un;const kn=Ao(Te),Vn=P.useRef(),ar=P.useCallback(()=>{Vn.current!==void 0&&(document.body.style.WebkitUserSelect=Vn.current,Vn.current=void 0),clearTimeout(on.current)},[]);P.useEffect(()=>()=>{clearTimeout(Dt.current),clearTimeout(Qt.current),clearTimeout(yn.current),ar()},[ar]);const vr=lr=>{clearTimeout(lE),Hb=!0,dn(!0),gt&&!sn&&gt(lr)},Ar=Pi(lr=>{clearTimeout(lE),lE=setTimeout(()=>{Hb=!1},800+Ue),dn(!1),Ye&&sn&&Ye(lr),clearTimeout(Dt.current),Dt.current=setTimeout(()=>{Ve.current=!1},Ct.transitions.duration.shortest)}),nr=lr=>{Ve.current&&lr.type!=="touchstart"||(en&&en.removeAttribute("title"),clearTimeout(Qt.current),clearTimeout(yn.current),me||Hb&&xe?Qt.current=setTimeout(()=>{vr(lr)},Hb?xe:me):vr(lr))},gi=lr=>{clearTimeout(Qt.current),clearTimeout(yn.current),yn.current=setTimeout(()=>{Ar(lr)},Ue)},{isFocusVisibleRef:ti,onBlur:Re,onFocus:he,ref:ye}=CM(),[,Ie]=P.useState(!1),ze=lr=>{Re(lr),ti.current===!1&&(Ie(!1),gi(lr))},He=lr=>{en||Kt(lr.currentTarget),he(lr),ti.current===!0&&(Ie(!0),nr(lr))},Xe=lr=>{Ve.current=!0;const qo=st.props;qo.onTouchStart&&qo.onTouchStart(lr)},Qe=nr,Ge=gi,tt=lr=>{Xe(lr),clearTimeout(yn.current),clearTimeout(Dt.current),ar(),Vn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",on.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Vn.current,nr(lr)},ce)},Mt=lr=>{st.props.onTouchEnd&&st.props.onTouchEnd(lr),ar(),clearTimeout(yn.current),yn.current=setTimeout(()=>{Ar(lr)},We)};P.useEffect(()=>{if(!sn)return;function lr(qo){(qo.key==="Escape"||qo.key==="Esc")&&Ar(qo)}return document.addEventListener("keydown",lr),()=>{document.removeEventListener("keydown",lr)}},[Ar,sn]);const qt=fo(st.ref,ye,Kt,n);!et&&et!==0&&(sn=!1);const Ft=P.useRef(),Un=lr=>{const qo=st.props;qo.onMouseMove&&qo.onMouseMove(lr),a0={x:lr.clientX,y:lr.clientY},Ft.current&&Ft.current.update()},Hn={},$n=typeof et=="string";se?(Hn.title=!sn&&$n&&!pe?et:null,Hn["aria-describedby"]=sn?kn:null):(Hn["aria-label"]=$n?et:null,Hn["aria-labelledby"]=sn&&!$n?kn:null);const Dn=$({},Hn,Yt,st.props,{className:$t(Yt.className,st.props.className),onTouchStart:Xe,ref:qt},ge?{onMouseMove:Un}:{}),Wn={};oe||(Dn.onTouchStart=tt,Dn.onTouchEnd=Mt),pe||(Dn.onMouseOver=Gb(Qe,Dn.onMouseOver),Dn.onMouseLeave=Gb(Ge,Dn.onMouseLeave),ft||(Wn.onMouseOver=Qe,Wn.onMouseLeave=Ge)),de||(Dn.onFocus=Gb(He,Dn.onFocus),Dn.onBlur=Gb(ze,Dn.onBlur),ft||(Wn.onFocus=He,Wn.onBlur=ze));const Rr=P.useMemo(()=>{var lr;let qo=[{name:"arrow",enabled:!!vn,options:{element:vn,padding:4}}];return(lr=pn.popperOptions)!=null&&lr.modifiers&&(qo=qo.concat(pn.popperOptions.modifiers)),$({},pn.popperOptions,{modifiers:qo})},[vn,pn]),Er=$({},X,{isRtl:ht,arrow:W,disableInteractive:ft,placement:jt,PopperComponentProp:Rt,touch:Ve.current}),ro=mae(Er),ot=(r=(i=rn.popper)!=null?i:J.Popper)!=null?r:gae,dt=(c=(d=(s=rn.transition)!=null?s:J.Transition)!=null?d:Pt)!=null?c:pw,tn=(m=(_=rn.tooltip)!=null?_:J.Tooltip)!=null?m:yae,Tn=(w=(E=rn.arrow)!=null?E:J.Arrow)!=null?w:vae,mr=w0(ot,$({},pn,(k=Ut.popper)!=null?k:re.popper,{className:$t(ro.popper,pn==null?void 0:pn.className,(O=(R=Ut.popper)!=null?R:re.popper)==null?void 0:O.className)}),Er),kr=w0(dt,$({},Ot,(L=Ut.transition)!=null?L:re.transition),Er),Co=w0(tn,$({},(U=Ut.tooltip)!=null?U:re.tooltip,{className:$t(ro.tooltip,(F=(z=Ut.tooltip)!=null?z:re.tooltip)==null?void 0:F.className)}),Er),Jn=w0(Tn,$({},(B=Ut.arrow)!=null?B:re.arrow,{className:$t(ro.arrow,(Z=(ee=Ut.arrow)!=null?ee:re.arrow)==null?void 0:Z.className)}),Er);return T.jsxs(P.Fragment,{children:[P.cloneElement(st,Dn),T.jsx(ot,$({as:Rt??Np,placement:jt,anchorEl:ge?{getBoundingClientRect:()=>({top:a0.y,left:a0.x,right:a0.x,bottom:a0.y,width:0,height:0})}:en,popperRef:Ft,open:en?sn:!1,id:kn,transition:!0},Wn,mr,{popperOptions:Rr,children:({TransitionProps:lr})=>T.jsx(dt,$({timeout:Ct.transitions.duration.shorter},lr,kr,{children:T.jsxs(tn,$({},Co,{children:[et,W?T.jsx(Tn,$({},Jn,{ref:wn})):null]}))}))}))]})}),xae=_ae;function bae(e){return qn("MuiSwitch",e)}const wae=Zn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Cs=wae,Cae=["className","color","edge","size","sx"],Sae=e=>{const{classes:t,edge:n,size:r,color:i,checked:c,disabled:d}=e,s={root:["root",n&&`edge${xt(n)}`,`size${xt(r)}`],switchBase:["switchBase",`color${xt(i)}`,c&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},m=hn(s,bae,t);return $({},t,m)},Tae=Et("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${xt(n.edge)}`],t[`size${xt(n.size)}`]]}})(({ownerState:e})=>$({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},e.edge==="start"&&{marginLeft:-8},e.edge==="end"&&{marginRight:-8},e.size==="small"&&{width:40,height:24,padding:7,[`& .${Cs.thumb}`]:{width:16,height:16},[`& .${Cs.switchBase}`]:{padding:4,[`&.${Cs.checked}`]:{transform:"translateX(16px)"}}})),Eae=Et(QM,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Cs.input}`]:t.input},n.color!=="default"&&t[`color${xt(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Cs.checked}`]:{transform:"translateX(20px)"},[`&.${Cs.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Cs.checked} + .${Cs.track}`]:{opacity:.5},[`&.${Cs.disabled} + .${Cs.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Cs.input}`]:{left:"-100%",width:"300%"}}),({theme:e,ownerState:t})=>$({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${Cs.checked}`]:{color:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:dr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Cs.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t.color}DisabledColor`]:`${e.palette.mode==="light"?Q_(e.palette[t.color].main,.62):J_(e.palette[t.color].main,.55)}`}},[`&.${Cs.checked} + .${Cs.track}`]:{backgroundColor:(e.vars||e).palette[t.color].main}})),Pae=Et("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),kae=Et("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Iae=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiSwitch"}),{className:i,color:c="primary",edge:d=!1,size:s="medium",sx:m}=r,_=mt(r,Cae),w=$({},r,{color:c,edge:d,size:s}),E=Sae(w),k=T.jsx(kae,{className:E.thumb,ownerState:w});return T.jsxs(Tae,{className:$t(E.root,i),sx:m,ownerState:w,children:[T.jsx(Eae,$({type:"checkbox",icon:k,checkedIcon:k,ref:n,ownerState:w},_,{classes:$({},E,{root:E.switchBase})})),T.jsx(Pae,{className:E.track,ownerState:w})]})}),Mae=Iae,Aae=P.createContext(),Rae=Aae,Oae=P.createContext(),Dae=Oae;function Lae(e){return qn("MuiTableCell",e)}const zae=Zn("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Fae=zae,jae=["align","className","component","padding","scope","size","sortDirection","variant"],$ae=e=>{const{classes:t,variant:n,align:r,padding:i,size:c,stickyHeader:d}=e,s={root:["root",n,d&&"stickyHeader",r!=="inherit"&&`align${xt(r)}`,i!=="normal"&&`padding${xt(i)}`,`size${xt(c)}`]};return hn(s,Lae,t)},Bae=Et("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${xt(n.size)}`],n.padding!=="normal"&&t[`padding${xt(n.padding)}`],n.align!=="inherit"&&t[`align${xt(n.align)}`],n.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>$({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Q_(dr(e.palette.divider,1),.88):J_(dr(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Fae.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),Nae=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiTableCell"}),{align:i="inherit",className:c,component:d,padding:s,scope:m,size:_,sortDirection:w,variant:E}=r,k=mt(r,jae),O=P.useContext(Rae),R=P.useContext(Dae),L=R&&R.variant==="head";let U;d?U=d:U=L?"th":"td";let F=m;U==="td"?F=void 0:!F&&L&&(F="col");const z=E||R&&R.variant,B=$({},r,{align:i,component:U,padding:s||(O&&O.padding?O.padding:"normal"),size:_||(O&&O.size?O.size:"medium"),sortDirection:w,stickyHeader:z==="head"&&O&&O.stickyHeader,variant:z}),Z=$ae(B);let ee=null;return w&&(ee=w==="asc"?"ascending":"descending"),T.jsx(Bae,$({as:U,ref:n,className:$t(Z.root,c),"aria-sort":ee,scope:F,ownerState:B},k))}),fk=Nae;function Uae(e){return qn("MuiToolbar",e)}Zn("MuiToolbar",["root","gutters","regular","dense"]);const Vae=["className","component","disableGutters","variant"],Hae=e=>{const{classes:t,disableGutters:n,variant:r}=e;return hn({root:["root",!n&&"gutters",r]},Uae,t)},Gae=Et("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>$({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),Wae=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiToolbar"}),{className:i,component:c="div",disableGutters:d=!1,variant:s="regular"}=r,m=mt(r,Vae),_=$({},r,{component:c,disableGutters:d,variant:s}),w=Hae(_);return T.jsx(Gae,$({as:c,className:$t(w.root,i),ref:n,ownerState:_},m))}),z4=Wae,VF=Gn(T.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),HF=Gn(T.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var GF,WF,qF,ZF,YF,KF,XF,JF;const qae=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],Zae=P.forwardRef(function(t,n){const{backIconButtonProps:r,count:i,getItemAriaLabel:c,nextIconButtonProps:d,onPageChange:s,page:m,rowsPerPage:_,showFirstButton:w,showLastButton:E}=t,k=mt(t,qae),O=Cl(),R=z=>{s(z,0)},L=z=>{s(z,m-1)},U=z=>{s(z,m+1)},F=z=>{s(z,Math.max(0,Math.ceil(i/_)-1))};return T.jsxs("div",$({ref:n},k,{children:[w&&T.jsx(Qi,{onClick:R,disabled:m===0,"aria-label":c("first",m),title:c("first",m),children:O.direction==="rtl"?GF||(GF=T.jsx(OF,{})):WF||(WF=T.jsx(RF,{}))}),T.jsx(Qi,$({onClick:L,disabled:m===0,color:"inherit","aria-label":c("previous",m),title:c("previous",m)},r,{children:O.direction==="rtl"?qF||(qF=T.jsx(HF,{})):ZF||(ZF=T.jsx(VF,{}))})),T.jsx(Qi,$({onClick:U,disabled:i!==-1?m>=Math.ceil(i/_)-1:!1,color:"inherit","aria-label":c("next",m),title:c("next",m)},d,{children:O.direction==="rtl"?YF||(YF=T.jsx(VF,{})):KF||(KF=T.jsx(HF,{}))})),E&&T.jsx(Qi,{onClick:F,disabled:m>=Math.ceil(i/_)-1,"aria-label":c("last",m),title:c("last",m),children:O.direction==="rtl"?XF||(XF=T.jsx(RF,{})):JF||(JF=T.jsx(OF,{}))})]}))}),Yae=Zae;function Kae(e){return qn("MuiTablePagination",e)}const Xae=Zn("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),vp=Xae;var QF;const Jae=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],Qae=Et(fk,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),ele=Et(z4,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>$({[`& .${vp.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${vp.actions}`]:{flexShrink:0,marginLeft:20}})),tle=Et("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),nle=Et("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>$({},e.typography.body2,{flexShrink:0})),rle=Et(rA,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>$({[`& .${vp.selectIcon}`]:t.selectIcon,[`& .${vp.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${vp.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),ole=Et(Oi,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),ile=Et("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>$({},e.typography.body2,{flexShrink:0}));function sle({from:e,to:t,count:n}){return`${e}–${t} of ${n!==-1?n:`more than ${t}`}`}function ale(e){return`Go to ${e} page`}const lle=e=>{const{classes:t}=e;return hn({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Kae,t)},cle=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=Yae,backIconButtonProps:c,className:d,colSpan:s,component:m=fk,count:_,getItemAriaLabel:w=ale,labelDisplayedRows:E=sle,labelRowsPerPage:k="Rows per page:",nextIconButtonProps:O,onPageChange:R,onRowsPerPageChange:L,page:U,rowsPerPage:F,rowsPerPageOptions:z=[10,25,50,100],SelectProps:B={},showFirstButton:Z=!1,showLastButton:ee=!1}=r,X=mt(r,Jae),W=r,ne=lle(W),J=B.native?"option":ole;let re;(m===fk||m==="td")&&(re=s||1e3);const se=Ao(B.id),de=Ao(B.labelId),pe=()=>_===-1?(U+1)*F:F===-1?_:Math.min(_,(U+1)*F);return T.jsx(Qae,$({colSpan:re,ref:n,as:m,ownerState:W,className:$t(ne.root,d)},X,{children:T.jsxs(ele,{className:ne.toolbar,children:[T.jsx(tle,{className:ne.spacer}),z.length>1&&T.jsx(nle,{className:ne.selectLabel,id:de,children:k}),z.length>1&&T.jsx(rle,$({variant:"standard"},!B.variant&&{input:QF||(QF=T.jsx(au,{}))},{value:F,onChange:L,id:se,labelId:de},B,{classes:$({},B.classes,{root:$t(ne.input,ne.selectRoot,(B.classes||{}).root),select:$t(ne.select,(B.classes||{}).select),icon:$t(ne.selectIcon,(B.classes||{}).icon)}),children:z.map(ae=>P.createElement(J,$({},!oy(J)&&{ownerState:W},{className:ne.menuItem,key:ae.label?ae.label:ae,value:ae.value?ae.value:ae}),ae.label?ae.label:ae))})),T.jsx(ile,{className:ne.displayedRows,children:E({from:_===0?0:U*F+1,to:pe(),count:_===-1?-1:_,page:U})}),T.jsx(i,{className:ne.actions,backIconButtonProps:c,count:_,nextIconButtonProps:O,onPageChange:R,page:U,rowsPerPage:F,showFirstButton:Z,showLastButton:ee,getItemAriaLabel:w})]})}))}),ule=cle;function dle(e){return qn("MuiTextField",e)}Zn("MuiTextField",["root"]);const hle=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],fle={standard:S4,filled:x4,outlined:R4},ple=e=>{const{classes:t}=e;return hn({root:["root"]},dle,t)},mle=Et(lp,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gle=P.forwardRef(function(t,n){const r=Xn({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:c=!1,children:d,className:s,color:m="primary",defaultValue:_,disabled:w=!1,error:E=!1,FormHelperTextProps:k,fullWidth:O=!1,helperText:R,id:L,InputLabelProps:U,inputProps:F,InputProps:z,inputRef:B,label:Z,maxRows:ee,minRows:X,multiline:W=!1,name:ne,onBlur:J,onChange:re,onClick:se,onFocus:de,placeholder:pe,required:ae=!1,rows:oe,select:me=!1,SelectProps:xe,type:ce,value:ge,variant:Te="outlined"}=r,Ue=mt(r,hle),We=$({},r,{autoFocus:c,color:m,disabled:w,error:E,fullWidth:O,multiline:W,required:ae,select:me,variant:Te}),Ye=ple(We),gt={};Te==="outlined"&&(U&&typeof U.shrink<"u"&&(gt.notched=U.shrink),gt.label=Z),me&&((!xe||!xe.native)&&(gt.id=void 0),gt["aria-describedby"]=void 0);const vt=Ao(L),jt=R&&vt?`${vt}-helper-text`:void 0,Rt=Z&&vt?`${vt}-label`:void 0,pn=fle[Te],Ut=T.jsx(pn,$({"aria-describedby":jt,autoComplete:i,autoFocus:c,defaultValue:_,fullWidth:O,multiline:W,name:ne,rows:oe,maxRows:ee,minRows:X,type:ce,value:ge,id:vt,inputRef:B,onBlur:J,onChange:re,onFocus:de,onClick:se,placeholder:pe,inputProps:F},gt,z));return T.jsxs(mle,$({className:$t(Ye.root,s),disabled:w,error:E,fullWidth:O,ref:n,required:ae,color:m,variant:Te,ownerState:We},Ue,{children:[Z!=null&&Z!==""&&T.jsx(T4,$({htmlFor:vt,id:Rt},U,{children:Z})),me?T.jsx(rA,$({"aria-describedby":jt,id:vt,labelId:Rt,value:ge,input:Ut},xe,{children:d})):Ut,R&&T.jsx(voe,$({id:jt},k,{children:R}))]}))}),br=gle;var yle=function(t){return vle(t)&&!_le(t)};function vle(e){return!!e&&typeof e=="object"}function _le(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||wle(e)}var xle=typeof Symbol=="function"&&Symbol.for,ble=xle?Symbol.for("react.element"):60103;function wle(e){return e.$$typeof===ble}function Cle(e){return Array.isArray(e)?[]:{}}function yw(e,t){return t.clone!==!1&&t.isMergeableObject(e)?S_(Cle(e),e,t):e}function Sle(e,t,n){return e.concat(t).map(function(r){return yw(r,n)})}function Tle(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(i){r[i]=yw(e[i],n)}),Object.keys(t).forEach(function(i){!n.isMergeableObject(t[i])||!e[i]?r[i]=yw(t[i],n):r[i]=S_(e[i],t[i],n)}),r}function S_(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||Sle,n.isMergeableObject=n.isMergeableObject||yle;var r=Array.isArray(t),i=Array.isArray(e),c=r===i;return c?r?n.arrayMerge(e,t,n):Tle(e,t,n):yw(t,n)}S_.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return S_(r,i,n)},{})};var pk=S_,Ele=typeof global=="object"&&global&&global.Object===Object&&global;const F4=Ele;var Ple=typeof self=="object"&&self&&self.Object===Object&&self,kle=F4||Ple||Function("return this")();const lu=kle;var Ile=lu.Symbol;const Zh=Ile;var j4=Object.prototype,Mle=j4.hasOwnProperty,Ale=j4.toString,l0=Zh?Zh.toStringTag:void 0;function Rle(e){var t=Mle.call(e,l0),n=e[l0];try{e[l0]=void 0;var r=!0}catch{}var i=Ale.call(e);return r&&(t?e[l0]=n:delete e[l0]),i}var Ole=Object.prototype,Dle=Ole.toString;function Lle(e){return Dle.call(e)}var zle="[object Null]",Fle="[object Undefined]",ej=Zh?Zh.toStringTag:void 0;function Up(e){return e==null?e===void 0?Fle:zle:ej&&ej in Object(e)?Rle(e):Lle(e)}function $4(e,t){return function(n){return e(t(n))}}var jle=$4(Object.getPrototypeOf,Object);const oA=jle;function Vp(e){return e!=null&&typeof e=="object"}var $le="[object Object]",Ble=Function.prototype,Nle=Object.prototype,B4=Ble.toString,Ule=Nle.hasOwnProperty,Vle=B4.call(Object);function tj(e){if(!Vp(e)||Up(e)!=$le)return!1;var t=oA(e);if(t===null)return!0;var n=Ule.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&B4.call(n)==Vle}var nj=Array.isArray,rj=Object.keys,Hle=Object.prototype.hasOwnProperty,Gle=typeof Element<"u";function mk(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=nj(e),r=nj(t),i,c,d;if(n&&r){if(c=e.length,c!=t.length)return!1;for(i=c;i--!==0;)if(!mk(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var s=e instanceof Date,m=t instanceof Date;if(s!=m)return!1;if(s&&m)return e.getTime()==t.getTime();var _=e instanceof RegExp,w=t instanceof RegExp;if(_!=w)return!1;if(_&&w)return e.toString()==t.toString();var E=rj(e);if(c=E.length,c!==rj(t).length)return!1;for(i=c;i--!==0;)if(!Hle.call(t,E[i]))return!1;if(Gle&&e instanceof Element&&t instanceof Element)return e===t;for(i=c;i--!==0;)if(d=E[i],!(d==="_owner"&&e.$$typeof)&&!mk(e[d],t[d]))return!1;return!0}return e!==e&&t!==t}var Wle=function(t,n){try{return mk(t,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const ip=fa(Wle);var qle=!0;function Zle(e,t){if(!qle){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function Yle(){this.__data__=[],this.size=0}function N4(e,t){return e===t||e!==e&&t!==t}function aS(e,t){for(var n=e.length;n--;)if(N4(e[n][0],t))return n;return-1}var Kle=Array.prototype,Xle=Kle.splice;function Jle(e){var t=this.__data__,n=aS(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Xle.call(t,n,1),--this.size,!0}function Qle(e){var t=this.__data__,n=aS(t,e);return n<0?void 0:t[n][1]}function ece(e){return aS(this.__data__,e)>-1}function tce(e,t){var n=this.__data__,r=aS(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function hd(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hd.prototype.clear=Yle;hd.prototype.delete=Jle;hd.prototype.get=Qle;hd.prototype.has=ece;hd.prototype.set=tce;function nce(){this.__data__=new hd,this.size=0}function rce(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function oce(e){return this.__data__.get(e)}function ice(e){return this.__data__.has(e)}function nx(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var sce="[object AsyncFunction]",ace="[object Function]",lce="[object GeneratorFunction]",cce="[object Proxy]";function U4(e){if(!nx(e))return!1;var t=Up(e);return t==ace||t==lce||t==sce||t==cce}var uce=lu["__core-js_shared__"];const cE=uce;var oj=function(){var e=/[^.]+$/.exec(cE&&cE.keys&&cE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dce(e){return!!oj&&oj in e}var hce=Function.prototype,fce=hce.toString;function Hp(e){if(e!=null){try{return fce.call(e)}catch{}try{return e+""}catch{}}return""}var pce=/[\\^$.*+?()[\]{}|]/g,mce=/^\[object .+?Constructor\]$/,gce=Function.prototype,yce=Object.prototype,vce=gce.toString,_ce=yce.hasOwnProperty,xce=RegExp("^"+vce.call(_ce).replace(pce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bce(e){if(!nx(e)||dce(e))return!1;var t=U4(e)?xce:mce;return t.test(Hp(e))}function wce(e,t){return e==null?void 0:e[t]}function Gp(e,t){var n=wce(e,t);return bce(n)?n:void 0}var Cce=Gp(lu,"Map");const T_=Cce;var Sce=Gp(Object,"create");const E_=Sce;function Tce(){this.__data__=E_?E_(null):{},this.size=0}function Ece(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Pce="__lodash_hash_undefined__",kce=Object.prototype,Ice=kce.hasOwnProperty;function Mce(e){var t=this.__data__;if(E_){var n=t[e];return n===Pce?void 0:n}return Ice.call(t,e)?t[e]:void 0}var Ace=Object.prototype,Rce=Ace.hasOwnProperty;function Oce(e){var t=this.__data__;return E_?t[e]!==void 0:Rce.call(t,e)}var Dce="__lodash_hash_undefined__";function Lce(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=E_&&t===void 0?Dce:t,this}function Dp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dp.prototype.clear=Tce;Dp.prototype.delete=Ece;Dp.prototype.get=Mce;Dp.prototype.has=Oce;Dp.prototype.set=Lce;function zce(){this.size=0,this.__data__={hash:new Dp,map:new(T_||hd),string:new Dp}}function Fce(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lS(e,t){var n=e.__data__;return Fce(t)?n[typeof t=="string"?"string":"hash"]:n.map}function jce(e){var t=lS(this,e).delete(e);return this.size-=t?1:0,t}function $ce(e){return lS(this,e).get(e)}function Bce(e){return lS(this,e).has(e)}function Nce(e,t){var n=lS(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function rf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rf.prototype.clear=zce;rf.prototype.delete=jce;rf.prototype.get=$ce;rf.prototype.has=Bce;rf.prototype.set=Nce;var Uce=200;function Vce(e,t){var n=this.__data__;if(n instanceof hd){var r=n.__data__;if(!T_||r.length<Uce-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rf(r)}return n.set(e,t),this.size=n.size,this}function Iy(e){var t=this.__data__=new hd(e);this.size=t.size}Iy.prototype.clear=nce;Iy.prototype.delete=rce;Iy.prototype.get=oce;Iy.prototype.has=ice;Iy.prototype.set=Vce;function Hce(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Gce=function(){try{var e=Gp(Object,"defineProperty");return e({},"",{}),e}catch{}}();const ij=Gce;function V4(e,t,n){t=="__proto__"&&ij?ij(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Wce=Object.prototype,qce=Wce.hasOwnProperty;function H4(e,t,n){var r=e[t];(!(qce.call(e,t)&&N4(r,n))||n===void 0&&!(t in e))&&V4(e,t,n)}function cS(e,t,n,r){var i=!n;n||(n={});for(var c=-1,d=t.length;++c<d;){var s=t[c],m=r?r(n[s],e[s],s,n,e):void 0;m===void 0&&(m=e[s]),i?V4(n,s,m):H4(n,s,m)}return n}function Zce(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Yce="[object Arguments]";function sj(e){return Vp(e)&&Up(e)==Yce}var G4=Object.prototype,Kce=G4.hasOwnProperty,Xce=G4.propertyIsEnumerable,Jce=sj(function(){return arguments}())?sj:function(e){return Vp(e)&&Kce.call(e,"callee")&&!Xce.call(e,"callee")};const Qce=Jce;var eue=Array.isArray;const rx=eue;function tue(){return!1}var W4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,aj=W4&&typeof module=="object"&&module&&!module.nodeType&&module,nue=aj&&aj.exports===W4,lj=nue?lu.Buffer:void 0,rue=lj?lj.isBuffer:void 0,oue=rue||tue;const q4=oue;var iue=9007199254740991,sue=/^(?:0|[1-9]\d*)$/;function aue(e,t){var n=typeof e;return t=t??iue,!!t&&(n=="number"||n!="symbol"&&sue.test(e))&&e>-1&&e%1==0&&e<t}var lue=9007199254740991;function Z4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lue}var cue="[object Arguments]",uue="[object Array]",due="[object Boolean]",hue="[object Date]",fue="[object Error]",pue="[object Function]",mue="[object Map]",gue="[object Number]",yue="[object Object]",vue="[object RegExp]",_ue="[object Set]",xue="[object String]",bue="[object WeakMap]",wue="[object ArrayBuffer]",Cue="[object DataView]",Sue="[object Float32Array]",Tue="[object Float64Array]",Eue="[object Int8Array]",Pue="[object Int16Array]",kue="[object Int32Array]",Iue="[object Uint8Array]",Mue="[object Uint8ClampedArray]",Aue="[object Uint16Array]",Rue="[object Uint32Array]",No={};No[Sue]=No[Tue]=No[Eue]=No[Pue]=No[kue]=No[Iue]=No[Mue]=No[Aue]=No[Rue]=!0;No[cue]=No[uue]=No[wue]=No[due]=No[Cue]=No[hue]=No[fue]=No[pue]=No[mue]=No[gue]=No[yue]=No[vue]=No[_ue]=No[xue]=No[bue]=!1;function Oue(e){return Vp(e)&&Z4(e.length)&&!!No[Up(e)]}function iA(e){return function(t){return e(t)}}var Y4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,V0=Y4&&typeof module=="object"&&module&&!module.nodeType&&module,Due=V0&&V0.exports===Y4,uE=Due&&F4.process,Lue=function(){try{var e=V0&&V0.require&&V0.require("util").types;return e||uE&&uE.binding&&uE.binding("util")}catch{}}();const hy=Lue;var cj=hy&&hy.isTypedArray,zue=cj?iA(cj):Oue;const Fue=zue;var jue=Object.prototype,$ue=jue.hasOwnProperty;function K4(e,t){var n=rx(e),r=!n&&Qce(e),i=!n&&!r&&q4(e),c=!n&&!r&&!i&&Fue(e),d=n||r||i||c,s=d?Zce(e.length,String):[],m=s.length;for(var _ in e)(t||$ue.call(e,_))&&!(d&&(_=="length"||i&&(_=="offset"||_=="parent")||c&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||aue(_,m)))&&s.push(_);return s}var Bue=Object.prototype;function sA(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Bue;return e===n}var Nue=$4(Object.keys,Object);const Uue=Nue;var Vue=Object.prototype,Hue=Vue.hasOwnProperty;function Gue(e){if(!sA(e))return Uue(e);var t=[];for(var n in Object(e))Hue.call(e,n)&&n!="constructor"&&t.push(n);return t}function X4(e){return e!=null&&Z4(e.length)&&!U4(e)}function aA(e){return X4(e)?K4(e):Gue(e)}function Wue(e,t){return e&&cS(t,aA(t),e)}function que(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Zue=Object.prototype,Yue=Zue.hasOwnProperty;function Kue(e){if(!nx(e))return que(e);var t=sA(e),n=[];for(var r in e)r=="constructor"&&(t||!Yue.call(e,r))||n.push(r);return n}function lA(e){return X4(e)?K4(e,!0):Kue(e)}function Xue(e,t){return e&&cS(t,lA(t),e)}var J4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,uj=J4&&typeof module=="object"&&module&&!module.nodeType&&module,Jue=uj&&uj.exports===J4,dj=Jue?lu.Buffer:void 0,hj=dj?dj.allocUnsafe:void 0;function Que(e,t){if(t)return e.slice();var n=e.length,r=hj?hj(n):new e.constructor(n);return e.copy(r),r}function Q4(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ede(e,t){for(var n=-1,r=e==null?0:e.length,i=0,c=[];++n<r;){var d=e[n];t(d,n,e)&&(c[i++]=d)}return c}function eU(){return[]}var tde=Object.prototype,nde=tde.propertyIsEnumerable,fj=Object.getOwnPropertySymbols,rde=fj?function(e){return e==null?[]:(e=Object(e),ede(fj(e),function(t){return nde.call(e,t)}))}:eU;const cA=rde;function ode(e,t){return cS(e,cA(e),t)}function tU(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var ide=Object.getOwnPropertySymbols,sde=ide?function(e){for(var t=[];e;)tU(t,cA(e)),e=oA(e);return t}:eU;const nU=sde;function ade(e,t){return cS(e,nU(e),t)}function rU(e,t,n){var r=t(e);return rx(e)?r:tU(r,n(e))}function lde(e){return rU(e,aA,cA)}function cde(e){return rU(e,lA,nU)}var ude=Gp(lu,"DataView");const gk=ude;var dde=Gp(lu,"Promise");const yk=dde;var hde=Gp(lu,"Set");const vk=hde;var fde=Gp(lu,"WeakMap");const _k=fde;var pj="[object Map]",pde="[object Object]",mj="[object Promise]",gj="[object Set]",yj="[object WeakMap]",vj="[object DataView]",mde=Hp(gk),gde=Hp(T_),yde=Hp(yk),vde=Hp(vk),_de=Hp(_k),sp=Up;(gk&&sp(new gk(new ArrayBuffer(1)))!=vj||T_&&sp(new T_)!=pj||yk&&sp(yk.resolve())!=mj||vk&&sp(new vk)!=gj||_k&&sp(new _k)!=yj)&&(sp=function(e){var t=Up(e),n=t==pde?e.constructor:void 0,r=n?Hp(n):"";if(r)switch(r){case mde:return vj;case gde:return pj;case yde:return mj;case vde:return gj;case _de:return yj}return t});const uA=sp;var xde=Object.prototype,bde=xde.hasOwnProperty;function wde(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&bde.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Cde=lu.Uint8Array;const _j=Cde;function dA(e){var t=new e.constructor(e.byteLength);return new _j(t).set(new _j(e)),t}function Sde(e,t){var n=t?dA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Tde=/\w*$/;function Ede(e){var t=new e.constructor(e.source,Tde.exec(e));return t.lastIndex=e.lastIndex,t}var xj=Zh?Zh.prototype:void 0,bj=xj?xj.valueOf:void 0;function Pde(e){return bj?Object(bj.call(e)):{}}function kde(e,t){var n=t?dA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Ide="[object Boolean]",Mde="[object Date]",Ade="[object Map]",Rde="[object Number]",Ode="[object RegExp]",Dde="[object Set]",Lde="[object String]",zde="[object Symbol]",Fde="[object ArrayBuffer]",jde="[object DataView]",$de="[object Float32Array]",Bde="[object Float64Array]",Nde="[object Int8Array]",Ude="[object Int16Array]",Vde="[object Int32Array]",Hde="[object Uint8Array]",Gde="[object Uint8ClampedArray]",Wde="[object Uint16Array]",qde="[object Uint32Array]";function Zde(e,t,n){var r=e.constructor;switch(t){case Fde:return dA(e);case Ide:case Mde:return new r(+e);case jde:return Sde(e,n);case $de:case Bde:case Nde:case Ude:case Vde:case Hde:case Gde:case Wde:case qde:return kde(e,n);case Ade:return new r;case Rde:case Lde:return new r(e);case Ode:return Ede(e);case Dde:return new r;case zde:return Pde(e)}}var wj=Object.create,Yde=function(){function e(){}return function(t){if(!nx(t))return{};if(wj)return wj(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const Kde=Yde;function Xde(e){return typeof e.constructor=="function"&&!sA(e)?Kde(oA(e)):{}}var Jde="[object Map]";function Qde(e){return Vp(e)&&uA(e)==Jde}var Cj=hy&&hy.isMap,ehe=Cj?iA(Cj):Qde;const the=ehe;var nhe="[object Set]";function rhe(e){return Vp(e)&&uA(e)==nhe}var Sj=hy&&hy.isSet,ohe=Sj?iA(Sj):rhe;const ihe=ohe;var she=1,ahe=2,lhe=4,oU="[object Arguments]",che="[object Array]",uhe="[object Boolean]",dhe="[object Date]",hhe="[object Error]",iU="[object Function]",fhe="[object GeneratorFunction]",phe="[object Map]",mhe="[object Number]",sU="[object Object]",ghe="[object RegExp]",yhe="[object Set]",vhe="[object String]",_he="[object Symbol]",xhe="[object WeakMap]",bhe="[object ArrayBuffer]",whe="[object DataView]",Che="[object Float32Array]",She="[object Float64Array]",The="[object Int8Array]",Ehe="[object Int16Array]",Phe="[object Int32Array]",khe="[object Uint8Array]",Ihe="[object Uint8ClampedArray]",Mhe="[object Uint16Array]",Ahe="[object Uint32Array]",Lo={};Lo[oU]=Lo[che]=Lo[bhe]=Lo[whe]=Lo[uhe]=Lo[dhe]=Lo[Che]=Lo[She]=Lo[The]=Lo[Ehe]=Lo[Phe]=Lo[phe]=Lo[mhe]=Lo[sU]=Lo[ghe]=Lo[yhe]=Lo[vhe]=Lo[_he]=Lo[khe]=Lo[Ihe]=Lo[Mhe]=Lo[Ahe]=!0;Lo[hhe]=Lo[iU]=Lo[xhe]=!1;function x1(e,t,n,r,i,c){var d,s=t&she,m=t&ahe,_=t&lhe;if(n&&(d=i?n(e,r,i,c):n(e)),d!==void 0)return d;if(!nx(e))return e;var w=rx(e);if(w){if(d=wde(e),!s)return Q4(e,d)}else{var E=uA(e),k=E==iU||E==fhe;if(q4(e))return Que(e,s);if(E==sU||E==oU||k&&!i){if(d=m||k?{}:Xde(e),!s)return m?ade(e,Xue(d,e)):ode(e,Wue(d,e))}else{if(!Lo[E])return i?e:{};d=Zde(e,E,s)}}c||(c=new Iy);var O=c.get(e);if(O)return O;c.set(e,d),ihe(e)?e.forEach(function(U){d.add(x1(U,t,n,U,e,c))}):the(e)&&e.forEach(function(U,F){d.set(F,x1(U,t,n,F,e,c))});var R=_?m?cde:lde:m?lA:aA,L=w?void 0:R(e);return Hce(L||e,function(U,F){L&&(F=U,U=e[F]),H4(d,F,x1(U,t,n,F,e,c))}),d}var Rhe=4;function Tj(e){return x1(e,Rhe)}function aU(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ohe="[object Symbol]";function hA(e){return typeof e=="symbol"||Vp(e)&&Up(e)==Ohe}var Dhe="Expected a function";function fA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Dhe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],c=n.cache;if(c.has(i))return c.get(i);var d=e.apply(this,r);return n.cache=c.set(i,d)||c,d};return n.cache=new(fA.Cache||rf),n}fA.Cache=rf;var Lhe=500;function zhe(e){var t=fA(e,function(r){return n.size===Lhe&&n.clear(),r}),n=t.cache;return t}var Fhe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jhe=/\\(\\)?/g,$he=zhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fhe,function(n,r,i,c){t.push(i?c.replace(jhe,"$1"):r||n)}),t});const Bhe=$he;var Nhe=1/0;function Uhe(e){if(typeof e=="string"||hA(e))return e;var t=e+"";return t=="0"&&1/e==-Nhe?"-0":t}var Vhe=1/0,Ej=Zh?Zh.prototype:void 0,Pj=Ej?Ej.toString:void 0;function lU(e){if(typeof e=="string")return e;if(rx(e))return aU(e,lU)+"";if(hA(e))return Pj?Pj.call(e):"";var t=e+"";return t=="0"&&1/e==-Vhe?"-0":t}function Hhe(e){return e==null?"":lU(e)}function cU(e){return rx(e)?aU(e,Uhe):hA(e)?[e]:Q4(Bhe(Hhe(e)))}function Uo(){return Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(this,arguments)}function Sg(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,c;for(c=0;c<r.length;c++)i=r[c],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var uS=P.createContext(void 0);uS.displayName="FormikContext";var Ghe=uS.Provider;uS.Consumer;function uU(){var e=P.useContext(uS);return e||Zle(!1),e}var Ia=function(t){return typeof t=="function"},dS=function(t){return t!==null&&typeof t=="object"},Whe=function(t){return String(Math.floor(Number(t)))===t},dE=function(t){return Object.prototype.toString.call(t)==="[object String]"},qhe=function(t){return P.Children.count(t)===0},hE=function(t){return dS(t)&&Ia(t.then)};function ka(e,t,n,r){r===void 0&&(r=0);for(var i=cU(t);e&&r<i.length;)e=e[i[r++]];return r!==i.length&&!e||e===void 0?n:e}function _p(e,t,n){for(var r=Tj(e),i=r,c=0,d=cU(t);c<d.length-1;c++){var s=d[c],m=ka(e,d.slice(0,c+1));if(m&&(dS(m)||Array.isArray(m)))i=i[s]=Tj(m);else{var _=d[c+1];i=i[s]=Whe(_)&&Number(_)>=0?[]:{}}}return(c===0?e:i)[d[c]]===n?e:(n===void 0?delete i[d[c]]:i[d[c]]=n,c===0&&n===void 0&&delete r[d[c]],r)}function dU(e,t,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,c=Object.keys(e);i<c.length;i++){var d=c[i],s=e[d];dS(s)?n.get(s)||(n.set(s,!0),r[d]=Array.isArray(s)?[]:{},dU(s,t,n,r[d])):r[d]=t}return r}function Zhe(e,t){switch(t.type){case"SET_VALUES":return Uo({},e,{values:t.payload});case"SET_TOUCHED":return Uo({},e,{touched:t.payload});case"SET_ERRORS":return ip(e.errors,t.payload)?e:Uo({},e,{errors:t.payload});case"SET_STATUS":return Uo({},e,{status:t.payload});case"SET_ISSUBMITTING":return Uo({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Uo({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Uo({},e,{values:_p(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Uo({},e,{touched:_p(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Uo({},e,{errors:_p(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Uo({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Uo({},e,{touched:dU(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Uo({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Uo({},e,{isSubmitting:!1});default:return e}}var Qf={},Wb={};function Yhe(e){var t=e.validateOnChange,n=t===void 0?!0:t,r=e.validateOnBlur,i=r===void 0?!0:r,c=e.validateOnMount,d=c===void 0?!1:c,s=e.isInitialValid,m=e.enableReinitialize,_=m===void 0?!1:m,w=e.onSubmit,E=Sg(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),k=Uo({validateOnChange:n,validateOnBlur:i,validateOnMount:d,onSubmit:w},E),O=P.useRef(k.initialValues),R=P.useRef(k.initialErrors||Qf),L=P.useRef(k.initialTouched||Wb),U=P.useRef(k.initialStatus),F=P.useRef(!1),z=P.useRef({});P.useEffect(function(){return F.current=!0,function(){F.current=!1}},[]);var B=P.useState(0),Z=B[1],ee=P.useRef({values:k.initialValues,errors:k.initialErrors||Qf,touched:k.initialTouched||Wb,status:k.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),X=ee.current,W=P.useCallback(function(Ve){var ft=ee.current;ee.current=Zhe(ft,Ve),ft!==ee.current&&Z(function(Dt){return Dt+1})},[]),ne=P.useCallback(function(Ve,ft){return new Promise(function(Dt,Qt){var yn=k.validate(Ve,ft);yn==null?Dt(Qf):hE(yn)?yn.then(function(on){Dt(on||Qf)},function(on){Qt(on)}):Dt(yn)})},[k.validate]),J=P.useCallback(function(Ve,ft){var Dt=k.validationSchema,Qt=Ia(Dt)?Dt(ft):Dt,yn=ft&&Qt.validateAt?Qt.validateAt(ft,Ve):Xhe(Ve,Qt);return new Promise(function(on,un){yn.then(function(){on(Qf)},function(dn){dn.name==="ValidationError"?on(Khe(dn)):un(dn)})})},[k.validationSchema]),re=P.useCallback(function(Ve,ft){return new Promise(function(Dt){return Dt(z.current[Ve].validate(ft))})},[]),se=P.useCallback(function(Ve){var ft=Object.keys(z.current).filter(function(Qt){return Ia(z.current[Qt].validate)}),Dt=ft.length>0?ft.map(function(Qt){return re(Qt,ka(Ve,Qt))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Dt).then(function(Qt){return Qt.reduce(function(yn,on,un){return on==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||on&&(yn=_p(yn,ft[un],on)),yn},{})})},[re]),de=P.useCallback(function(Ve){return Promise.all([se(Ve),k.validationSchema?J(Ve):{},k.validate?ne(Ve):{}]).then(function(ft){var Dt=ft[0],Qt=ft[1],yn=ft[2],on=pk.all([Dt,Qt,yn],{arrayMerge:Jhe});return on})},[k.validate,k.validationSchema,se,ne,J]),pe=rl(function(Ve){return Ve===void 0&&(Ve=X.values),W({type:"SET_ISVALIDATING",payload:!0}),de(Ve).then(function(ft){return F.current&&(W({type:"SET_ISVALIDATING",payload:!1}),W({type:"SET_ERRORS",payload:ft})),ft})});P.useEffect(function(){d&&F.current===!0&&ip(O.current,k.initialValues)&&pe(O.current)},[d,pe]);var ae=P.useCallback(function(Ve){var ft=Ve&&Ve.values?Ve.values:O.current,Dt=Ve&&Ve.errors?Ve.errors:R.current?R.current:k.initialErrors||{},Qt=Ve&&Ve.touched?Ve.touched:L.current?L.current:k.initialTouched||{},yn=Ve&&Ve.status?Ve.status:U.current?U.current:k.initialStatus;O.current=ft,R.current=Dt,L.current=Qt,U.current=yn;var on=function(){W({type:"RESET_FORM",payload:{isSubmitting:!!Ve&&!!Ve.isSubmitting,errors:Dt,touched:Qt,status:yn,values:ft,isValidating:!!Ve&&!!Ve.isValidating,submitCount:Ve&&Ve.submitCount&&typeof Ve.submitCount=="number"?Ve.submitCount:0}})};if(k.onReset){var un=k.onReset(X.values,Ot);hE(un)?un.then(on):on()}else on()},[k.initialErrors,k.initialStatus,k.initialTouched]);P.useEffect(function(){F.current===!0&&!ip(O.current,k.initialValues)&&_&&(O.current=k.initialValues,ae(),d&&pe(O.current))},[_,k.initialValues,ae,d,pe]),P.useEffect(function(){_&&F.current===!0&&!ip(R.current,k.initialErrors)&&(R.current=k.initialErrors||Qf,W({type:"SET_ERRORS",payload:k.initialErrors||Qf}))},[_,k.initialErrors]),P.useEffect(function(){_&&F.current===!0&&!ip(L.current,k.initialTouched)&&(L.current=k.initialTouched||Wb,W({type:"SET_TOUCHED",payload:k.initialTouched||Wb}))},[_,k.initialTouched]),P.useEffect(function(){_&&F.current===!0&&!ip(U.current,k.initialStatus)&&(U.current=k.initialStatus,W({type:"SET_STATUS",payload:k.initialStatus}))},[_,k.initialStatus,k.initialTouched]);var oe=rl(function(Ve){if(z.current[Ve]&&Ia(z.current[Ve].validate)){var ft=ka(X.values,Ve),Dt=z.current[Ve].validate(ft);return hE(Dt)?(W({type:"SET_ISVALIDATING",payload:!0}),Dt.then(function(Qt){return Qt}).then(function(Qt){W({type:"SET_FIELD_ERROR",payload:{field:Ve,value:Qt}}),W({type:"SET_ISVALIDATING",payload:!1})})):(W({type:"SET_FIELD_ERROR",payload:{field:Ve,value:Dt}}),Promise.resolve(Dt))}else if(k.validationSchema)return W({type:"SET_ISVALIDATING",payload:!0}),J(X.values,Ve).then(function(Qt){return Qt}).then(function(Qt){W({type:"SET_FIELD_ERROR",payload:{field:Ve,value:ka(Qt,Ve)}}),W({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),me=P.useCallback(function(Ve,ft){var Dt=ft.validate;z.current[Ve]={validate:Dt}},[]),xe=P.useCallback(function(Ve){delete z.current[Ve]},[]),ce=rl(function(Ve,ft){W({type:"SET_TOUCHED",payload:Ve});var Dt=ft===void 0?i:ft;return Dt?pe(X.values):Promise.resolve()}),ge=P.useCallback(function(Ve){W({type:"SET_ERRORS",payload:Ve})},[]),Te=rl(function(Ve,ft){var Dt=Ia(Ve)?Ve(X.values):Ve;W({type:"SET_VALUES",payload:Dt});var Qt=ft===void 0?n:ft;return Qt?pe(Dt):Promise.resolve()}),Ue=P.useCallback(function(Ve,ft){W({type:"SET_FIELD_ERROR",payload:{field:Ve,value:ft}})},[]),We=rl(function(Ve,ft,Dt){W({type:"SET_FIELD_VALUE",payload:{field:Ve,value:ft}});var Qt=Dt===void 0?n:Dt;return Qt?pe(_p(X.values,Ve,ft)):Promise.resolve()}),Ye=P.useCallback(function(Ve,ft){var Dt=ft,Qt=Ve,yn;if(!dE(Ve)){Ve.persist&&Ve.persist();var on=Ve.target?Ve.target:Ve.currentTarget,un=on.type,dn=on.name,sn=on.id,kn=on.value,Vn=on.checked,ar=on.outerHTML,vr=on.options,Ar=on.multiple;Dt=ft||dn||sn,Qt=/number|range/.test(un)?(yn=parseFloat(kn),isNaN(yn)?"":yn):/checkbox/.test(un)?efe(ka(X.values,Dt),Vn,kn):vr&&Ar?Qhe(vr):kn}Dt&&We(Dt,Qt)},[We,X.values]),gt=rl(function(Ve){if(dE(Ve))return function(ft){return Ye(ft,Ve)};Ye(Ve)}),vt=rl(function(Ve,ft,Dt){ft===void 0&&(ft=!0),W({type:"SET_FIELD_TOUCHED",payload:{field:Ve,value:ft}});var Qt=Dt===void 0?i:Dt;return Qt?pe(X.values):Promise.resolve()}),jt=P.useCallback(function(Ve,ft){Ve.persist&&Ve.persist();var Dt=Ve.target,Qt=Dt.name,yn=Dt.id,on=Dt.outerHTML,un=ft||Qt||yn;vt(un,!0)},[vt]),Rt=rl(function(Ve){if(dE(Ve))return function(ft){return jt(ft,Ve)};jt(Ve)}),pn=P.useCallback(function(Ve){Ia(Ve)?W({type:"SET_FORMIK_STATE",payload:Ve}):W({type:"SET_FORMIK_STATE",payload:function(){return Ve}})},[]),Ut=P.useCallback(function(Ve){W({type:"SET_STATUS",payload:Ve})},[]),rn=P.useCallback(function(Ve){W({type:"SET_ISSUBMITTING",payload:Ve})},[]),et=rl(function(){return W({type:"SUBMIT_ATTEMPT"}),pe().then(function(Ve){var ft=Ve instanceof Error,Dt=!ft&&Object.keys(Ve).length===0;if(Dt){var Qt;try{if(Qt=Yt(),Qt===void 0)return}catch(yn){throw yn}return Promise.resolve(Qt).then(function(yn){return F.current&&W({type:"SUBMIT_SUCCESS"}),yn}).catch(function(yn){if(F.current)throw W({type:"SUBMIT_FAILURE"}),yn})}else if(F.current&&(W({type:"SUBMIT_FAILURE"}),ft))throw Ve})}),Pt=rl(function(Ve){Ve&&Ve.preventDefault&&Ia(Ve.preventDefault)&&Ve.preventDefault(),Ve&&Ve.stopPropagation&&Ia(Ve.stopPropagation)&&Ve.stopPropagation(),et().catch(function(ft){console.warn("Warning: An unhandled error was caught from submitForm()",ft)})}),Ot={resetForm:ae,validateForm:pe,validateField:oe,setErrors:ge,setFieldError:Ue,setFieldTouched:vt,setFieldValue:We,setStatus:Ut,setSubmitting:rn,setTouched:ce,setValues:Te,setFormikState:pn,submitForm:et},Yt=rl(function(){return w(X.values,Ot)}),st=rl(function(Ve){Ve&&Ve.preventDefault&&Ia(Ve.preventDefault)&&Ve.preventDefault(),Ve&&Ve.stopPropagation&&Ia(Ve.stopPropagation)&&Ve.stopPropagation(),ae()}),Ct=P.useCallback(function(Ve){return{value:ka(X.values,Ve),error:ka(X.errors,Ve),touched:!!ka(X.touched,Ve),initialValue:ka(O.current,Ve),initialTouched:!!ka(L.current,Ve),initialError:ka(R.current,Ve)}},[X.errors,X.touched,X.values]),ht=P.useCallback(function(Ve){return{setValue:function(Dt,Qt){return We(Ve,Dt,Qt)},setTouched:function(Dt,Qt){return vt(Ve,Dt,Qt)},setError:function(Dt){return Ue(Ve,Dt)}}},[We,vt,Ue]),en=P.useCallback(function(Ve){var ft=dS(Ve),Dt=ft?Ve.name:Ve,Qt=ka(X.values,Dt),yn={name:Dt,value:Qt,onChange:gt,onBlur:Rt};if(ft){var on=Ve.type,un=Ve.value,dn=Ve.as,sn=Ve.multiple;on==="checkbox"?un===void 0?yn.checked=!!Qt:(yn.checked=!!(Array.isArray(Qt)&&~Qt.indexOf(un)),yn.value=un):on==="radio"?(yn.checked=Qt===un,yn.value=un):dn==="select"&&sn&&(yn.value=yn.value||[],yn.multiple=!0)}return yn},[Rt,gt,X.values]),Kt=P.useMemo(function(){return!ip(O.current,X.values)},[O.current,X.values]),vn=P.useMemo(function(){return typeof s<"u"?Kt?X.errors&&Object.keys(X.errors).length===0:s!==!1&&Ia(s)?s(k):s:X.errors&&Object.keys(X.errors).length===0},[s,Kt,X.errors,k]),wn=Uo({},X,{initialValues:O.current,initialErrors:R.current,initialTouched:L.current,initialStatus:U.current,handleBlur:Rt,handleChange:gt,handleReset:st,handleSubmit:Pt,resetForm:ae,setErrors:ge,setFormikState:pn,setFieldTouched:vt,setFieldValue:We,setFieldError:Ue,setStatus:Ut,setSubmitting:rn,setTouched:ce,setValues:Te,submitForm:et,validateForm:pe,validateField:oe,isValid:vn,dirty:Kt,unregisterField:xe,registerField:me,getFieldProps:en,getFieldMeta:Ct,getFieldHelpers:ht,validateOnBlur:i,validateOnChange:n,validateOnMount:d});return wn}function hS(e){var t=Yhe(e),n=e.component,r=e.children,i=e.render,c=e.innerRef;return P.useImperativeHandle(c,function(){return t}),P.createElement(Ghe,{value:t},n?P.createElement(n,t):i?i(t):r?Ia(r)?r(t):qhe(r)?null:P.Children.only(r):null)}function Khe(e){var t={};if(e.inner){if(e.inner.length===0)return _p(t,e.path,e.message);for(var i=e.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var c;if(n){if(r>=i.length)break;c=i[r++]}else{if(r=i.next(),r.done)break;c=r.value}var d=c;ka(t,d.path)||(t=_p(t,d.path,d.message))}}return t}function Xhe(e,t,n,r){n===void 0&&(n=!1);var i=xk(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function xk(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);Array.isArray(e[r])===!0?t[r]=e[r].map(function(i){return Array.isArray(i)===!0||tj(i)?xk(i):i!==""?i:void 0}):tj(e[r])?t[r]=xk(e[r]):t[r]=e[r]!==""?e[r]:void 0}return t}function Jhe(e,t,n){var r=e.slice();return t.forEach(function(c,d){if(typeof r[d]>"u"){var s=n.clone!==!1,m=s&&n.isMergeableObject(c);r[d]=m?pk(Array.isArray(c)?[]:{},c,n):c}else n.isMergeableObject(c)?r[d]=pk(e[d],c,n):e.indexOf(c)===-1&&r.push(c)}),r}function Qhe(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function efe(e,t,n){if(typeof e=="boolean")return!!t;var r=[],i=!1,c=-1;if(Array.isArray(e))r=e,c=e.indexOf(n),i=c>=0;else if(!n||n=="true"||n=="false")return!!t;return t&&n&&!i?r.concat(n):i?r.slice(0,c).concat(r.slice(c+1)):r}var tfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function rl(e){var t=P.useRef(e);return tfe(function(){t.current=e}),P.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current.apply(void 0,r)},[])}function $u(e){var t=e.validate,n=e.name,r=e.render,i=e.children,c=e.as,d=e.component,s=Sg(e,["validate","name","render","children","as","component"]),m=uU(),_=Sg(m,["validate","validationSchema"]),w=_.registerField,E=_.unregisterField;P.useEffect(function(){return w(n,{validate:t}),function(){E(n)}},[w,E,n,t]);var k=_.getFieldProps(Uo({name:n},s)),O=_.getFieldMeta(n),R={field:k,form:_};if(r)return r(Uo({},R,{meta:O}));if(Ia(i))return i(Uo({},R,{meta:O}));if(d){if(typeof d=="string"){var L=s.innerRef,U=Sg(s,["innerRef"]);return P.createElement(d,Uo({ref:L},k,U),i)}return P.createElement(d,Uo({field:k,form:_},s),i)}var F=c||"input";if(typeof F=="string"){var z=s.innerRef,B=Sg(s,["innerRef"]);return P.createElement(F,Uo({ref:z},k,B),i)}return P.createElement(F,Uo({},k,s),i)}var ox=P.forwardRef(function(e,t){var n=e.action,r=Sg(e,["action"]),i=n??"#",c=uU(),d=c.handleReset,s=c.handleSubmit;return P.createElement("form",Uo({onSubmit:s,ref:t,onReset:d,action:i},r))});ox.displayName="Form";class ho{static async login(t){const n=this.API_URL+"accounts/login/";return await fetch(n,{method:"POST",headers:{"Content-Type":"*/*"},body:t})}static async register(t){const n=this.API_URL+"accounts/register/";return await fetch(n,{method:"POST",headers:{"Content-Type":"*/*"},body:t})}static async checkUser(t){const n=this.API_URL+`accounts/check-user/?username=${t}`;return await fetch(n)}static async createVoiture(t,n){const r=this.API_URL+"core/voiture/";return await fetch(r,{method:"POST",headers:{Authorization:`token ${n}`},body:t})}static async listVoiture(t,n=""){let r=this.API_URL+"core/voiture/";return r=n?r+`?${n}`:r,await fetch(r,{headers:{"Content-Type":"application/json",Authorization:`token ${t}`}})}static async getVoiture(t,n){const r=this.API_URL+`core/voiture/${t}/`;return await fetch(r,{headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}static async updateVoiture(t,n,r){const i=this.API_URL+`core/voiture/${t}/`;return await fetch(i,{method:"PATCH",body:n,headers:{Authorization:`token ${r}`}})}static async updateVoitureImage(t,n,r){const i=this.API_URL+`core/image-voiture/${t}/`;return await fetch(i,{method:"PATCH",body:n,headers:{Authorization:`token ${r}`}})}static async addVoitureImage(t,n,r){const i=this.API_URL+`core/voiture/${t}/add_images/`;return await fetch(i,{method:"POST",body:n,headers:{Authorization:`token ${r}`}})}static async deleteVoiture(t,n){const r=this.API_URL+`core/voiture/${t}/`;return await fetch(r,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}static async deleteVoitureImage(t,n){const r=this.API_URL+`core/image-voiture/${t}/`;return await fetch(r,{method:"DELETE",headers:{Authorization:`token ${n}`}})}static async createAnnonce(t,n){const r=this.API_URL+"core/annonce/";return await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`token ${n}`},body:t})}static async listAnnonces(t=""){let n=this.API_URL+"core/annonces/";return n=t?n+`?${t}`:n,await fetch(n,{headers:{"Content-Type":"application/json"}})}static async listAnnonce(t,n=""){let r=this.API_URL+"core/annonce/";return r=n?r+`?${n}`:r,await fetch(r,{headers:{"Content-Type":"application/json",Authorization:`token ${t}`}})}static async getAnnonces(t){const n=this.API_URL+`core/annonces/${t}/`;return await fetch(n,{headers:{"Content-Type":"application/json"}})}static async getAnnonce(t,n){const r=this.API_URL+`core/annonce/${t}/`;return await fetch(r,{headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}static async updateAnnonce(t,n,r){const i=this.API_URL+`core/annonce/${t}/`;return await fetch(i,{method:"PATCH",body:n,headers:{"Content-Type":"application/json",Authorization:`token ${r}`}})}static async deleteAnnonce(t,n){const r=this.API_URL+`core/annonce/${t}/`;return await fetch(r,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}static async createMarque(t,n){const r=this.API_URL+"core/marque/";return await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`token ${n}`},body:t})}static async listMarque(){const t=this.API_URL+"core/marque/";return await fetch(t,{headers:{"Content-Type":"application/json"}})}static async getMarque(t,n){const r=this.API_URL+`core/marque/${t}/`;return await fetch(r,{headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}static async updateMarque(t,n,r){const i=this.API_URL+`core/marque/${t}/`;return await fetch(i,{method:"PATCH",body:n,headers:{"Content-Type":"application/json",Authorization:`token ${r}`}})}static async deleteMarque(t,n){const r=this.API_URL+`core/marque/${t}/`;return await fetch(r,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}static async createModele(t,n){const r=this.API_URL+"core/modele/";return await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`token ${n}`},body:t})}static async listModele(){const t=this.API_URL+"core/modele/";return await fetch(t,{headers:{"Content-Type":"*/*"}})}static async getModele(t,n){const r=this.API_URL+`core/modele/${t}/`;return await fetch(r,{headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}static async updateModele(t,n,r){const i=this.API_URL+`core/modele/${t}/`;return await fetch(i,{method:"PATCH",body:n,headers:{"Content-Type":"application/json",Authorization:`token ${r}`}})}static async deleteModele(t,n){const r=this.API_URL+`core/modele/${t}/`;return await fetch(r,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`token ${n}`}})}}tL(ho,"API_URL","/api/");const pA=Tr.createContext(null);pA.displayName="AuthContext";const Ga=()=>Tr.useContext(pA);var hU={exports:{}};/*!
* sweetalert2 v11.7.16
* Released under the MIT License.
*/(function(e,t){(function(n,r){e.exports=r()})(Ma,function(){const r={},i=()=>{r.previousActiveElement instanceof HTMLElement?(r.previousActiveElement.focus(),r.previousActiveElement=null):document.body&&document.body.focus()},c=H=>new Promise(G=>{if(!H)return G();const fe=window.scrollX,De=window.scrollY;r.restoreFocusTimeout=setTimeout(()=>{i(),G()},100),window.scrollTo(fe,De)});var d={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const s="swal2-",_=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((H,G)=>(H[G]=s+G,H),{}),E=["success","warning","info","question","error"].reduce((H,G)=>(H[G]=s+G,H),{}),k="SweetAlert2:",O=H=>H.charAt(0).toUpperCase()+H.slice(1),R=H=>{console.warn(`${k} ${typeof H=="object"?H.join(" "):H}`)},L=H=>{console.error(`${k} ${H}`)},U=[],F=H=>{U.includes(H)||(U.push(H),R(H))},z=(H,G)=>{F(`"${H}" is deprecated and will be removed in the next major release. Please use "${G}" instead.`)},B=H=>typeof H=="function"?H():H,Z=H=>H&&typeof H.toPromise=="function",ee=H=>Z(H)?H.toPromise():Promise.resolve(H),X=H=>H&&Promise.resolve(H)===H,W=()=>document.body.querySelector(`.${_.container}`),ne=H=>{const G=W();return G?G.querySelector(H):null},J=H=>ne(`.${H}`),re=()=>J(_.popup),se=()=>J(_.icon),de=()=>J(_["icon-content"]),pe=()=>J(_.title),ae=()=>J(_["html-container"]),oe=()=>J(_.image),me=()=>J(_["progress-steps"]),xe=()=>J(_["validation-message"]),ce=()=>ne(`.${_.actions} .${_.confirm}`),ge=()=>ne(`.${_.actions} .${_.cancel}`),Te=()=>ne(`.${_.actions} .${_.deny}`),Ue=()=>J(_["input-label"]),We=()=>ne(`.${_.loader}`),Ye=()=>J(_.actions),gt=()=>J(_.footer),vt=()=>J(_["timer-progress-bar"]),jt=()=>J(_.close),Rt=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,pn=()=>{const H=re();if(!H)return[];const G=H.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),fe=Array.from(G).sort((jn,Br)=>{const To=parseInt(jn.getAttribute("tabindex")||"0"),vo=parseInt(Br.getAttribute("tabindex")||"0");return To>vo?1:To<vo?-1:0}),De=H.querySelectorAll(Rt),wt=Array.from(De).filter(jn=>jn.getAttribute("tabindex")!=="-1");return[...new Set(fe.concat(wt))].filter(jn=>on(jn))},Ut=()=>Ot(document.body,_.shown)&&!Ot(document.body,_["toast-shown"])&&!Ot(document.body,_["no-backdrop"]),rn=()=>{const H=re();return H?Ot(H,_.toast):!1},et=()=>{const H=re();return H?H.hasAttribute("data-loading"):!1},Pt=(H,G)=>{if(H.textContent="",G){const De=new DOMParser().parseFromString(G,"text/html");Array.from(De.querySelector("head").childNodes).forEach(wt=>{H.appendChild(wt)}),Array.from(De.querySelector("body").childNodes).forEach(wt=>{wt instanceof HTMLVideoElement||wt instanceof HTMLAudioElement?H.appendChild(wt.cloneNode(!0)):H.appendChild(wt)})}},Ot=(H,G)=>{if(!G)return!1;const fe=G.split(/\s+/);for(let De=0;De<fe.length;De++)if(!H.classList.contains(fe[De]))return!1;return!0},Yt=(H,G)=>{Array.from(H.classList).forEach(fe=>{!Object.values(_).includes(fe)&&!Object.values(E).includes(fe)&&!Object.values(G.showClass).includes(fe)&&H.classList.remove(fe)})},st=(H,G,fe)=>{if(Yt(H,G),G.customClass&&G.customClass[fe]){if(typeof G.customClass[fe]!="string"&&!G.customClass[fe].forEach){R(`Invalid type of customClass.${fe}! Expected string or iterable object, got "${typeof G.customClass[fe]}"`);return}Kt(H,G.customClass[fe])}},Ct=(H,G)=>{if(!G)return null;switch(G){case"select":case"textarea":case"file":return H.querySelector(`.${_.popup} > .${_[G]}`);case"checkbox":return H.querySelector(`.${_.popup} > .${_.checkbox} input`);case"radio":return H.querySelector(`.${_.popup} > .${_.radio} input:checked`)||H.querySelector(`.${_.popup} > .${_.radio} input:first-child`);case"range":return H.querySelector(`.${_.popup} > .${_.range} input`);default:return H.querySelector(`.${_.popup} > .${_.input}`)}},ht=H=>{if(H.focus(),H.type!=="file"){const G=H.value;H.value="",H.value=G}},en=(H,G,fe)=>{!H||!G||(typeof G=="string"&&(G=G.split(/\s+/).filter(Boolean)),G.forEach(De=>{Array.isArray(H)?H.forEach(wt=>{fe?wt.classList.add(De):wt.classList.remove(De)}):fe?H.classList.add(De):H.classList.remove(De)}))},Kt=(H,G)=>{en(H,G,!0)},vn=(H,G)=>{en(H,G,!1)},wn=(H,G)=>{const fe=Array.from(H.children);for(let De=0;De<fe.length;De++){const wt=fe[De];if(wt instanceof HTMLElement&&Ot(wt,G))return wt}},Ve=(H,G,fe)=>{fe===`${parseInt(fe)}`&&(fe=parseInt(fe)),fe||parseInt(fe)===0?H.style[G]=typeof fe=="number"?`${fe}px`:fe:H.style.removeProperty(G)},ft=function(H){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";H&&(H.style.display=G)},Dt=H=>{H&&(H.style.display="none")},Qt=(H,G,fe,De)=>{const wt=H.querySelector(G);wt&&(wt.style[fe]=De)},yn=function(H,G){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";G?ft(H,fe):Dt(H)},on=H=>!!(H&&(H.offsetWidth||H.offsetHeight||H.getClientRects().length)),un=()=>!on(ce())&&!on(Te())&&!on(ge()),dn=H=>H.scrollHeight>H.clientHeight,sn=H=>{const G=window.getComputedStyle(H),fe=parseFloat(G.getPropertyValue("animation-duration")||"0"),De=parseFloat(G.getPropertyValue("transition-duration")||"0");return fe>0||De>0},kn=function(H){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const fe=vt();on(fe)&&(G&&(fe.style.transition="none",fe.style.width="100%"),setTimeout(()=>{fe.style.transition=`width ${H/1e3}s linear`,fe.style.width="0%"},10))},Vn=()=>{const H=vt(),G=parseInt(window.getComputedStyle(H).width);H.style.removeProperty("transition"),H.style.width="100%";const fe=parseInt(window.getComputedStyle(H).width),De=G/fe*100;H.style.width=`${De}%`},ar=()=>typeof window>"u"||typeof document>"u",vr=`
 <div aria-labelledby="${_.title}" aria-describedby="${_["html-container"]}" class="${_.popup}" tabindex="-1">
   <button type="button" class="${_.close}"></button>
   <ul class="${_["progress-steps"]}"></ul>
   <div class="${_.icon}"></div>
   <img class="${_.image}" />
   <h2 class="${_.title}" id="${_.title}"></h2>
   <div class="${_["html-container"]}" id="${_["html-container"]}"></div>
   <input class="${_.input}" id="${_.input}" />
   <input type="file" class="${_.file}" />
   <div class="${_.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${_.select}" id="${_.select}"></select>
   <div class="${_.radio}"></div>
   <label class="${_.checkbox}">
     <input type="checkbox" id="${_.checkbox}" />
     <span class="${_.label}"></span>
   </label>
   <textarea class="${_.textarea}" id="${_.textarea}"></textarea>
   <div class="${_["validation-message"]}" id="${_["validation-message"]}"></div>
   <div class="${_.actions}">
     <div class="${_.loader}"></div>
     <button type="button" class="${_.confirm}"></button>
     <button type="button" class="${_.deny}"></button>
     <button type="button" class="${_.cancel}"></button>
   </div>
   <div class="${_.footer}"></div>
   <div class="${_["timer-progress-bar-container"]}">
     <div class="${_["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Ar=()=>{const H=W();return H?(H.remove(),vn([document.documentElement,document.body],[_["no-backdrop"],_["toast-shown"],_["has-column"]]),!0):!1},nr=()=>{r.currentInstance.resetValidationMessage()},gi=()=>{const H=re(),G=wn(H,_.input),fe=wn(H,_.file),De=H.querySelector(`.${_.range} input`),wt=H.querySelector(`.${_.range} output`),jn=wn(H,_.select),Br=H.querySelector(`.${_.checkbox} input`),To=wn(H,_.textarea);G.oninput=nr,fe.onchange=nr,jn.onchange=nr,Br.onchange=nr,To.oninput=nr,De.oninput=()=>{nr(),wt.value=De.value},De.onchange=()=>{nr(),wt.value=De.value}},ti=H=>typeof H=="string"?document.querySelector(H):H,Re=H=>{const G=re();G.setAttribute("role",H.toast?"alert":"dialog"),G.setAttribute("aria-live",H.toast?"polite":"assertive"),H.toast||G.setAttribute("aria-modal","true")},he=H=>{window.getComputedStyle(H).direction==="rtl"&&Kt(W(),_.rtl)},ye=H=>{const G=Ar();if(ar()){L("SweetAlert2 requires document to initialize");return}const fe=document.createElement("div");fe.className=_.container,G&&Kt(fe,_["no-transition"]),Pt(fe,vr);const De=ti(H.target);De.appendChild(fe),Re(H),he(De),gi()},Ie=(H,G)=>{H instanceof HTMLElement?G.appendChild(H):typeof H=="object"?ze(H,G):H&&Pt(G,H)},ze=(H,G)=>{H.jquery?He(G,H):Pt(G,H.toString())},He=(H,G)=>{if(H.textContent="",0 in G)for(let fe=0;fe in G;fe++)H.appendChild(G[fe].cloneNode(!0));else H.appendChild(G.cloneNode(!0))},Xe=(()=>{if(ar())return!1;const H=document.createElement("div"),G={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const fe in G)if(Object.prototype.hasOwnProperty.call(G,fe)&&typeof H.style[fe]<"u")return G[fe];return!1})(),Qe=(H,G)=>{const fe=Ye(),De=We();!fe||!De||(!G.showConfirmButton&&!G.showDenyButton&&!G.showCancelButton?Dt(fe):ft(fe),st(fe,G,"actions"),Ge(fe,De,G),Pt(De,G.loaderHtml||""),st(De,G,"loader"))};function Ge(H,G,fe){const De=ce(),wt=Te(),jn=ge();!De||!wt||!jn||(Mt(De,"confirm",fe),Mt(wt,"deny",fe),Mt(jn,"cancel",fe),tt(De,wt,jn,fe),fe.reverseButtons&&(fe.toast?(H.insertBefore(jn,De),H.insertBefore(wt,De)):(H.insertBefore(jn,G),H.insertBefore(wt,G),H.insertBefore(De,G))))}function tt(H,G,fe,De){if(!De.buttonsStyling){vn([H,G,fe],_.styled);return}Kt([H,G,fe],_.styled),De.confirmButtonColor&&(H.style.backgroundColor=De.confirmButtonColor,Kt(H,_["default-outline"])),De.denyButtonColor&&(G.style.backgroundColor=De.denyButtonColor,Kt(G,_["default-outline"])),De.cancelButtonColor&&(fe.style.backgroundColor=De.cancelButtonColor,Kt(fe,_["default-outline"]))}function Mt(H,G,fe){const De=O(G);yn(H,fe[`show${De}Button`],"inline-block"),Pt(H,fe[`${G}ButtonText`]||""),H.setAttribute("aria-label",fe[`${G}ButtonAriaLabel`]||""),H.className=_[G],st(H,fe,`${G}Button`)}const qt=(H,G)=>{const fe=jt();fe&&(Pt(fe,G.closeButtonHtml||""),st(fe,G,"closeButton"),yn(fe,G.showCloseButton),fe.setAttribute("aria-label",G.closeButtonAriaLabel||""))},Ft=(H,G)=>{const fe=W();fe&&(Un(fe,G.backdrop),Hn(fe,G.position),$n(fe,G.grow),st(fe,G,"container"))};function Un(H,G){typeof G=="string"?H.style.background=G:G||Kt([document.documentElement,document.body],_["no-backdrop"])}function Hn(H,G){G&&(G in _?Kt(H,_[G]):(R('The "position" parameter is not valid, defaulting to "center"'),Kt(H,_.center)))}function $n(H,G){G&&Kt(H,_[`grow-${G}`])}const Dn=["input","file","range","select","radio","checkbox","textarea"],Wn=(H,G)=>{const fe=re(),De=d.innerParams.get(H),wt=!De||G.input!==De.input;Dn.forEach(jn=>{const Br=wn(fe,_[jn]);ro(jn,G.inputAttributes),Br.className=_[jn],wt&&Dt(Br)}),G.input&&(wt&&Rr(G),ot(G))},Rr=H=>{if(!kr[H.input]){L(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${H.input}"`);return}const G=Tn(H.input),fe=kr[H.input](G,H);ft(G),H.inputAutoFocus&&setTimeout(()=>{ht(fe)})},Er=H=>{for(let G=0;G<H.attributes.length;G++){const fe=H.attributes[G].name;["id","type","value","style"].includes(fe)||H.removeAttribute(fe)}},ro=(H,G)=>{const fe=Ct(re(),H);if(fe){Er(fe);for(const De in G)fe.setAttribute(De,G[De])}},ot=H=>{const G=Tn(H.input);typeof H.customClass=="object"&&Kt(G,H.customClass.input)},dt=(H,G)=>{(!H.placeholder||G.inputPlaceholder)&&(H.placeholder=G.inputPlaceholder)},tn=(H,G,fe)=>{if(fe.inputLabel){const De=document.createElement("label"),wt=_["input-label"];De.setAttribute("for",H.id),De.className=wt,typeof fe.customClass=="object"&&Kt(De,fe.customClass.inputLabel),De.innerText=fe.inputLabel,G.insertAdjacentElement("beforebegin",De)}},Tn=H=>wn(re(),_[H]||_.input),mr=(H,G)=>{["string","number"].includes(typeof G)?H.value=`${G}`:X(G)||R(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof G}"`)},kr={};kr.text=kr.email=kr.password=kr.number=kr.tel=kr.url=(H,G)=>(mr(H,G.inputValue),tn(H,H,G),dt(H,G),H.type=G.input,H),kr.file=(H,G)=>(tn(H,H,G),dt(H,G),H),kr.range=(H,G)=>{const fe=H.querySelector("input"),De=H.querySelector("output");return mr(fe,G.inputValue),fe.type=G.input,mr(De,G.inputValue),tn(fe,H,G),H},kr.select=(H,G)=>{if(H.textContent="",G.inputPlaceholder){const fe=document.createElement("option");Pt(fe,G.inputPlaceholder),fe.value="",fe.disabled=!0,fe.selected=!0,H.appendChild(fe)}return tn(H,H,G),H},kr.radio=H=>(H.textContent="",H),kr.checkbox=(H,G)=>{const fe=Ct(re(),"checkbox");fe.value="1",fe.checked=!!G.inputValue;const De=H.querySelector("span");return Pt(De,G.inputPlaceholder),fe},kr.textarea=(H,G)=>{mr(H,G.inputValue),dt(H,G),tn(H,H,G);const fe=De=>parseInt(window.getComputedStyle(De).marginLeft)+parseInt(window.getComputedStyle(De).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const De=parseInt(window.getComputedStyle(re()).width),wt=()=>{const jn=H.offsetWidth+fe(H);jn>De?re().style.width=`${jn}px`:re().style.width=null};new MutationObserver(wt).observe(H,{attributes:!0,attributeFilter:["style"]})}}),H};const Co=(H,G)=>{const fe=ae();fe&&(st(fe,G,"htmlContainer"),G.html?(Ie(G.html,fe),ft(fe,"block")):G.text?(fe.textContent=G.text,ft(fe,"block")):Dt(fe),Wn(H,G))},Jn=(H,G)=>{const fe=gt();fe&&(yn(fe,G.footer),G.footer&&Ie(G.footer,fe),st(fe,G,"footer"))},lr=(H,G)=>{const fe=d.innerParams.get(H),De=se();if(De){if(fe&&G.icon===fe.icon){Vs(De,G),qo(De,G);return}if(!G.icon&&!G.iconHtml){Dt(De);return}if(G.icon&&Object.keys(E).indexOf(G.icon)===-1){L(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${G.icon}"`),Dt(De);return}ft(De),Vs(De,G),qo(De,G),Kt(De,G.showClass&&G.showClass.icon)}},qo=(H,G)=>{for(const[fe,De]of Object.entries(E))G.icon!==fe&&vn(H,De);Kt(H,G.icon&&E[G.icon]),lf(H,G),af(),st(H,G,"icon")},af=()=>{const H=re();if(!H)return;const G=window.getComputedStyle(H).getPropertyValue("background-color"),fe=H.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let De=0;De<fe.length;De++)fe[De].style.backgroundColor=G},md=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Us=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Vs=(H,G)=>{if(!G.icon)return;let fe=H.innerHTML,De;G.iconHtml?De=gd(G.iconHtml):G.icon==="success"?(De=md,fe=fe.replace(/ style=".*?"/g,"")):G.icon==="error"?De=Us:De=gd({question:"?",warning:"!",info:"i"}[G.icon]),fe.trim()!==De.trim()&&Pt(H,De)},lf=(H,G)=>{if(G.iconColor){H.style.color=G.iconColor,H.style.borderColor=G.iconColor;for(const fe of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Qt(H,fe,"backgroundColor",G.iconColor);Qt(H,".swal2-success-ring","borderColor",G.iconColor)}},gd=H=>`<div class="${_["icon-content"]}">${H}</div>`,Pl=(H,G)=>{const fe=oe();if(fe){if(!G.imageUrl){Dt(fe);return}ft(fe,""),fe.setAttribute("src",G.imageUrl),fe.setAttribute("alt",G.imageAlt||""),Ve(fe,"width",G.imageWidth),Ve(fe,"height",G.imageHeight),fe.className=_.image,st(fe,G,"image")}},pa=(H,G)=>{const fe=W(),De=re();if(!(!fe||!De)){if(G.toast){Ve(fe,"width",G.width),De.style.width="100%";const wt=We();wt&&De.insertBefore(wt,se())}else Ve(De,"width",G.width);Ve(De,"padding",G.padding),G.color&&(De.style.color=G.color),G.background&&(De.style.background=G.background),Dt(xe()),fu(De,G)}},fu=(H,G)=>{const fe=G.showClass||{};H.className=`${_.popup} ${on(H)?fe.popup:""}`,G.toast?(Kt([document.documentElement,document.body],_["toast-shown"]),Kt(H,_.toast)):Kt(H,_.modal),st(H,G,"popup"),typeof G.customClass=="string"&&Kt(H,G.customClass),G.icon&&Kt(H,_[`icon-${G.icon}`])},_t=(H,G)=>{const fe=me();if(!fe)return;const{progressSteps:De,currentProgressStep:wt}=G;if(!De||De.length===0||wt===void 0){Dt(fe);return}ft(fe),fe.textContent="",wt>=De.length&&R("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),De.forEach((jn,Br)=>{const To=ma(jn);if(fe.appendChild(To),Br===wt&&Kt(To,_["active-progress-step"]),Br!==De.length-1){const vo=Fo(G);fe.appendChild(vo)}})},ma=H=>{const G=document.createElement("li");return Kt(G,_["progress-step"]),Pt(G,H),G},Fo=H=>{const G=document.createElement("li");return Kt(G,_["progress-step-line"]),H.progressStepsDistance&&Ve(G,"width",H.progressStepsDistance),G},yi=(H,G)=>{const fe=pe();fe&&(yn(fe,G.title||G.titleText,"block"),G.title&&Ie(G.title,fe),G.titleText&&(fe.innerText=G.titleText),st(fe,G,"title"))},cf=(H,G)=>{pa(H,G),Ft(H,G),_t(H,G),lr(H,G),Pl(H,G),yi(H,G),qt(H,G),Co(H,G),Qe(H,G),Jn(H,G);const fe=re();typeof G.didRender=="function"&&fe&&G.didRender(fe)},Hs=()=>on(re()),yd=()=>ce()&&ce().click(),Qp=()=>Te()&&Te().click(),dc=()=>ge()&&ge().click(),nn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),hr=H=>{H.keydownTarget&&H.keydownHandlerAdded&&(H.keydownTarget.removeEventListener("keydown",H.keydownHandler,{capture:H.keydownListenerCapture}),H.keydownHandlerAdded=!1)},cr=(H,G,fe,De)=>{hr(G),fe.toast||(G.keydownHandler=wt=>ns(H,wt,De),G.keydownTarget=fe.keydownListenerCapture?window:re(),G.keydownListenerCapture=fe.keydownListenerCapture,G.keydownTarget.addEventListener("keydown",G.keydownHandler,{capture:G.keydownListenerCapture}),G.keydownHandlerAdded=!0)},zi=(H,G)=>{const fe=pn();if(fe.length){H=H+G,H===fe.length?H=0:H===-1&&(H=fe.length-1),fe[H].focus();return}re().focus()},cs=["ArrowRight","ArrowDown"],ur=["ArrowLeft","ArrowUp"],ns=(H,G,fe)=>{const De=d.innerParams.get(H);De&&(G.isComposing||G.keyCode===229||(De.stopKeydownPropagation&&G.stopPropagation(),G.key==="Enter"?pu(H,G,De):G.key==="Tab"?kl(G):[...cs,...ur].includes(G.key)?us(G.key):G.key==="Escape"&&po(G,De,fe)))},pu=(H,G,fe)=>{if(B(fe.allowEnterKey)&&G.target&&H.getInput()&&G.target instanceof HTMLElement&&G.target.outerHTML===H.getInput().outerHTML){if(["textarea","file"].includes(fe.input))return;yd(),G.preventDefault()}},kl=H=>{const G=H.target,fe=pn();let De=-1;for(let wt=0;wt<fe.length;wt++)if(G===fe[wt]){De=wt;break}H.shiftKey?zi(De,-1):zi(De,1),H.stopPropagation(),H.preventDefault()},us=H=>{const G=ce(),fe=Te(),De=ge(),wt=[G,fe,De];if(document.activeElement instanceof HTMLElement&&!wt.includes(document.activeElement))return;const jn=cs.includes(H)?"nextElementSibling":"previousElementSibling";let Br=document.activeElement;for(let To=0;To<Ye().children.length;To++){if(Br=Br[jn],!Br)return;if(Br instanceof HTMLButtonElement&&on(Br))break}Br instanceof HTMLButtonElement&&Br.focus()},po=(H,G,fe)=>{B(G.allowEscapeKey)&&(H.preventDefault(),fe(nn.esc))};var hc={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ga=()=>{Array.from(document.body.children).forEach(G=>{G===W()||G.contains(W())||(G.hasAttribute("aria-hidden")&&G.setAttribute("data-previous-aria-hidden",G.getAttribute("aria-hidden")||""),G.setAttribute("aria-hidden","true"))})},fc=()=>{Array.from(document.body.children).forEach(G=>{G.hasAttribute("data-previous-aria-hidden")?(G.setAttribute("aria-hidden",G.getAttribute("data-previous-aria-hidden")||""),G.removeAttribute("data-previous-aria-hidden")):G.removeAttribute("aria-hidden")})},pc=typeof window<"u"&&!!window.GestureEvent,uf=()=>{if(pc&&!Ot(document.body,_.iosfix)){const H=document.body.scrollTop;document.body.style.top=`${H*-1}px`,Kt(document.body,_.iosfix),em()}},em=()=>{const H=W();let G;H.ontouchstart=fe=>{G=mu(fe)},H.ontouchmove=fe=>{G&&(fe.preventDefault(),fe.stopPropagation())}},mu=H=>{const G=H.target,fe=W();return gu(H)||vd(H)?!1:G===fe||!dn(fe)&&G instanceof HTMLElement&&G.tagName!=="INPUT"&&G.tagName!=="TEXTAREA"&&!(dn(ae())&&ae().contains(G))},gu=H=>H.touches&&H.touches.length&&H.touches[0].touchType==="stylus",vd=H=>H.touches&&H.touches.length>1,mc=()=>{if(Ot(document.body,_.iosfix)){const H=parseInt(document.body.style.top,10);vn(document.body,_.iosfix),document.body.style.top="",document.body.scrollTop=H*-1}},qi=()=>{const H=document.createElement("div");H.className=_["scrollbar-measure"],document.body.appendChild(H);const G=H.getBoundingClientRect().width-H.clientWidth;return document.body.removeChild(H),G};let oo=null;const df=()=>{oo===null&&document.body.scrollHeight>window.innerHeight&&(oo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${oo+qi()}px`)},hf=()=>{oo!==null&&(document.body.style.paddingRight=`${oo}px`,oo=null)};function Fi(H,G,fe,De){rn()?_d(H,De):(c(fe).then(()=>_d(H,De)),hr(r)),pc?(G.setAttribute("style","display:none !important"),G.removeAttribute("class"),G.innerHTML=""):G.remove(),Ut()&&(hf(),mc(),fc()),ds()}function ds(){vn([document.documentElement,document.body],[_.shown,_["height-auto"],_["no-backdrop"],_["toast-shown"]])}function ya(H){H=ff(H);const G=hc.swalPromiseResolve.get(this),fe=yu(this);this.isAwaitingPromise?H.isDismissed||(va(this),G(H)):fe&&G(H)}const yu=H=>{const G=re();if(!G)return!1;const fe=d.innerParams.get(H);if(!fe||Ot(G,fe.hideClass.popup))return!1;vn(G,fe.showClass.popup),Kt(G,fe.hideClass.popup);const De=W();return vn(De,fe.showClass.backdrop),Kt(De,fe.hideClass.backdrop),Il(H,G,fe),!0};function So(H){const G=hc.swalPromiseReject.get(this);va(this),G&&G(H)}const va=H=>{H.isAwaitingPromise&&(delete H.isAwaitingPromise,d.innerParams.get(H)||H._destroy())},ff=H=>typeof H>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},H),Il=(H,G,fe)=>{const De=W(),wt=Xe&&sn(G);typeof fe.willClose=="function"&&fe.willClose(G),wt?Ci(H,G,De,fe.returnFocus,fe.didClose):Fi(H,De,fe.returnFocus,fe.didClose)},Ci=(H,G,fe,De,wt)=>{r.swalCloseEventFinishedCallback=Fi.bind(null,H,fe,De,wt),G.addEventListener(Xe,function(jn){jn.target===G&&(r.swalCloseEventFinishedCallback(),delete r.swalCloseEventFinishedCallback)})},_d=(H,G)=>{setTimeout(()=>{typeof G=="function"&&G.bind(H.params)(),H._destroy&&H._destroy()})},qa=H=>{let G=re();G||new Pu,G=re();const fe=We();rn()?Dt(se()):_a(G,H),ft(fe),G.setAttribute("data-loading","true"),G.setAttribute("aria-busy","true"),G.focus()},_a=(H,G)=>{const fe=Ye(),De=We();!G&&on(ce())&&(G=ce()),ft(fe),G&&(Dt(G),De.setAttribute("data-button-to-replace",G.className)),De.parentNode.insertBefore(De,G),Kt([H,fe],_.loading)},Za=(H,G)=>{G.input==="select"||G.input==="radio"?Gs(H,G):["text","email","number","tel","textarea"].includes(G.input)&&(Z(G.inputValue)||X(G.inputValue))&&(qa(ce()),mf(H,G))},xd=(H,G)=>{const fe=H.getInput();if(!fe)return null;switch(G.input){case"checkbox":return $y(fe);case"radio":return pf(fe);case"file":return gc(fe);default:return G.inputAutoTrim?fe.value.trim():fe.value}},$y=H=>H.checked?1:0,pf=H=>H.checked?H.value:null,gc=H=>H.files.length?H.getAttribute("multiple")!==null?H.files:H.files[0]:null,Gs=(H,G)=>{const fe=re(),De=wt=>{Ml[G.input](fe,Rs(wt),G)};Z(G.inputOptions)||X(G.inputOptions)?(qa(ce()),ee(G.inputOptions).then(wt=>{H.hideLoading(),De(wt)})):typeof G.inputOptions=="object"?De(G.inputOptions):L(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof G.inputOptions}`)},mf=(H,G)=>{const fe=H.getInput();Dt(fe),ee(G.inputValue).then(De=>{fe.value=G.input==="number"?`${parseFloat(De)||0}`:`${De}`,ft(fe),fe.focus(),H.hideLoading()}).catch(De=>{L(`Error in inputValue promise: ${De}`),fe.value="",ft(fe),fe.focus(),H.hideLoading()})},Ml={select:(H,G,fe)=>{const De=wn(H,_.select),wt=(jn,Br,To)=>{const vo=document.createElement("option");vo.value=To,Pt(vo,Br),vo.selected=yc(To,fe.inputValue),jn.appendChild(vo)};G.forEach(jn=>{const Br=jn[0],To=jn[1];if(Array.isArray(To)){const vo=document.createElement("optgroup");vo.label=Br,vo.disabled=!1,De.appendChild(vo),To.forEach(Ka=>wt(vo,Ka[1],Ka[0]))}else wt(De,To,Br)}),De.focus()},radio:(H,G,fe)=>{const De=wn(H,_.radio);G.forEach(jn=>{const Br=jn[0],To=jn[1],vo=document.createElement("input"),Ka=document.createElement("label");vo.type="radio",vo.name=_.radio,vo.value=Br,yc(Br,fe.inputValue)&&(vo.checked=!0);const zl=document.createElement("span");Pt(zl,To),zl.className=_.label,Ka.appendChild(vo),Ka.appendChild(zl),De.appendChild(Ka)});const wt=De.querySelectorAll("input");wt.length&&wt[0].focus()}},Rs=H=>{const G=[];return typeof Map<"u"&&H instanceof Map?H.forEach((fe,De)=>{let wt=fe;typeof wt=="object"&&(wt=Rs(wt)),G.push([De,wt])}):Object.keys(H).forEach(fe=>{let De=H[fe];typeof De=="object"&&(De=Rs(De)),G.push([fe,De])}),G},yc=(H,G)=>G&&G.toString()===H.toString(),xa=H=>{const G=d.innerParams.get(H);H.disableButtons(),G.input?_c(H,"confirm"):Ya(H,!0)},bd=H=>{const G=d.innerParams.get(H);H.disableButtons(),G.returnInputValueOnDeny?_c(H,"deny"):xc(H,!1)},vc=(H,G)=>{H.disableButtons(),G(nn.cancel)},_c=(H,G)=>{const fe=d.innerParams.get(H);if(!fe.input){L(`The "input" parameter is needed to be set when using returnInputValueOn${O(G)}`);return}const De=xd(H,fe);fe.inputValidator?tm(H,De,G):H.getInput().checkValidity()?G==="deny"?xc(H,De):Ya(H,De):(H.enableButtons(),H.showValidationMessage(fe.validationMessage))},tm=(H,G,fe)=>{const De=d.innerParams.get(H);H.disableInput(),Promise.resolve().then(()=>ee(De.inputValidator(G,De.validationMessage))).then(jn=>{H.enableButtons(),H.enableInput(),jn?H.showValidationMessage(jn):fe==="deny"?xc(H,G):Ya(H,G)})},xc=(H,G)=>{const fe=d.innerParams.get(H||void 0);fe.showLoaderOnDeny&&qa(Te()),fe.preDeny?(H.isAwaitingPromise=!0,Promise.resolve().then(()=>ee(fe.preDeny(G,fe.validationMessage))).then(wt=>{wt===!1?(H.hideLoading(),va(H)):H.close({isDenied:!0,value:typeof wt>"u"?G:wt})}).catch(wt=>Cd(H||void 0,wt))):H.close({isDenied:!0,value:G})},wd=(H,G)=>{H.close({isConfirmed:!0,value:G})},Cd=(H,G)=>{H.rejectPromise(G)},Ya=(H,G)=>{const fe=d.innerParams.get(H||void 0);fe.showLoaderOnConfirm&&qa(),fe.preConfirm?(H.resetValidationMessage(),H.isAwaitingPromise=!0,Promise.resolve().then(()=>ee(fe.preConfirm(G,fe.validationMessage))).then(wt=>{on(xe())||wt===!1?(H.hideLoading(),va(H)):wd(H,typeof wt>"u"?G:wt)}).catch(wt=>Cd(H||void 0,wt))):wd(H,G)};function _r(){const H=d.innerParams.get(this);if(!H)return;const G=d.domCache.get(this);Dt(G.loader),rn()?H.icon&&ft(se()):By(G),vn([G.popup,G.actions],_.loading),G.popup.removeAttribute("aria-busy"),G.popup.removeAttribute("data-loading"),G.confirmButton.disabled=!1,G.denyButton.disabled=!1,G.cancelButton.disabled=!1}const By=H=>{const G=H.popup.getElementsByClassName(H.loader.getAttribute("data-button-to-replace"));G.length?ft(G[0],"inline-block"):un()&&Dt(H.actions)};function Sd(){const H=d.innerParams.get(this),G=d.domCache.get(this);return G?Ct(G.popup,H.input):null}function gf(H,G,fe){const De=d.domCache.get(H);G.forEach(wt=>{De[wt].disabled=fe})}function Td(H,G){if(H)if(H.type==="radio"){const De=H.parentNode.parentNode.querySelectorAll("input");for(let wt=0;wt<De.length;wt++)De[wt].disabled=G}else H.disabled=G}function yf(){gf(this,["confirmButton","denyButton","cancelButton"],!1)}function Ed(){gf(this,["confirmButton","denyButton","cancelButton"],!0)}function Al(){Td(this.getInput(),!1)}function vu(){Td(this.getInput(),!0)}function Rl(H){const G=d.domCache.get(this),fe=d.innerParams.get(this);Pt(G.validationMessage,H),G.validationMessage.className=_["validation-message"],fe.customClass&&fe.customClass.validationMessage&&Kt(G.validationMessage,fe.customClass.validationMessage),ft(G.validationMessage);const De=this.getInput();De&&(De.setAttribute("aria-invalid",!0),De.setAttribute("aria-describedby",_["validation-message"]),ht(De),Kt(De,_.inputerror))}function Ws(){const H=d.domCache.get(this);H.validationMessage&&Dt(H.validationMessage);const G=this.getInput();G&&(G.removeAttribute("aria-invalid"),G.removeAttribute("aria-describedby"),vn(G,_.inputerror))}const hs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Pd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],nm={},_u=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],kd=H=>Object.prototype.hasOwnProperty.call(hs,H),Id=H=>Pd.indexOf(H)!==-1,xu=H=>nm[H],Md=H=>{kd(H)||R(`Unknown parameter "${H}"`)},vf=H=>{_u.includes(H)&&R(`The parameter "${H}" is incompatible with toasts`)},xr=H=>{const G=xu(H);G&&z(H,G)},bu=H=>{H.backdrop===!1&&H.allowOutsideClick&&R('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const G in H)Md(G),H.toast&&vf(G),xr(G)};function _f(H){const G=re(),fe=d.innerParams.get(this);if(!G||Ot(G,fe.hideClass.popup)){R("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const De=xf(H),wt=Object.assign({},fe,De);cf(this,wt),d.innerParams.set(this,wt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,H),writable:!1,enumerable:!0}})}const xf=H=>{const G={};return Object.keys(H).forEach(fe=>{Id(fe)?G[fe]=H[fe]:R(`Invalid parameter to update: ${fe}`)}),G};function bf(){const H=d.domCache.get(this),G=d.innerParams.get(this);if(!G){Ad(this);return}H.popup&&r.swalCloseEventFinishedCallback&&(r.swalCloseEventFinishedCallback(),delete r.swalCloseEventFinishedCallback),typeof G.didDestroy=="function"&&G.didDestroy(),Ol(this)}const Ol=H=>{Ad(H),delete H.params,delete r.keydownHandler,delete r.keydownTarget,delete r.currentInstance},Ad=H=>{H.isAwaitingPromise?(wf(d,H),H.isAwaitingPromise=!0):(wf(hc,H),wf(d,H),delete H.isAwaitingPromise,delete H.disableButtons,delete H.enableButtons,delete H.getInput,delete H.disableInput,delete H.enableInput,delete H.hideLoading,delete H.disableLoading,delete H.showValidationMessage,delete H.resetValidationMessage,delete H.close,delete H.closePopup,delete H.closeModal,delete H.closeToast,delete H.rejectPromise,delete H.update,delete H._destroy)},wf=(H,G)=>{for(const fe in H)H[fe].delete(G)};var Ny=Object.freeze({__proto__:null,_destroy:bf,close:ya,closeModal:ya,closePopup:ya,closeToast:ya,disableButtons:Ed,disableInput:vu,disableLoading:_r,enableButtons:yf,enableInput:Al,getInput:Sd,handleAwaitingPromise:va,hideLoading:_r,rejectPromise:So,resetValidationMessage:Ws,showValidationMessage:Rl,update:_f});const Uy=(H,G,fe)=>{d.innerParams.get(H).toast?Cf(H,G,fe):(Rd(G),rm(G),om(H,G,fe))},Cf=(H,G,fe)=>{G.popup.onclick=()=>{const De=d.innerParams.get(H);De&&(Sf(De)||De.timer||De.input)||fe(nn.close)}},Sf=H=>H.showConfirmButton||H.showDenyButton||H.showCancelButton||H.showCloseButton;let bc=!1;const Rd=H=>{H.popup.onmousedown=()=>{H.container.onmouseup=function(G){H.container.onmouseup=void 0,G.target===H.container&&(bc=!0)}}},rm=H=>{H.container.onmousedown=()=>{H.popup.onmouseup=function(G){H.popup.onmouseup=void 0,(G.target===H.popup||H.popup.contains(G.target))&&(bc=!0)}}},om=(H,G,fe)=>{G.container.onclick=De=>{const wt=d.innerParams.get(H);if(bc){bc=!1;return}De.target===G.container&&B(wt.allowOutsideClick)&&fe(nn.backdrop)}},Vy=H=>typeof H=="object"&&H.jquery,wc=H=>H instanceof Element||Vy(H),Cc=H=>{const G={};return typeof H[0]=="object"&&!wc(H[0])?Object.assign(G,H[0]):["title","html","icon"].forEach((fe,De)=>{const wt=H[De];typeof wt=="string"||wc(wt)?G[fe]=wt:wt!==void 0&&L(`Unexpected type of ${fe}! Expected "string" or "Element", got ${typeof wt}`)}),G};function Tf(){const H=this;for(var G=arguments.length,fe=new Array(G),De=0;De<G;De++)fe[De]=arguments[De];return new H(...fe)}function wu(H){class G extends this{_main(De,wt){return super._main(De,Object.assign({},H,wt))}}return G}const Ef=()=>r.timeout&&r.timeout.getTimerLeft(),Os=()=>{if(r.timeout)return Vn(),r.timeout.stop()},Cu=()=>{if(r.timeout){const H=r.timeout.start();return kn(H),H}},Pf=()=>{const H=r.timeout;return H&&(H.running?Os():Cu())},Od=H=>{if(r.timeout){const G=r.timeout.increase(H);return kn(G,!0),G}},im=()=>!!(r.timeout&&r.timeout.isRunning());let Dd=!1;const kf={};function If(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";kf[H]=this,Dd||(document.body.addEventListener("click",Ld),Dd=!0)}const Ld=H=>{for(let G=H.target;G&&G!==document;G=G.parentNode)for(const fe in kf){const De=G.getAttribute(fe);if(De){kf[fe].fire({template:De});return}}};var Su=Object.freeze({__proto__:null,argsToParams:Cc,bindClickHandler:If,clickCancel:dc,clickConfirm:yd,clickDeny:Qp,enableLoading:qa,fire:Tf,getActions:Ye,getCancelButton:ge,getCloseButton:jt,getConfirmButton:ce,getContainer:W,getDenyButton:Te,getFocusableElements:pn,getFooter:gt,getHtmlContainer:ae,getIcon:se,getIconContent:de,getImage:oe,getInputLabel:Ue,getLoader:We,getPopup:re,getProgressSteps:me,getTimerLeft:Ef,getTimerProgressBar:vt,getTitle:pe,getValidationMessage:xe,increaseTimer:Od,isDeprecatedParameter:xu,isLoading:et,isTimerRunning:im,isUpdatableParameter:Id,isValidParameter:kd,isVisible:Hs,mixin:wu,resumeTimer:Cu,showLoading:qa,stopTimer:Os,toggleTimer:Pf});class sm{constructor(G,fe){this.callback=G,this.remaining=fe,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(G){const fe=this.running;return fe&&this.stop(),this.remaining+=G,fe&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const zd=["swal-title","swal-html","swal-footer"],Hy=H=>{const G=typeof H.template=="string"?document.querySelector(H.template):H.template;if(!G)return{};const fe=G.content;return Gy(fe),Object.assign(Mf(fe),am(fe),Tu(fe),lm(fe),Fd(fe),cm(fe),Sc(fe,zd))},Mf=H=>{const G={};return Array.from(H.querySelectorAll("swal-param")).forEach(De=>{Dl(De,["name","value"]);const wt=De.getAttribute("name"),jn=De.getAttribute("value");typeof hs[wt]=="boolean"?G[wt]=jn!=="false":typeof hs[wt]=="object"?G[wt]=JSON.parse(jn):G[wt]=jn}),G},am=H=>{const G={};return Array.from(H.querySelectorAll("swal-function-param")).forEach(De=>{const wt=De.getAttribute("name"),jn=De.getAttribute("value");G[wt]=new Function(`return ${jn}`)()}),G},Tu=H=>{const G={};return Array.from(H.querySelectorAll("swal-button")).forEach(De=>{Dl(De,["type","color","aria-label"]);const wt=De.getAttribute("type");G[`${wt}ButtonText`]=De.innerHTML,G[`show${O(wt)}Button`]=!0,De.hasAttribute("color")&&(G[`${wt}ButtonColor`]=De.getAttribute("color")),De.hasAttribute("aria-label")&&(G[`${wt}ButtonAriaLabel`]=De.getAttribute("aria-label"))}),G},lm=H=>{const G={},fe=H.querySelector("swal-image");return fe&&(Dl(fe,["src","width","height","alt"]),fe.hasAttribute("src")&&(G.imageUrl=fe.getAttribute("src")),fe.hasAttribute("width")&&(G.imageWidth=fe.getAttribute("width")),fe.hasAttribute("height")&&(G.imageHeight=fe.getAttribute("height")),fe.hasAttribute("alt")&&(G.imageAlt=fe.getAttribute("alt"))),G},Fd=H=>{const G={},fe=H.querySelector("swal-icon");return fe&&(Dl(fe,["type","color"]),fe.hasAttribute("type")&&(G.icon=fe.getAttribute("type")),fe.hasAttribute("color")&&(G.iconColor=fe.getAttribute("color")),G.iconHtml=fe.innerHTML),G},cm=H=>{const G={},fe=H.querySelector("swal-input");fe&&(Dl(fe,["type","label","placeholder","value"]),G.input=fe.getAttribute("type")||"text",fe.hasAttribute("label")&&(G.inputLabel=fe.getAttribute("label")),fe.hasAttribute("placeholder")&&(G.inputPlaceholder=fe.getAttribute("placeholder")),fe.hasAttribute("value")&&(G.inputValue=fe.getAttribute("value")));const De=Array.from(H.querySelectorAll("swal-input-option"));return De.length&&(G.inputOptions={},De.forEach(wt=>{Dl(wt,["value"]);const jn=wt.getAttribute("value"),Br=wt.innerHTML;G.inputOptions[jn]=Br})),G},Sc=(H,G)=>{const fe={};for(const De in G){const wt=G[De],jn=H.querySelector(wt);jn&&(Dl(jn,[]),fe[wt.replace(/^swal-/,"")]=jn.innerHTML.trim())}return fe},Gy=H=>{const G=zd.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(H.children).forEach(fe=>{const De=fe.tagName.toLowerCase();G.includes(De)||R(`Unrecognized element <${De}>`)})},Dl=(H,G)=>{Array.from(H.attributes).forEach(fe=>{G.indexOf(fe.name)===-1&&R([`Unrecognized attribute "${fe.name}" on <${H.tagName.toLowerCase()}>.`,`${G.length?`Allowed attributes are: ${G.join(", ")}`:"To set the value, use HTML within the element."}`])})},um=10,Wy=H=>{const G=W(),fe=re();typeof H.willOpen=="function"&&H.willOpen(fe);const wt=window.getComputedStyle(document.body).overflowY;Tc(G,fe,H),setTimeout(()=>{hm(G,fe)},um),Ut()&&(jd(G,H.scrollbarPadding,wt),ga()),!rn()&&!r.previousActiveElement&&(r.previousActiveElement=document.activeElement),typeof H.didOpen=="function"&&setTimeout(()=>H.didOpen(fe)),vn(G,_["no-transition"])},dm=H=>{const G=re();if(H.target!==G)return;const fe=W();G.removeEventListener(Xe,dm),fe.style.overflowY="auto"},hm=(H,G)=>{Xe&&sn(G)?(H.style.overflowY="hidden",G.addEventListener(Xe,dm)):H.style.overflowY="auto"},jd=(H,G,fe)=>{uf(),G&&fe!=="hidden"&&df(),setTimeout(()=>{H.scrollTop=0})},Tc=(H,G,fe)=>{Kt(H,fe.showClass.backdrop),G.style.setProperty("opacity","0","important"),ft(G,"grid"),setTimeout(()=>{Kt(G,fe.showClass.popup),G.style.removeProperty("opacity")},um),Kt([document.documentElement,document.body],_.shown),fe.heightAuto&&fe.backdrop&&!fe.toast&&Kt([document.documentElement,document.body],_["height-auto"])};var Af={email:(H,G)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(H)?Promise.resolve():Promise.resolve(G||"Invalid email address"),url:(H,G)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(H)?Promise.resolve():Promise.resolve(G||"Invalid URL")};function fm(H){H.inputValidator||Object.keys(Af).forEach(G=>{H.input===G&&(H.inputValidator=Af[G])})}function ba(H){(!H.target||typeof H.target=="string"&&!document.querySelector(H.target)||typeof H.target!="string"&&!H.target.appendChild)&&(R('Target parameter is not valid, defaulting to "body"'),H.target="body")}function $d(H){fm(H),H.showLoaderOnConfirm&&!H.preConfirm&&R(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ba(H),typeof H.title=="string"&&(H.title=H.title.split(`
`).join("<br />")),ye(H)}let Ro;class yo{constructor(){if(typeof window>"u")return;Ro=this;for(var G=arguments.length,fe=new Array(G),De=0;De<G;De++)fe[De]=arguments[De];const wt=Object.freeze(this.constructor.argsToParams(fe));this.params=wt,this.isAwaitingPromise=!1;const jn=Ro._main(Ro.params);d.promise.set(this,jn)}_main(G){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bu(Object.assign({},fe,G)),r.currentInstance&&(r.currentInstance._destroy(),Ut()&&fc()),r.currentInstance=Ro;const De=Ll(G,fe);$d(De),Object.freeze(De),r.timeout&&(r.timeout.stop(),delete r.timeout),clearTimeout(r.restoreFocusTimeout);const wt=Ec(Ro);return cf(Ro,De),d.innerParams.set(Ro,De),pm(Ro,wt,De)}then(G){return d.promise.get(this).then(G)}finally(G){return d.promise.get(this).finally(G)}}const pm=(H,G,fe)=>new Promise((De,wt)=>{const jn=Br=>{H.close({isDismissed:!0,dismiss:Br})};hc.swalPromiseResolve.set(H,De),hc.swalPromiseReject.set(H,wt),G.confirmButton.onclick=()=>{xa(H)},G.denyButton.onclick=()=>{bd(H)},G.cancelButton.onclick=()=>{vc(H,jn)},G.closeButton.onclick=()=>{jn(nn.close)},Uy(H,G,jn),cr(H,r,fe,jn),Za(H,fe),Wy(fe),Bd(r,fe,jn),Nd(G,fe),setTimeout(()=>{G.container.scrollTop=0})}),Ll=(H,G)=>{const fe=Hy(H),De=Object.assign({},hs,G,fe,H);return De.showClass=Object.assign({},hs.showClass,De.showClass),De.hideClass=Object.assign({},hs.hideClass,De.hideClass),De},Ec=H=>{const G={popup:re(),container:W(),actions:Ye(),confirmButton:ce(),denyButton:Te(),cancelButton:ge(),loader:We(),closeButton:jt(),validationMessage:xe(),progressSteps:me()};return d.domCache.set(H,G),G},Bd=(H,G,fe)=>{const De=vt();Dt(De),G.timer&&(H.timeout=new sm(()=>{fe("timer"),delete H.timeout},G.timer),G.timerProgressBar&&(ft(De),st(De,G,"timerProgressBar"),setTimeout(()=>{H.timeout&&H.timeout.running&&kn(G.timer)})))},Nd=(H,G)=>{if(!G.toast){if(!B(G.allowEnterKey)){Eu();return}Sr(H,G)||zi(-1,1)}},Sr=(H,G)=>G.focusDeny&&on(H.denyButton)?(H.denyButton.focus(),!0):G.focusCancel&&on(H.cancelButton)?(H.cancelButton.focus(),!0):G.focusConfirm&&on(H.confirmButton)?(H.confirmButton.focus(),!0):!1,Eu=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const H=new Date,G=localStorage.getItem("swal-initiation");G?(H.getTime()-Date.parse(G))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const fe=document.createElement("audio");fe.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",fe.loop=!0,document.body.appendChild(fe),setTimeout(()=>{fe.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${H}`)}yo.prototype.disableButtons=Ed,yo.prototype.enableButtons=yf,yo.prototype.getInput=Sd,yo.prototype.disableInput=vu,yo.prototype.enableInput=Al,yo.prototype.hideLoading=_r,yo.prototype.disableLoading=_r,yo.prototype.showValidationMessage=Rl,yo.prototype.resetValidationMessage=Ws,yo.prototype.close=ya,yo.prototype.closePopup=ya,yo.prototype.closeModal=ya,yo.prototype.closeToast=ya,yo.prototype.rejectPromise=So,yo.prototype.update=_f,yo.prototype._destroy=bf,Object.assign(yo,Su),Object.keys(Ny).forEach(H=>{yo[H]=function(){return Ro&&Ro[H]?Ro[H](...arguments):null}}),yo.DismissReason=nn,yo.version="11.7.16";const Pu=yo;return Pu.default=Pu,Pu}),typeof Ma<"u"&&Ma.Sweetalert2&&(Ma.swal=Ma.sweetAlert=Ma.Swal=Ma.SweetAlert=Ma.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(hU);var nfe=hU.exports;const Ss=fa(nfe);var rfe=typeof Element<"u",ofe=typeof Map=="function",ife=typeof Set=="function",sfe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function b1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!b1(e[r],t[r]))return!1;return!0}var c;if(ofe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(c=e.entries();!(r=c.next()).done;)if(!t.has(r.value[0]))return!1;for(c=e.entries();!(r=c.next()).done;)if(!b1(r.value[1],t.get(r.value[0])))return!1;return!0}if(ife&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(c=e.entries();!(r=c.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(sfe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(rfe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!b1(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var afe=function(t,n){try{return b1(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const lfe=fa(afe);var cfe=function(e,t,n,r,i,c,d,s){if(!e){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[n,r,i,c,d,s],w=0;m=new Error(t.replace(/%s/g,function(){return _[w++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}},ufe=cfe;const kj=fa(ufe);var dfe=function(t,n,r,i){var c=r?r.call(i,t,n):void 0;if(c!==void 0)return!!c;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var d=Object.keys(t),s=Object.keys(n);if(d.length!==s.length)return!1;for(var m=Object.prototype.hasOwnProperty.bind(n),_=0;_<d.length;_++){var w=d[_];if(!m(w))return!1;var E=t[w],k=n[w];if(c=r?r.call(i,E,k,w):void 0,c===!1||c===void 0&&E!==k)return!1}return!0};const hfe=fa(dfe);function Si(){return Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}function mA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},bk(e,t)}function Ij(e,t){if(e==null)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)t.indexOf(n=c[r])>=0||(i[n]=e[n]);return i}var sr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},ffe={rel:["amphtml","canonical","alternate"]},pfe={type:["application/ld+json"]},mfe={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Mj=Object.keys(sr).map(function(e){return sr[e]}),vw={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},gfe=Object.keys(vw).reduce(function(e,t){return e[vw[t]]=t,e},{}),Ng=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},yfe=function(e){var t=Ng(e,sr.TITLE),n=Ng(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,function(){return t});var r=Ng(e,"defaultTitle");return t||r||void 0},vfe=function(e){return Ng(e,"onChangeClientState")||function(){}},fE=function(e,t){return t.filter(function(n){return n[e]!==void 0}).map(function(n){return n[e]}).reduce(function(n,r){return Si({},n,r)},{})},_fe=function(e,t){return t.filter(function(n){return n[sr.BASE]!==void 0}).map(function(n){return n[sr.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),c=0;c<i.length;c+=1){var d=i[c].toLowerCase();if(e.indexOf(d)!==-1&&r[d])return n.concat(r)}return n},[])},c0=function(e,t,n){var r={};return n.filter(function(i){return!!Array.isArray(i[e])||(i[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof i[e]+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,c){var d={};c.filter(function(E){for(var k,O=Object.keys(E),R=0;R<O.length;R+=1){var L=O[R],U=L.toLowerCase();t.indexOf(U)===-1||k==="rel"&&E[k].toLowerCase()==="canonical"||U==="rel"&&E[U].toLowerCase()==="stylesheet"||(k=U),t.indexOf(L)===-1||L!=="innerHTML"&&L!=="cssText"&&L!=="itemprop"||(k=L)}if(!k||!E[k])return!1;var F=E[k].toLowerCase();return r[k]||(r[k]={}),d[k]||(d[k]={}),!r[k][F]&&(d[k][F]=!0,!0)}).reverse().forEach(function(E){return i.push(E)});for(var s=Object.keys(d),m=0;m<s.length;m+=1){var _=s[m],w=Si({},r[_],d[_]);r[_]=w}return i},[]).reverse()},xfe=function(e,t){if(Array.isArray(e)&&e.length){for(var n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},fU=function(e){return Array.isArray(e)?e.join(""):e},pE=function(e,t){return Array.isArray(e)?e.reduce(function(n,r){return function(i,c){for(var d=Object.keys(i),s=0;s<d.length;s+=1)if(c[d[s]]&&c[d[s]].includes(i[d[s]]))return!0;return!1}(r,t)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:e}},Aj=function(e,t){var n;return Si({},e,((n={})[t]=void 0,n))},bfe=[sr.NOSCRIPT,sr.SCRIPT,sr.STYLE],mE=function(e,t){return t===void 0&&(t=!0),t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Rj=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n]!==void 0?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},Oj=function(e,t){return t===void 0&&(t={}),Object.keys(e).reduce(function(n,r){return n[vw[r]||r]=e[r],n},t)},w1=function(e,t){return t.map(function(n,r){var i,c=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(d){var s=vw[d]||d;s==="innerHTML"||s==="cssText"?c.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:c[s]=n[d]}),Tr.createElement(e,c)})},ol=function(e,t,n){switch(e){case sr.TITLE:return{toComponent:function(){return i=t.titleAttributes,(c={key:r=t.title})["data-rh"]=!0,d=Oj(i,c),[Tr.createElement(sr.TITLE,d,r)];var r,i,c,d},toString:function(){return function(r,i,c,d){var s=Rj(c),m=fU(i);return s?"<"+r+' data-rh="true" '+s+">"+mE(m,d)+"</"+r+">":"<"+r+' data-rh="true">'+mE(m,d)+"</"+r+">"}(e,t.title,t.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Oj(t)},toString:function(){return Rj(t)}};default:return{toComponent:function(){return w1(e,t)},toString:function(){return function(r,i,c){return i.reduce(function(d,s){var m=Object.keys(s).filter(function(E){return!(E==="innerHTML"||E==="cssText")}).reduce(function(E,k){var O=s[k]===void 0?k:k+'="'+mE(s[k],c)+'"';return E?E+" "+O:O},""),_=s.innerHTML||s.cssText||"",w=bfe.indexOf(r)===-1;return d+"<"+r+' data-rh="true" '+m+(w?"/>":">"+_+"</"+r+">")},"")}(e,t,n)}}}},wk=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,c=e.noscriptTags,d=e.styleTags,s=e.title,m=s===void 0?"":s,_=e.titleAttributes,w=e.linkTags,E=e.metaTags,k=e.scriptTags,O={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var R=function(L){var U=L.linkTags,F=L.scriptTags,z=L.encode,B=pE(L.metaTags,mfe),Z=pE(U,ffe),ee=pE(F,pfe);return{priorityMethods:{toComponent:function(){return[].concat(w1(sr.META,B.priority),w1(sr.LINK,Z.priority),w1(sr.SCRIPT,ee.priority))},toString:function(){return ol(sr.META,B.priority,z)+" "+ol(sr.LINK,Z.priority,z)+" "+ol(sr.SCRIPT,ee.priority,z)}},metaTags:B.default,linkTags:Z.default,scriptTags:ee.default}}(e);O=R.priorityMethods,w=R.linkTags,E=R.metaTags,k=R.scriptTags}return{priority:O,base:ol(sr.BASE,t,r),bodyAttributes:ol("bodyAttributes",n,r),htmlAttributes:ol("htmlAttributes",i,r),link:ol(sr.LINK,w,r),meta:ol(sr.META,E,r),noscript:ol(sr.NOSCRIPT,c,r),script:ol(sr.SCRIPT,k,r),style:ol(sr.STYLE,d,r),title:ol(sr.TITLE,{title:m,titleAttributes:_},r)}},qb=[],Ck=function(e,t){var n=this;t===void 0&&(t=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?qb:n.instances},add:function(r){(n.canUseDOM?qb:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?qb:n.instances).indexOf(r);(n.canUseDOM?qb:n.instances).splice(i,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=wk({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},pU=Tr.createContext({}),wfe=qe.shape({setHelmet:qe.func,helmetInstances:qe.shape({get:qe.func,add:qe.func,remove:qe.func})}),Cfe=typeof document<"u",Tg=function(e){function t(n){var r;return(r=e.call(this,n)||this).helmetData=new Ck(r.props.context,t.canUseDOM),r}return mA(t,e),t.prototype.render=function(){return Tr.createElement(pU.Provider,{value:this.helmetData.value},this.props.children)},t}(P.Component);Tg.canUseDOM=Cfe,Tg.propTypes={context:qe.shape({helmet:qe.shape()}),children:qe.node.isRequired},Tg.defaultProps={context:{}},Tg.displayName="HelmetProvider";var Jm=function(e,t){var n,r=document.head||document.querySelector(sr.HEAD),i=r.querySelectorAll(e+"[data-rh]"),c=[].slice.call(i),d=[];return t&&t.length&&t.forEach(function(s){var m=document.createElement(e);for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(_==="innerHTML"?m.innerHTML=s.innerHTML:_==="cssText"?m.styleSheet?m.styleSheet.cssText=s.cssText:m.appendChild(document.createTextNode(s.cssText)):m.setAttribute(_,s[_]===void 0?"":s[_]));m.setAttribute("data-rh","true"),c.some(function(w,E){return n=E,m.isEqualNode(w)})?c.splice(n,1):d.push(m)}),c.forEach(function(s){return s.parentNode.removeChild(s)}),d.forEach(function(s){return r.appendChild(s)}),{oldTags:c,newTags:d}},gE=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],c=[].concat(i),d=Object.keys(t),s=0;s<d.length;s+=1){var m=d[s],_=t[m]||"";n.getAttribute(m)!==_&&n.setAttribute(m,_),i.indexOf(m)===-1&&i.push(m);var w=c.indexOf(m);w!==-1&&c.splice(w,1)}for(var E=c.length-1;E>=0;E-=1)n.removeAttribute(c[E]);i.length===c.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==d.join(",")&&n.setAttribute("data-rh",d.join(","))}},Dj=function(e,t){var n=e.baseTag,r=e.htmlAttributes,i=e.linkTags,c=e.metaTags,d=e.noscriptTags,s=e.onChangeClientState,m=e.scriptTags,_=e.styleTags,w=e.title,E=e.titleAttributes;gE(sr.BODY,e.bodyAttributes),gE(sr.HTML,r),function(L,U){L!==void 0&&document.title!==L&&(document.title=fU(L)),gE(sr.TITLE,U)}(w,E);var k={baseTag:Jm(sr.BASE,n),linkTags:Jm(sr.LINK,i),metaTags:Jm(sr.META,c),noscriptTags:Jm(sr.NOSCRIPT,d),scriptTags:Jm(sr.SCRIPT,m),styleTags:Jm(sr.STYLE,_)},O={},R={};Object.keys(k).forEach(function(L){var U=k[L],F=U.newTags,z=U.oldTags;F.length&&(O[L]=F),z.length&&(R[L]=k[L].oldTags)}),t&&t(),s(e,O,R)},u0=null,_w=function(e){function t(){for(var r,i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return(r=e.call.apply(e,[this].concat(c))||this).rendered=!1,r}mA(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!hfe(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,c=this.props.context,d=c.setHelmet,s=null,m=(r=c.helmetInstances.get().map(function(_){var w=Si({},_.props);return delete w.context,w}),{baseTag:_fe(["href"],r),bodyAttributes:fE("bodyAttributes",r),defer:Ng(r,"defer"),encode:Ng(r,"encodeSpecialCharacters"),htmlAttributes:fE("htmlAttributes",r),linkTags:c0(sr.LINK,["rel","href"],r),metaTags:c0(sr.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:c0(sr.NOSCRIPT,["innerHTML"],r),onChangeClientState:vfe(r),scriptTags:c0(sr.SCRIPT,["src","innerHTML"],r),styleTags:c0(sr.STYLE,["cssText"],r),title:yfe(r),titleAttributes:fE("titleAttributes",r),prioritizeSeoTags:xfe(r,"prioritizeSeoTags")});Tg.canUseDOM?(i=m,u0&&cancelAnimationFrame(u0),i.defer?u0=requestAnimationFrame(function(){Dj(i,function(){u0=null})}):(Dj(i),u0=null)):wk&&(s=wk(m)),d(s)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},t}(P.Component);_w.propTypes={context:wfe.isRequired},_w.displayName="HelmetDispatcher";var Sfe=["children"],Tfe=["children"],Bh=function(e){function t(){return e.apply(this,arguments)||this}mA(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!lfe(Aj(this.props,"helmetData"),Aj(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case sr.SCRIPT:case sr.NOSCRIPT:return{innerHTML:i};case sr.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,c=r.child,d=r.arrayTypeChildren;return Si({},d,((i={})[c.type]=[].concat(d[c.type]||[],[Si({},r.newChildProps,this.mapNestedChildrenToProps(c,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,c,d=r.child,s=r.newProps,m=r.newChildProps,_=r.nestedChildren;switch(d.type){case sr.TITLE:return Si({},s,((i={})[d.type]=_,i.titleAttributes=Si({},m),i));case sr.BODY:return Si({},s,{bodyAttributes:Si({},m)});case sr.HTML:return Si({},s,{htmlAttributes:Si({},m)});default:return Si({},s,((c={})[d.type]=Si({},m),c))}},n.mapArrayTypeChildrenToProps=function(r,i){var c=Si({},i);return Object.keys(r).forEach(function(d){var s;c=Si({},c,((s={})[d]=r[d],s))}),c},n.warnOnInvalidChildren=function(r,i){return kj(Mj.some(function(c){return r.type===c}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Mj.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),kj(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(c){return typeof c!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var c=this,d={};return Tr.Children.forEach(r,function(s){if(s&&s.props){var m=s.props,_=m.children,w=Ij(m,Sfe),E=Object.keys(w).reduce(function(O,R){return O[gfe[R]||R]=w[R],O},{}),k=s.type;switch(typeof k=="symbol"?k=k.toString():c.warnOnInvalidChildren(s,_),k){case sr.FRAGMENT:i=c.mapChildrenToProps(_,i);break;case sr.LINK:case sr.META:case sr.NOSCRIPT:case sr.SCRIPT:case sr.STYLE:d=c.flattenArrayTypeChildren({child:s,arrayTypeChildren:d,newChildProps:E,nestedChildren:_});break;default:i=c.mapObjectTypeChildren({child:s,newProps:i,newChildProps:E,nestedChildren:_})}}}),this.mapArrayTypeChildrenToProps(d,i)},n.render=function(){var r=this.props,i=r.children,c=Ij(r,Tfe),d=Si({},c),s=c.helmetData;return i&&(d=this.mapChildrenToProps(i,d)),!s||s instanceof Ck||(s=new Ck(s.context,s.instances)),s?Tr.createElement(_w,Si({},d,{context:s.value,helmetData:void 0})):Tr.createElement(pU.Consumer,null,function(m){return Tr.createElement(_w,Si({},d,{context:m}))})},t}(P.Component);Bh.propTypes={base:qe.object,bodyAttributes:qe.object,children:qe.oneOfType([qe.arrayOf(qe.node),qe.node]),defaultTitle:qe.string,defer:qe.bool,encodeSpecialCharacters:qe.bool,htmlAttributes:qe.object,link:qe.arrayOf(qe.object),meta:qe.arrayOf(qe.object),noscript:qe.arrayOf(qe.object),onChangeClientState:qe.func,script:qe.arrayOf(qe.object),style:qe.arrayOf(qe.object),title:qe.string,titleAttributes:qe.object,titleTemplate:qe.string,prioritizeSeoTags:qe.bool,helmetData:qe.object},Bh.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},Bh.displayName="Helmet";const Efe=()=>{const e=new Date,{setUserToken:t,setUser:n}=Ga();return T.jsxs(Cn,{container:!0,height:"100vh",width:"100vw",justifyContent:"center",alignItems:"center",children:[T.jsx(Bh,{children:T.jsx("title",{children:"Connexion"})}),T.jsxs(Cn,{item:!0,width:"500px",component:pi,sx:{boxShadow:"0 8px 22px 0 rgba(31, 38, 135, 0.37)"},children:[T.jsx(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",mt:5},children:T.jsx("img",{src:"/logo-blue.png",style:{width:"64px"}})}),T.jsx(hS,{initialValues:{username:"",password:""},onSubmit:r=>{console.log(r),ho.login(JSON.stringify(r)).then(i=>i.json()).then(i=>{i.success?(n(i.data),t(i.token),Ss.fire({toast:!0,position:"bottom-start",icon:"success",title:"Connexion reussi",showConfirmButton:!1,timer:5e3}),window.location.href="/dashboard/"):Ss.fire({toast:!0,position:"bottom-start",icon:"error",title:"Désolé, un problème est survenu",showConfirmButton:!1,timer:5e3})}).catch(i=>{console.log(i),Ss.fire({toast:!0,position:"bottom-start",icon:"error",title:"Désolé, un problème est survenu",showConfirmButton:!1,timer:5e3})})},children:({handleSubmit:r,handleBlur:i,handleChange:c,values:d})=>T.jsxs(pt,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:3,padding:3},component:ox,onSubmit:r,children:[T.jsx(Wt,{variant:"h3",sx:{textAlign:"center"},children:"Connexion"}),T.jsx(br,{label:"Nom d'utilisateur",required:!0,name:"username",value:d.username,onChange:c("username"),onBlur:i("username"),fullWidth:!0}),T.jsx(br,{label:"Mot de passe",required:!0,name:"password",type:"password",value:d.password,onChange:c("password"),onBlur:i("password"),fullWidth:!0}),T.jsx(Po,{type:"submit",size:"large",variant:"contained",children:"Connexion"}),T.jsxs(Wt,{textAlign:"center",children:["Vous n'avez pas de compte ?"," ",T.jsx("a",{href:"/register",children:"Inscrivez-vous"})]}),T.jsxs(Wt,{textAlign:"center",children:["Copyright © 2021 - ",e.getFullYear()]})]})})]})]})},mU=Gn(T.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Pfe=Gn(T.jsx("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft"),kfe=Gn(T.jsx("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight"),Ife=Gn(T.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call"),Mfe=Gn(T.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline"),gA=Gn(T.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),gU=Gn(T.jsx("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM18 10c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM8 18v-4.5H6L10 6v5h2l-4 7z"}),"EvStation"),fS=Gn(T.jsx("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"LocalGasStation"),Afe=Gn(T.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn"),Rfe=Gn([T.jsx("path",{d:"M5 5h6c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6c.55 0 1-.45 1-1s-.45-1-1-1H5V5z"},"0"),T.jsx("path",{d:"m20.65 11.65-2.79-2.79c-.32-.32-.86-.1-.86.35V11h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.19.2-.51.01-.7z"},"1")],"LogoutRounded"),Ofe=Gn(T.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),Dfe=Gn(T.jsx("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeft"),Lfe=Gn(T.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save"),pS=Gn(T.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),Lj=Gn(T.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),zj=Gn(T.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),zfe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Ffe(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,i=r===""?"":`${r}-`;let c=0;const d=()=>(c+=1,c);return(s,m)=>{const _=m.options.name;if(_&&_.indexOf("Mui")===0&&!m.options.link&&!t){if(zfe.indexOf(s.key)!==-1)return`Mui-${s.key}`;const w=`${i}${_}-${s.key}`;return!m.options.theme[UN]||r!==""?w:`${w}-${d()}`}return`${i}${n}${d()}`}}var Fj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix=(typeof window>"u"?"undefined":Fj(window))==="object"&&(typeof document>"u"?"undefined":Fj(document))==="object"&&document.nodeType===9;function P_(e){"@babel/helpers - typeof";return P_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P_(e)}function jfe(e,t){if(P_(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fy(e){var t=jfe(e,"string");return P_(t)==="symbol"?t:String(t)}function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fy(r.key),r)}}function yU(e,t,n){return t&&jj(e.prototype,t),n&&jj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var $fe={}.constructor;function Sk(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(Sk);if(e.constructor!==$fe)return e;var t={};for(var n in e)t[n]=Sk(e[n]);return t}function yA(e,t,n){e===void 0&&(e="unnamed");var r=n.jss,i=Sk(t),c=r.plugins.onCreateRule(e,i,n);return c||(e[0],null)}var $j=function(t,n){for(var r="",i=0;i<t.length&&t[i]!=="!important";i++)r&&(r+=n),r+=t[i];return r},xp=function(t){if(!Array.isArray(t))return t;var n="";if(Array.isArray(t[0]))for(var r=0;r<t.length&&t[r]!=="!important";r++)n&&(n+=", "),n+=$j(t[r]," ");else n=$j(t,", ");return t[t.length-1]==="!important"&&(n+=" !important"),n};function My(e){return e&&e.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function d0(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function k_(e,t,n){n===void 0&&(n={});var r="";if(!t)return r;var i=n,c=i.indent,d=c===void 0?0:c,s=t.fallbacks;n.format===!1&&(d=-1/0);var m=My(n),_=m.linebreak,w=m.space;if(e&&d++,s)if(Array.isArray(s))for(var E=0;E<s.length;E++){var k=s[E];for(var O in k){var R=k[O];R!=null&&(r&&(r+=_),r+=d0(O+":"+w+xp(R)+";",d))}}else for(var L in s){var U=s[L];U!=null&&(r&&(r+=_),r+=d0(L+":"+w+xp(U)+";",d))}for(var F in t){var z=t[F];z!=null&&F!=="fallbacks"&&(r&&(r+=_),r+=d0(F+":"+w+xp(z)+";",d))}return!r&&!n.allowEmpty||!e?r:(d--,r&&(r=""+_+r+_),d0(""+e+w+"{"+r,d)+d0("}",d))}var Bfe=/([[\].#*$><+~=|^:(),"'`\s])/g,Bj=typeof CSS<"u"&&CSS.escape,vA=function(e){return Bj?Bj(e):e.replace(Bfe,"\\$1")},vU=function(){function e(n,r,i){this.type="style",this.isProcessed=!1;var c=i.sheet,d=i.Renderer;this.key=n,this.options=i,this.style=r,c?this.renderer=c.renderer:d&&(this.renderer=new d)}var t=e.prototype;return t.prop=function(r,i,c){if(i===void 0)return this.style[r];var d=c?c.force:!1;if(!d&&this.style[r]===i)return this;var s=i;(!c||c.process!==!1)&&(s=this.options.jss.plugins.onChangeValue(i,r,this));var m=s==null||s===!1,_=r in this.style;if(m&&!_&&!d)return this;var w=m&&_;if(w?delete this.style[r]:this.style[r]=s,this.renderable&&this.renderer)return w?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,s),this;var E=this.options.sheet;return E&&E.attached,this},e}(),Tk=function(e){JC(t,e);function t(r,i,c){var d;d=e.call(this,r,i,c)||this;var s=c.selector,m=c.scoped,_=c.sheet,w=c.generateId;return s?d.selectorText=s:m!==!1&&(d.id=w(uk(uk(d)),_),d.selectorText="."+vA(d.id)),d}var n=t.prototype;return n.applyTo=function(i){var c=this.renderer;if(c){var d=this.toJSON();for(var s in d)c.setProperty(i,s,d[s])}return this},n.toJSON=function(){var i={};for(var c in this.style){var d=this.style[c];typeof d!="object"?i[c]=d:Array.isArray(d)&&(i[c]=xp(d))}return i},n.toString=function(i){var c=this.options.sheet,d=c?c.options.link:!1,s=d?$({},i,{allowEmpty:!0}):i;return k_(this.selectorText,this.style,s)},yU(t,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var c=this.renderer,d=this.renderable;if(!(!d||!c)){var s=c.setSelector(d,i);s||c.replaceRule(d,this)}}},get:function(){return this.selectorText}}]),t}(vU),Nfe={onCreateRule:function(t,n,r){return t[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new Tk(t,n,r)}},yE={indent:1,children:!0},Ufe=/@([\w-]+)/,Vfe=function(){function e(n,r,i){this.type="conditional",this.isProcessed=!1,this.key=n;var c=n.match(Ufe);this.at=c?c[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new mS($({},i,{parent:this}));for(var d in r)this.rules.add(d,r[d]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.indexOf=function(r){return this.rules.indexOf(r)},t.addRule=function(r,i,c){var d=this.rules.add(r,i,c);return d?(this.options.jss.plugins.onProcessRule(d),d):null},t.replaceRule=function(r,i,c){var d=this.rules.replace(r,i,c);return d&&this.options.jss.plugins.onProcessRule(d),d},t.toString=function(r){r===void 0&&(r=yE);var i=My(r),c=i.linebreak;if(r.indent==null&&(r.indent=yE.indent),r.children==null&&(r.children=yE.children),r.children===!1)return this.query+" {}";var d=this.rules.toString(r);return d?this.query+" {"+c+d+c+"}":""},e}(),Hfe=/@container|@media|@supports\s+/,Gfe={onCreateRule:function(t,n,r){return Hfe.test(t)?new Vfe(t,n,r):null}},vE={indent:1,children:!0},Wfe=/@keyframes\s+([\w-]+)/,Ek=function(){function e(n,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var c=n.match(Wfe);c&&c[1]?this.name=c[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var d=i.scoped,s=i.sheet,m=i.generateId;this.id=d===!1?this.name:vA(m(this,s)),this.rules=new mS($({},i,{parent:this}));for(var _ in r)this.rules.add(_,r[_],$({},i,{parent:this}));this.rules.process()}var t=e.prototype;return t.toString=function(r){r===void 0&&(r=vE);var i=My(r),c=i.linebreak;if(r.indent==null&&(r.indent=vE.indent),r.children==null&&(r.children=vE.children),r.children===!1)return this.at+" "+this.id+" {}";var d=this.rules.toString(r);return d&&(d=""+c+d+c),this.at+" "+this.id+" {"+d+"}"},e}(),qfe=/@keyframes\s+/,Zfe=/\$([\w-]+)/g,Pk=function(t,n){return typeof t=="string"?t.replace(Zfe,function(r,i){return i in n?n[i]:r}):t},Nj=function(t,n,r){var i=t[n],c=Pk(i,r);c!==i&&(t[n]=c)},Yfe={onCreateRule:function(t,n,r){return typeof t=="string"&&qfe.test(t)?new Ek(t,n,r):null},onProcessStyle:function(t,n,r){return n.type!=="style"||!r||("animation-name"in t&&Nj(t,"animation-name",r.keyframes),"animation"in t&&Nj(t,"animation",r.keyframes)),t},onChangeValue:function(t,n,r){var i=r.options.sheet;if(!i)return t;switch(n){case"animation":return Pk(t,i.keyframes);case"animation-name":return Pk(t,i.keyframes);default:return t}}},Kfe=function(e){JC(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.toString=function(i){var c=this.options.sheet,d=c?c.options.link:!1,s=d?$({},i,{allowEmpty:!0}):i;return k_(this.key,this.style,s)},t}(vU),Xfe={onCreateRule:function(t,n,r){return r.parent&&r.parent.type==="keyframes"?new Kfe(t,n,r):null}},Jfe=function(){function e(n,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){var i=My(r),c=i.linebreak;if(Array.isArray(this.style)){for(var d="",s=0;s<this.style.length;s++)d+=k_(this.at,this.style[s]),this.style[s+1]&&(d+=c);return d}return k_(this.at,this.style,r)},e}(),Qfe=/@font-face/,epe={onCreateRule:function(t,n,r){return Qfe.test(t)?new Jfe(t,n,r):null}},tpe=function(){function e(n,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=n,this.style=r,this.options=i}var t=e.prototype;return t.toString=function(r){return k_(this.key,this.style,r)},e}(),npe={onCreateRule:function(t,n,r){return t==="@viewport"||t==="@-ms-viewport"?new tpe(t,n,r):null}},rpe=function(){function e(n,r,i){this.type="simple",this.isProcessed=!1,this.key=n,this.value=r,this.options=i}var t=e.prototype;return t.toString=function(r){if(Array.isArray(this.value)){for(var i="",c=0;c<this.value.length;c++)i+=this.key+" "+this.value[c]+";",this.value[c+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},e}(),ope={"@charset":!0,"@import":!0,"@namespace":!0},ipe={onCreateRule:function(t,n,r){return t in ope?new rpe(t,n,r):null}},Uj=[Nfe,Gfe,Yfe,Xfe,epe,npe,ipe],spe={process:!0},Vj={force:!0,process:!0},mS=function(){function e(n){this.map={},this.raw={},this.index=[],this.counter=0,this.options=n,this.classes=n.classes,this.keyframes=n.keyframes}var t=e.prototype;return t.add=function(r,i,c){var d=this.options,s=d.parent,m=d.sheet,_=d.jss,w=d.Renderer,E=d.generateId,k=d.scoped,O=$({classes:this.classes,parent:s,sheet:m,jss:_,Renderer:w,generateId:E,scoped:k,name:r,keyframes:this.keyframes,selector:void 0},c),R=r;r in this.raw&&(R=r+"-d"+this.counter++),this.raw[R]=i,R in this.classes&&(O.selector="."+vA(this.classes[R]));var L=yA(R,i,O);if(!L)return null;this.register(L);var U=O.index===void 0?this.index.length:O.index;return this.index.splice(U,0,L),L},t.replace=function(r,i,c){var d=this.get(r),s=this.index.indexOf(d);d&&this.remove(d);var m=c;return s!==-1&&(m=$({},c,{index:s})),this.add(r,i,m)},t.get=function(r){return this.map[r]},t.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},t.indexOf=function(r){return this.index.indexOf(r)},t.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},t.register=function(r){this.map[r.key]=r,r instanceof Tk?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof Ek&&this.keyframes&&(this.keyframes[r.name]=r.id)},t.unregister=function(r){delete this.map[r.key],r instanceof Tk?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof Ek&&delete this.keyframes[r.name]},t.update=function(){var r,i,c;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],c=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],c=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,c);else for(var d=0;d<this.index.length;d++)this.updateOne(this.index[d],i,c)},t.updateOne=function(r,i,c){c===void 0&&(c=spe);var d=this.options,s=d.jss.plugins,m=d.sheet;if(r.rules instanceof e){r.rules.update(i,c);return}var _=r.style;if(s.onUpdate(i,r,m,c),c.process&&_&&_!==r.style){s.onProcessStyle(r.style,r,m);for(var w in r.style){var E=r.style[w],k=_[w];E!==k&&r.prop(w,E,Vj)}for(var O in _){var R=r.style[O],L=_[O];R==null&&R!==L&&r.prop(O,null,Vj)}}},t.toString=function(r){for(var i="",c=this.options.sheet,d=c?c.options.link:!1,s=My(r),m=s.linebreak,_=0;_<this.index.length;_++){var w=this.index[_],E=w.toString(r);!E&&!d||(i&&(i+=m),i+=E)}return i},e}(),_U=function(){function e(n,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=$({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new mS(this.options);for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(r,i,c){var d=this.queue;this.attached&&!d&&(this.queue=[]);var s=this.rules.add(r,i,c);return s?(this.options.jss.plugins.onProcessRule(s),this.attached?(this.deployed&&(d?d.push(s):(this.insertRule(s),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),s):(this.deployed=!1,s)):null},t.replaceRule=function(r,i,c){var d=this.rules.get(r);if(!d)return this.addRule(r,i,c);var s=this.rules.replace(r,i,c);return s&&this.options.jss.plugins.onProcessRule(s),this.attached?(this.deployed&&this.renderer&&(s?d.renderable&&this.renderer.replaceRule(d.renderable,s):this.renderer.deleteRule(d)),s):(this.deployed=!1,s)},t.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},t.addRules=function(r,i){var c=[];for(var d in r){var s=this.addRule(d,r[d],i);s&&c.push(s)}return c},t.getRule=function(r){return this.rules.get(r)},t.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},t.indexOf=function(r){return this.rules.indexOf(r)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},t.updateOne=function(r,i,c){return this.rules.updateOne(r,i,c),this},t.toString=function(r){return this.rules.toString(r)},e}(),ape=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(r,i,c){for(var d=0;d<this.registry.onCreateRule.length;d++){var s=this.registry.onCreateRule[d](r,i,c);if(s)return s}return null},t.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,c=0;c<this.registry.onProcessRule.length;c++)this.registry.onProcessRule[c](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},t.onProcessStyle=function(r,i,c){for(var d=0;d<this.registry.onProcessStyle.length;d++)i.style=this.registry.onProcessStyle[d](i.style,i,c)},t.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},t.onUpdate=function(r,i,c,d){for(var s=0;s<this.registry.onUpdate.length;s++)this.registry.onUpdate[s](r,i,c,d)},t.onChangeValue=function(r,i,c){for(var d=r,s=0;s<this.registry.onChangeValue.length;s++)d=this.registry.onChangeValue[s](d,i,c);return d},t.use=function(r,i){i===void 0&&(i={queue:"external"});var c=this.plugins[i.queue];c.indexOf(r)===-1&&(c.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(d,s){for(var m in s)m in d&&d[m].push(s[m]);return d},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),lpe=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(r){var i=this.registry,c=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||c>=this.index){i.push(r);return}for(var d=0;d<i.length;d++)if(i[d].options.index>c){i.splice(d,0,r);return}}},t.reset=function(){this.registry=[]},t.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},t.toString=function(r){for(var i=r===void 0?{}:r,c=i.attached,d=mt(i,["attached"]),s=My(d),m=s.linebreak,_="",w=0;w<this.registry.length;w++){var E=this.registry[w];c!=null&&E.attached!==c||(_&&(_+=m),_+=E.toString(d))}return _},yU(e,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),e}(),H0=new lpe,kk=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),Ik="2f1acc6c3a606b082e5eef5e54414ffb";kk[Ik]==null&&(kk[Ik]=0);var Hj=kk[Ik]++,Gj=function(t){t===void 0&&(t={});var n=0,r=function(c,d){n+=1;var s="",m="";return d&&(d.options.classNamePrefix&&(m=d.options.classNamePrefix),d.options.jss.id!=null&&(s=String(d.options.jss.id))),t.minify?""+(m||"c")+Hj+s+n:m+c.key+"-"+Hj+(s?"-"+s:"")+"-"+n};return r},xU=function(t){var n;return function(){return n||(n=t()),n}},cpe=function(t,n){try{return t.attributeStyleMap?t.attributeStyleMap.get(n):t.style.getPropertyValue(n)}catch{return""}},upe=function(t,n,r){try{var i=r;if(Array.isArray(r)&&(i=xp(r)),t.attributeStyleMap)t.attributeStyleMap.set(n,i);else{var c=i?i.indexOf("!important"):-1,d=c>-1?i.substr(0,c-1):i;t.style.setProperty(n,d,c>-1?"important":"")}}catch{return!1}return!0},dpe=function(t,n){try{t.attributeStyleMap?t.attributeStyleMap.delete(n):t.style.removeProperty(n)}catch{}},hpe=function(t,n){return t.selectorText=n,t.selectorText===n},bU=xU(function(){return document.querySelector("head")});function fpe(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}function ppe(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}function mpe(e){for(var t=bU(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(r.nodeType===8&&r.nodeValue.trim()===e)return r}return null}function gpe(e){var t=H0.registry;if(t.length>0){var n=fpe(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=ppe(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&typeof r=="string"){var i=mpe(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function ype(e,t){var n=t.insertionPoint,r=gpe(t);if(r!==!1&&r.parent){r.parent.insertBefore(e,r.node);return}if(n&&typeof n.nodeType=="number"){var i=n,c=i.parentNode;c&&c.insertBefore(e,i.nextSibling);return}bU().appendChild(e)}var vpe=xU(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),Wj=function(t,n,r){try{"insertRule"in t?t.insertRule(n,r):"appendRule"in t&&t.appendRule(n)}catch{return!1}return t.cssRules[r]},qj=function(t,n){var r=t.cssRules.length;return n===void 0||n>r?r:n},_pe=function(){var t=document.createElement("style");return t.textContent=`
`,t},xpe=function(){function e(n){this.getPropertyValue=cpe,this.setProperty=upe,this.removeProperty=dpe,this.setSelector=hpe,this.hasInsertedRules=!1,this.cssRules=[],n&&H0.add(n),this.sheet=n;var r=this.sheet?this.sheet.options:{},i=r.media,c=r.meta,d=r.element;this.element=d||_pe(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),c&&this.element.setAttribute("data-meta",c);var s=vpe();s&&this.element.setAttribute("nonce",s)}var t=e.prototype;return t.attach=function(){if(!(this.element.parentNode||!this.sheet)){ype(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},t.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},t.insertRules=function(r,i){for(var c=0;c<r.index.length;c++)this.insertRule(r.index[c],c,i)},t.insertRule=function(r,i,c){if(c===void 0&&(c=this.element.sheet),r.rules){var d=r,s=c;if(r.type==="conditional"||r.type==="keyframes"){var m=qj(c,i);if(s=Wj(c,d.toString({children:!1}),m),s===!1)return!1;this.refCssRule(r,m,s)}return this.insertRules(d.rules,s),s}var _=r.toString();if(!_)return!1;var w=qj(c,i),E=Wj(c,_,w);return E===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,w,E),E)},t.refCssRule=function(r,i,c){r.renderable=c,r.options.parent instanceof _U&&this.cssRules.splice(i,0,c)},t.deleteRule=function(r){var i=this.element.sheet,c=this.indexOf(r);return c===-1?!1:(i.deleteRule(c),this.cssRules.splice(c,1),!0)},t.indexOf=function(r){return this.cssRules.indexOf(r)},t.replaceRule=function(r,i){var c=this.indexOf(r);return c===-1?!1:(this.element.sheet.deleteRule(c),this.cssRules.splice(c,1),this.insertRule(i,c))},t.getRules=function(){return this.element.sheet.cssRules},e}(),bpe=0,wpe=function(){function e(n){this.id=bpe++,this.version="10.10.0",this.plugins=new ape,this.options={id:{minify:!1},createGenerateId:Gj,Renderer:ix?xpe:null,plugins:[]},this.generateId=Gj({minify:!1});for(var r=0;r<Uj.length;r++)this.plugins.use(Uj[r],{queue:"internal"});this.setup(n)}var t=e.prototype;return t.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=$({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},t.createStyleSheet=function(r,i){i===void 0&&(i={});var c=i,d=c.index;typeof d!="number"&&(d=H0.index===0?0:H0.index+1);var s=new _U(r,$({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:d}));return this.plugins.onProcessSheet(s),s},t.removeStyleSheet=function(r){return r.detach(),H0.remove(r),this},t.createRule=function(r,i,c){if(i===void 0&&(i={}),c===void 0&&(c={}),typeof r=="object")return this.createRule(void 0,r,i);var d=$({},c,{name:r,jss:this,Renderer:this.options.Renderer});d.generateId||(d.generateId=this.generateId),d.classes||(d.classes={}),d.keyframes||(d.keyframes={});var s=yA(r,i,d);return s&&this.plugins.onProcessRule(s),s},t.use=function(){for(var r=this,i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return c.forEach(function(s){r.plugins.use(s)}),this},e}(),wU=function(t){return new wpe(t)},_A=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function CU(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if(i==="function")t||(t={}),t[n]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var c=CU(r);c&&(t||(t={}),t[n]=c)}}return t}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */wU();var SU=Date.now(),_E="fnValues"+SU,xE="fnStyle"+ ++SU,Cpe=function(){return{onCreateRule:function(n,r,i){if(typeof r!="function")return null;var c=yA(n,{},i);return c[xE]=r,c},onProcessStyle:function(n,r){if(_E in r||xE in r)return n;var i={};for(var c in n){var d=n[c];typeof d=="function"&&(delete n[c],i[c]=d)}return r[_E]=i,n},onUpdate:function(n,r,i,c){var d=r,s=d[xE];s&&(d.style=s(n)||{});var m=d[_E];if(m)for(var _ in m)d.prop(_,m[_](n),c)}}};const Spe=Cpe;var Nh="@global",Mk="@global ",Tpe=function(){function e(n,r,i){this.type="global",this.at=Nh,this.isProcessed=!1,this.key=n,this.options=i,this.rules=new mS($({},i,{parent:this}));for(var c in r)this.rules.add(c,r[c]);this.rules.process()}var t=e.prototype;return t.getRule=function(r){return this.rules.get(r)},t.addRule=function(r,i,c){var d=this.rules.add(r,i,c);return d&&this.options.jss.plugins.onProcessRule(d),d},t.replaceRule=function(r,i,c){var d=this.rules.replace(r,i,c);return d&&this.options.jss.plugins.onProcessRule(d),d},t.indexOf=function(r){return this.rules.indexOf(r)},t.toString=function(r){return this.rules.toString(r)},e}(),Epe=function(){function e(n,r,i){this.type="global",this.at=Nh,this.isProcessed=!1,this.key=n,this.options=i;var c=n.substr(Mk.length);this.rule=i.jss.createRule(c,r,$({},i,{parent:this}))}var t=e.prototype;return t.toString=function(r){return this.rule?this.rule.toString(r):""},e}(),Ppe=/\s*,\s*/g;function TU(e,t){for(var n=e.split(Ppe),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}function kpe(e,t){var n=e.options,r=e.style,i=r?r[Nh]:null;if(i){for(var c in i)t.addRule(c,i[c],$({},n,{selector:TU(c,e.selector)}));delete r[Nh]}}function Ipe(e,t){var n=e.options,r=e.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Nh.length)!==Nh)){var c=TU(i.substr(Nh.length),e.selector);t.addRule(c,r[i],$({},n,{selector:c})),delete r[i]}}function Mpe(){function e(n,r,i){if(!n)return null;if(n===Nh)return new Tpe(n,r,i);if(n[0]==="@"&&n.substr(0,Mk.length)===Mk)return new Epe(n,r,i);var c=i.parent;return c&&(c.type==="global"||c.options.parent&&c.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=n),null}function t(n,r){n.type!=="style"||!r||(kpe(n,r),Ipe(n,r))}return{onCreateRule:e,onProcessRule:t}}var Zj=/\s*,\s*/g,Ape=/&/g,Rpe=/\$([\w-]+)/g;function Ope(){function e(i,c){return function(d,s){var m=i.getRule(s)||c&&c.getRule(s);return m?m.selector:s}}function t(i,c){for(var d=c.split(Zj),s=i.split(Zj),m="",_=0;_<d.length;_++)for(var w=d[_],E=0;E<s.length;E++){var k=s[E];m&&(m+=", "),m+=k.indexOf("&")!==-1?k.replace(Ape,w):w+" "+k}return m}function n(i,c,d){if(d)return $({},d,{index:d.index+1});var s=i.options.nestingLevel;s=s===void 0?1:s+1;var m=$({},i.options,{nestingLevel:s,index:c.indexOf(i)+1});return delete m.name,m}function r(i,c,d){if(c.type!=="style")return i;var s=c,m=s.options.parent,_,w;for(var E in i){var k=E.indexOf("&")!==-1,O=E[0]==="@";if(!(!k&&!O)){if(_=n(s,m,_),k){var R=t(E,s.selector);w||(w=e(m,d)),R=R.replace(Rpe,w);var L=s.key+"-"+E;"replaceRule"in m?m.replaceRule(L,i[E],$({},_,{selector:R})):m.addRule(L,i[E],$({},_,{selector:R}))}else O&&m.addRule(E,{},_).addRule(s.key,i[E],{selector:s.selector});delete i[E]}}return i}return{onProcessStyle:r}}var Dpe=/[A-Z]/g,Lpe=/^ms-/,bE={};function zpe(e){return"-"+e.toLowerCase()}function EU(e){if(bE.hasOwnProperty(e))return bE[e];var t=e.replace(Dpe,zpe);return bE[e]=Lpe.test(t)?"-"+t:t}function xw(e){var t={};for(var n in e){var r=n.indexOf("--")===0?n:EU(n);t[r]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(xw):t.fallbacks=xw(e.fallbacks)),t}function Fpe(){function e(n){if(Array.isArray(n)){for(var r=0;r<n.length;r++)n[r]=xw(n[r]);return n}return xw(n)}function t(n,r,i){if(r.indexOf("--")===0)return n;var c=EU(r);return r===c?n:(i.prop(c,n),null)}return{onProcessStyle:e,onChangeValue:t}}var zt=_A&&CSS?CSS.px:"px",Zb=_A&&CSS?CSS.ms:"ms",Qm=_A&&CSS?CSS.percent:"%",jpe={"animation-delay":Zb,"animation-duration":Zb,"background-position":zt,"background-position-x":zt,"background-position-y":zt,"background-size":zt,border:zt,"border-bottom":zt,"border-bottom-left-radius":zt,"border-bottom-right-radius":zt,"border-bottom-width":zt,"border-left":zt,"border-left-width":zt,"border-radius":zt,"border-right":zt,"border-right-width":zt,"border-top":zt,"border-top-left-radius":zt,"border-top-right-radius":zt,"border-top-width":zt,"border-width":zt,"border-block":zt,"border-block-end":zt,"border-block-end-width":zt,"border-block-start":zt,"border-block-start-width":zt,"border-block-width":zt,"border-inline":zt,"border-inline-end":zt,"border-inline-end-width":zt,"border-inline-start":zt,"border-inline-start-width":zt,"border-inline-width":zt,"border-start-start-radius":zt,"border-start-end-radius":zt,"border-end-start-radius":zt,"border-end-end-radius":zt,margin:zt,"margin-bottom":zt,"margin-left":zt,"margin-right":zt,"margin-top":zt,"margin-block":zt,"margin-block-end":zt,"margin-block-start":zt,"margin-inline":zt,"margin-inline-end":zt,"margin-inline-start":zt,padding:zt,"padding-bottom":zt,"padding-left":zt,"padding-right":zt,"padding-top":zt,"padding-block":zt,"padding-block-end":zt,"padding-block-start":zt,"padding-inline":zt,"padding-inline-end":zt,"padding-inline-start":zt,"mask-position-x":zt,"mask-position-y":zt,"mask-size":zt,height:zt,width:zt,"min-height":zt,"max-height":zt,"min-width":zt,"max-width":zt,bottom:zt,left:zt,top:zt,right:zt,inset:zt,"inset-block":zt,"inset-block-end":zt,"inset-block-start":zt,"inset-inline":zt,"inset-inline-end":zt,"inset-inline-start":zt,"box-shadow":zt,"text-shadow":zt,"column-gap":zt,"column-rule":zt,"column-rule-width":zt,"column-width":zt,"font-size":zt,"font-size-delta":zt,"letter-spacing":zt,"text-decoration-thickness":zt,"text-indent":zt,"text-stroke":zt,"text-stroke-width":zt,"word-spacing":zt,motion:zt,"motion-offset":zt,outline:zt,"outline-offset":zt,"outline-width":zt,perspective:zt,"perspective-origin-x":Qm,"perspective-origin-y":Qm,"transform-origin":Qm,"transform-origin-x":Qm,"transform-origin-y":Qm,"transform-origin-z":Qm,"transition-delay":Zb,"transition-duration":Zb,"vertical-align":zt,"flex-basis":zt,"shape-margin":zt,size:zt,gap:zt,grid:zt,"grid-gap":zt,"row-gap":zt,"grid-row-gap":zt,"grid-column-gap":zt,"grid-template-rows":zt,"grid-template-columns":zt,"grid-auto-rows":zt,"grid-auto-columns":zt,"box-shadow-x":zt,"box-shadow-y":zt,"box-shadow-blur":zt,"box-shadow-spread":zt,"font-line-height":zt,"text-shadow-x":zt,"text-shadow-y":zt,"text-shadow-blur":zt};function PU(e){var t=/(-[a-z])/g,n=function(d){return d[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var $pe=PU(jpe);function G0(e,t,n){if(t==null)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=G0(e,t[r],n);else if(typeof t=="object")if(e==="fallbacks")for(var i in t)t[i]=G0(i,t[i],n);else for(var c in t)t[c]=G0(e+"-"+c,t[c],n);else if(typeof t=="number"&&isNaN(t)===!1){var d=n[e]||$pe[e];return d&&!(t===0&&d===zt)?typeof d=="function"?d(t).toString():""+t+d:t.toString()}return t}function Bpe(e){e===void 0&&(e={});var t=PU(e);function n(i,c){if(c.type!=="style")return i;for(var d in i)i[d]=G0(d,i[d],t);return i}function r(i,c){return G0(c,i,t)}return{onProcessStyle:n,onChangeValue:r}}function Ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Npe(e){if(Array.isArray(e))return Ak(e)}function Upe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vpe(e,t){if(e){if(typeof e=="string")return Ak(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(e,t)}}function Hpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gpe(e){return Npe(e)||Upe(e)||Vpe(e)||Hpe()}var T0="",Rk="",kU="",IU="",Wpe=ix&&"ontouchstart"in document.documentElement;if(ix){var wE={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},qpe=document.createElement("p"),CE=qpe.style,Zpe="Transform";for(var SE in wE)if(SE+Zpe in CE){T0=SE,Rk=wE[SE];break}T0==="Webkit"&&"msHyphens"in CE&&(T0="ms",Rk=wE.ms,IU="edge"),T0==="Webkit"&&"-apple-trailing-word"in CE&&(kU="apple")}var yr={js:T0,css:Rk,vendor:kU,browser:IU,isTouch:Wpe};function Ype(e){return e[1]==="-"||yr.js==="ms"?e:"@"+yr.css+"keyframes"+e.substr(10)}var Kpe={noPrefill:["appearance"],supportedProperty:function(t){return t!=="appearance"?!1:yr.js==="ms"?"-webkit-"+t:yr.css+t}},Xpe={noPrefill:["color-adjust"],supportedProperty:function(t){return t!=="color-adjust"?!1:yr.js==="Webkit"?yr.css+"print-"+t:t}},Jpe=/[-\s]+(.)?/g;function Qpe(e,t){return t?t.toUpperCase():""}function xA(e){return e.replace(Jpe,Qpe)}function Yh(e){return xA("-"+e)}var eme={noPrefill:["mask"],supportedProperty:function(t,n){if(!/^mask/.test(t))return!1;if(yr.js==="Webkit"){var r="mask-image";if(xA(r)in n)return t;if(yr.js+Yh(r)in n)return yr.css+t}return t}},tme={noPrefill:["text-orientation"],supportedProperty:function(t){return t!=="text-orientation"?!1:yr.vendor==="apple"&&!yr.isTouch?yr.css+t:t}},nme={noPrefill:["transform"],supportedProperty:function(t,n,r){return t!=="transform"?!1:r.transform?t:yr.css+t}},rme={noPrefill:["transition"],supportedProperty:function(t,n,r){return t!=="transition"?!1:r.transition?t:yr.css+t}},ome={noPrefill:["writing-mode"],supportedProperty:function(t){return t!=="writing-mode"?!1:yr.js==="Webkit"||yr.js==="ms"&&yr.browser!=="edge"?yr.css+t:t}},ime={noPrefill:["user-select"],supportedProperty:function(t){return t!=="user-select"?!1:yr.js==="Moz"||yr.js==="ms"||yr.vendor==="apple"?yr.css+t:t}},sme={supportedProperty:function(t,n){if(!/^break-/.test(t))return!1;if(yr.js==="Webkit"){var r="WebkitColumn"+Yh(t);return r in n?yr.css+"column-"+t:!1}if(yr.js==="Moz"){var i="page"+Yh(t);return i in n?"page-"+t:!1}return!1}},ame={supportedProperty:function(t,n){if(!/^(border|margin|padding)-inline/.test(t))return!1;if(yr.js==="Moz")return t;var r=t.replace("-inline","");return yr.js+Yh(r)in n?yr.css+r:!1}},lme={supportedProperty:function(t,n){return xA(t)in n?t:!1}},cme={supportedProperty:function(t,n){var r=Yh(t);return t[0]==="-"||t[0]==="-"&&t[1]==="-"?t:yr.js+r in n?yr.css+t:yr.js!=="Webkit"&&"Webkit"+r in n?"-webkit-"+t:!1}},ume={supportedProperty:function(t){return t.substring(0,11)!=="scroll-snap"?!1:yr.js==="ms"?""+yr.css+t:t}},dme={supportedProperty:function(t){return t!=="overscroll-behavior"?!1:yr.js==="ms"?yr.css+"scroll-chaining":t}},hme={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},fme={supportedProperty:function(t,n){var r=hme[t];return r&&yr.js+Yh(r)in n?yr.css+r:!1}},MU={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},pme=Object.keys(MU),mme=function(t){return yr.css+t},gme={supportedProperty:function(t,n,r){var i=r.multiple;if(pme.indexOf(t)>-1){var c=MU[t];if(!Array.isArray(c))return yr.js+Yh(c)in n?yr.css+c:!1;if(!i)return!1;for(var d=0;d<c.length;d++)if(!(yr.js+Yh(c[0])in n))return!1;return c.map(mme)}return!1}},AU=[Kpe,Xpe,eme,tme,nme,rme,ome,ime,sme,ame,lme,cme,ume,dme,fme,gme],Yj=AU.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),yme=AU.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Gpe(t.noPrefill)),e},[]),E0,cp={};if(ix){E0=document.createElement("p");var TE=window.getComputedStyle(document.documentElement,"");for(var EE in TE)isNaN(EE)||(cp[TE[EE]]=TE[EE]);yme.forEach(function(e){return delete cp[e]})}function Ok(e,t){if(t===void 0&&(t={}),!E0)return e;if(cp[e]!=null)return cp[e];(e==="transition"||e==="transform")&&(t[e]=e in E0.style);for(var n=0;n<Yj.length&&(cp[e]=Yj[n](e,E0.style,t),!cp[e]);n++);try{E0.style[e]=""}catch{return!1}return cp[e]}var eg={},vme={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},_me=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,ch;function xme(e,t,n){if(t==="var")return"var";if(t==="all")return"all";if(n==="all")return", all";var r=t?Ok(t):", "+Ok(n);return r||t||n}ix&&(ch=document.createElement("p"));function Kj(e,t){var n=t;if(!ch||e==="content")return t;if(typeof n!="string"||!isNaN(parseInt(n,10)))return n;var r=e+n;if(eg[r]!=null)return eg[r];try{ch.style[e]=n}catch{return eg[r]=!1,!1}if(vme[e])n=n.replace(_me,xme);else if(ch.style[e]===""&&(n=yr.css+n,n==="-ms-flex"&&(ch.style[e]="-ms-flexbox"),ch.style[e]=n,ch.style[e]===""))return eg[r]=!1,!1;return ch.style[e]="",eg[r]=n,eg[r]}function bme(){function e(i){if(i.type==="keyframes"){var c=i;c.at=Ype(c.at)}}function t(i){for(var c in i){var d=i[c];if(c==="fallbacks"&&Array.isArray(d)){i[c]=d.map(t);continue}var s=!1,m=Ok(c);m&&m!==c&&(s=!0);var _=!1,w=Kj(m,xp(d));w&&w!==d&&(_=!0),(s||_)&&(s&&delete i[c],i[m||c]=w||d)}return i}function n(i,c){return c.type!=="style"?i:t(i)}function r(i,c){return Kj(c,xp(i))||i}return{onProcessRule:e,onProcessStyle:n,onChangeValue:r}}function wme(){var e=function(n,r){return n.length===r.length?n>r?1:-1:n.length-r.length};return{onProcessStyle:function(n,r){if(r.type!=="style")return n;for(var i={},c=Object.keys(n).sort(e),d=0;d<c.length;d++)i[c[d]]=n[c[d]];return i}}}function Cme(){return{plugins:[Spe(),Mpe(),Ope(),Fpe(),Bpe(),typeof window>"u"?null:bme(),wme()]}}function RU(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const i=$({},t);return Object.keys(n).forEach(c=>{n[c]&&(i[c]=`${t[c]} ${n[c]}`)}),i}const Sme={set:(e,t,n,r)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},Eg=Sme;function Tme(){var e;const t=NN();return(e=t==null?void 0:t.$$material)!=null?e:t}const Eme=wU(Cme()),Pme=Ffe(),kme=new Map,Ime={disableGeneration:!1,generateClassName:Pme,jss:Eme,sheetsCache:null,sheetsManager:kme,sheetsRegistry:null},Mme=P.createContext(Ime);let Xj=-1e9;function Ame(){return Xj+=1,Xj}const Rme=["variant"];function Jj(e){return e.length===0}function Ome(e){const{variant:t}=e,n=mt(e,Rme);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Jj(r)?e[i]:xt(e[i]):r+=`${Jj(r)?i:xt(i)}${xt(e[i].toString())}`}),r}const Dme={},Lme=Dme;function zme(e){const t=typeof e=="function";return{create:(n,r)=>{let i;try{i=t?e(n):e}catch(m){throw m}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;const c=n.components[r].styleOverrides||{},d=n.components[r].variants||[],s=$({},i);return Object.keys(c).forEach(m=>{s[m]=la(s[m]||{},c[m])}),d.forEach(m=>{const _=Ome(m.props);s[_]=la(s[_]||{},m.style)}),s},options:{}}}const Fme=["name","classNamePrefix","Component","defaultTheme"];function jme({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,i=!0),i&&(e.cacheClasses.value=RU({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}function $me({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:i},c){if(n.disableGeneration)return;let d=Eg.get(n.sheetsManager,r,t);d||(d={refs:0,staticSheet:null,dynamicStyles:null},Eg.set(n.sheetsManager,r,t,d));const s=$({},r.options,n,{theme:t,flip:typeof n.flip=="boolean"?n.flip:t.direction==="rtl"});s.generateId=s.serverGenerateClassName||s.generateClassName;const m=n.sheetsRegistry;if(d.refs===0){let _;n.sheetsCache&&(_=Eg.get(n.sheetsCache,r,t));const w=r.create(t,i);_||(_=n.jss.createStyleSheet(w,$({link:!1},s)),_.attach(),n.sheetsCache&&Eg.set(n.sheetsCache,r,t,_)),m&&m.add(_),d.staticSheet=_,d.dynamicStyles=CU(w)}if(d.dynamicStyles){const _=n.jss.createStyleSheet(d.dynamicStyles,$({link:!0},s));_.update(c),_.attach(),e.dynamicSheet=_,e.classes=RU({baseClasses:d.staticSheet.classes,newClasses:_.classes}),m&&m.add(_)}else e.classes=d.staticSheet.classes;d.refs+=1}function Bme({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}function Nme({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=Eg.get(n.sheetsManager,r,t);i.refs-=1;const c=n.sheetsRegistry;i.refs===0&&(Eg.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(i.staticSheet),c&&c.remove(i.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),c&&c.remove(e.dynamicSheet))}function Ume(e,t){const n=P.useRef([]);let r;const i=P.useMemo(()=>({}),t);n.current!==i&&(n.current=i,r=e()),P.useEffect(()=>()=>{r&&r()},[i])}function Wi(e,t={}){const{name:n,classNamePrefix:r,Component:i,defaultTheme:c=Lme}=t,d=mt(t,Fme),s=zme(e),m=n||r||"makeStyles";return s.options={index:Ame(),name:n,meta:m,classNamePrefix:m},(w={})=>{const E=Tme()||c,k=$({},P.useContext(Mme),d),O=P.useRef(),R=P.useRef();return Ume(()=>{const U={name:n,state:{},stylesCreator:s,stylesOptions:k,theme:E};return $me(U,w),R.current=!1,O.current=U,()=>{Nme(U)}},[E,s]),P.useEffect(()=>{R.current&&Bme(O.current,w),R.current=!0}),jme(O.current,w.classes,i)}}const OU=Wi(e=>({btnLink:{color:"#eef2fc","& :hover":{color:"#f2f2f3"}},customBtn:{padding:e.spacing(1),margin:e.spacing(1),borderRadius:e.shape.borderRadius,cursor:"pointer",borderLeft:"5px solid transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, .5)"},"&::selection":{backgroundColor:"transparent"},"&:active":{transform:"scale(.99)",borderLeft:"5px solid #3189fcb8"}}})),PE=e=>{const{children:t,style:n,...r}=e,i=OU();return T.jsx(pt,{style:n,className:i.customBtn,...r,children:T.jsx(Wt,{variant:"h6",component:"span",children:t})})},Vme=[{path:"/dashboard/",label:"Dashboard"},{path:"/dashboard/marque/",label:"Marque"},{path:"/dashboard/modele/",label:"Model"},{path:"/dashboard/voiture/",label:"Voiture"},{path:"/dashboard/annonce/",label:"Annonce"}],Hme=()=>{const e=OU(),t=Py(),{logoutUser:n}=Ga();return T.jsx(pt,{height:"100vh",maxHeight:"100vh",overflow:"auto",children:T.jsxs(pt,{height:"100%",sx:{backgroundColor:"#0c54ed",color:"#f1efef",display:"flex",flexDirection:"column"},children:[T.jsxs(pt,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsx(Wt,{typography:"h5",sx:{cursor:"pointer"},children:"Annonce Ventes"}),T.jsx(Qi,{children:T.jsx(Ofe,{sx:{height:32,width:32,color:"#f7f7f8"},speed:2})})]}),T.jsx(pt,{sx:{mt:6,width:"100%",flex:1},children:Vme.map(r=>T.jsx(qh,{href:r.path,className:e.btnLink,variant:"button",sx:{color:"#cad4ed",cursor:"pointer",textDecoration:"none"},children:T.jsx(PE,{sx:{backgroundColor:t.pathname===r.path?"rgba(255,255,255,.5)":"transparent"},children:r.label})},r.path))}),T.jsxs(pt,{children:[T.jsx(PE,{style:{backgroundColor:"#ffffff40"},onClick:()=>{n(),window.location.href="/"},children:T.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Logout ",T.jsx(Rfe,{})," "]})}),T.jsx(qh,{href:"/",className:e.btnLink,variant:"button",sx:{color:"#cad4ed",cursor:"pointer",textDecoration:"none"},children:T.jsx(PE,{style:{backgroundColor:"#ffffff40"},children:"View Site"})})]})]})})},Wp=e=>{const{children:t}=e;return T.jsxs(Cn,{container:!0,height:"100vh",width:"100vw",maxHeight:"100vh",overflow:"auto",position:"relative",padding:0,margin:0,children:[T.jsx(Cn,{item:!0,md:2.5,sm:3,lg:2.5,xs:2,height:"100%",maxHeight:"100vh",overflow:"auto",sx:{left:0,bottom:0,top:0,position:"static"},padding:0,margin:0,children:T.jsx(Hme,{})}),T.jsx(Cn,{item:!0,md:9.5,sm:9,lg:9.5,xs:10,maxHeight:"100vh",overflow:"auto",sx:{backgroundColor:"#e6f2fb"},children:t})]})};var gS={},yS={};Object.defineProperty(yS,"__esModule",{value:!0});yS.defaultOptions=void 0;yS.defaultOptions={lowercase:!1,precision:1,space:!1,units:["","K","M","B","T","P","E"]};var qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.getLocales=qc.getFractionDigits=qc.roundTo=qc.parseValue=void 0;function Gme(e){const t=parseFloat(e==null?void 0:e.toString());if(isNaN(t))throw new Error("Input value is not a number");if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw new RangeError("Input value is outside of safe integer range");return t}qc.parseValue=Gme;function Wme(e,t){if(!Number.isFinite(e))throw new Error("Input value is not a finite number");if(!Number.isInteger(t)||t<0)throw new Error("Precision is not a positive integer");return Number.isInteger(e)?e:parseFloat(e.toFixed(t))}qc.roundTo=Wme;function qme(e){var t;if(Number.isInteger(e))return 0;const n=e.toString().split(".")[1];return(t=n==null?void 0:n.length)!==null&&t!==void 0?t:0}qc.getFractionDigits=qme;function Zme(){var e;return typeof navigator>"u"?[]:Array.from((e=navigator.languages)!==null&&e!==void 0?e:[])}qc.getLocales=Zme;Object.defineProperty(gS,"__esModule",{value:!0});gS.millify=void 0;const Qj=yS,Yb=qc,e$=1e3;function*t$(e){let t=e$;for(;;){const n=e/t;if(n<1)return;yield n,t*=e$}}function DU(e,t){var n,r;const i=t?{...Qj.defaultOptions,...t}:Qj.defaultOptions;if(!Array.isArray(i.units)||!i.units.length)throw new Error("Option `units` must be a non-empty array");let c;try{c=Yb.parseValue(e)}catch(R){return R instanceof Error&&console.warn(`WARN: ${R.message} (millify)`),String(e)}const d=c<0?"-":"";c=Math.abs(c);let s=0;for(const R of t$(c))c=R,s+=1;if(s>=i.units.length)return e.toString();let _=Yb.roundTo(c,i.precision);for(const R of t$(_))_=R,s+=1;const w=(n=i.units[s])!==null&&n!==void 0?n:"",E=i.lowercase?w.toLowerCase():w,k=i.space?" ":"",O=_.toLocaleString((r=i.locales)!==null&&r!==void 0?r:Yb.getLocales(),{minimumFractionDigits:Yb.getFractionDigits(_)});return`${d}${O}${k}${E}`}gS.millify=DU;var Lp=gS.default=DU;const Yme=Wi(e=>({container:{width:250,height:250,display:"flex",flex:1,flexDirection:"column",padding:e.spacing(1),gap:e.spacing(1),borderRadius:8,backgroundColor:"#fdfcfcf2",cursor:"pointer","&:hover":{boxShadow:"2px 5px 8px #ccc",backgroundColor:"#3b7de8f2","& .text":{color:"#eef1f6f2"},"& .count":{color:"#ffffffd9",textShadow:"2px 0px 2px ##ffffff66"},background:"linear-gradient(to right,#3b7de8f2, #eef1f6f2)"},"&:active":{transform:"scale(.95)"},"& .center":{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",flex:1,"& .count":{fontFamily:"'Calibri','Comic Sans MS','Microsoft Sans Serif'",fontWeight:"800",fontSize:"3rem",opacity:.8,textShadow:"5px 0px 3px #ccc",[e.breakpoints.down("md")]:{},"&::selection":{backgroundColor:"transparent"}}},"& .text":{color:"grey",fontFamily:"'Calibri','Comic Sans MS','Microsoft Sans Serif'",fontWeight:"500"}}})),Kb=e=>{const{count:t,text:n}=e,r=Yme();return T.jsxs(pt,{className:r.container,children:[T.jsx(Wt,{className:"text",variant:"h6",children:n}),T.jsx(pt,{className:"center",children:T.jsx("span",{className:"count",children:Lp(t,{space:!0,precision:2})})})]})},Kme=Wi(e=>({container:{"& .recent":{color:"rgba(0,0,0,.5)"},"& .box":{backgroundColor:"rgba(255,255,255,.3)",padding:e.spacing(1),borderRadius:e.shape.borderRadius,display:"flex",flexDirection:"column",flex:1},"& table":{fontFamily:"arial, sans-serif",borderCollapse:"collapse",width:"100%"},"& td, th":{border:"1px solid #dddddd",textAlign:"left",padding:"8px",fontSize:"1rem"},"& th":{fontSize:".8rem"},"& tr:nth-child(even)":{backgroundColor:"#ffffffb8"},"& .bbb":{display:"flex",width:"100%",flex:1}}})),Xme=()=>{const e=Kme(),[t,n]=P.useState([]),[r,i]=P.useState([]),[c,d]=P.useState(0),[s,m]=P.useState(0),[_,w]=P.useState(0),[E,k]=P.useState(0),{userToken:O}=Ga();return P.useEffect(()=>{if(O){ho.listVoiture(O,"limit=5").then(z=>z.json()).then(z=>{n(z)}).catch(z=>console.log(z.message)),ho.listAnnonce(O,"limit=5").then(z=>z.json()).then(z=>{i(z)}).catch(z=>console.log(z.message));const R=async()=>{const B=await(await ho.listMarque()).json();m(B.length)},L=async()=>{const B=await(await ho.listModele()).json();d(B.length)},U=async()=>{const B=await(await ho.listVoiture(O)).json();w(B.length)},F=async()=>{const B=await(await ho.listAnnonce(O)).json();k(B.length)};(async()=>(await R(),await L(),await U(),await F()))()}},[O]),T.jsx(Wp,{children:T.jsx(pt,{width:"100%",height:"100%",children:T.jsx(Cn,{container:!0,width:"100%",height:"100%",className:e.container,children:T.jsxs(Cn,{item:!0,md:12,xs:12,sm:12,pl:0,pr:0,p:.5,height:"100%",width:"100%",flex:1,children:[T.jsx(Wt,{variant:"h4",gutterBottom:!0,sx:{ml:2,mt:1},children:"Dashboard"}),T.jsxs(pt,{sx:{p:.5,height:"92.5%",backgroundColor:"#e6f2fb",display:"flex",flex:1,flexDirection:"column ",width:"95%"},children:[T.jsxs(Cn,{container:!0,flex:1,sx:{p:2},spacing:2,rowSpacing:10,columnSpacing:10,children:[T.jsx(Cn,{item:!0,lg:3,md:3,sm:5,xs:12,children:T.jsx(Kb,{text:"Marques",count:s})}),T.jsx(Cn,{item:!0,lg:3,md:3,sm:5,xs:12,children:T.jsx(Kb,{text:"Modeles",count:c})}),T.jsx(Cn,{item:!0,lg:3,md:3,sm:5,xs:12,children:T.jsx(Kb,{text:"Voitures",count:_})}),T.jsx(Cn,{item:!0,lg:3,md:3,sm:5,xs:12,children:T.jsx(Kb,{text:"Annonces",count:E})})]}),T.jsxs(Cn,{container:!0,height:"100%",p:2,width:"100%",gap:1,justifyContent:"space-between",className:"bbb",children:[T.jsxs(Cn,{item:!0,md:5.95,sm:12,className:"box",children:[T.jsx(Wt,{variant:"h4",className:"recent",children:"Recentes voitures"}),T.jsx(pt,{sx:{width:"100%",flex:1,display:"flex"},children:T.jsxs("table",{style:{width:"100%",flex:1},children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"# Chassi"}),T.jsx("th",{children:"Marque & Modele"}),T.jsx("th",{children:"Annee"}),T.jsx("th",{children:"Kilometrage (Km)"}),T.jsx("th",{children:"Prix (XAF)"})]})}),T.jsx("tbody",{children:t==null?void 0:t.map(R=>T.jsxs("tr",{children:[T.jsx("td",{children:R.num_chassi}),T.jsxs("td",{children:[R.model.marque.nom," ",R.model.nom]}),T.jsx("td",{children:R.annee}),T.jsx("td",{children:R.km_parcouru}),T.jsx("td",{children:Lp(R.prix,{space:!0})})]},R.id))})]})})]}),T.jsxs(Cn,{item:!0,md:5.95,sm:12,className:"box",children:[T.jsx(Wt,{variant:"h4",className:"recent",children:"Recentes Annonces"}),T.jsx(pt,{sx:{width:"100%",flex:1,display:"flex"},children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Titre"}),T.jsx("th",{children:"Marque & Modele"}),T.jsx("th",{children:"Prix (XAF)"}),T.jsx("th",{children:"Description"})]})}),T.jsx("tbody",{children:r==null?void 0:r.map(R=>T.jsxs("tr",{children:[T.jsx("td",{children:R.titre}),T.jsxs("td",{children:[R.voiture.model.marque.nom," ",R.voiture.model.nom," (",R.voiture.annee,")"]}),T.jsx("td",{children:Lp(R.prix,{space:!0})}),T.jsx("td",{children:R.description.substring(0,30)})]},R.id))})]})})]})]})]})]})})})})},Jme=Wi(e=>({marqueContainer:{p:0,display:"flex",alignItems:"center",flexDirection:"column",backgroundColor:"rgba(255,255,255,.5)",borderRadius:e.shape.borderRadius,position:"relative",cursor:"pointer","& .btnBox":{display:"none",position:"absolute",right:e.spacing(.5),top:e.spacing(.5),zIndex:99,"& .btn":{padding:e.spacing(.5),borderRadius:1}},"&:hover .btnBox":{display:"block"}}})),Qme=()=>{const e=Jme(),[t,n]=P.useState([]),[r,i]=P.useState(!0),{user:c}=Ga();return P.useEffect(()=>{ho.listMarque().then(d=>d.json()).then(d=>{n(d)}).catch(d=>{console.log(d)}).finally(()=>i(!1))},[]),T.jsx(Wp,{children:T.jsx(pt,{sx:{padding:0,margin:0},width:"100%",height:"100%",children:T.jsx(Cn,{container:!0,width:"100%",height:"100%",children:T.jsxs(Cn,{item:!0,md:12,xs:12,sm:12,p:2,children:[T.jsxs(uy,{"aria-label":"breadcrumb",sx:{mt:2,backgroundColor:"#295ad6",p:1.5,borderRadius:1,color:"#fff"},children:[T.jsx(qh,{underline:"hover",color:"inherit",href:"/dashboard",children:"Dashboard"}),T.jsx(Wt,{children:"Marque"})]}),T.jsxs(pt,{width:"100%",children:[T.jsx(pt,{sx:{mt:2,borderRadius:5}}),T.jsx(pt,{sx:{mt:1,mb:1},children:T.jsxs(pt,{sx:{display:"flex",alignItems:"center",gap:.2,maxWidth:400,justifyContent:"flex-start",p:.5},children:[T.jsx(pS,{}),T.jsx(au,{sx:{border:"1px solid #ddd",p:.5,borderRadius:2},fullWidth:!0,placeholder:""}),T.jsx(Po,{variant:"contained",children:"Search"})]})}),r?T.jsx(sS,{}):T.jsx(Cn,{container:!0,gap:2,mt:3,p:3,sx:{backgroundColor:""},children:t==null?void 0:t.map(d=>T.jsxs(Cn,{item:!0,lg:1.5,className:e.marqueContainer,flexDirection:"column",children:[c.is_superuser&&c.is_staff&&T.jsx(pt,{className:"btnBox",children:T.jsx(ha,{sx:{borderRadius:1},children:T.jsx(pt,{className:"btn",children:T.jsx(gA,{})})})}),T.jsx("img",{src:d.logo,style:{width:"100%",height:"120px",objectFit:"contain",marginTop:"10px"}}),T.jsx(Wt,{textAlign:"center",sx:{width:"100%"},children:d.nom})]},d.id))})]})]})})})})},LU=P.createContext(void 0);function jr(){const e=P.useContext(LU);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const zU=P.createContext(void 0),Fn=()=>{const e=P.useContext(zU);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},FU=P.createContext(void 0);function qp(){const e=P.useContext(FU);if(e===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const n$={};function ege(e,t){const n=P.useRef(n$);return n.current===n$&&(n.current=e(t)),n}const tge=[];function nge(e){P.useEffect(e,tge)}const cu=(e,t="warning")=>{let n=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{n||(n=!0,t==="error"?console.error(r):console.warn(r))}},rge=Object.is;function jU(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,r=0;for(const i in e)if(n+=1,!rge(e[i],t[i])||!(i in t))return!1;for(const i in t)r+=1;return n===r}cu(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function oge(e){return e.acceptsApiRef}function r$(e,t){return oge(t)?t(e):t(e.current.state)}const ige=Object.is,bA=jU,sge=()=>({state:null,equals:null,selector:null}),In=(e,t,n=ige)=>{const r=ege(sge),i=r.current.selector!==null,[c,d]=P.useState(i?null:r$(e,t));return r.current.state=c,r.current.equals=n,r.current.selector=t,nge(()=>e.current.store.subscribe(()=>{const s=r$(e,r.current.selector);r.current.equals(r.current.state,s)||(r.current.state=s,d(s))})),c};function $r(e){return qn("MuiDataGrid",e)}const Ke=Zn("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),age=e=>{const{classes:t}=e;return hn({root:["main"]},$r,t)},lge=Gi("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),cge=P.forwardRef((e,t)=>{const n=Fn(),r=age(n);return T.jsx(lge,{ref:t,className:r.root,ownerState:n,children:e.children})});var bw="NOT_FOUND";function uge(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:bw},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function dge(e,t){var n=[];function r(s){var m=n.findIndex(function(w){return t(s,w.key)});if(m>-1){var _=n[m];return m>0&&(n.splice(m,1),n.unshift(_)),_.value}return bw}function i(s,m){r(s)===bw&&(n.unshift({key:s,value:m}),n.length>e&&n.pop())}function c(){return n}function d(){n=[]}return{get:r,put:i,getEntries:c,clear:d}}var hge=function(t,n){return t===n};function fge(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,c=0;c<i;c++)if(!e(n[c],r[c]))return!1;return!0}}function wA(e,t){var n=typeof t=="object"?t:{equalityCheck:t},r=n.equalityCheck,i=r===void 0?hge:r,c=n.maxSize,d=c===void 0?1:c,s=n.resultEqualityCheck,m=fge(i),_=d===1?uge(m):dge(d,m);function w(){var E=_.get(arguments);if(E===bw){if(E=e.apply(null,arguments),s){var k=_.getEntries(),O=k.find(function(R){return s(R.value,E)});O&&(E=O.value)}_.put(arguments,E)}return E}return w.clearCache=function(){return _.clear()},w}function pge(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var n=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function mge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var d=arguments.length,s=new Array(d),m=0;m<d;m++)s[m]=arguments[m];var _=0,w,E={memoizeOptions:void 0},k=s.pop();if(typeof k=="object"&&(E=k,k=s.pop()),typeof k!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof k+"]");var O=E,R=O.memoizeOptions,L=R===void 0?n:R,U=Array.isArray(L)?L:[L],F=pge(s),z=e.apply(void 0,[function(){return _++,k.apply(null,arguments)}].concat(U)),B=e(function(){for(var ee=[],X=F.length,W=0;W<X;W++)ee.push(F[W].apply(null,arguments));return w=z.apply(null,ee),w});return Object.assign(B,{resultFunc:k,memoizedResultFunc:z,dependencies:F,lastResult:function(){return w},recomputations:function(){return _},resetRecomputations:function(){return _=0}}),B};return i}var gge=mge(wA);const yge={cache:new WeakMap};cu(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g `mySelector(state, apiRef.current.instanceId)`."]);function lg(e){return"current"in e&&"instanceId"in e.current}const cg={id:"default"},Cr=(e,t,n,r,i,c,...d)=>{if(d.length>0)throw new Error("Unsupported number of selectors");let s;if(e&&t&&n&&r&&i&&c)s=(m,_)=>{const w=lg(m),E=_??(w?m.current.instanceId:cg),k=w?m.current.state:m,O=e(k,E),R=t(k,E),L=n(k,E),U=r(k,E),F=i(k,E);return c(O,R,L,U,F)};else if(e&&t&&n&&r&&i)s=(m,_)=>{const w=lg(m),E=_??(w?m.current.instanceId:cg),k=w?m.current.state:m,O=e(k,E),R=t(k,E),L=n(k,E),U=r(k,E);return i(O,R,L,U)};else if(e&&t&&n&&r)s=(m,_)=>{const w=lg(m),E=_??(w?m.current.instanceId:cg),k=w?m.current.state:m,O=e(k,E),R=t(k,E),L=n(k,E);return r(O,R,L)};else if(e&&t&&n)s=(m,_)=>{const w=lg(m),E=_??(w?m.current.instanceId:cg),k=w?m.current.state:m,O=e(k,E),R=t(k,E);return n(O,R)};else if(e&&t)s=(m,_)=>{const w=lg(m),E=_??(w?m.current.instanceId:cg),k=w?m.current.state:m,O=e(k,E);return t(O)};else throw new Error("Missing arguments");return s.acceptsApiRef=!0,s},Go=(...e)=>{const t=(...n)=>{var r,i;const[c,d]=n,s=lg(c),m=s?c.current.instanceId:d??cg,_=s?c.current.state:c,{cache:w}=yge;if(w.get(m)&&(r=w.get(m))!=null&&r.get(e)){var E;return(E=w.get(m))==null?void 0:E.get(e)(_,m)}const k=gge(...e);return w.get(m)||w.set(m,new Map),(i=w.get(m))==null||i.set(e,k),k(_,m)};return t.acceptsApiRef=!0,t},py=e=>e.columns,ed=Cr(py,e=>e.orderedFields),Ay=Cr(py,e=>e.lookup),Qc=Go(ed,Ay,(e,t)=>e.map(n=>t[n])),ec=Cr(py,e=>e.columnVisibilityModel),Es=Go(Qc,ec,(e,t)=>e.filter(n=>t[n.field]!==!1)),vS=Go(Es,e=>e.map(t=>t.field)),my=Go(Es,e=>{const t=[];let n=0;for(let r=0;r<e.length;r+=1)t.push(n),n+=e[r].computedWidth;return t}),CA=Cr(Es,my,(e,t)=>{const n=e.length;return n===0?0:t[n-1]+e[n-1].computedWidth}),$U=Go(Qc,e=>e.filter(t=>t.filterable)),vge=Go(Qc,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),cc=e=>e.rows,_S=Cr(cc,e=>e.totalRowCount),_ge=Cr(cc,e=>e.loading),xge=Cr(cc,e=>e.totalTopLevelRowCount),Ph=Cr(cc,e=>e.dataRowIdToModelLookup),ww=Cr(cc,e=>e.dataRowIdToIdLookup),Ql=Cr(cc,e=>e.tree),bge=Cr(cc,e=>e.groupingName),o$=Cr(cc,e=>e.treeDepths),xS=Go(cc,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,r)=>r-n)[0]+1}),Xb=Cr(cc,e=>e.dataRowIds),wge=Cr(cc,e=>e==null?void 0:e.additionalRowGroups),Ry=Go(wge,e=>{var t,n;const r=e==null?void 0:e.pinnedRows;return{bottom:r==null||(t=r.bottom)==null?void 0:t.map(i=>{var c;return{id:i.id,model:(c=i.model)!=null?c:{}}}),top:r==null||(n=r.top)==null?void 0:n.map(i=>{var c;return{id:i.id,model:(c=i.model)!=null?c:{}}})}}),Cge=Cr(Ry,e=>{var t,n;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(n=e.bottom)==null?void 0:n.length)||0)}),BU=e=>e.sorting,SA=Cr(BU,e=>e.sortedRows),TA=Go(SA,Ph,(e,t)=>e.map(n=>{var r;return{id:n,model:(r=t[n])!=null?r:{}}})),il=Cr(BU,e=>e.sortModel),Sge=Go(il,e=>e.reduce((n,r,i)=>(n[r.field]={sortDirection:r.sort,sortIndex:e.length>1?i+1:void 0},n),{})),EA=e=>e.filter,is=Cr(EA,e=>e.filterModel);Cr(is,e=>e.quickFilterValues);const Tge=e=>e.visibleRowsLookup,NU=Cr(EA,e=>e.filteredRowsLookup);Cr(EA,e=>e.filteredDescendantCountLookup);const of=Go(Tge,TA,(e,t)=>t.filter(n=>e[n.id]!==!1)),W0=Go(of,e=>e.map(t=>t.id)),Ege=Go(NU,TA,(e,t)=>t.filter(n=>e[n.id]!==!1)),Pge=Go(Ege,e=>e.map(t=>t.id)),UU=Go(of,Ql,xS,(e,t,n)=>n<2?e:e.filter(r=>{var i;return((i=t[r.id])==null?void 0:i.depth)===0})),VU=Cr(of,e=>e.length),bS=Cr(UU,e=>e.length),kge=Go(is,Ay,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(r=>{var i,c;if(!r.field)return!1;const d=t[r.field];if(!(d!=null&&d.filterOperators)||(d==null||(i=d.filterOperators)==null?void 0:i.length)===0)return!1;const s=d.filterOperators.find(m=>m.value===r.operator);return s?!s.InputComponent||r.value!=null&&((c=r.value)==null?void 0:c.toString())!=="":!1})}),Ige=Go(kge,e=>e.reduce((n,r)=>(n[r.field]?n[r.field].push(r):n[r.field]=[r],n),{})),wS=e=>e.focus,ll=Cr(wS,e=>e.cell),Mge=Cr(wS,e=>e.columnHeader);Cr(wS,e=>e.columnHeaderFilter);const Cw=Cr(wS,e=>e.columnGroupHeader),CS=e=>e.tabIndex,Sw=Cr(CS,e=>e.cell),HU=Cr(CS,e=>e.columnHeader);Cr(CS,e=>e.columnHeaderFilter);const Age=Cr(CS,e=>e.columnGroupHeader),PA=e=>e.density,Rge=Cr(PA,e=>e.value),Oy=Cr(PA,e=>e.factor),SS=e=>e.columnGrouping,Oge=Go(SS,e=>{var t;return(t=e==null?void 0:e.unwrappedGroupingModel)!=null?t:{}}),GU=Go(SS,e=>{var t;return(t=e==null?void 0:e.lookup)!=null?t:{}}),Dge=Go(SS,e=>{var t;return(t=e==null?void 0:e.headerStructure)!=null?t:[]}),sx=Cr(SS,e=>{var t;return(t=e==null?void 0:e.maxDepth)!=null?t:0}),Dk=e=>e.columnMenu;function Lge(e){const{VirtualScrollerComponent:t,ColumnHeadersProps:n,children:r}=e,i=qp(),c=Fn(),d=P.useRef(null),s=In(i,Es),m=In(i,Ige),_=In(i,Sge),w=In(i,my),E=In(i,HU),k=In(i,Sw),O=In(i,Age),R=In(i,Mge),L=In(i,Cw),U=In(i,Oy),F=In(i,sx),z=In(i,Dk),B=In(i,ec),Z=In(i,Dge),ee=!(O===null&&E===null&&k===null),[X,W]=P.useState(c.disableVirtualization);fi(()=>{i.current.computeSizeAndPublishResizeEvent();const ae=d.current;if(typeof ResizeObserver>"u")return()=>{};let oe;const me=new ResizeObserver(()=>{oe=window.requestAnimationFrame(()=>{i.current.computeSizeAndPublishResizeEvent()})});return ae&&me.observe(ae),()=>{oe&&window.cancelAnimationFrame(oe),ae&&me.unobserve(ae)}},[i]);const ne=P.useCallback(()=>{W(!0)},[]),J=P.useCallback(()=>{W(!1)},[]);P.useEffect(()=>{W(c.disableVirtualization)},[c.disableVirtualization]),i.current.unstable_disableVirtualization=ne,i.current.unstable_enableVirtualization=J;const re=P.useRef(null),se=P.useRef(null),de=P.useRef(null);i.current.register("private",{columnHeadersContainerElementRef:se,columnHeadersElementRef:re,virtualScrollerRef:de,mainElementRef:d});const pe=!!i.current.getRootDimensions();return T.jsxs(cge,{ref:d,children:[T.jsx(c.slots.columnHeaders,$({ref:se,innerRef:re,visibleColumns:s,filterColumnLookup:m,sortColumnLookup:_,columnPositions:w,columnHeaderTabIndexState:E,columnGroupHeaderTabIndexState:O,columnHeaderFocus:R,columnGroupHeaderFocus:L,densityFactor:U,headerGroupingMaxDepth:F,columnMenuState:z,columnVisibility:B,columnGroupsHeaderStructure:Z,hasOtherElementInTabSequence:ee},n)),pe&&T.jsx(t,{ref:de,disableVirtualization:X}),r]})}function zge(){var e;const t=Fn();return t.hideFooter?null:T.jsx(t.slots.footer,$({},(e=t.slotProps)==null?void 0:e.footer))}const js="auto-generated-group-node-root",C1=Symbol("mui.id_autogenerated"),Fge=()=>({type:"group",id:js,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function jge(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const Tw=(e,t,n)=>{const r=t?t(e):e.id;return jge(r,e,n),r},S1=({rows:e,getRowId:t,loading:n,rowCount:r})=>{const i={type:"full",rows:[]},c={},d={};for(let s=0;s<e.length;s+=1){const m=e[s],_=Tw(m,t);c[_]=m,d[_]=_,i.rows.push(_)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:r,updates:i,dataRowIdToIdLookup:d,dataRowIdToModelLookup:c}},WU=({tree:e,rowCountProp:t=0})=>{const n=e[js];return Math.max(t,n.children.length+(n.footerId==null?0:1))},qU=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:r,previousTreeDepths:i})=>{const c=e.current.caches.rows,{tree:d,treeDepths:s,dataRowIds:m,groupingName:_}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:i,updates:c.updates,dataRowIdToIdLookup:c.dataRowIdToIdLookup,dataRowIdToModelLookup:c.dataRowIdToModelLookup}),w=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:d,treeDepths:s,dataRowIdToIdLookup:c.dataRowIdToIdLookup,dataRowIds:m,dataRowIdToModelLookup:c.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},$({},w,{totalRowCount:Math.max(t,w.dataRowIds.length),totalTopLevelRowCount:WU({tree:w.tree,rowCountProp:t}),groupingName:_,loading:n})},I_=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,kA=(e,t,n)=>{const r=e[t];if(r.type!=="group")return[];const i=[];for(let c=0;c<r.children.length;c+=1){const d=r.children[c];(!n||!I_(e[d]))&&i.push(d),i.push(...kA(e,d,n))}return!n&&r.footerId!=null&&i.push(r.footerId),i},$ge=({previousCache:e,getRowId:t,updates:n})=>{var r,i,c;if(e.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const d=new Map;n.forEach(k=>{const O=Tw(k,t,"A row was provided without id when calling updateRows():");d.has(O)?d.set(O,$({},d.get(O),k)):d.set(O,k)});const s={type:"partial",actions:{insert:[...(r=e.updates.actions.insert)!=null?r:[]],modify:[...(i=e.updates.actions.modify)!=null?i:[]],remove:[...(c=e.updates.actions.remove)!=null?c:[]]},idToActionLookup:$({},e.updates.idToActionLookup)},m=$({},e.dataRowIdToModelLookup),_=$({},e.dataRowIdToIdLookup),w={insert:{},modify:{},remove:{}};d.forEach((k,O)=>{const R=s.idToActionLookup[O];if(k._action==="delete"){if(R==="remove"||!m[O])return;R!=null&&(w[R][O]=!0),s.actions.remove.push(O),delete m[O],delete _[O];return}const L=m[O];if(L){R==="remove"?(w.remove[O]=!0,s.actions.modify.push(O)):R==null&&s.actions.modify.push(O),m[O]=$({},L,k);return}R==="remove"?(w.remove[O]=!0,s.actions.insert.push(O)):R==null&&s.actions.insert.push(O),m[O]=k,_[O]=O});const E=Object.keys(w);for(let k=0;k<E.length;k+=1){const O=E[k],R=w[O];Object.keys(R).length>0&&(s.actions[O]=s.actions[O].filter(L=>!R[L]))}return{dataRowIdToModelLookup:m,dataRowIdToIdLookup:_,updates:s,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function ZU(e){var t,n;const r=Ry(e),i=(r==null||(t=r.top)==null?void 0:t.reduce((d,s)=>(d+=e.current.unstable_getRowHeight(s.id),d),0))||0,c=(r==null||(n=r.bottom)==null?void 0:n.reduce((d,s)=>(d+=e.current.unstable_getRowHeight(s.id),d),0))||0;return{top:i,bottom:c}}function YU(e,t){const n=Oy(e);return 2*Math.floor(t*n)}const Bge=Gi("div",{name:"MuiDataGrid",slot:"OverlayWrapper",overridesResolver:(e,t)=>t.overlayWrapper})({position:"sticky",top:0,left:0,width:0,height:0,zIndex:4}),Nge=Gi("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),Uge=e=>{const{classes:t}=e;return hn({root:["overlayWrapper"],inner:["overlayWrapperInner"]},$r,t)};function Vge(e){var t,n;const r=jr(),i=Fn(),[c,d]=P.useState(()=>{var w,E;return(w=(E=r.current.getRootDimensions())==null?void 0:E.viewportInnerSize)!=null?w:null}),s=P.useCallback(()=>{var w,E;d((w=(E=r.current.getRootDimensions())==null?void 0:E.viewportInnerSize)!=null?w:null)},[r]);fi(()=>r.current.subscribeEvent("viewportInnerSizeChange",s),[r,s]);let m=(t=c==null?void 0:c.height)!=null?t:0;i.autoHeight&&m===0&&(m=YU(r,i.rowHeight));const _=Uge($({},e,{classes:i.classes}));return c?T.jsx(Bge,{className:$t(_.root),children:T.jsx(Nge,$({className:$t(_.inner),style:{height:m,width:(n=c==null?void 0:c.width)!=null?n:0}},e))}):null}function Hge(){const e=jr(),t=Fn(),n=In(e,_S),r=In(e,VU),i=In(e,_ge),c=!i&&n===0,d=!i&&n>0&&r===0;let s=null;if(c){var m;s=T.jsx(t.slots.noRowsOverlay,$({},(m=t.slotProps)==null?void 0:m.noRowsOverlay))}if(d){var _;s=T.jsx(t.slots.noResultsOverlay,$({},(_=t.slotProps)==null?void 0:_.noResultsOverlay))}if(i){var w;s=T.jsx(t.slots.loadingOverlay,$({},(w=t.slotProps)==null?void 0:w.loadingOverlay))}return s===null?null:T.jsx(Vge,{children:s})}function TS(e){return P.memo(e,jU)}let kE;function Gge(){return kE===void 0&&document.createElement("div").focus({get preventScroll(){return kE=!0,!1}}),kE}var ru=function(e){return e.Cell="cell",e.Row="row",e}(ru||{}),xo=function(e){return e.Edit="edit",e.View="view",e}(xo||{}),Do=function(e){return e.Edit="edit",e.View="view",e}(Do||{}),ra=function(e){return e.And="and",e.Or="or",e}(ra||{}),uh=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(uh||{}),Kl=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(Kl||{}),dh=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(dh||{}),Uu=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(Uu||{});function KU(e){return e.field!==void 0}function Wge(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function qge(e,t){return e.closest(`.${t}`)}function IA(e){return e.replace(/["\\]/g,"\\$&")}function Zge(e,t){return e.querySelector(`[role="columnheader"][data-field="${IA(t)}"]`)}function XU(e){return`.${Ke.row}[data-id="${IA(String(e))}"]`}function Yge(e,t){return e.querySelector(XU(t))}function Kge(e,{id:t,field:n}){const r=XU(t),i=`.${Ke.cell}[data-field="${IA(n)}"]`,c=`${r} ${i}`;return e.querySelector(c)}function Pr(e,t,n){const r=P.useRef(!0);P.useEffect(()=>{r.current=!1,e.current.register(n,t)},[e,n,t]),r.current&&e.current.register(n,t)}class Pg extends Error{}function Xge(e,t){const{getRowId:n}=t,r=P.useCallback(R=>({field:R,colDef:e.current.getColumn(R)}),[e]),i=P.useCallback(R=>{const L=e.current.getRow(R);if(!L)throw new Pg(`No row with id #${R} found`);return{id:R,columns:e.current.getAllColumns(),row:L}},[e]),c=P.useCallback((R,L)=>{const U=e.current.getRow(R),F=e.current.getRowNode(R);if(!U||!F)throw new Pg(`No row with id #${R} found`);const z=ll(e),B=Sw(e);return{id:R,field:L,row:U,rowNode:F,value:U[L],colDef:e.current.getColumn(L),cellMode:e.current.getCellMode(R,L),api:e.current,hasFocus:z!==null&&z.field===L&&z.id===R,tabIndex:B&&B.field===L&&B.id===R?0:-1}},[e]),d=P.useCallback((R,L)=>{const U=e.current.getColumn(L),F=e.current.getCellValue(R,L),z=e.current.getRow(R),B=e.current.getRowNode(R);if(!z||!B)throw new Pg(`No row with id #${R} found`);const Z=ll(e),ee=Sw(e),X={id:R,field:L,row:z,rowNode:B,colDef:U,cellMode:e.current.getCellMode(R,L),hasFocus:Z!==null&&Z.field===L&&Z.id===R,tabIndex:ee&&ee.field===L&&ee.id===R?0:-1,value:F,formattedValue:F,isEditable:!1};return U&&U.valueFormatter&&(X.formattedValue=U.valueFormatter({id:R,field:X.field,value:X.value,api:e.current})),X.isEditable=U&&e.current.isCellEditable(X),X},[e]),s=P.useCallback((R,L)=>{const U=e.current.getColumn(L);if(!U||!U.valueGetter){const F=e.current.getRow(R);if(!F)throw new Pg(`No row with id #${R} found`);return F[L]}return U.valueGetter(c(R,L))},[e,c]),m=P.useCallback((R,L)=>{var U;const F=C1 in R?R[C1]:(U=n==null?void 0:n(R))!=null?U:R.id,z=L.field;return!L||!L.valueGetter?R[z]:L.valueGetter(c(F,z))},[c,n]),_=P.useCallback((R,L)=>{var U;const F=m(R,L);if(!L||!L.valueFormatter)return F;const z=(U=n?n(R):R.id)!=null?U:R[C1],B=L.field;return L.valueFormatter({id:z,field:B,value:F,api:e.current})},[e,n,m]),w=P.useCallback(R=>e.current.rootElementRef.current?Zge(e.current.rootElementRef.current,R):null,[e]),E=P.useCallback(R=>e.current.rootElementRef.current?Yge(e.current.rootElementRef.current,R):null,[e]),k=P.useCallback((R,L)=>e.current.rootElementRef.current?Kge(e.current.rootElementRef.current,{id:R,field:L}):null,[e]);Pr(e,{getCellValue:s,getCellParams:d,getCellElement:k,getRowValue:m,getRowFormattedValue:_,getRowParams:i,getRowElement:E,getColumnHeaderParams:r,getColumnHeaderElement:w},"public")}const Jge=["changeReason","unstable_updateValueOnRender"],Qge=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],eye=["changeReason","unstable_updateValueOnRender"],Ew={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:xo.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},tye=e=>{const{align:t,showRightBorder:n,isEditable:r,isSelected:i,classes:c}=e,d={root:["cell",`cell--text${xt(t)}`,r&&"cell--editable",i&&"selected",n&&"cell--withRightBorder","withBorderColor"],content:["cellContent"]};return hn(d,$r,c)},nye=P.forwardRef((e,t)=>{const{column:n,rowId:r,editCellState:i}=e,c=jr(),d=Fn(),s=n.field,m=In(c,()=>{try{const J=c.current.getCellParams(r,s);return J.api=c.current,J}catch(ne){if(ne instanceof Pg)return Ew;throw ne}},bA),_=In(c,()=>c.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:r,field:s}));if(m===Ew)return null;const{cellMode:w,hasFocus:E,isEditable:k,value:O,formattedValue:R}=m,L=n.type==="actions",U=(w==="view"||!k)&&!L?m.tabIndex:-1,{classes:F,getCellClassName:z}=d,B=c.current.unstable_applyPipeProcessors("cellClassName",[],{id:r,field:s});n.cellClassName&&B.push(typeof n.cellClassName=="function"?n.cellClassName(m):n.cellClassName),z&&B.push(z(m));let Z;if(i==null&&n.renderCell&&(Z=n.renderCell(m),B.push(Ke["cell--withRenderer"]),B.push(F==null?void 0:F["cell--withRenderer"])),i!=null&&n.renderEditCell){const ne=c.current.getRowWithUpdatedValues(r,n.field),J=mt(i,Jge),re=$({},m,{row:ne},J);Z=n.renderEditCell(re),B.push(Ke["cell--editing"]),B.push(F==null?void 0:F["cell--editing"])}const{slots:ee}=d,X=ee.cell,W=$({},e,{ref:t,field:s,formattedValue:R,hasFocus:E,isEditable:k,isSelected:_,value:O,cellMode:w,children:Z,tabIndex:U,className:$t(B)});return P.createElement(X,W)}),rye=TS(nye),oye=P.forwardRef((e,t)=>{const{column:n,rowId:r,editCellState:i,align:c,colIndex:d,height:s,width:m,className:_,showRightBorder:w,colSpan:E,disableDragEvents:k,onClick:O,onDoubleClick:R,onMouseDown:L,onMouseUp:U,onMouseOver:F,onKeyDown:z,onKeyUp:B,onDragEnter:Z,onDragOver:ee}=e,X=mt(e,Qge),W=jr(),ne=Fn(),J=n.field,re=In(W,()=>{try{const Ct=W.current.getCellParams(r,J);return Ct.api=W.current,Ct}catch(st){if(st instanceof Pg)return Ew;throw st}},bA),se=In(W,()=>W.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:r,field:J})),{cellMode:de,hasFocus:pe,isEditable:ae,value:oe,formattedValue:me}=re,xe=n.type==="actions",ce=(de==="view"||!ae)&&!xe?re.tabIndex:-1,{classes:ge,getCellClassName:Te}=ne,Ue=W.current.unstable_applyPipeProcessors("cellClassName",[],{id:r,field:J});n.cellClassName&&Ue.push(typeof n.cellClassName=="function"?n.cellClassName(re):n.cellClassName),Te&&Ue.push(Te(re));const We=me??oe,Ye=P.useRef(null),gt=fo(t,Ye),vt=P.useRef(null),jt={align:c,showRightBorder:w,isEditable:ae,classes:ne.classes,isSelected:se},Rt=tye(jt),pn=P.useCallback(st=>Ct=>{const ht=W.current.getCellParams(r,J||"");W.current.publishEvent(st,ht,Ct),U&&U(Ct)},[W,J,U,r]),Ut=P.useCallback(st=>Ct=>{const ht=W.current.getCellParams(r,J||"");W.current.publishEvent(st,ht,Ct),L&&L(Ct)},[W,J,L,r]),rn=P.useCallback((st,Ct)=>ht=>{if(!W.current.getRow(r))return;const en=W.current.getCellParams(r,J||"");W.current.publishEvent(st,en,ht),Ct&&Ct(ht)},[W,J,r]),et={minWidth:m,maxWidth:m,minHeight:s,maxHeight:s==="auto"?"none":s};if(P.useEffect(()=>{if(!pe||de===xo.Edit)return;const st=wi(W.current.rootElementRef.current);if(Ye.current&&!Ye.current.contains(st.activeElement)){const Ct=Ye.current.querySelector('[tabindex="0"]'),ht=vt.current||Ct||Ye.current;if(Gge())ht.focus({preventScroll:!0});else{const en=W.current.getScrollPosition();ht.focus(),W.current.scroll(en)}}},[pe,de,W]),re===Ew)return null;let Pt=X.onFocus,Ot;if(i==null&&n.renderCell&&(Ot=n.renderCell(re),Ue.push(Ke["cell--withRenderer"]),Ue.push(ge==null?void 0:ge["cell--withRenderer"])),i!=null&&n.renderEditCell){const st=W.current.getRowWithUpdatedValues(r,n.field),Ct=mt(i,eye),ht=$({},re,{row:st},Ct);Ot=n.renderEditCell(ht),Ue.push(Ke["cell--editing"]),Ue.push(ge==null?void 0:ge["cell--editing"])}if(Ot===void 0){const st=We==null?void 0:We.toString();Ot=T.jsx("div",{className:Rt.content,title:st,children:st})}P.isValidElement(Ot)&&xe&&(Ot=P.cloneElement(Ot,{focusElementRef:vt}));const Yt=k?null:{onDragEnter:rn("cellDragEnter",Z),onDragOver:rn("cellDragOver",ee)};return T.jsx("div",$({ref:gt,className:$t(_,Ue,Rt.root),role:"cell","data-field":J,"data-colindex":d,"aria-colindex":d+1,"aria-colspan":E,style:et,tabIndex:ce,onClick:rn("cellClick",O),onDoubleClick:rn("cellDoubleClick",R),onMouseOver:rn("cellMouseOver",F),onMouseDown:Ut("cellMouseDown"),onMouseUp:pn("cellMouseUp"),onKeyDown:rn("cellKeyDown",z),onKeyUp:rn("cellKeyUp",B)},Yt,X,{onFocus:Pt,children:Ot}))}),Lk=TS(oye),iye=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],sye=e=>{const{classes:t}=e;return hn({root:["booleanCell"]},$r,t)};function aye(e){const{value:t}=e,n=mt(e,iye),r=jr(),i=Fn(),c={classes:i.classes},d=sye(c),s=P.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return T.jsx(s,$({fontSize:"small",className:d.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},n))}const lye=P.memo(aye),cye=e=>I_(e.rowNode)?"":T.jsx(lye,$({},e)),uye=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],dye=e=>{const{classes:t}=e;return hn({root:["editBooleanCell"]},$r,t)};function hye(e){var t;const{id:n,value:r,field:i,className:c,hasFocus:d,onValueChange:s}=e,m=mt(e,uye),_=jr(),w=P.useRef(null),E=Ao(),[k,O]=P.useState(r),R=Fn(),L={classes:R.classes},U=dye(L),F=P.useCallback(async z=>{const B=z.target.checked;s&&await s(z,B),O(B),await _.current.setEditCellValue({id:n,field:i,value:B},z)},[_,i,n,s]);return P.useEffect(()=>{O(r)},[r]),fi(()=>{d&&w.current.focus()},[d]),T.jsx("label",$({htmlFor:E,className:$t(U.root,c)},m,{children:T.jsx(R.slots.baseCheckbox,$({id:E,inputRef:w,checked:!!k,onChange:F,size:"small"},(t=R.slotProps)==null?void 0:t.baseCheckbox))}))}const fye=e=>T.jsx(hye,$({},e)),pye=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],mye=Et(au)({fontSize:"inherit"}),gye=e=>{const{classes:t}=e;return hn({root:["editInputCell"]},$r,t)};function yye(e){const{id:t,value:n,field:r,colDef:i,hasFocus:c,inputProps:d,onValueChange:s}=e,m=mt(e,pye),_=i.type==="dateTime",w=jr(),E=P.useRef(),k=P.useMemo(()=>{let W;n==null?W=null:n instanceof Date?W=n:W=new Date((n??"").toString());let ne;return W==null||Number.isNaN(W.getTime())?ne="":ne=new Date(W.getTime()-W.getTimezoneOffset()*60*1e3).toISOString().substr(0,_?16:10),{parsed:W,formatted:ne}},[n,_]),[O,R]=P.useState(k),U={classes:Fn().classes},F=gye(U),z=P.useRef(!1),B=P.useCallback(W=>{if(W==="")return null;const[ne,J]=W.split("T"),[re,se,de]=ne.split("-"),pe=new Date;if(pe.setFullYear(Number(re),Number(se)-1,Number(de)),pe.setHours(0,0,0,0),J){const[ae,oe]=J.split(":");pe.setHours(Number(ae),Number(oe),0,0)}return pe},[]),Z=P.useCallback(async W=>{const ne=W.target.value,J=B(ne);s&&await s(W,J),R({parsed:J,formatted:ne}),w.current.setEditCellValue({id:t,field:r,value:J},W)},[w,r,t,s,B]);P.useEffect(()=>{R(W=>{var ne,J;return k.parsed!==W.parsed&&((ne=k.parsed)==null?void 0:ne.getTime())!==((J=W.parsed)==null?void 0:J.getTime())?k:W})},[k]),fi(()=>{c&&E.current.focus()},[c]);const ee=w.current.unstable_getEditCellMeta(t,r),X=W=>{if(E.current=W,ee!=null&&ee.unstable_updateValueOnRender&&!z.current){const ne=E.current.value,J=B(ne);R({parsed:J,formatted:ne}),w.current.setEditCellValue({id:t,field:r,value:J}),z.current=!0}};return T.jsx(mye,$({inputRef:X,fullWidth:!0,className:F.root,type:_?"datetime-local":"date",inputProps:$({max:_?"9999-12-31T23:59":"9999-12-31"},d),value:O.formatted,onChange:Z},m))}const JU=e=>T.jsx(yye,$({},e)),vye=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],_ye=e=>{const{classes:t}=e;return hn({root:["editInputCell"]},$r,t)},xye=Et(au,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>$({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),bye=P.forwardRef((e,t)=>{const n=Fn(),{id:r,value:i,field:c,colDef:d,hasFocus:s,debounceMs:m=200,isProcessingProps:_,onValueChange:w}=e,E=mt(e,vye),k=jr(),O=P.useRef(),[R,L]=P.useState(i),U=_ye(n),F=P.useCallback(async B=>{const Z=B.target.value;w&&await w(B,Z);const ee=k.current.getColumn(c);let X=Z;ee.valueParser&&(X=ee.valueParser(Z,k.current.getCellParams(r,c))),L(X),k.current.setEditCellValue({id:r,field:c,value:X,debounceMs:m,unstable_skipValueParser:!0},B)},[k,m,c,r,w]),z=k.current.unstable_getEditCellMeta(r,c);return P.useEffect(()=>{(z==null?void 0:z.changeReason)!=="debouncedSetEditCellValue"&&L(i)},[z,i]),fi(()=>{s&&O.current.focus()},[s]),T.jsx(xye,$({ref:t,inputRef:O,className:U.root,ownerState:n,fullWidth:!0,type:d.type==="number"?d.type:"text",value:R??"",onChange:F,endAdornment:_?T.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},E))}),wye=e=>T.jsx(bye,$({},e)),Pw=e=>e==="Escape",Cye=e=>e==="Enter",QU=e=>e==="Tab",eV=e=>e===" ",Sye=e=>e.indexOf("Arrow")===0,Tye=e=>e==="Home"||e==="End",Eye=e=>e.indexOf("Page")===0;function tV(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const kw=e=>Tye(e)||Sye(e)||Eye(e)||eV(e),Pye=e=>!!e.key,kye=e=>QU(e)||Pw(e);function bp(e){return(e==null?void 0:e.type)==="singleSelect"}function zk(e,t,n){if(t===void 0)return;const r=t.find(i=>{const c=n(i);return String(c)===String(e)});return n(r)}const Iye=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],Mye=["MenuProps"];function Aye(e){return!!e.key}function Rye(e){var t,n,r;const i=Fn(),{id:c,value:d,field:s,row:m,colDef:_,hasFocus:w,error:E,onValueChange:k,initialOpen:O=i.editMode===ru.Cell,getOptionLabel:R,getOptionValue:L}=e,U=mt(e,Iye),F=jr(),z=P.useRef(),B=P.useRef(),[Z,ee]=P.useState(O),W=(n=(((t=i.slotProps)==null?void 0:t.baseSelect)||{}).native)!=null?n:!1,ne=((r=i.slotProps)==null?void 0:r.baseSelect)||{},{MenuProps:J}=ne,re=mt(ne,Mye);if(fi(()=>{if(w){var xe;(xe=B.current)==null||xe.focus()}},[w]),!bp(_))return null;let se;if(typeof(_==null?void 0:_.valueOptions)=="function"?se=_==null?void 0:_.valueOptions({id:c,row:m,field:s}):se=_==null?void 0:_.valueOptions,!se)return null;const de=L||_.getOptionValue,pe=R||_.getOptionLabel,ae=async xe=>{if(!bp(_)||!se)return;ee(!1);const ce=xe.target,ge=zk(ce.value,se,de);k&&await k(xe,ge),await F.current.setEditCellValue({id:c,field:s,value:ge},xe)},oe=(xe,ce)=>{if(i.editMode===ru.Row){ee(!1);return}if(ce==="backdropClick"||Pw(xe.key)){const ge=F.current.getCellParams(c,s);F.current.publishEvent("cellEditStop",$({},ge,{reason:Pw(xe.key)?Kl.escapeKeyDown:Kl.cellFocusOut}))}},me=xe=>{Aye(xe)&&xe.key==="Enter"||ee(!0)};return!se||!_?null:T.jsx(i.slots.baseSelect,$({ref:z,inputRef:B,value:d,onChange:ae,open:Z,onOpen:me,MenuProps:$({onClose:oe},J),error:E,native:W,fullWidth:!0},U,re,{children:se.map(xe=>{var ce;const ge=de(xe);return P.createElement(i.slots.baseSelectOption,$({},((ce=i.slotProps)==null?void 0:ce.baseSelectOption)||{},{native:W,key:ge,value:ge}),pe(xe))})}))}const Oye=e=>T.jsx(Rye,$({},e)),Dye=["open","target","onClickAway","children","position","className","onExited"],Lye=e=>{const{classes:t}=e;return hn({root:["menu"]},$r,t)},zye=Et(Np,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${Ke.menuList}`]:{outline:0}})),Fye={"bottom-start":"top left","bottom-end":"top right"};function nV(e){var t;const{open:n,target:r,onClickAway:i,children:c,position:d,className:s,onExited:m}=e,_=mt(e,Dye),w=jr(),E=Fn(),k=Lye(E);P.useEffect(()=>{const R=n?"menuOpen":"menuClose";w.current.publishEvent(R,{target:r})},[w,n,r]);const O=R=>L=>{R&&R(),m&&m(L)};return T.jsx(zye,$({as:E.slots.basePopper,className:$t(s,k.root),ownerState:E,open:n,anchorEl:r,transition:!0,placement:d},_,(t=E.slotProps)==null?void 0:t.basePopper,{children:({TransitionProps:R,placement:L})=>T.jsx(GN,{onClickAway:i,mouseEvent:"onMouseDown",children:T.jsx(pw,$({},R,{style:{transformOrigin:Fye[L]},onExited:O(R==null?void 0:R.onExited),children:T.jsx(pi,{children:c})}))})}))}const jye=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],$ye=e=>typeof e.getActions=="function";function Bye(e){var t;const{colDef:n,id:r,hasFocus:i,tabIndex:c,position:d="bottom-end",focusElementRef:s}=e,m=mt(e,jye),[_,w]=P.useState(-1),[E,k]=P.useState(!1),O=jr(),R=P.useRef(null),L=P.useRef(null),U=P.useRef(!1),F=P.useRef({}),z=Cl(),B=Ao(),Z=Ao(),ee=Fn();if(!$ye(n))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const X=n.getActions(O.current.getRowParams(r)),W=X.filter(me=>!me.props.showInMenu),ne=X.filter(me=>me.props.showInMenu),J=W.length+(ne.length?1:0);P.useLayoutEffect(()=>{i||Object.entries(F.current).forEach(([me,xe])=>{xe==null||xe.stop({},()=>{delete F.current[me]})})},[i]),P.useEffect(()=>{if(_<0||!R.current||_>=R.current.children.length)return;R.current.children[_].focus({preventScroll:!0})},[_]),P.useEffect(()=>{i||(w(-1),U.current=!1)},[i]),P.useImperativeHandle(s,()=>({focus(){U.current||w(0)}}),[]),P.useEffect(()=>{_>=J&&w(J-1)},[_,J]);const re=()=>{k(!0),w(J-1),U.current=!0},se=()=>{k(!1)},de=me=>xe=>{F.current[me]=xe},pe=(me,xe)=>ce=>{w(me),U.current=!0,xe&&xe(ce)},ae=me=>{if(J<=1)return;let xe=_;me.key==="ArrowRight"?z.direction==="rtl"?xe-=1:xe+=1:me.key==="ArrowLeft"&&(z.direction==="rtl"?xe+=1:xe-=1),!(xe<0||xe>=J)&&xe!==_&&(me.preventDefault(),me.stopPropagation(),w(xe))},oe=me=>{me.key==="Tab"&&me.preventDefault(),["Tab","Enter","Escape"].includes(me.key)&&se()};return T.jsxs("div",$({role:"menu",ref:R,tabIndex:-1,className:Ke.actionsCell,onKeyDown:ae},m,{children:[W.map((me,xe)=>P.cloneElement(me,{key:xe,touchRippleRef:de(xe),onClick:pe(xe,me.props.onClick),tabIndex:_===xe?c:-1})),ne.length>0&&Z&&T.jsx(ee.slots.baseIconButton,$({ref:L,id:Z,"aria-label":O.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":E,"aria-controls":E?B:void 0,role:"menuitem",size:"small",onClick:re,touchRippleRef:de(Z),tabIndex:_===W.length?c:-1},(t=ee.slotProps)==null?void 0:t.baseIconButton,{children:T.jsx(ee.slots.moreActionsIcon,{fontSize:"small"})})),ne.length>0&&T.jsx(nV,{onClickAway:se,onClick:se,open:E,target:L.current,position:d,children:T.jsx(eA,{id:B,className:Ke.menuList,onKeyDown:oe,"aria-labelledby":Z,variant:"menu",autoFocusItem:!0,children:ne.map((me,xe)=>P.cloneElement(me,{key:xe}))})})]}))}const Nye=e=>T.jsx(Bye,$({},e)),Uye=["field","align","width","contentWidth"],Vye=e=>{const{align:t,classes:n}=e,r={root:["cell","cellSkeleton",`cell--text${xt(t)}`,"withBorderColor"]};return hn(r,$r,n)};function Hye(e){const{align:t,width:n,contentWidth:r}=e,i=mt(e,Uye),d={classes:Fn().classes,align:t},s=Vye(d);return T.jsx("div",$({className:s.root,style:{width:n}},i,{children:T.jsx(uae,{width:`${r}%`})}))}function Gye(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Q_(dr(e.palette.divider,1),.88):J_(dr(e.palette.divider,1),.68)}const i$={[`.${Ke.columnSeparator}, .${Ke["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},s$={[`& .${Ke.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${Ke.menuIcon}`]:{width:"auto",visibility:"visible"}},Wye=Et("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${Ke.autoHeight}`]:t.autoHeight},{[`&.${Ke.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${Ke["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${Ke["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${Ke["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${Ke.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${Ke["root--disableUserSelection"]} .${Ke.cell}`]:t["root--disableUserSelection"]},{[`& .${Ke.editBooleanCell}`]:t.editBooleanCell},{[`& .${Ke["cell--editing"]}`]:t["cell--editing"]},{[`& .${Ke["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${Ke["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${Ke["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${Ke["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${Ke.cell}`]:t.cell},{[`& .${Ke["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${Ke["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${Ke["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${Ke["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${Ke["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${Ke.cellContent}`]:t.cellContent},{[`& .${Ke.cellCheckbox}`]:t.cellCheckbox},{[`& .${Ke.cellSkeleton}`]:t.cellSkeleton},{[`& .${Ke.checkboxInput}`]:t.checkboxInput},{[`& .${Ke["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${Ke["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${Ke["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${Ke["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${Ke["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${Ke["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${Ke["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${Ke["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${Ke["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${Ke.columnHeader}`]:t.columnHeader},{[`& .${Ke.headerFilterRow}`]:t.headerFilterRow},{[`& .${Ke.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${Ke.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${Ke.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${Ke["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${Ke["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${Ke.columnSeparator}`]:t.columnSeparator},{[`& .${Ke.filterIcon}`]:t.filterIcon},{[`& .${Ke.iconSeparator}`]:t.iconSeparator},{[`& .${Ke.menuIcon}`]:t.menuIcon},{[`& .${Ke.menuIconButton}`]:t.menuIconButton},{[`& .${Ke.menuOpen}`]:t.menuOpen},{[`& .${Ke.menuList}`]:t.menuList},{[`& .${Ke["row--editable"]}`]:t["row--editable"]},{[`& .${Ke["row--editing"]}`]:t["row--editing"]},{[`& .${Ke["row--dragging"]}`]:t["row--dragging"]},{[`& .${Ke.row}`]:t.row},{[`& .${Ke.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${Ke.rowReorderCell}`]:t.rowReorderCell},{[`& .${Ke["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${Ke.sortIcon}`]:t.sortIcon},{[`& .${Ke.withBorderColor}`]:t.withBorderColor},{[`& .${Ke.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${Ke.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${Ke.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${Ke["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=Gye(e),n=e.shape.borderRadius;return $({"--unstable_DataGrid-radius":typeof n=="number"?`${n}px`:n,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:dr(e.palette.background.default,e.palette.action.disabledOpacity),flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:t,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[`&.${Ke.autoHeight}`]:{height:"auto",[`& .${Ke["row--lastVisible"]} .${Ke.cell}`]:{borderBottomColor:"transparent"}},[`& .${Ke["virtualScrollerContent--overflowed"]} .${Ke["row--lastVisible"]} .${Ke.cell}`]:{borderBottomColor:"transparent"},[`& .${Ke.columnHeader}, & .${Ke.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${Ke.columnHeader}:focus-within, & .${Ke.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:dr(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${Ke.columnHeader}:focus, & .${Ke.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${Ke.columnHeaderCheckbox}, & .${Ke.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${Ke.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${Ke["columnHeader--sorted"]} .${Ke.iconButtonContainer}, & .${Ke["columnHeader--filtered"]} .${Ke.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${Ke.columnHeader}:not(.${Ke["columnHeader--sorted"]}) .${Ke.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${Ke.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${Ke.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${Ke["columnHeader--filledGroup"]} .${Ke.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${Ke["columnHeader--filledGroup"]}.${Ke["columnHeader--showColumnBorder"]} .${Ke.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${Ke["columnHeader--filledGroup"]}.${Ke["columnHeader--showColumnBorder"]}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${Ke.headerFilterRow}`]:{borderTop:`1px solid ${t}`},[`& .${Ke.sortIcon}, & .${Ke.filterIcon}`]:{fontSize:"inherit"},[`& .${Ke["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${Ke["columnHeader--alignCenter"]} .${Ke.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${Ke["columnHeader--alignRight"]} .${Ke.columnHeaderDraggableContainer}, & .${Ke["columnHeader--alignRight"]} .${Ke.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${Ke["columnHeader--alignCenter"]} .${Ke.menuIcon}, & .${Ke["columnHeader--alignRight"]} .${Ke.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${Ke["columnHeader--alignRight"]} .${Ke.menuIcon}, & .${Ke["columnHeader--alignRight"]} .${Ke.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${Ke["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${Ke.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},"@media (hover: hover)":{[`& .${Ke.columnHeaders}:hover`]:i$,[`& .${Ke.columnHeader}:hover`]:s$,[`& .${Ke.columnHeader}:not(.${Ke["columnHeader--sorted"]}):hover .${Ke.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${Ke.columnHeaders}`]:i$,[`& .${Ke.columnHeader}`]:s$},[`& .${Ke["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${Ke["columnSeparator--sideRight"]}`]:{right:-12},[`& .${Ke["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(e.vars||e).palette.text.primary,"@media (hover: none)":{color:t}},[`&.${Ke["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${Ke.iconSeparator}`]:{color:"inherit"},[`& .${Ke.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${Ke.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${Ke.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity+e.palette.action.hoverOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${Ke.cell}`]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity+e.palette.action.hoverOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:dr(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`&.${Ke["root--disableUserSelection"]} .${Ke.cell}`]:{userSelect:"none"},[`& .${Ke.row}:not(.${Ke["row--dynamicHeight"]}) > .${Ke.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${Ke.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${Ke.cell}.${Ke["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`solid ${(e.vars||e).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${Ke["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${Ke["row--editing"]} .${Ke.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${Ke.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${Ke.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${Ke.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${Ke.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${Ke.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${Ke["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${Ke.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`.${Ke.withBorderColor}`]:{borderColor:t},[`& .${Ke["cell--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${Ke["columnHeader--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${Ke["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${Ke["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${Ke["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${Ke.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${Ke.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${Ke["columnHeader--dragging"]}, & .${Ke["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${Ke["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${Ke.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${Ke.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${Ke.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${Ke.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${Ke.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),qye=["children","className"],Zye=e=>{const{autoHeight:t,density:n,classes:r}=e,i={root:["root",t&&"autoHeight",`root--density${xt(n)}`,"withBorderColor"]};return hn(i,$r,r)},Yye=P.forwardRef(function(t,n){const r=Fn(),{children:i,className:c}=t,d=mt(t,qye),s=qp(),m=In(s,Es),_=In(s,_S),w=In(s,Rge),E=In(s,sx),k=P.useRef(null),O=fo(k,n),R=In(s,Cge),L=$({},r,{density:w}),U=Zye(L);s.current.register("public",{rootElementRef:k});const[F,z]=P.useState(!1);return fi(()=>{z(!0)},[]),F?T.jsx(Wye,$({ref:O,className:$t(c,U.root),ownerState:L,role:"grid","aria-colcount":m.length,"aria-rowcount":E+1+R+_,"aria-multiselectable":!r.disableMultipleRowSelection},d,{children:i})):null}),Kye=["className"],Xye=e=>{const{classes:t}=e;return hn({root:["footerContainer","withBorderColor"]},$r,t)},Jye=Gi("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),Qye=P.forwardRef(function(t,n){const{className:r}=t,i=mt(t,Kye),c=Fn(),d=Xye(c);return T.jsx(Jye,$({ref:n,className:$t(d.root,r),ownerState:c},i))}),eve=["className"],tve=e=>{const{classes:t}=e;return hn({root:["overlay"]},$r,t)},nve=Gi("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),MA=P.forwardRef(function(t,n){const{className:r}=t,i=mt(t,eve),c=Fn(),d=tve(c);return T.jsx(nve,$({ref:n,className:$t(d.root,r),ownerState:c},i))}),rve=["className"],ove=e=>{const{classes:t}=e;return hn({root:["iconButtonContainer"]},$r,t)},ive=Gi("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),rV=P.forwardRef(function(t,n){const{className:r}=t,i=mt(t,rve),c=Fn(),d=ove(c);return T.jsx(ive,$({ref:n,className:$t(d.root,r),ownerState:c},i))}),sve=e=>{const{classes:t}=e;return hn({icon:["sortIcon"]},$r,t)};function ave(e,t,n,r){let i;const c={};return t==="asc"?i=e.columnSortedAscendingIcon:t==="desc"?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,c.sortingOrder=r),i?T.jsx(i,$({fontSize:"small",className:n},c)):null}function lve(e){var t;const{direction:n,index:r,sortingOrder:i}=e,c=jr(),d=Fn(),s=$({},e,{classes:d.classes}),m=sve(s),_=ave(d.slots,n,m.icon,i);if(!_)return null;const w=T.jsx(d.slots.baseIconButton,$({tabIndex:-1,"aria-label":c.current.getLocaleText("columnHeaderSortIconLabel"),title:c.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(t=d.slotProps)==null?void 0:t.baseIconButton,{children:_}));return T.jsxs(rV,{children:[r!=null&&T.jsx(u4,{badgeContent:r,color:"default",children:w}),r==null&&w]})}const cve=P.memo(lve),uve=e=>{const{classes:t,open:n}=e;return hn({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},$r,t)},dve=P.memo(e=>{var t,n;const{colDef:r,open:i,columnMenuId:c,columnMenuButtonId:d,iconButtonRef:s}=e,m=jr(),_=Fn(),w=$({},e,{classes:_.classes}),E=uve(w),k=P.useCallback(O=>{O.preventDefault(),O.stopPropagation(),m.current.toggleColumnMenu(r.field)},[m,r.field]);return T.jsx("div",{className:E.root,children:T.jsx(_.slots.baseTooltip,$({title:m.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(t=_.slotProps)==null?void 0:t.baseTooltip,{children:T.jsx(_.slots.baseIconButton,$({ref:s,tabIndex:-1,className:E.button,"aria-label":m.current.getLocaleText("columnMenuLabel"),size:"small",onClick:k,"aria-haspopup":"menu","aria-expanded":i,"aria-controls":i?c:void 0,id:d},(n=_.slotProps)==null?void 0:n.baseIconButton,{children:T.jsx(_.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function hve({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:i,open:c,target:d,onExited:s}){const m=jr(),_=m.current.getColumn(i),w=P.useCallback(E=>{E.stopPropagation(),d!=null&&d.contains(E.target)||m.current.hideColumnMenu()},[m,d]);return!d||!_?null:T.jsx(nV,{placement:`bottom-${_.align==="right"?"start":"end"}`,open:c,target:d,onClickAway:w,onExited:s,children:T.jsx(n,$({colDef:_,hideMenu:w,open:c,id:e,labelledby:t},r))})}const fve=["className"],pve=e=>{const{classes:t}=e;return hn({root:["columnHeaderTitle"]},$r,t)},mve=Gi("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),gve=P.forwardRef(function(t,n){const{className:r}=t,i=mt(t,fve),c=Fn(),d=pve(c);return T.jsx(mve,$({ref:n,className:$t(d.root,r),ownerState:c},i))});function yve(e){var t;const{label:n,description:r}=e,i=Fn(),c=P.useRef(null),[d,s]=P.useState(""),m=P.useCallback(()=>{if(!r&&c!=null&&c.current){const _=Wge(c.current);s(_?n:"")}},[r,n]);return T.jsx(i.slots.baseTooltip,$({title:r||d},(t=i.slotProps)==null?void 0:t.baseTooltip,{children:T.jsx(gve,{onMouseOver:m,ref:c,children:n})}))}const vve=["resizable","resizing","height","side"];var oV=function(e){return e.Left="left",e.Right="right",e}(oV||{});const _ve=e=>{const{resizable:t,resizing:n,classes:r,side:i}=e,c={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",i&&`columnSeparator--side${xt(i)}`],icon:["iconSeparator"]};return hn(c,$r,r)};function xve(e){const{height:t,side:n=oV.Right}=e,r=mt(e,vve),i=Fn(),c=$({},e,{side:n,classes:i.classes}),d=_ve(c),s=P.useCallback(m=>{m.preventDefault(),m.stopPropagation()},[]);return T.jsx("div",$({className:d.root,style:{minHeight:t,opacity:i.showColumnVerticalBorder?0:1}},r,{onClick:s,children:T.jsx(i.slots.columnResizeIcon,{className:d.icon})}))}const bve=P.memo(xve),wve=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],iV=P.forwardRef(function(t,n){const{classes:r,columnMenuOpen:i,colIndex:c,height:d,isResizing:s,sortDirection:m,hasFocus:_,tabIndex:w,separatorSide:E,isDraggable:k,headerComponent:O,description:R,width:L,columnMenuIconButton:U=null,columnMenu:F=null,columnTitleIconButtons:z=null,headerClassName:B,label:Z,resizable:ee,draggableContainerProps:X,columnHeaderSeparatorProps:W}=t,ne=mt(t,wve),J=qp(),re=Fn(),se=P.useRef(null),[de,pe]=P.useState(i),ae=fo(se,n);let oe="none";return m!=null&&(oe=m==="asc"?"ascending":"descending"),P.useEffect(()=>{de||pe(i)},[de,i]),P.useLayoutEffect(()=>{const me=J.current.state.columnMenu;if(_&&!me.open){const ce=se.current.querySelector('[tabindex="0"]')||se.current;ce==null||ce.focus(),J.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[J,_]),T.jsxs("div",$({ref:ae,className:$t(r.root,B),style:{height:d,width:L,minWidth:L,maxWidth:L},role:"columnheader",tabIndex:w,"aria-colindex":c+1,"aria-sort":oe,"aria-label":O==null?Z:void 0},ne,{children:[T.jsxs("div",$({className:r.draggableContainer,draggable:k},X,{children:[T.jsxs("div",{className:r.titleContainer,children:[T.jsx("div",{className:r.titleContainerContent,children:O!==void 0?O:T.jsx(yve,{label:Z,description:R,columnWidth:L})}),z]}),U]})),T.jsx(bve,$({resizable:!re.disableColumnResize&&!!ee,resizing:s,height:d,side:E},W)),F]}))}),Cve=e=>{const{colDef:t,classes:n,isDragging:r,sortDirection:i,showRightBorder:c,filterItemsCounter:d}=e,s=i!=null,m=d!=null&&d>0,_=t.type==="number",w={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",s&&"columnHeader--sorted",m&&"columnHeader--filtered",_&&"columnHeader--numeric","withBorderColor",c&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return hn(w,$r,n)};function Sve(e){var t,n,r,i;const{colDef:c,columnMenuOpen:d,colIndex:s,headerHeight:m,isResizing:_,sortDirection:w,sortIndex:E,filterItemsCounter:k,hasFocus:O,tabIndex:R,disableReorder:L,separatorSide:U}=e,F=qp(),z=Fn(),B=P.useRef(null),Z=Ao(),ee=Ao(),X=P.useRef(null),[W,ne]=P.useState(d),J=P.useMemo(()=>!z.disableColumnReorder&&!L&&!c.disableReorder,[z.disableColumnReorder,L,c.disableReorder]);let re;c.renderHeader&&(re=c.renderHeader(F.current.getColumnHeaderParams(c.field)));const se=$({},e,{classes:z.classes,showRightBorder:z.showColumnVerticalBorder}),de=Cve(se),pe=P.useCallback(gt=>vt=>{vt.currentTarget.contains(vt.target)&&F.current.publishEvent(gt,F.current.getColumnHeaderParams(c.field),vt)},[F,c.field]),ae=P.useMemo(()=>({onClick:pe("columnHeaderClick"),onDoubleClick:pe("columnHeaderDoubleClick"),onMouseOver:pe("columnHeaderOver"),onMouseOut:pe("columnHeaderOut"),onMouseEnter:pe("columnHeaderEnter"),onMouseLeave:pe("columnHeaderLeave"),onKeyDown:pe("columnHeaderKeyDown"),onFocus:pe("columnHeaderFocus"),onBlur:pe("columnHeaderBlur")}),[pe]),oe=P.useMemo(()=>J?{onDragStart:pe("columnHeaderDragStart"),onDragEnter:pe("columnHeaderDragEnter"),onDragOver:pe("columnHeaderDragOver"),onDragEnd:pe("columnHeaderDragEnd")}:{},[J,pe]),me=P.useMemo(()=>({onMouseDown:pe("columnSeparatorMouseDown")}),[pe]);P.useEffect(()=>{W||ne(d)},[W,d]);const xe=P.useCallback(()=>{ne(!1)},[]),ce=!z.disableColumnMenu&&!c.disableColumnMenu&&T.jsx(dve,{colDef:c,columnMenuId:Z,columnMenuButtonId:ee,open:W,iconButtonRef:X}),ge=T.jsx(hve,{columnMenuId:Z,columnMenuButtonId:ee,field:c.field,open:d,target:X.current,ContentComponent:z.slots.columnMenu,contentComponentProps:(t=z.slotProps)==null?void 0:t.columnMenu,onExited:xe}),Te=(n=c.sortingOrder)!=null?n:z.sortingOrder,Ue=T.jsxs(P.Fragment,{children:[!z.disableColumnFilter&&T.jsx(z.slots.columnHeaderFilterIconButton,$({field:c.field,counter:k},(r=z.slotProps)==null?void 0:r.columnHeaderFilterIconButton)),c.sortable&&!c.hideSortIcons&&T.jsx(cve,{direction:w,index:E,sortingOrder:Te})]});P.useLayoutEffect(()=>{const gt=F.current.state.columnMenu;if(O&&!gt.open){const jt=B.current.querySelector('[tabindex="0"]')||B.current;jt==null||jt.focus(),F.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[F,O]);const We=typeof c.headerClassName=="function"?c.headerClassName({field:c.field,colDef:c}):c.headerClassName,Ye=(i=c.headerName)!=null?i:c.field;return T.jsx(iV,$({ref:B,classes:de,columnMenuOpen:d,colIndex:s,height:m,isResizing:_,sortDirection:w,hasFocus:O,tabIndex:R,separatorSide:U,isDraggable:J,headerComponent:re,description:c.description,elementId:c.field,width:c.computedWidth,columnMenuIconButton:ce,columnTitleIconButtons:Ue,headerClassName:We,label:Ye,resizable:!z.disableColumnResize&&!!c.resizable,"data-field":c.field,columnMenu:ge,draggableContainerProps:oe,columnHeaderSeparatorProps:me},ae))}const M_=()=>({items:[],logicOperator:ra.And,quickFilterValues:[],quickFilterLogicOperator:ra.And}),a$=1e3;class Tve{constructor(t=a$){this.timeouts=new Map,this.cleanupTimeout=a$,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Eve{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}var eu=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(eu||{});class Pve{}function kve(e){let t=0;return function(r,i,c,d){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Eve:new Tve);const[s]=P.useState(new Pve),m=P.useRef(null),_=P.useRef();_.current=c;const w=P.useRef(null);if(!m.current&&_.current){const E=(k,O,R)=>{if(!O.defaultMuiPrevented){var L;(L=_.current)==null||L.call(_,k,O,R)}};m.current=r.current.subscribeEvent(i,E,d),t+=1,w.current={cleanupToken:t},e.registry.register(s,()=>{var k;(k=m.current)==null||k.call(m),m.current=null,w.current=null},w.current)}else!_.current&&m.current&&(m.current(),m.current=null,w.current&&(e.registry.unregister(w.current),w.current=null));P.useEffect(()=>{if(!m.current&&_.current){const E=(k,O,R)=>{if(!O.defaultMuiPrevented){var L;(L=_.current)==null||L.call(_,k,O,R)}};m.current=r.current.subscribeEvent(i,E,d)}return w.current&&e.registry&&(e.registry.unregister(w.current),w.current=null),()=>{var E;(E=m.current)==null||E.call(m),m.current=null}},[r,i,d])}}const Ive={registry:null},Nn=kve(Ive),Mve={isFirst:!0};function Bo(e,t,n){Nn(e,t,n,Mve)}function Is(e,t){const n=P.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}function Ave(e){return typeof e=="number"}function sV(e){return typeof e=="function"}function AA(e){return typeof e=="object"&&e!==null}function Rve(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function T1(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const gy=(e,t,n)=>Math.max(t,Math.min(n,e));function wp(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let c=0;c<i;c+=1)if(!wp(e[c],t[c]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let c=0;c<i.length;c+=1)if(!t.has(i[c][0]))return!1;for(let c=0;c<i.length;c+=1){const d=i[c];if(!wp(d[1],t.get(d[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let c=0;c<i.length;c+=1)if(!t.has(i[c][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let c=0;c<i;c+=1)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(let i=0;i<r;i+=1){const c=n[i];if(!wp(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function Ove(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Dve(e,t,n){const r=Ove(e);return()=>t+(n-t)*r()}function aV(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const Lve=(e,t,n,r,i)=>{const c=Is(e,"useNativeEventListener"),[d,s]=P.useState(!1),m=P.useRef(r),_=P.useCallback(w=>m.current&&m.current(w),[]);P.useEffect(()=>{m.current=r},[r]),P.useEffect(()=>{let w;if(sV(t)?w=t():w=t&&t.current?t.current:null,w&&n&&!d){c.debug(`Binding native ${n} event`),w.addEventListener(n,_,i);const E=w;s(!0);const k=()=>{c.debug(`Clearing native ${n} event`),E.removeEventListener(n,_,i)};e.current.subscribeEvent("unmount",k)}},[t,_,n,d,c,i,e])},ax=e=>{const t=P.useRef(!0);t.current&&(t.current=!1,e())},zve=100,Fve=e=>e?0:100,lV=(e,t)=>t>0&&e>0?Math.ceil(e/t):0;cu(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const cV=e=>({page:0,pageSize:e?0:100}),jve=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),uV=(e,t)=>{if(t===eu.DataGrid&&e>zve)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},dV=e=>e.pagination,cl=Cr(dV,e=>e.paginationModel),$ve=Cr(cl,e=>e.page),Bve=Cr(cl,e=>e.pageSize);Cr(cl,bS,(e,t)=>lV(t,e.pageSize));const RA=Go(cl,Ql,xS,of,UU,(e,t,n,r,i)=>{const c=i.length,d=Math.min(e.pageSize*e.page,c-1),s=Math.min(d+e.pageSize-1,c-1);if(d===-1||s===-1)return null;if(n<2)return{firstRowIndex:d,lastRowIndex:s};const m=i[d],_=s-d+1,w=r.findIndex(R=>R.id===m.id);let E=w,k=0;for(;E<r.length&&k<=_;){var O;const R=r[E],L=(O=t[R.id])==null?void 0:O.depth;L===void 0?E+=1:((k<_||L>0)&&(E+=1),L===0&&(k+=1))}return{firstRowIndex:w,lastRowIndex:E-1}}),Nve=Go(of,RA,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),hV=Go(W0,RA,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),A_=e=>e.preferencePanel;var zp=function(e){return e.filters="filters",e.columns="columns",e}(zp||{});const R_=e=>e.rowsMeta,sl=e=>e.rowSelection,Uve=Cr(sl,e=>e.length),Vve=Go(sl,Ph,(e,t)=>new Map(e.map(n=>[n,t[n]]))),Iw=Go(sl,e=>e.reduce((t,n)=>(t[n]=n,t),{})),Hve=cu(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),fV=(e,t)=>t&&e.length>1?(Hve(),[e[0]]):e,l$=(e,t)=>n=>$({},n,{sorting:$({},n.sorting,{sortModel:fV(e,t)})}),Gve=e=>e==="desc",Wve=(e,t)=>{const n=t.current.getColumn(e.field);if(!n)return null;const r=Gve(e.sort)?(...c)=>-1*n.sortComparator(...c):n.sortComparator;return{getSortCellParams:c=>({id:c,field:n.field,rowNode:t.current.getRowNode(c),value:t.current.getCellValue(c,n.field),api:t.current}),comparator:r}},qve=(e,t,n)=>e.reduce((r,i,c)=>{if(r!==0)return r;const d=t.params[c],s=n.params[c];return r=i.comparator(d.value,s.value,d,s),r},0),Zve=(e,t)=>{const n=e.map(r=>Wve(r,t)).filter(r=>!!r);return n.length===0?null:r=>r.map(i=>({node:i,params:n.map(c=>c.getSortCellParams(i.id))})).sort((i,c)=>qve(n,i,c)).map(i=>i.node.id)},c$=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},OA=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,Yve=new Intl.Collator,Kve=(e,t)=>{const n=OA(e,t);return n!==null?n:typeof e=="string"?Yve.compare(e.toString(),t.toString()):e-t},pV=(e,t)=>{const n=OA(e,t);return n!==null?n:Number(e)-Number(t)},mV=(e,t)=>{const n=OA(e,t);return n!==null?n:e>t?1:e<t?-1:0},gV=e=>e.headerFiltering,Xve=Cr(gV,e=>e.editing),Jve=Cr(gV,e=>e.menuOpen),Qve=e=>{const{classes:t}=e;return hn({icon:["filterIcon"]},$r,t)};function e0e(e){var t,n;const{counter:r,field:i,onClick:c}=e,d=jr(),s=Fn(),m=$({},e,{classes:s.classes}),_=Qve(m),w=In(d,A_),E=Ao(),k=Ao(),O=P.useCallback(U=>{U.preventDefault(),U.stopPropagation();const{open:F,openedPanelValue:z}=A_(d.current.state);F&&z===zp.filters?d.current.hideFilterPanel():d.current.showFilterPanel(void 0,k,E),c&&c(d.current.getColumnHeaderParams(i),U)},[d,i,c,k,E]);if(!r)return null;const R=w.open&&w.labelId===E,L=T.jsx(s.slots.baseIconButton,$({id:E,onClick:O,color:"default","aria-label":d.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":R,"aria-controls":R?k:void 0},(t=s.slotProps)==null?void 0:t.baseIconButton,{children:T.jsx(s.slots.columnFilteredIcon,{className:_.icon,fontSize:"small"})}));return T.jsx(s.slots.baseTooltip,$({title:d.current.getLocaleText("columnHeaderFiltersTooltipActive")(r),enterDelay:1e3},(n=s.slotProps)==null?void 0:n.baseTooltip,{children:T.jsxs(rV,{children:[r>1&&T.jsx(u4,{badgeContent:r,color:"default",children:L}),r===1&&L]})}))}const t0e=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],n0e=e=>{const{classes:t}=e;return hn({root:["checkboxInput"]},$r,t)},r0e=P.forwardRef(function(t,n){var r;const{field:i,id:c,value:d,rowNode:s,hasFocus:m,tabIndex:_}=t,w=mt(t,t0e),E=jr(),k=Fn(),O={classes:k.classes},R=n0e(O),L=P.useRef(null),U=P.useRef(null),F=fo(L,n),z=E.current.getCellElement(c,i),B=W=>{const ne={value:W.target.checked,id:c};E.current.publishEvent("rowSelectionCheckboxChange",ne,W)};P.useLayoutEffect(()=>{_===0&&z&&(z.tabIndex=-1)},[z,_]),P.useEffect(()=>{if(m){var W;const ne=(W=L.current)==null?void 0:W.querySelector("input");ne==null||ne.focus({preventScroll:!0})}else U.current&&U.current.stop({})},[m]);const Z=P.useCallback(W=>{eV(W.key)&&W.stopPropagation()},[]);if(s.type==="footer"||s.type==="pinnedRow")return null;const ee=E.current.isRowSelectable(c),X=E.current.getLocaleText(d?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return T.jsx(k.slots.baseCheckbox,$({ref:F,tabIndex:_,checked:d,onChange:B,className:R.root,inputProps:{"aria-label":X},onKeyDown:Z,disabled:!ee,touchRippleRef:U},(r=k.slotProps)==null?void 0:r.baseCheckbox,w))}),o0e=r0e,i0e=["field","colDef"],s0e=e=>{const{classes:t}=e;return hn({root:["checkboxInput"]},$r,t)},a0e=P.forwardRef(function(t,n){var r;const i=mt(t,i0e),[,c]=P.useState(!1),d=jr(),s=Fn(),m={classes:s.classes},_=s0e(m),w=In(d,HU),E=In(d,sl),k=In(d,W0),O=In(d,hV),R=P.useMemo(()=>typeof s.isRowSelectable!="function"?E:E.filter(ne=>d.current.getRow(ne)?s.isRowSelectable(d.current.getRowParams(ne)):!1),[d,s.isRowSelectable,E]),L=P.useMemo(()=>(!s.pagination||!s.checkboxSelectionVisibleOnly?k:O).reduce((J,re)=>(J[re]=!0,J),{}),[s.pagination,s.checkboxSelectionVisibleOnly,O,k]),U=P.useMemo(()=>R.filter(ne=>L[ne]).length,[R,L]),F=U>0&&U<Object.keys(L).length,z=U>0,B=ne=>{const J={value:ne.target.checked};d.current.publishEvent("headerSelectionCheckboxChange",J)},Z=w!==null&&w.field===t.field?0:-1;P.useLayoutEffect(()=>{const ne=d.current.getColumnHeaderElement(t.field);Z===0&&ne&&(ne.tabIndex=-1)},[Z,d,t.field]);const ee=P.useCallback(ne=>{ne.key===" "&&d.current.publishEvent("headerSelectionCheckboxChange",{value:!z})},[d,z]),X=P.useCallback(()=>{c(ne=>!ne)},[]);P.useEffect(()=>d.current.subscribeEvent("rowSelectionChange",X),[d,X]);const W=d.current.getLocaleText(z?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return T.jsx(s.slots.baseCheckbox,$({ref:n,indeterminate:F,checked:z,onChange:B,className:_.root,inputProps:{"aria-label":W},tabIndex:Z,onKeyDown:ee},(r=s.slotProps)==null?void 0:r.baseCheckbox,i))}),u$=Gn(T.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),d$=Gn(T.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),h$=Gn(T.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),f$=Gn(T.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),l0e=Gn(T.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),p$=Gn(T.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),c0e=Gn(T.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");Gn(T.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");Gn(T.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const u0e=Gn(T.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),d0e=Gn(T.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),h0e=Gn(T.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),f0e=Gn(T.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),p0e=Gn(T.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),m0e=Gn(T.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),IE=Gn(T.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),m$=Gn(T.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),g0e=Gn(T.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),y0e=Gn(T.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),g$=Gn(T.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),v0e=Gn(T.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),_0e=Gn(T.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),x0e=Gn(T.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),b0e=Gn(T.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),w0e=Gn(T.jsx("g",{children:T.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),C0e=Gn(T.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");Gn(T.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const S0e=Gn(T.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),T0e=["hideMenu","colDef","id","labelledby","className","children","open"],E0e=Et(eA)(()=>({minWidth:248})),P0e=P.forwardRef(function(t,n){const{hideMenu:r,id:i,labelledby:c,className:d,children:s,open:m}=t,_=mt(t,T0e),w=P.useCallback(E=>{QU(E.key)&&E.preventDefault(),kye(E.key)&&r(E)},[r]);return T.jsx(E0e,$({id:i,ref:n,className:$t(Ke.menuList,d),"aria-labelledby":c,onKeyDown:w,autoFocus:m},_,{children:s}))}),k0e=["displayOrder"],I0e=e=>{const t=qp(),{defaultSlots:n,defaultSlotProps:r,slots:i={},slotProps:c={},hideMenu:d,colDef:s,addDividers:m=!0}=e,_=P.useMemo(()=>$({},n,i),[n,i]),w=P.useMemo(()=>{if(!c||Object.keys(c).length===0)return r;const O=$({},c);return Object.entries(r).forEach(([R,L])=>{O[R]=$({},L,c[R]||{})}),O},[r,c]),E=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),k=P.useMemo(()=>{const O=Object.keys(n);return Object.keys(i).filter(R=>!O.includes(R))},[i,n]);return P.useMemo(()=>{const L=Array.from(new Set([...E,...k])).filter(U=>_[U]!=null).sort((U,F)=>{const z=w[U],B=w[F],Z=Number.isFinite(z==null?void 0:z.displayOrder)?z.displayOrder:100,ee=Number.isFinite(B==null?void 0:B.displayOrder)?B.displayOrder:100;return Z-ee});return L.reduce((U,F,z)=>{let B={colDef:s,onClick:d};const Z=w[F];if(Z){const ee=mt(Z,k0e);B=$({},B,ee)}return m&&z!==L.length-1?[...U,[_[F],B],[Ko,{}]]:[...U,[_[F],B]]},[])},[m,s,E,d,_,w,k])};function M0e(e){const{colDef:t,onClick:n}=e,r=jr(),i=Fn(),s=Es(r).filter(_=>_.disableColumnMenu!==!0).length===1,m=P.useCallback(_=>{s||(r.current.setColumnVisibility(t.field,!1),n(_))},[r,t.field,n,s]);return i.disableColumnSelector||t.hideable===!1?null:T.jsxs(Oi,{onClick:m,disabled:s,children:[T.jsx($g,{children:T.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"})}),T.jsx(Bg,{children:r.current.getLocaleText("columnMenuHideColumn")})]})}function A0e(e){const{onClick:t}=e,n=jr(),r=Fn(),i=P.useCallback(c=>{t(c),n.current.showPreferences(zp.columns)},[n,t]);return r.disableColumnSelector?null:T.jsxs(Oi,{onClick:i,children:[T.jsx($g,{children:T.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),T.jsx(Bg,{children:n.current.getLocaleText("columnMenuManageColumns")})]})}function R0e(e){return T.jsxs(P.Fragment,{children:[T.jsx(M0e,$({},e)),T.jsx(A0e,$({},e))]})}function O0e(e){const{colDef:t,onClick:n}=e,r=jr(),i=Fn(),c=P.useCallback(d=>{n(d),r.current.showFilterPanel(t.field)},[r,t.field,n]);return i.disableColumnFilter||!t.filterable?null:T.jsxs(Oi,{onClick:c,children:[T.jsx($g,{children:T.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),T.jsx(Bg,{children:r.current.getLocaleText("columnMenuFilter")})]})}function D0e(e){var t;const{colDef:n,onClick:r}=e,i=jr(),c=In(i,il),d=Fn(),s=P.useMemo(()=>{if(!n)return null;const w=c.find(E=>E.field===n.field);return w==null?void 0:w.sort},[n,c]),m=(t=n.sortingOrder)!=null?t:d.sortingOrder,_=P.useCallback(w=>{r(w);const E=w.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(n,E===s?null:E)},[i,n,r,s]);return!n||!n.sortable||!m.some(w=>!!w)?null:T.jsxs(P.Fragment,{children:[m.includes("asc")&&s!=="asc"?T.jsxs(Oi,{onClick:_,"data-value":"asc",children:[T.jsx($g,{children:T.jsx(d.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),T.jsx(Bg,{children:i.current.getLocaleText("columnMenuSortAsc")})]}):null,m.includes("desc")&&s!=="desc"?T.jsxs(Oi,{onClick:_,"data-value":"desc",children:[T.jsx($g,{children:T.jsx(d.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),T.jsx(Bg,{children:i.current.getLocaleText("columnMenuSortDesc")})]}):null,m.includes(null)&&s!=null?T.jsxs(Oi,{onClick:_,children:[T.jsx($g,{}),T.jsx(Bg,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const L0e=["defaultSlots","defaultSlotProps","slots","slotProps"],z0e={columnMenuSortItem:D0e,columnMenuFilterItem:O0e,columnMenuColumnsItem:R0e},F0e={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},j0e=P.forwardRef(function(t,n){const{defaultSlots:r,defaultSlotProps:i,slots:c,slotProps:d}=t,s=mt(t,L0e),m=I0e($({},s,{defaultSlots:r,defaultSlotProps:i,slots:c,slotProps:d}));return T.jsx(P0e,$({ref:n},s,{children:m.map(([_,w],E)=>T.jsx(_,$({},w),E))}))}),$0e=P.forwardRef(function(t,n){return T.jsx(j0e,$({},t,{ref:n,defaultSlots:z0e,defaultSlotProps:F0e}))}),B0e=["className"],N0e=e=>{const{classes:t}=e;return hn({root:["panelContent"]},$r,t)},U0e=Gi("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function yV(e){const{className:t}=e,n=mt(e,B0e),r=Fn(),i=N0e(r);return T.jsx(U0e,$({className:$t(t,i.root),ownerState:r},n))}const V0e=["className"],H0e=e=>{const{classes:t}=e;return hn({root:["panelFooter"]},$r,t)},G0e=Gi("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function vV(e){const{className:t}=e,n=mt(e,V0e),r=Fn(),i=H0e(r);return T.jsx(G0e,$({className:$t(t,i.root),ownerState:r},n))}const W0e=["className"],q0e=e=>{const{classes:t}=e;return hn({root:["panelHeader"]},$r,t)},Z0e=Gi("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function Y0e(e){const{className:t}=e,n=mt(e,W0e),r=Fn(),i=q0e(r);return T.jsx(Z0e,$({className:$t(t,i.root),ownerState:r},n))}const K0e=["className","slotProps"],X0e=e=>{const{classes:t}=e;return hn({root:["panelWrapper"]},$r,t)},J0e=Et("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Q0e=()=>!0,_V=P.forwardRef(function(t,n){const{className:r,slotProps:i={}}=t,c=mt(t,K0e),d=Fn(),s=X0e(d);return T.jsx(WN,$({open:!0,disableEnforceFocus:!0,isEnabled:Q0e},i.TrapFocus,{children:T.jsx(J0e,$({ref:n,tabIndex:-1,className:$t(r,s.root),ownerState:d},c))}))}),e_e=!1,t_e=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],n_e=e=>{const{classes:t}=e;return hn({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},$r,t)},r_e=Et("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),o_e=Et("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${Cs.root}`]:{marginRight:e.spacing(.5)}})),i_e=Et(Qi)({justifyContent:"flex-end"}),y$=new Intl.Collator,s_e=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function a_e(e){var t,n,r;const i=jr(),c=P.useRef(null),d=In(i,Qc),s=In(i,ec),m=Fn(),[_,w]=P.useState(""),E=n_e(m),{sort:k,searchPredicate:O=s_e,autoFocusSearchField:R=!0,disableHideAllButton:L=!1,disableShowAllButton:U=!1,getTogglableColumns:F}=e,z=mt(e,t_e),B=P.useMemo(()=>{switch(k){case"asc":return[...d].sort((se,de)=>y$.compare(se.headerName||se.field,de.headerName||de.field));case"desc":return[...d].sort((se,de)=>-y$.compare(se.headerName||se.field,de.headerName||de.field));default:return d}},[d,k]),Z=se=>{const{name:de}=se.target;i.current.setColumnVisibility(de,s[de]===!1)},ee=P.useCallback(se=>{const de=ec(i),pe=$({},de),ae=F?F(d):null;return d.forEach(oe=>{oe.hideable&&(ae==null||ae.includes(oe.field))&&(se?delete pe[oe.field]:pe[oe.field]=!1)}),i.current.setColumnVisibilityModel(pe)},[i,d,F]),X=P.useCallback(se=>{w(se.target.value)},[]),W=P.useMemo(()=>{const se=F?F(B):null,de=se?B.filter(({field:pe})=>se.includes(pe)):B;return _?de.filter(pe=>O(pe,_.toLowerCase())):de},[B,_,O,F]),ne=P.useRef(null);P.useEffect(()=>{R?c.current.focus():ne.current&&typeof ne.current.focus=="function"&&ne.current.focus()},[R]);let J=!1;const re=se=>J===!1&&se.hideable!==!1?(J=!0,!0):!1;return T.jsxs(_V,$({},z,{children:[T.jsx(Y0e,{children:T.jsx(m.slots.baseTextField,$({label:i.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:i.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:c,value:_,onChange:X,variant:"standard",fullWidth:!0},(t=m.slotProps)==null?void 0:t.baseTextField))}),T.jsx(yV,{children:T.jsx(r_e,{className:E.root,ownerState:m,children:W.map(se=>{var de;return T.jsxs(o_e,{className:E.columnsPanelRow,ownerState:m,children:[T.jsx(lh,{control:T.jsx(m.slots.baseSwitch,$({disabled:se.hideable===!1,checked:s[se.field]!==!1,onClick:Z,name:se.field,size:"small",inputRef:re(se)?ne:void 0},(de=m.slotProps)==null?void 0:de.baseSwitch)),label:se.headerName||se.field}),!m.disableColumnReorder&&e_e&&T.jsx(i_e,{draggable:!0,"aria-label":i.current.getLocaleText("columnsPanelDragIconLabel"),title:i.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0,children:T.jsx(m.slots.columnReorderIcon,{})})]},se.field)})})}),U&&L?null:T.jsxs(vV,{children:[L?T.jsx("span",{}):T.jsx(m.slots.baseButton,$({onClick:()=>ee(!1)},(n=m.slotProps)==null?void 0:n.baseButton,{disabled:L,children:i.current.getLocaleText("columnsPanelHideAllButton")})),U?null:T.jsx(m.slots.baseButton,$({onClick:()=>ee(!0)},(r=m.slotProps)==null?void 0:r.baseButton,{disabled:U,children:i.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const l_e=["children","className","classes"],c_e=Zn("MuiDataGrid",["panel","paper"]),u_e=Et(Np,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),d_e=Et(pi,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),h_e=P.forwardRef((e,t)=>{const{children:n,className:r}=e,i=mt(e,l_e),c=jr(),d=Fn(),s=c_e,[m,_]=P.useState(!1),w=P.useCallback(()=>{c.current.hidePreferences()},[c]),E=P.useCallback(L=>{Pw(L.key)&&c.current.hidePreferences()},[c]),k=P.useMemo(()=>[{name:"flip",enabled:!1},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{_(!0)},effect:()=>()=>{_(!1)}}],[]),[O,R]=P.useState(null);return P.useEffect(()=>{var L,U;const F=(L=c.current.rootElementRef)==null||(U=L.current)==null?void 0:U.querySelector(`.${Ke.columnHeaders}`);F&&R(F)},[c]),O?T.jsx(u_e,$({ref:t,placement:"bottom-start",className:$t(r,s.panel),ownerState:d,anchorEl:O,modifiers:k},i,{children:T.jsx(GN,{mouseEvent:"onMouseUp",onClickAway:w,children:T.jsx(d_e,{className:s.paper,ownerState:d,elevation:8,onKeyDown:E,children:m&&n})})})):null}),f_e=P.forwardRef(function(t,n){var r,i,c;const d=jr(),s=In(d,Qc),m=Fn(),_=In(d,A_),w=d.current.unstable_applyPipeProcessors("preferencePanel",null,(r=_.openedPanelValue)!=null?r:zp.filters);return T.jsx(m.slots.panel,$({ref:n,as:m.slots.basePopper,open:s.length>0&&_.open,id:_.panelId,"aria-labelledby":_.labelId},(i=m.slotProps)==null?void 0:i.panel,t,(c=m.slotProps)==null?void 0:c.basePopper,{children:w}))}),p_e=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],m_e=["InputComponentProps"],g_e=e=>{const{classes:t}=e;return hn({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},$r,t)},y_e=Et("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),v_e=Et("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),__e=Et("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),x_e=Et("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),b_e=Et("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),w_e=Et("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),C_e=e=>{switch(e){case ra.And:return"filterPanelOperatorAnd";case ra.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},h0=e=>e.headerName||e.field,v$=new Intl.Collator,S_e=P.forwardRef(function(t,n){var r,i,c,d,s,m,_,w,E,k;const{item:O,hasMultipleFilters:R,deleteFilter:L,applyFilterChanges:U,multiFilterOperator:F,showMultiFilterOperators:z,disableMultiFilterOperator:B,applyMultiFilterOperatorChanges:Z,focusElementRef:ee,logicOperators:X=[ra.And,ra.Or],columnsSort:W,filterColumns:ne,deleteIconProps:J={},logicOperatorInputProps:re={},operatorInputProps:se={},columnInputProps:de={},valueInputProps:pe={}}=t,ae=mt(t,p_e),oe=jr(),me=In(oe,$U),xe=In(oe,is),ce=Ao(),ge=Ao(),Te=Ao(),Ue=Ao(),We=Fn(),Ye=g_e(We),gt=P.useRef(null),vt=P.useRef(null),jt=R&&X.length>0,Rt=((r=We.slotProps)==null?void 0:r.baseFormControl)||{},Ut=(c=(((i=We.slotProps)==null?void 0:i.baseSelect)||{}).native)!=null?c:!0,rn=((d=We.slotProps)==null?void 0:d.baseInputLabel)||{},et=((s=We.slotProps)==null?void 0:s.baseSelectOption)||{},{InputComponentProps:Pt}=pe,Ot=mt(pe,m_e),Yt=P.useMemo(()=>{if(ne===void 0||typeof ne!="function")return me;const Ve=ne({field:O.field,columns:me,currentFilters:(xe==null?void 0:xe.items)||[]});return me.filter(ft=>Ve.includes(ft.field))},[ne,xe==null?void 0:xe.items,me,O.field]),st=P.useMemo(()=>{switch(W){case"asc":return Yt.sort((Ve,ft)=>v$.compare(h0(Ve),h0(ft)));case"desc":return Yt.sort((Ve,ft)=>-v$.compare(h0(Ve),h0(ft)));default:return Yt}},[Yt,W]),Ct=O.field?oe.current.getColumn(O.field):null,ht=P.useMemo(()=>{var Ve;return!O.operator||!Ct?null:(Ve=Ct.filterOperators)==null?void 0:Ve.find(ft=>ft.value===O.operator)},[O,Ct]),en=P.useCallback(Ve=>{const ft=Ve.target.value,Dt=oe.current.getColumn(ft);if(Dt.field===Ct.field)return;const Qt=Dt.filterOperators.find(on=>on.value===O.operator)||Dt.filterOperators[0],yn=!Qt.InputComponent||Qt.InputComponent!==(ht==null?void 0:ht.InputComponent);U($({},O,{field:ft,operator:Qt.value,value:yn?void 0:O.value}))},[oe,U,O,Ct,ht]),Kt=P.useCallback(Ve=>{const ft=Ve.target.value,Dt=Ct==null?void 0:Ct.filterOperators.find(yn=>yn.value===ft),Qt=!(Dt!=null&&Dt.InputComponent)||(Dt==null?void 0:Dt.InputComponent)!==(ht==null?void 0:ht.InputComponent);U($({},O,{operator:ft,value:Qt?void 0:O.value}))},[U,O,Ct,ht]),vn=P.useCallback(Ve=>{const ft=Ve.target.value===ra.And.toString()?ra.And:ra.Or;Z(ft)},[Z]),wn=()=>{We.disableMultipleColumnsFiltering?O.value===void 0?L(O):U($({},O,{value:void 0})):L(O)};return P.useImperativeHandle(ee,()=>({focus:()=>{if(ht!=null&&ht.InputComponent){var Ve;gt==null||(Ve=gt.current)==null||Ve.focus()}else vt.current.focus()}}),[ht]),T.jsxs(y_e,$({ref:n,className:Ye.root,"data-id":O.id,ownerState:We},ae,{children:[T.jsx(v_e,$({variant:"standard",as:We.slots.baseFormControl},Rt,J,{className:$t(Ye.deleteIcon,Rt.className,J.className),ownerState:We,children:T.jsx(We.slots.baseIconButton,$({"aria-label":oe.current.getLocaleText("filterPanelDeleteIconLabel"),title:oe.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:wn,size:"small"},(m=We.slotProps)==null?void 0:m.baseIconButton,{children:T.jsx(We.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),T.jsx(__e,$({variant:"standard",as:We.slots.baseFormControl},Rt,re,{sx:$({display:jt?"flex":"none",visibility:z?"visible":"hidden"},Rt.sx||{},re.sx||{}),className:$t(Ye.logicOperatorInput,Rt.className,re.className),ownerState:We,children:T.jsx(We.slots.baseSelect,$({inputProps:{"aria-label":oe.current.getLocaleText("filterPanelLogicOperator")},value:F,onChange:vn,disabled:!!B||X.length===1,native:Ut},(_=We.slotProps)==null?void 0:_.baseSelect,{children:X.map(Ve=>P.createElement(We.slots.baseSelectOption,$({},et,{native:Ut,key:Ve.toString(),value:Ve.toString()}),oe.current.getLocaleText(C_e(Ve))))}))})),T.jsxs(x_e,$({variant:"standard",as:We.slots.baseFormControl},Rt,de,{className:$t(Ye.columnInput,Rt.className,de.className),ownerState:We,children:[T.jsx(We.slots.baseInputLabel,$({},rn,{htmlFor:ce,id:ge,children:oe.current.getLocaleText("filterPanelColumns")})),T.jsx(We.slots.baseSelect,$({labelId:ge,id:ce,label:oe.current.getLocaleText("filterPanelColumns"),value:O.field||"",onChange:en,native:Ut},(w=We.slotProps)==null?void 0:w.baseSelect,{children:st.map(Ve=>P.createElement(We.slots.baseSelectOption,$({},et,{native:Ut,key:Ve.field,value:Ve.field}),h0(Ve)))}))]})),T.jsxs(b_e,$({variant:"standard",as:We.slots.baseFormControl},Rt,se,{className:$t(Ye.operatorInput,Rt.className,se.className),ownerState:We,children:[T.jsx(We.slots.baseInputLabel,$({},rn,{htmlFor:Te,id:Ue,children:oe.current.getLocaleText("filterPanelOperator")})),T.jsx(We.slots.baseSelect,$({labelId:Ue,label:oe.current.getLocaleText("filterPanelOperator"),id:Te,value:O.operator,onChange:Kt,native:Ut,inputRef:vt},(E=We.slotProps)==null?void 0:E.baseSelect,{children:Ct==null||(k=Ct.filterOperators)==null?void 0:k.map(Ve=>P.createElement(We.slots.baseSelectOption,$({},et,{native:Ut,key:Ve.value,value:Ve.value}),Ve.label||oe.current.getLocaleText(`filterOperator${xt(Ve.value)}`)))}))]})),T.jsx(w_e,$({variant:"standard",as:We.slots.baseFormControl},Rt,Ot,{className:$t(Ye.valueInput,Rt.className,Ot.className),ownerState:We,children:ht!=null&&ht.InputComponent?T.jsx(ht.InputComponent,$({apiRef:oe,item:O,applyValue:U,focusElementRef:gt},ht.InputComponentProps,Pt)):null}))]}))}),T_e=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps"],E_e=500;function Uc(e){var t,n;const{item:r,applyValue:i,type:c,apiRef:d,focusElementRef:s,tabIndex:m,disabled:_,clearButton:w,InputProps:E}=e,k=mt(e,T_e),O=P.useRef(),[R,L]=P.useState((t=r.value)!=null?t:""),[U,F]=P.useState(!1),z=Ao(),B=Fn(),Z=P.useCallback(ee=>{const{value:X}=ee.target;clearTimeout(O.current),L(String(X)),F(!0),O.current=setTimeout(()=>{i($({},r,{value:X})),F(!1)},E_e)},[i,r]);return P.useEffect(()=>()=>{clearTimeout(O.current)},[]),P.useEffect(()=>{var ee;const X=(ee=r.value)!=null?ee:"";L(String(X))},[r.value]),T.jsx(B.slots.baseTextField,$({id:z,label:d.current.getLocaleText("filterPanelInputLabel"),placeholder:d.current.getLocaleText("filterPanelInputPlaceholder"),value:R,onChange:Z,variant:"standard",type:c||"text",InputProps:$({},U||w?{endAdornment:U?T.jsx(B.slots.loadIcon,{fontSize:"small",color:"action"}):w}:{},{disabled:_},E,{inputProps:$({tabIndex:m},E==null?void 0:E.inputProps)}),InputLabelProps:{shrink:!0},inputRef:s},k,(n=B.slotProps)==null?void 0:n.baseTextField))}const P_e=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"],k_e=500;function tg(e){var t,n;const{item:r,applyValue:i,type:c,apiRef:d,focusElementRef:s,InputProps:m,clearButton:_,tabIndex:w,disabled:E}=e,k=mt(e,P_e),O=P.useRef(),[R,L]=P.useState((t=r.value)!=null?t:""),[U,F]=P.useState(!1),z=Ao(),B=Fn(),Z=P.useCallback(ee=>{const X=ee.target.value;clearTimeout(O.current),L(String(X)),F(!0),O.current=setTimeout(()=>{i($({},r,{value:X})),F(!1)},k_e)},[i,r]);return P.useEffect(()=>()=>{clearTimeout(O.current)},[]),P.useEffect(()=>{var ee;const X=(ee=r.value)!=null?ee:"";L(String(X))},[r.value]),T.jsx(B.slots.baseTextField,$({fullWidth:!0,id:z,label:d.current.getLocaleText("filterPanelInputLabel"),placeholder:d.current.getLocaleText("filterPanelInputPlaceholder"),value:R,onChange:Z,variant:"standard",type:c||"text",InputLabelProps:{shrink:!0},inputRef:s,InputProps:$({},U||_?{endAdornment:U?T.jsx(B.slots.loadIcon,{fontSize:"small",color:"action"}):_}:{},{disabled:E},m,{inputProps:$({max:c==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:w},m==null?void 0:m.inputProps)})},k,(n=B.slotProps)==null?void 0:n.baseTextField))}const I_e=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","isFilterActive","clearButton"],M_e=({column:{valueOptions:e,field:t},OptionComponent:n,getOptionLabel:r,getOptionValue:i,isSelectNative:c,baseSelectOptionProps:d})=>(typeof e=="function"?["",...e({field:t})]:["",...e||[]]).map(m=>{const _=i(m),w=r(m);return P.createElement(n,$({},d,{native:c,key:_,value:_}),w)}),A_e=Et("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function _$(e){var t,n,r,i,c,d,s,m,_;const{item:w,applyValue:E,type:k,apiRef:O,focusElementRef:R,getOptionLabel:L,getOptionValue:U,placeholder:F,tabIndex:z,label:B,clearButton:Z}=e,ee=mt(e,I_e),[X,W]=P.useState((t=w.value)!=null?t:""),ne=Ao(),J=Ao(),re=Fn(),se=(n=(r=re.slotProps)==null||(i=r.baseSelect)==null?void 0:i.native)!=null?n:!0;let de=null;if(w.field){const ce=O.current.getColumn(w.field);bp(ce)&&(de=ce)}const pe=U||((c=de)==null?void 0:c.getOptionValue),ae=L||((d=de)==null?void 0:d.getOptionLabel),oe=P.useMemo(()=>{if(de)return typeof de.valueOptions=="function"?de.valueOptions({field:de.field}):de.valueOptions},[de]),me=P.useCallback(ce=>{let ge=ce.target.value;ge=zk(ge,oe,pe),W(String(ge)),E($({},w,{value:ge}))},[oe,pe,E,w]);if(P.useEffect(()=>{var ce;let ge;if(oe!==void 0){if(ge=zk(w.value,oe,pe),ge!==w.value){E($({},w,{value:ge}));return}}else ge=w.value;ge=(ce=ge)!=null?ce:"",W(String(ge))},[w,oe,E,pe]),!bp(de)||!bp(de))return null;const xe=B??O.current.getLocaleText("filterPanelInputLabel");return T.jsxs(A_e,{children:[T.jsxs(re.slots.baseFormControl,{children:[T.jsx(re.slots.baseInputLabel,$({},(s=re.slotProps)==null?void 0:s.baseInputLabel,{id:J,htmlFor:ne,shrink:!0,variant:"standard",children:xe})),T.jsx(re.slots.baseSelect,$({id:ne,label:xe,labelId:J,value:X,onChange:me,variant:"standard",type:k||"text",inputProps:{tabIndex:z,ref:R,placeholder:F??O.current.getLocaleText("filterPanelInputPlaceholder")},native:se},ee,(m=re.slotProps)==null?void 0:m.baseSelect,{children:M_e({column:de,OptionComponent:re.slots.baseSelectOption,getOptionLabel:ae,getOptionValue:pe,isSelectNative:se,baseSelectOptionProps:(_=re.slotProps)==null?void 0:_.baseSelectOption})}))]}),Z]})}const R_e=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label"],O_e=Et("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function D_e(e){var t,n,r,i;const{item:c,applyValue:d,apiRef:s,focusElementRef:m,clearButton:_,tabIndex:w,label:E}=e,k=mt(e,R_e),[O,R]=P.useState(c.value||""),L=Fn(),U=Ao(),F=Ao(),z=((t=L.slotProps)==null?void 0:t.baseSelect)||{},B=(n=z.native)!=null?n:!0,Z=((r=L.slotProps)==null?void 0:r.baseSelectOption)||{},ee=P.useCallback(W=>{const ne=W.target.value;R(ne),d($({},c,{value:ne}))},[d,c]);P.useEffect(()=>{R(c.value||"")},[c.value]);const X=E??s.current.getLocaleText("filterPanelInputLabel");return T.jsxs(O_e,{children:[T.jsxs(L.slots.baseFormControl,{fullWidth:!0,children:[T.jsx(L.slots.baseInputLabel,$({},(i=L.slotProps)==null?void 0:i.baseInputLabel,{id:U,shrink:!0,variant:"standard",children:X})),T.jsxs(L.slots.baseSelect,$({labelId:U,id:F,label:X,value:O,onChange:ee,variant:"standard",native:B,displayEmpty:!0,inputProps:{ref:m,tabIndex:w}},k,z,{children:[T.jsx(L.slots.baseSelectOption,$({},Z,{native:B,value:"",children:s.current.getLocaleText("filterValueAny")})),T.jsx(L.slots.baseSelectOption,$({},Z,{native:B,value:"true",children:s.current.getLocaleText("filterValueTrue")})),T.jsx(L.slots.baseSelectOption,$({},Z,{native:B,value:"false",children:s.current.getLocaleText("filterValueFalse")}))]}))]}),_]})}const L_e=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],x$=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),z_e=P.forwardRef(function(t,n){var r,i;const c=jr(),d=Fn(),s=In(c,is),m=In(c,$U),_=P.useRef(null),w=P.useRef(null),{logicOperators:E=[ra.And,ra.Or],columnsSort:k,filterFormProps:O,getColumnForNewFilter:R,disableAddFilterButton:L=!1,disableRemoveAllButton:U=!1}=t,F=mt(t,L_e),z=P.useCallback(se=>{c.current.upsertFilterItem(se)},[c]),B=P.useCallback(se=>{c.current.setFilterLogicOperator(se)},[c]),Z=P.useCallback(()=>{let se;if(R&&typeof R=="function"){const de=R({currentFilters:(s==null?void 0:s.items)||[],columns:m});if(de===null)return null;se=m.find(({field:pe})=>pe===de)}else se=m.find(de=>{var pe;return(pe=de.filterOperators)==null?void 0:pe.length});return se?x$(se):null},[s==null?void 0:s.items,m,R]),ee=P.useCallback(()=>{if(R===void 0||typeof R!="function")return Z();const se=s.items.length?s.items:[Z()].filter(Boolean),de=R({currentFilters:se,columns:m});if(de===null)return null;const pe=m.find(({field:ae})=>ae===de);return pe?x$(pe):null},[s.items,m,R,Z]),X=P.useMemo(()=>s.items.length?s.items:(w.current||(w.current=Z()),w.current?[w.current]:[]),[s.items,Z]),W=X.length>1,ne=()=>{const se=ee();se&&c.current.upsertFilterItems([...X,se])},J=P.useCallback(se=>{const de=X.length===1;c.current.deleteFilterItem(se),de&&c.current.hideFilterPanel()},[c,X.length]),re=()=>{X.length===1&&X[0].value===void 0&&(c.current.deleteFilterItem(X[0]),c.current.hideFilterPanel()),c.current.setFilterModel($({},s,{items:[]}))};return P.useEffect(()=>{E.length>0&&s.logicOperator&&!E.includes(s.logicOperator)&&B(E[0])},[E,B,s.logicOperator]),P.useEffect(()=>{X.length>0&&_.current.focus()},[X.length]),T.jsxs(_V,$({ref:n},F,{children:[T.jsx(yV,{children:X.map((se,de)=>T.jsx(S_e,$({item:se,applyFilterChanges:z,deleteFilter:J,hasMultipleFilters:W,showMultiFilterOperators:de>0,multiFilterOperator:s.logicOperator,disableMultiFilterOperator:de!==1,applyMultiFilterOperatorChanges:B,focusElementRef:de===X.length-1?_:null,logicOperators:E,columnsSort:k},O),se.id==null?de:se.id))}),!d.disableMultipleColumnsFiltering&&!(L&&U)?T.jsxs(vV,{children:[L?T.jsx("span",{}):T.jsx(d.slots.baseButton,$({onClick:ne,startIcon:T.jsx(d.slots.filterPanelAddIcon,{})},(r=d.slotProps)==null?void 0:r.baseButton,{children:c.current.getLocaleText("filterPanelAddFilter")})),U?null:T.jsx(d.slots.baseButton,$({onClick:re,startIcon:T.jsx(d.slots.filterPanelRemoveAllIcon,{})},(i=d.slotProps)==null?void 0:i.baseButton,{children:c.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),F_e=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function xV(e){const{item:t,applyValue:n,type:r,apiRef:i,focusElementRef:c,color:d,error:s,helperText:m,size:_,variant:w}=e,E=mt(e,F_e),k={color:d,error:s,helperText:m,size:_,variant:w},[O,R]=P.useState(t.value||[]),L=Ao(),U=Fn();P.useEffect(()=>{var z;const B=(z=t.value)!=null?z:[];R(B.map(String))},[t.value]);const F=P.useCallback((z,B)=>{R(B.map(String)),n($({},t,{value:[...B]}))},[n,t]);return T.jsx(JM,$({multiple:!0,freeSolo:!0,options:[],filterOptions:(z,B)=>{const{inputValue:Z}=B;return Z==null||Z===""?[]:[Z]},id:L,value:O,onChange:F,renderTags:(z,B)=>z.map((Z,ee)=>T.jsx(U.slots.baseChip,$({variant:"outlined",size:"small",label:Z},B({index:ee})))),renderInput:z=>{var B;return T.jsx(U.slots.baseTextField,$({},z,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:$({},z.InputLabelProps,{shrink:!0}),inputRef:c,type:r||"text"},k,(B=U.slotProps)==null?void 0:B.baseTextField))}},E))}const j_e=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],$_e=r4();function B_e(e){var t,n;const{item:r,applyValue:i,apiRef:c,focusElementRef:d,color:s,error:m,helperText:_,size:w,variant:E="standard",getOptionLabel:k,getOptionValue:O}=e,R=mt(e,j_e),L={color:s,error:m,helperText:_,size:w,variant:E},U=Ao(),F=Fn();let z=null;if(r.field){const re=c.current.getColumn(r.field);bp(re)&&(z=re)}const B=O||((t=z)==null?void 0:t.getOptionValue),Z=k||((n=z)==null?void 0:n.getOptionLabel),ee=P.useCallback((re,se)=>B(re)===B(se),[B]),X=P.useMemo(()=>{var re;return(re=z)!=null&&re.valueOptions?typeof z.valueOptions=="function"?z.valueOptions({field:z.field}):z.valueOptions:[]},[z]),W=P.useMemo(()=>X==null?void 0:X.map(B),[X,B]),ne=P.useMemo(()=>Array.isArray(r.value)?X!==void 0?r.value.map(se=>W==null?void 0:W.findIndex(de=>de===se)).filter(se=>se>=0).map(se=>X[se]):r.value:[],[r.value,X,W]);P.useEffect(()=>{(!Array.isArray(r.value)||ne.length!==r.value.length)&&i($({},r,{value:ne.map(B)}))},[r,ne,i,B]);const J=P.useCallback((re,se)=>{i($({},r,{value:se.map(B)}))},[i,r,B]);return T.jsx(JM,$({multiple:!0,options:X,isOptionEqualToValue:ee,filterOptions:$_e,id:U,value:ne,onChange:J,getOptionLabel:Z,renderTags:(re,se)=>re.map((de,pe)=>T.jsx(F.slots.baseChip,$({variant:"outlined",size:"small",label:Z(de)},se({index:pe})))),renderInput:re=>{var se;return T.jsx(F.slots.baseTextField,$({},re,{label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:$({},re.InputLabelProps,{shrink:!0}),inputRef:d,type:"singleSelect"},L,(se=F.slotProps)==null?void 0:se.baseTextField))}},R))}const N_e=["hideMenu","options"],U_e=["hideMenu","options"];function V_e(e){const t=jr(),{hideMenu:n,options:r}=e,i=mt(e,N_e);return T.jsx(Oi,$({onClick:()=>{t.current.exportDataAsCsv(r),n==null||n()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function H_e(e){const t=jr(),{hideMenu:n,options:r}=e,i=mt(e,U_e);return T.jsx(Oi,$({onClick:()=>{t.current.exportDataAsPrint(r),n==null||n()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}const G_e=["className","rowCount","visibleRowCount"],W_e=e=>{const{classes:t}=e;return hn({root:["rowCount"]},$r,t)},q_e=Gi("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),Z_e=P.forwardRef(function(t,n){const{className:r,rowCount:i,visibleRowCount:c}=t,d=mt(t,G_e),s=jr(),m=Fn(),_=W_e(m);if(i===0)return null;const w=c<i?s.current.getLocaleText("footerTotalVisibleRows")(c,i):i.toLocaleString();return T.jsxs(q_e,$({ref:n,className:$t(_.root,r),ownerState:m},d,{children:[s.current.getLocaleText("footerTotalRows")," ",w]}))}),Y_e=["className","selectedRowCount"],K_e=e=>{const{classes:t}=e;return hn({root:["selectedRowCount"]},$r,t)},X_e=Gi("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),J_e=P.forwardRef(function(t,n){const{className:r,selectedRowCount:i}=t,c=mt(t,Y_e),d=jr(),s=Fn(),m=K_e(s),_=d.current.getLocaleText("footerRowSelected")(i);return T.jsx(X_e,$({ref:n,className:$t(m.root,r),ownerState:s},c,{children:_}))}),Q_e=P.forwardRef(function(t,n){var r;const i=jr(),c=Fn(),d=In(i,xge),s=In(i,Uve),m=In(i,bS),_=!c.hideFooterSelectedRowCount&&s>0?T.jsx(J_e,{selectedRowCount:s}):T.jsx("div",{}),w=!c.hideFooterRowCount&&!c.pagination?T.jsx(Z_e,{rowCount:d,visibleRowCount:m}):null,E=c.pagination&&!c.hideFooterPagination&&c.slots.pagination&&T.jsx(c.slots.pagination,$({},(r=c.slotProps)==null?void 0:r.pagination));return T.jsxs(Qye,$({ref:n},t,{children:[_,w,E]}))});function exe(){var e,t;const n=Fn();return T.jsxs(P.Fragment,{children:[T.jsx(n.slots.preferencesPanel,$({},(e=n.slotProps)==null?void 0:e.preferencesPanel)),n.slots.toolbar&&T.jsx(n.slots.toolbar,$({},(t=n.slotProps)==null?void 0:t.toolbar))]})}const txe=P.forwardRef(function(t,n){return T.jsx(MA,$({ref:n},t,{children:T.jsx(sS,{})}))}),nxe=P.forwardRef(function(t,n){const i=jr().current.getLocaleText("noRowsLabel");return T.jsx(MA,$({ref:n},t,{children:i}))}),rxe=Et(ule)(({theme:e})=>({[`& .${vp.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${vp.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),oxe=P.forwardRef(function(t,n){const r=jr(),i=Fn(),c=In(r,cl),d=In(r,bS),s=P.useMemo(()=>{var O,R;return(O=(R=i.rowCount)!=null?R:d)!=null?O:0},[i.rowCount,d]),m=P.useMemo(()=>Math.floor(s/(c.pageSize||1)),[s,c.pageSize]),_=P.useCallback(O=>{const R=Number(O.target.value);r.current.setPageSize(R)},[r]),w=P.useCallback((O,R)=>{r.current.setPage(R)},[r]),k=(O=>{for(let R=0;R<i.pageSizeOptions.length;R+=1){const L=i.pageSizeOptions[R];if(typeof L=="number"){if(L===O)return!0}else if(L.value===O)return!0}return!1})(c.pageSize)?i.pageSizeOptions:[];return T.jsx(rxe,$({ref:n,component:"div",count:s,page:c.page<=m?c.page:m,rowsPerPageOptions:k,rowsPerPage:c.pageSize,onPageChange:w,onRowsPerPageChange:_},r.current.getLocaleText("MuiTablePagination"),t))}),DA=(e,t)=>{let n,r;return t.pagination&&t.paginationMode==="client"?(r=RA(e),n=Nve(e)):(n=of(e),n.length===0?r=null:r={firstRowIndex:0,lastRowIndex:n.length-1}),{rows:n,range:r}},Zp=(e,t)=>{const n=DA(e,t);return P.useMemo(()=>({rows:n.rows,range:n.range}),[n.rows,n.range])},Fk={current:null};function lx(e){return e.isInternal=!0,e}function Mw(e){return e!==void 0&&e.isInternal===!0}function ixe(e){return lx((t,n)=>{const r=e(t,n);return r&&(i=>r(i.value,i.row,n,Fk.current))})}function cx(e){return e.map(t=>$({},t,{getApplyFilterFn:ixe(t.getApplyFilterFnV7),getApplyFilterFnV7:lx(t.getApplyFilterFnV7)}))}function bV(e){return lx((t,n,r)=>{const i=e(t,n,r);return i&&(c=>i(c.value,c.row,n,r))})}const b$=lx(e=>{if(!e)return null;const t=new RegExp(T1(e),"i");return(n,r,i,c)=>{const d=c.current.getRowFormattedValue(r,i);return d!=null?t.test(d.toString()):!1}}),sxe=(e=!1)=>cx([{value:"contains",getApplyFilterFnV7:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(T1(n),"i");return i=>i!=null?r.test(String(i)):!1},InputComponent:Uc},{value:"equals",getApplyFilterFnV7:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?r.compare(n,i.toString())===0:!1},InputComponent:Uc},{value:"startsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`^${T1(n)}.*$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:Uc},{value:"endsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),r=new RegExp(`.*${T1(n)}$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:Uc},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(i=>i.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?n.some(c=>r.compare(c,i.toString()||"")===0):!1},InputComponent:xV}]),Kh={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:Kve,type:"string",align:"left",filterOperators:sxe(),renderEditCell:wye,getApplyQuickFilterFn:bV(b$),getApplyQuickFilterFnV7:b$},axe=()=>cx([{value:"is",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=e.value==="true";return n=>!!n===t},InputComponent:D_e}]);function lxe({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const cxe=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},wV=$({},Kh,{type:"boolean",align:"center",headerAlign:"center",renderCell:cye,renderEditCell:fye,sortComparator:pV,valueFormatter:lxe,filterOperators:axe(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:e=>cxe(e)}),hh="__check__",ux=$({},wV,{field:hh,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:e=>Iw(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>T.jsx(a0e,$({},e)),renderCell:e=>T.jsx(o0e,$({},e))}),ES="actions",uxe=$({},Kh,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:Nye,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),LA="__detail_panel_toggle__",Fs=e=>e.editRows,dxe=["selected","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave"],hxe=e=>{const{editable:t,editing:n,selected:r,isLastVisible:i,rowHeight:c,classes:d}=e;return hn({root:["row",r&&"selected",t&&"row--editable",n&&"row--editing",i&&"row--lastVisible",c==="auto"&&"row--dynamicHeight"]},$r,d)};function fxe({width:e}){if(!e)return null;const t={width:e};return T.jsx("div",{className:`${Ke.cell} ${Ke.withBorderColor}`,style:t})}const pxe=P.forwardRef(function(t,n){const{selected:r,rowId:i,row:c,index:d,style:s,position:m,rowHeight:_,className:w,renderedColumns:E,containerWidth:k,firstColumnToRender:O,isLastVisible:R=!1,onClick:L,onDoubleClick:U,onMouseEnter:F,onMouseLeave:z}=t,B=mt(t,dxe),Z=jr(),ee=P.useRef(null),X=Fn(),W=Zp(Z,X),ne=In(Z,CA),J=In(Z,il),re=In(Z,xS),se=In(Z,sx),de=In(Z,Fs),pe=fo(ee,n),ae=d+se+2,oe={selected:r,isLastVisible:R,classes:X.classes,editing:Z.current.getRowMode(i)===Do.Edit,editable:X.editMode===ru.Row,rowHeight:_},me=hxe(oe);P.useLayoutEffect(()=>{_==="auto"&&ee.current&&typeof ResizeObserver>"u"&&Z.current.unstable_storeRowHeightMeasurement(i,ee.current.clientHeight,m)},[Z,_,i,m]),P.useLayoutEffect(()=>{if(W.range){const Kt=Z.current.getRowIndexRelativeToVisibleRows(i);Kt!=null&&Z.current.unstable_setLastMeasuredRowIndex(Kt)}const Ct=ee.current;if(!Ct||_!=="auto"||typeof ResizeObserver>"u")return;const en=new ResizeObserver(Kt=>{const[vn]=Kt,wn=vn.borderBoxSize&&vn.borderBoxSize.length>0?vn.borderBoxSize[0].blockSize:vn.contentRect.height;Z.current.unstable_storeRowHeightMeasurement(i,wn,m)});return en.observe(Ct),()=>en.disconnect()},[Z,W.range,d,_,i,m]);const xe=P.useCallback((Ct,ht)=>en=>{en.target.nodeType===1&&!en.currentTarget.contains(en.target)||Z.current.getRow(i)&&(Z.current.publishEvent(Ct,Z.current.getRowParams(i),en),ht&&ht(en))},[Z,i]),ce=P.useCallback(Ct=>{const ht=qge(Ct.target,Ke.cell),en=ht==null?void 0:ht.getAttribute("data-field");en&&(en===ux.field||en===LA||en==="__reorder__"||Z.current.getCellMode(i,en)===xo.Edit||Z.current.getColumn(en).type===ES)||xe("rowClick",L)(Ct)},[Z,L,xe,i]),{slots:ge,slotProps:Te,disableColumnReorder:Ue}=X,We=ge.cell===Lk?Lk:rye,Ye=X.rowReordering,gt=(Ct,ht)=>{var en,Kt;const vn=Ue&&Ct.disableReorder||!Ye&&!!J.length&&re>1&&Object.keys(de).length>0,wn=(en=(Kt=de[i])==null?void 0:Kt[Ct.field])!=null?en:null;return T.jsx(We,$({column:Ct,width:ht.width,rowId:i,height:_,showRightBorder:ht.showRightBorder,align:Ct.align||"left",colIndex:ht.indexRelativeToAllColumns,colSpan:ht.colSpan,disableDragEvents:vn,editCellState:wn},Te==null?void 0:Te.cell),Ct.field)},vt=In(Z,()=>$({},Z.current.unstable_getRowInternalSizes(i)),bA);let jt=_;if(jt==="auto"&&vt){let Ct=0;const ht=Object.entries(vt).reduce((en,[Kt,vn])=>/^base[A-Z]/.test(Kt)?(Ct+=1,vn>en?vn:en):en,0);ht>0&&Ct>1&&(jt=ht)}const Rt=$({},s,{maxHeight:_==="auto"?"none":_,minHeight:jt});if(vt!=null&&vt.spacingTop){const Ct=X.rowSpacingType==="border"?"borderTopWidth":"marginTop";Rt[Ct]=vt.spacingTop}if(vt!=null&&vt.spacingBottom){const Ct=X.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let ht=Rt[Ct];typeof ht!="number"&&(ht=parseInt(ht||"0",10)),ht+=vt.spacingBottom,Rt[Ct]=ht}const pn=Z.current.unstable_applyPipeProcessors("rowClassName",[],i);if(typeof X.getRowClassName=="function"){var Ut;const Ct=d-(((Ut=W.range)==null?void 0:Ut.firstRowIndex)||0),ht=$({},Z.current.getRowParams(i),{isFirstVisible:Ct===0,isLastVisible:Ct===W.rows.length-1,indexRelativeToCurrentPage:Ct});pn.push(X.getRowClassName(ht))}const rn=Dve(1e4,20,80),et=Z.current.getRowNode(i);if(!et)return null;const Pt=et.type,Ot=[];for(let Ct=0;Ct<E.length;Ct+=1){const ht=E[Ct],en=O+Ct,Kt=Z.current.unstable_getCellColSpanInfo(i,en);if(Kt&&!Kt.spannedByColSpan)if(Pt!=="skeletonRow"){const{colSpan:vn,width:wn}=Kt.cellProps,Ve={width:wn,colSpan:vn,showRightBorder:X.showCellVerticalBorder,indexRelativeToAllColumns:en};Ot.push(gt(ht,Ve))}else{const{width:vn}=Kt.cellProps,wn=Math.round(rn());Ot.push(T.jsx(ge.skeletonCell,{width:vn,contentWidth:wn,field:ht.field,align:ht.align},ht.field))}}const Yt=k-ne,st=c?{onClick:ce,onDoubleClick:xe("rowDoubleClick",U),onMouseEnter:xe("rowMouseEnter",F),onMouseLeave:xe("rowMouseLeave",z)}:null;return T.jsxs("div",$({ref:pe,"data-id":i,"data-rowindex":d,role:"row",className:$t(...pn,me.root,w),"aria-rowindex":ae,"aria-selected":r,style:Rt},st,B,{children:[Ot,Yt>0&&T.jsx(fxe,{width:Yt})]}))}),mxe=TS(pxe);function gxe({privateApiRef:e,props:t,children:n}){const r=P.useRef(e.current.getPublicApi());return T.jsx(zU.Provider,{value:t,children:T.jsx(FU.Provider,{value:e,children:T.jsx(LU.Provider,{value:r,children:n})})})}const yxe=Rve()&&window.localStorage.getItem("DEBUG")!=null,P0=()=>{},vxe={debug:P0,info:P0,warn:P0,error:P0},w$=["debug","info","warn","error"];function C$(e,t,n=console){const r=w$.indexOf(t);if(r===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return w$.reduce((c,d,s)=>(s>=r?c[d]=(...m)=>{const[_,...w]=m;n[d](`MUI: ${e} - ${_}`,...w)}:c[d]=P0,c),{})}const _xe=(e,t)=>{const n=P.useCallback(r=>yxe?C$(r,"debug",t.logger):t.logLevel?C$(r,t.logLevel.toString(),t.logger):vxe,[t.logLevel,t.logger]);Pr(e,{getLogger:n},"private")};class zA{static create(t){return new zA(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=n=>(this.listeners.add(n),()=>{this.listeners.delete(n)}),this.getSnapshot=()=>this.value,this.update=n=>{this.value=n,this.listeners.forEach(r=>r(n))},this.value=t,this.listeners=new Set}}class xxe{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),r.isFirst?i.highPriority.set(n,!0):i.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const i=Array.from(r.highPriority.keys()),c=Array.from(r.regular.keys());for(let d=i.length-1;d>=0;d-=1){const s=i[d];r.highPriority.has(s)&&s.apply(this,n)}for(let d=0;d<c.length;d+=1){const s=c[d];r.regular.has(s)&&s.apply(this,n)}}once(t,n){const r=this;this.on(t,function i(...c){r.removeListener(t,i),n.apply(r,c)})}}const CV=Symbol("mui.api_private"),bxe=e=>e.isPropagationStopped!==void 0;let S$=0;function wxe(e){var t;const n=(t=e.current)==null?void 0:t[CV];if(n)return n;const r={},i={state:r,store:zA.create(r),instanceId:{id:S$}};return S$+=1,i.getPublicApi=()=>e.current,i.register=(c,d)=>{Object.keys(d).forEach(s=>{const m=d[s],_=i[s];if((_==null?void 0:_.spying)===!0?_.target=m:i[s]=m,c==="public"){const w=e.current,E=w[s];(E==null?void 0:E.spying)===!0?E.target=m:w[s]=m}})},i.register("private",{caches:{},eventManager:new xxe}),i}function Cxe(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[CV]:e.current}}function Sxe(e,t){const n=P.useRef(),r=P.useRef();r.current||(r.current=wxe(n)),n.current||(n.current=Cxe(r));const i=P.useCallback((...d)=>{const[s,m,_={}]=d;if(_.defaultMuiPrevented=!1,bxe(_)&&_.isPropagationStopped())return;const w=t.signature===eu.DataGridPro?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(s,m,_,w)},[r,t.signature]),c=P.useCallback((d,s,m)=>{r.current.eventManager.on(d,s,m);const _=r.current;return()=>{_.eventManager.removeListener(d,s)}},[r]);return Pr(r,{subscribeEvent:c,publishEvent:i},"public"),P.useImperativeHandle(e,()=>n.current,[n]),P.useEffect(()=>{const d=r.current;return()=>{d.publishEvent("unmount")}},[r]),r}const Txe=(e,t)=>{const n=P.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:n})},Exe=e=>{const t=P.useRef({}),n=P.useRef(!1),r=P.useCallback(w=>{n.current||!w||(n.current=!0,Object.values(w.appliers).forEach(E=>{E()}),n.current=!1)},[]),i=P.useCallback((w,E,k)=>{t.current[w]||(t.current[w]={processors:new Map,appliers:{}});const O=t.current[w];return O.processors.get(E)!==k&&(O.processors.set(E,k),r(O)),()=>{t.current[w].processors.set(E,null)}},[r]),c=P.useCallback((w,E,k)=>(t.current[w]||(t.current[w]={processors:new Map,appliers:{}}),t.current[w].appliers[E]=k,()=>{const O=t.current[w].appliers,R=mt(O,[E].map(fy));t.current[w].appliers=R}),[]),d=P.useCallback(w=>{const E=t.current[w];r(E)},[r]),s=P.useCallback((...w)=>{const[E,k,O]=w;return t.current[E]?Array.from(t.current[E].processors.values()).reduce((L,U)=>U?U(L,O):L,k):k},[]),m={registerPipeProcessor:i,registerPipeApplier:c,requestPipeProcessorsApplication:d},_={unstable_applyPipeProcessors:s};Pr(e,m,"private"),Pr(e,_,"public")},Ui=(e,t,n)=>{const r=P.useRef(),i=P.useRef(`mui-${Math.round(Math.random()*1e9)}`),c=P.useCallback(()=>{r.current=e.current.registerPipeProcessor(t,i.current,n)},[e,n,t]);ax(()=>{c()});const d=P.useRef(!0);P.useEffect(()=>(d.current?d.current=!1:c(),()=>{r.current&&(r.current(),r.current=null)}),[c])},FA=(e,t,n)=>{const r=P.useRef(),i=P.useRef(`mui-${Math.round(Math.random()*1e9)}`),c=P.useCallback(()=>{r.current=e.current.registerPipeApplier(t,i.current,n)},[e,n,t]);ax(()=>{c()});const d=P.useRef(!0);P.useEffect(()=>(d.current?d.current=!1:c(),()=>{r.current&&(r.current(),r.current=null)}),[c])},Aw=(e,t,n,r)=>{const i=P.useCallback(()=>{e.current.registerStrategyProcessor(t,n,r)},[e,r,n,t]);ax(()=>{i()});const c=P.useRef(!0);P.useEffect(()=>{c.current?c.current=!1:i()},[i])},Fp="none",T$={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},Pxe=e=>{const t=P.useRef(new Map),n=P.useRef({}),r=P.useCallback((m,_,w)=>{const E=()=>{const R=n.current[_],L=mt(R,[m].map(fy));n.current[_]=L};n.current[_]||(n.current[_]={});const k=n.current[_],O=k[m];return k[m]=w,!O||O===w||m===e.current.getActiveStrategy(T$[_])&&e.current.publishEvent("activeStrategyProcessorChange",_),E},[e]),i=P.useCallback((m,_)=>{const w=e.current.getActiveStrategy(T$[m]);if(w==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const E=n.current[m];if(!E||!E[w])throw new Error(`No processor found for processor "${m}" on strategy "${w}"`);const k=E[w];return k(_)},[e]),c=P.useCallback(m=>{var _;const E=Array.from(t.current.entries()).find(([,k])=>k.group!==m?!1:k.isAvailable());return(_=E==null?void 0:E[0])!=null?_:Fp},[]),d=P.useCallback((m,_,w)=>{t.current.set(_,{group:m,isAvailable:w}),e.current.publishEvent("strategyAvailabilityChange")},[e]);Pr(e,{registerStrategyProcessor:r,applyStrategyProcessor:i,getActiveStrategy:c,setStrategyAvailability:d},"private")},kxe=(e,t)=>{const n=P.useRef({}),[,r]=P.useState(),i=P.useCallback(w=>{n.current[w.stateId]=w},[]),c=P.useCallback((w,E)=>{let k;if(sV(w)?k=w(e.current.state):k=w,e.current.state===k)return!1;let O=!1;const R=[];if(Object.keys(n.current).forEach(L=>{const U=n.current[L],F=U.stateSelector(e.current.state,e.current.instanceId),z=U.stateSelector(k,e.current.instanceId);z!==F&&(R.push({stateId:U.stateId,hasPropChanged:z!==U.propModel}),U.propModel!==void 0&&z!==U.propModel&&(O=!0))}),R.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${R[0].stateId}, therefore, you're not allowed to update ${R.map(L=>L.stateId).join(", ")} in the same transaction.`);if(O||(e.current.state=k,e.current.publishEvent&&e.current.publishEvent("stateChange",k),e.current.store.update(k)),R.length===1){const{stateId:L,hasPropChanged:U}=R[0],F=n.current[L],z=F.stateSelector(k,e.current.instanceId);if(F.propOnChange&&U){const B=t.signature===eu.DataGridPro?{api:e.current,reason:E}:{reason:E};F.propOnChange(z,B)}O||e.current.publishEvent(F.changeEvent,z,{reason:E})}return!O},[e,t.signature]),d=P.useCallback((w,E,k)=>e.current.setState(O=>$({},O,{[w]:E(O[w])}),k),[e]),s=P.useCallback(()=>r(()=>e.current.state),[e]),m={setState:c,forceUpdate:s},_={updateControlState:d,registerControlState:i};Pr(e,m,"public"),Pr(e,_,"private")},Ixe=(e,t)=>{const n=Sxe(e,t);return _xe(n,t),kxe(n,t),Exe(n),Pxe(n),Txe(n,t),n},Pa=(e,t,n)=>{const r=P.useRef(!1);r.current||(t.current.state=e(t.current.state,n,t),r.current=!0)},Mxe=/(\d+)-(\d+)-(\d+)/,Axe=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function ng(e,t,n,r){if(!e.value)return null;const[i,c,d,s,m]=e.value.match(n?Axe:Mxe).slice(1).map(Number),_=new Date(i,c-1,d,s||0,m||0).getTime();return w=>{if(!w)return!1;if(r)return t(w.getTime(),_);const k=new Date(w).setHours(n?w.getHours():0,n?w.getMinutes():0,0,0);return t(k,_)}}const SV=e=>cx([{value:"is",getApplyFilterFnV7:t=>ng(t,(n,r)=>n===r,e),InputComponent:tg,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:t=>ng(t,(n,r)=>n!==r,e),InputComponent:tg,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:t=>ng(t,(n,r)=>n>r,e),InputComponent:tg,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:t=>ng(t,(n,r)=>n>=r,e),InputComponent:tg,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:t=>ng(t,(n,r)=>n<r,e,!e),InputComponent:tg,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:t=>ng(t,(n,r)=>n<=r,e),InputComponent:tg,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!=null,requiresFilterValue:!1}]);function TV({value:e,columnType:t,rowId:n,field:r}){if(!(e instanceof Date))throw new Error([`MUI: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${r}".`].join(`
`))}function Rxe({value:e,field:t,id:n}){return e?(TV({value:e,columnType:"date",rowId:n,field:t}),e.toLocaleDateString()):""}function Oxe({value:e,field:t,id:n}){return e?(TV({value:e,columnType:"dateTime",rowId:n,field:t}),e.toLocaleString()):""}const Dxe=$({},Kh,{type:"date",sortComparator:mV,valueFormatter:Rxe,filterOperators:SV(),renderEditCell:JU,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,pastedValueParser:e=>new Date(e)}),Lxe=$({},Kh,{type:"dateTime",sortComparator:mV,valueFormatter:Oxe,filterOperators:SV(!0),renderEditCell:JU,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,pastedValueParser:e=>new Date(e)}),gh=e=>e==null?null:Number(e),E$=lx(e=>e==null||Number.isNaN(e)||e===""?null:t=>gh(t)===gh(e)),zxe=()=>cx([{value:"=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>gh(t)===e.value,InputComponent:Uc,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>gh(t)!==e.value,InputComponent:Uc,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:gh(t)>e.value,InputComponent:Uc,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:gh(t)>=e.value,InputComponent:Uc,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:gh(t)<e.value,InputComponent:Uc,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:gh(t)<=e.value,InputComponent:Uc,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:xV,InputComponentProps:{type:"number"}}]),Fxe=$({},Kh,{type:"number",align:"right",headerAlign:"right",sortComparator:pV,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>Ave(e)?e.toLocaleString():e||"",filterOperators:zxe(),getApplyQuickFilterFn:bV(E$),getApplyQuickFilterFnV7:E$}),rg=e=>e==null||!AA(e)?e:e.value,jxe=()=>cx([{value:"is",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>rg(t)===rg(e.value),InputComponent:_$},{value:"not",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>rg(t)!==rg(e.value),InputComponent:_$},{value:"isAnyOf",getApplyFilterFnV7:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(rg);return n=>t.includes(rg(n))},InputComponent:B_e}]),$xe=e=>typeof e[0]=="object",Bxe=e=>AA(e)?e.value:e,Nxe=e=>AA(e)?e.label:String(e),Uxe=$({},Kh,{type:"singleSelect",getOptionLabel:Nxe,getOptionValue:Bxe,valueFormatter(e){const{id:t,field:n,value:r,api:i}=e,c=e.api.getColumn(n);if(!bp(c))return"";let d;if(typeof c.valueOptions=="function"?d=c.valueOptions({id:t,row:t?i.getRow(t):null,field:n}):d=c.valueOptions,r==null)return"";if(!d)return r;if(!$xe(d))return c.getOptionLabel(r);const s=d.find(m=>c.getOptionValue(m)===r);return s?c.getOptionLabel(s):""},renderEditCell:Oye,filterOperators:jxe(),pastedValueParser:(e,t)=>{const n=t.colDef,r=n.valueOptions,i=typeof r=="function"?r({field:n.field}):r||[],c=n.getOptionValue;if(i.find(s=>c(s)===e))return e}}),EV="__default__",Vxe=()=>({string:Kh,number:Fxe,date:Dxe,dateTime:Lxe,boolean:wV,singleSelect:Uxe,[ES]:uxe,[EV]:Kh});function jk(e,t){if(typeof e=="string"){const n=e.replace(/"/g,'""');return[t,`
`,"\r"].some(r=>n.includes(r))?`"${n}"`:n}return e}const PV=(e,t)=>{const{delimiterCharacter:n,ignoreValueFormatter:r}=t;let i;if(r){var c;const s=e.colDef.type;if(s==="number")i=String(e.value);else if(s==="date"||s==="dateTime"){var d;i=(d=e.value)==null?void 0:d.toISOString()}else typeof((c=e.value)==null?void 0:c.toString)=="function"?i=e.value.toString():i=e.value}else i=e.formattedValue;return jk(i,n)};cu(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class $k{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.delimiterCharacter),t==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.delimiterCharacter):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const Hxe=({id:e,columns:t,getCellParams:n,delimiterCharacter:r,ignoreValueFormatter:i})=>{const c=new $k({delimiterCharacter:r});return t.forEach(d=>{const s=n(e,d.field);c.addValue(PV(s,{delimiterCharacter:r,ignoreValueFormatter:i}))}),c.getRowString()};function Gxe(e){const{columns:t,rowIds:n,delimiterCharacter:r,includeHeaders:i,includeColumnGroupsHeaders:c,ignoreValueFormatter:d,apiRef:s}=e,m=n.reduce((O,R)=>`${O}${Hxe({id:R,columns:t,getCellParams:s.current.getCellParams,delimiterCharacter:r,ignoreValueFormatter:d})}\r
`,"").trim();if(!i)return m;const _=t.filter(O=>O.field!==ux.field),w=[];if(c){const O=s.current.unstable_getAllGroupDetails();let R=0;const L=_.reduce((U,F)=>{const z=s.current.unstable_getColumnGroupPath(F.field);return U[F.field]=z,R=Math.max(R,z.length),U},{});for(let U=0;U<R;U+=1){const F=new $k({delimiterCharacter:r,sanitizeCellValue:jk});w.push(F),_.forEach(z=>{const B=(L[z.field]||[])[U],Z=O[B];F.addValue(Z?Z.headerName||Z.groupId:"")})}}const E=new $k({delimiterCharacter:r,sanitizeCellValue:jk});return _.forEach(O=>{E.addValue(O.headerName||O.field)}),w.push(E),`${`${w.map(O=>O.getRowString()).join(`\r
`)}\r
`}${m}`.trim()}function P$(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function Wxe(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{P$(e)}):P$(e)}function qxe(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const Zxe=(e,t)=>{const n=t.unstable_ignoreValueFormatterDuringExport,r=(typeof n=="object"?n==null?void 0:n.clipboardExport:n)||!1,i=t.clipboardCopyCellDelimiter,c=P.useCallback(d=>{if(!((d.ctrlKey||d.metaKey)&&d.key==="c")||qxe(d.target))return;let s="";if(e.current.getSelectedRows().size>0)s=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i});else{const _=ll(e);if(_){const w=e.current.getCellParams(_.id,_.field);s=PV(w,{delimiterCharacter:i,ignoreValueFormatter:r})}}s=e.current.unstable_applyPipeProcessors("clipboardCopy",s),s&&(Wxe(s),e.current.publishEvent("clipboardCopy",s))},[e,r,i]);Lve(e,e.current.rootElementRef,"keydown",c),Bo(e,"clipboardCopy",t.onClipboardCopy)},Yxe=e=>$({},e,{columnMenu:{open:!1}}),Kxe=e=>{const t=Is(e,"useGridColumnMenu"),n=P.useCallback(d=>{e.current.setState(m=>m.columnMenu.open&&m.columnMenu.field===d?m:(t.debug("Opening Column Menu"),$({},m,{columnMenu:{open:!0,field:d}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=P.useCallback(()=>{const d=Dk(e.current.state);if(d.field){const m=Ay(e),_=ec(e),w=ed(e);let E=d.field;if(m[E]||(E=w[0]),_[E]===!1){const k=w.filter(R=>R===E?!0:_[R]!==!1),O=k.indexOf(E);E=k[O+1]||k[O-1]}e.current.setColumnHeaderFocus(E)}e.current.setState(m=>!m.columnMenu.open&&m.columnMenu.field===void 0?m:(t.debug("Hiding Column Menu"),$({},m,{columnMenu:$({},m.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),i=P.useCallback(d=>{t.debug("Toggle Column Menu");const s=Dk(e.current.state);!s.open||s.field!==d?n(d):r()},[e,t,n,r]);Pr(e,{showColumnMenu:n,hideColumnMenu:r,toggleColumnMenu:i},"public"),Nn(e,"columnResizeStart",r),Nn(e,"virtualScrollerWheel",e.current.hideColumnMenu),Nn(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},kV=["maxWidth","minWidth","width","flex"];function Xxe({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const r=new Set(n.map(d=>d.field)),i={all:{},frozenFields:[],freeze:d=>{const s=i.all[d];s&&s.frozen!==!0&&(i.all[d].frozen=!0,i.frozenFields.push(d))}};function c(){if(i.frozenFields.length===r.size)return;const d={min:{},max:{}};let s=e,m=t,_=0;i.frozenFields.forEach(w=>{s-=i.all[w].computedWidth,m-=i.all[w].flex});for(let w=0;w<n.length;w+=1){const E=n[w];if(i.all[E.field]&&i.all[E.field].frozen===!0)continue;let O=s/m*E.flex;O<E.minWidth?(_+=E.minWidth-O,O=E.minWidth,d.min[E.field]=!0):O>E.maxWidth&&(_+=E.maxWidth-O,O=E.maxWidth,d.max[E.field]=!0),i.all[E.field]={frozen:!1,computedWidth:O,flex:E.flex}}_<0?Object.keys(d.max).forEach(w=>{i.freeze(w)}):_>0?Object.keys(d.min).forEach(w=>{i.freeze(w)}):n.forEach(({field:w})=>{i.freeze(w)}),c()}return c(),i.all}const IV=(e,t)=>{const n={};let r=0,i=0;const c=[];e.orderedFields.forEach(s=>{const m=$({},e.lookup[s]);if(e.columnVisibilityModel[s]===!1)m.computedWidth=0;else{let _;m.flex&&m.flex>0?(r+=m.flex,_=0,c.push(m)):_=gy(m.width,m.minWidth,m.maxWidth),i+=_,m.computedWidth=_}n[s]=m});const d=Math.max(t-i,0);if(r>0&&t>0){const s=Xxe({initialFreeSpace:d,totalFlexUnits:r,flexColumns:c});Object.keys(s).forEach(m=>{n[m].computedWidth=s[m].computedWidth})}return $({},e,{lookup:n})},Jxe=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:r={}}=t,i=Object.keys(r);if(i.length===0&&n.length===0)return e;const c={},d=[];for(let w=0;w<n.length;w+=1){const E=n[w];e.lookup[E]&&(c[E]=!0,d.push(E))}const s=d.length===0?e.orderedFields:[...d,...e.orderedFields.filter(w=>!c[w])],m=$({},e.lookup);for(let w=0;w<i.length;w+=1){const E=i[w],k=$({},m[E],{hasBeenResized:!0});Object.entries(r[E]).forEach(([O,R])=>{k[O]=R===-1?1/0:R}),m[E]=k}return $({},e,{orderedFields:s,lookup:m})},ug=({apiRef:e,columnsToUpsert:t,initialState:n,columnTypes:r,columnVisibilityModel:i=ec(e),keepOnlyColumnsToUpsert:c=!1})=>{var d,s,m,_;const w=!e.current.state.columns;let E;if(w)E={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const L=py(e.current.state);E={orderedFields:c?[]:[...L.orderedFields],lookup:$({},L.lookup),columnVisibilityModel:i}}let k={};c&&!w&&(k=Object.keys(E.lookup).reduce((L,U)=>$({},L,{[U]:!1}),{})),t.forEach(L=>{const{field:U}=L;k[U]=!0;let F=E.lookup[U];if(F==null){let B=r[EV];L.type&&r[L.type]&&(B=r[L.type]),F=$({},B,{field:U,hasBeenResized:!1}),E.orderedFields.push(U)}else c&&E.orderedFields.push(U);let z=F.hasBeenResized;kV.forEach(B=>{L[B]!==void 0&&(z=!0,L[B]===-1&&(L[B]=1/0))}),E.lookup[U]=$({},F,L,{hasBeenResized:z})}),c&&!w&&Object.keys(E.lookup).forEach(L=>{k[L]||delete E.lookup[L]});const O=e.current.unstable_applyPipeProcessors("hydrateColumns",E),R=Jxe(O,n);return IV(R,(d=(s=(m=e.current).getRootDimensions)==null||(_=s.call(m))==null?void 0:_.viewportInnerSize.width)!=null?d:0)},k$=e=>t=>$({},t,{columns:e});function Bk({firstColumnToRender:e,apiRef:t,firstRowToRender:n,lastRowToRender:r,visibleRows:i}){let c=e;for(let d=n;d<r;d+=1)if(i[d]){const m=i[d].id,_=t.current.unstable_getCellColSpanInfo(m,e);_&&_.spannedByColSpan&&(c=_.leftVisibleCellIndex)}return c}function Qxe({firstColumnIndex:e,minColumnIndex:t,columnBuffer:n,firstRowToRender:r,lastRowToRender:i,apiRef:c,visibleRows:d}){const s=Math.max(e-n,t);return Bk({firstColumnToRender:s,apiRef:c,firstRowToRender:r,lastRowToRender:i,visibleRows:d})}function jA(e,t){const n=Oy(e),r=sx(e);return Math.floor(t*n)*((r??0)+1)}const MV=Vxe(),ebe=(e,t,n)=>{var r,i,c,d,s;const m=ug({apiRef:n,columnTypes:MV,columnsToUpsert:t.columns,initialState:(r=t.initialState)==null?void 0:r.columns,columnVisibilityModel:(i=(c=t.columnVisibilityModel)!=null?c:(d=t.initialState)==null||(s=d.columns)==null?void 0:s.columnVisibilityModel)!=null?i:{},keepOnlyColumnsToUpsert:!0});return $({},e,{columns:m})};function tbe(e,t){var n,r;const i=Is(e,"useGridColumns"),c=MV,d=P.useRef(t.columns),s=P.useRef(c);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:ec,changeEvent:"columnVisibilityModelChange"});const m=P.useCallback(ae=>{i.debug("Updating columns state."),e.current.setState(k$(ae)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",ae.orderedFields)},[i,e]),_=P.useCallback(ae=>Ay(e)[ae],[e]),w=P.useCallback(()=>Qc(e),[e]),E=P.useCallback(()=>Es(e),[e]),k=P.useCallback((ae,oe=!0)=>(oe?Es(e):Qc(e)).findIndex(xe=>xe.field===ae),[e]),O=P.useCallback(ae=>{const oe=k(ae);return my(e)[oe]},[e,k]),R=P.useCallback(ae=>{ec(e)!==ae&&(e.current.setState(me=>$({},me,{columns:ug({apiRef:e,columnTypes:c,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:ae,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,c]),L=P.useCallback(ae=>{const oe=ug({apiRef:e,columnTypes:c,columnsToUpsert:ae,initialState:void 0,keepOnlyColumnsToUpsert:!1});m(oe)},[e,m,c]),U=P.useCallback((ae,oe)=>{var me;const xe=ec(e),ce=(me=xe[ae])!=null?me:!0;if(oe!==ce){const ge=$({},xe,{[ae]:oe});e.current.setColumnVisibilityModel(ge)}},[e]),F=P.useCallback(ae=>ed(e).findIndex(me=>me===ae),[e]),z=P.useCallback((ae,oe)=>{const me=ed(e),xe=F(ae);if(xe===oe)return;i.debug(`Moving column ${ae} to index ${oe}`);const ce=[...me],ge=ce.splice(xe,1)[0];ce.splice(oe,0,ge),m($({},py(e.current.state),{orderedFields:ce}));const Te={column:e.current.getColumn(ae),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(ae),oldIndex:xe};e.current.publishEvent("columnIndexChange",Te)},[e,i,m,F]),B=P.useCallback((ae,oe)=>{i.debug(`Updating column ${ae} width to ${oe}`);const me=e.current.getColumn(ae),xe=$({},me,{width:oe});e.current.updateColumns([xe]),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(ae),colDef:xe,width:oe})},[e,i]),Z={getColumn:_,getAllColumns:w,getColumnIndex:k,getColumnPosition:O,getVisibleColumns:E,getColumnIndexRelativeToVisibleColumns:F,updateColumns:L,setColumnVisibilityModel:R,setColumnVisibility:U,setColumnWidth:B},ee={setColumnIndex:z};Pr(e,Z,"public"),Pr(e,ee,t.signature===eu.DataGrid?"private":"public");const X=P.useCallback((ae,oe)=>{var me,xe,ce;const ge={},Te=ec(e);(!oe.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((me=(xe=t.initialState)==null||(ce=xe.columns)==null?void 0:ce.columnVisibilityModel)!=null?me:{}).length>0||Object.keys(Te).length>0)&&(ge.columnVisibilityModel=Te),ge.orderedFields=ed(e);const We=Qc(e),Ye={};return We.forEach(gt=>{if(gt.hasBeenResized){const vt={};kV.forEach(jt=>{let Rt=gt[jt];Rt===1/0&&(Rt=-1),vt[jt]=Rt}),Ye[gt.field]=vt}}),Object.keys(Ye).length>0&&(ge.dimensions=Ye),$({},ae,{columns:ge})},[e,t.columnVisibilityModel,(n=t.initialState)==null?void 0:n.columns]),W=P.useCallback((ae,oe)=>{var me;const xe=(me=oe.stateToRestore.columns)==null?void 0:me.columnVisibilityModel,ce=oe.stateToRestore.columns;if(xe==null&&ce==null)return ae;const ge=ug({apiRef:e,columnTypes:c,columnsToUpsert:[],initialState:ce,columnVisibilityModel:xe,keepOnlyColumnsToUpsert:!1});return e.current.setState(k$(ge)),ce!=null&&e.current.publishEvent("columnsChange",ge.orderedFields),ae},[e,c]),ne=P.useCallback((ae,oe)=>{if(oe===zp.columns){var me;const xe=t.slots.columnsPanel;return T.jsx(xe,$({},(me=t.slotProps)==null?void 0:me.columnsPanel))}return ae},[t.slots.columnsPanel,(r=t.slotProps)==null?void 0:r.columnsPanel]),J=P.useCallback(ae=>t.disableColumnSelector?ae:[...ae,"columnMenuColumnsItem"],[t.disableColumnSelector]);Ui(e,"columnMenu",J),Ui(e,"exportState",X),Ui(e,"restoreState",W),Ui(e,"preferencePanel",ne);const re=P.useRef(null);Nn(e,"viewportInnerSizeChange",ae=>{re.current!==ae.width&&(re.current=ae.width,m(IV(py(e.current.state),ae.width)))});const de=P.useCallback(()=>{i.info("Columns pipe processing have changed, regenerating the columns");const ae=ug({apiRef:e,columnTypes:c,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});m(ae)},[e,i,m,c]);FA(e,"hydrateColumns",de);const pe=P.useRef(!0);P.useEffect(()=>{if(pe.current){pe.current=!1;return}if(i.info(`GridColumns have changed, new length ${t.columns.length}`),d.current===t.columns&&s.current===c)return;const ae=ug({apiRef:e,columnTypes:c,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});d.current=t.columns,s.current=c,m(ae)},[i,e,m,t.columns,c]),P.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,i,t.columnVisibilityModel])}const nbe=.7,rbe=1.3,AV={compact:nbe,comfortable:rbe,standard:1},obe=(e,t)=>$({},e,{density:{value:t.density,factor:AV[t.density]}}),ibe=(e,t)=>{const n=Is(e,"useDensity"),r=P.useCallback(c=>{n.debug(`Set grid density to ${c}`),e.current.setState(d=>{const s=PA(d),m={value:c,factor:AV[c]};return wp(s,m)?d:$({},d,{density:m})}),e.current.forceUpdate()},[n,e]);P.useEffect(()=>{e.current.setDensity(t.density)},[e,t.density]),Pr(e,{setDensity:r},"public")};function sbe(e,t="csv",n=document.title||"untitled"){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),c=document.createElement("a");c.href=i,c.download=r,c.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI: exportAs not supported")}const RV=({apiRef:e,options:t})=>{const n=Qc(e);return t.fields?t.fields.map(i=>n.find(c=>c.field===i)).filter(i=>!!i):(t.allColumns?n:Es(e)).filter(i=>!i.disableExport)},abe=({apiRef:e})=>{var t,n;const r=Pge(e),i=Ql(e),c=e.current.getSelectedRows(),d=r.filter(w=>i[w].type!=="footer"),s=Ry(e),m=(s==null||(t=s.top)==null?void 0:t.map(w=>w.id))||[],_=(s==null||(n=s.bottom)==null?void 0:n.map(w=>w.id))||[];return d.unshift(...m),d.push(..._),c.size>0?d.filter(w=>c.has(w)):d},lbe=(e,t)=>{const n=Is(e,"useGridCsvExport"),r=t.unstable_ignoreValueFormatterDuringExport,i=(typeof r=="object"?r==null?void 0:r.csvExport:r)||!1,c=P.useCallback((_={})=>{var w,E,k;n.debug("Get data as CSV");const O=RV({apiRef:e,options:_}),L=((w=_.getRowsToExport)!=null?w:abe)({apiRef:e});return Gxe({columns:O,rowIds:L,delimiterCharacter:_.delimiter||",",includeHeaders:(E=_.includeHeaders)!=null?E:!0,includeColumnGroupsHeaders:(k=_.includeColumnGroupsHeaders)!=null?k:!0,ignoreValueFormatter:i,apiRef:e})},[n,e,i]),d=P.useCallback(_=>{n.debug("Export data as CSV");const w=c(_),E=new Blob([_!=null&&_.utf8WithBom?new Uint8Array([239,187,191]):"",w],{type:"text/csv"});sbe(E,"csv",_==null?void 0:_.fileName)},[n,c]);Pr(e,{getDataAsCsv:c,exportDataAsCsv:d},"public");const m=P.useCallback((_,w)=>{var E;return(E=w.csvOptions)!=null&&E.disableToolbarButton?_:[..._,{component:T.jsx(V_e,{options:w.csvOptions}),componentName:"csvExport"}]},[]);Ui(e,"exportMenu",m)};function cbe(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function ube(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const dbe=(e,t)=>{const n=Is(e,"useGridPrintExport"),r=P.useRef(null),i=P.useRef(null),c=P.useRef({});P.useEffect(()=>{r.current=wi(e.current.rootElementRef.current)},[e]);const d=P.useCallback((k,O)=>new Promise(R=>{if(!k&&!O){R();return}const L=RV({apiRef:e,options:{fields:k,allColumns:O}}).map(z=>z.field),U=Qc(e),F={};U.forEach(z=>{F[z.field]=L.includes(z.field)}),e.current.setColumnVisibilityModel(F),R()}),[e]),s=P.useCallback((k,O)=>{var R,L;const U=$({copyStyles:!0,hideToolbar:!1,hideFooter:!1},O),F=k.contentDocument;if(!F)return;const z=R_(e.current.state),B=e.current.rootElementRef.current,Z=B.cloneNode(!0),ee=Z.querySelector(`.${Ke.main}`);ee.style.overflow="visible",Z.style.contain="size";const W=Z.querySelector(`.${Ke.columnHeaders}`).querySelector(`.${Ke.columnHeadersInner}`);W.style.width="100%";let ne=((R=B.querySelector(`.${Ke.toolbarContainer}`))==null?void 0:R.offsetHeight)||0,J=((L=B.querySelector(`.${Ke.footerContainer}`))==null?void 0:L.offsetHeight)||0;if(U.hideToolbar){var re;(re=Z.querySelector(`.${Ke.toolbarContainer}`))==null||re.remove(),ne=0}if(U.hideFooter){var se;(se=Z.querySelector(`.${Ke.footerContainer}`))==null||se.remove(),J=0}Z.style.height=`${z.currentPageTotalHeight+jA(e,t.columnHeaderHeight)+ne+J}px`,Z.style.boxSizing="content-box";const de=document.createElement("div");de.appendChild(Z),F.body.innerHTML=de.innerHTML;const pe=typeof U.pageStyle=="function"?U.pageStyle():U.pageStyle;if(typeof pe=="string"){const ae=F.createElement("style");ae.appendChild(F.createTextNode(pe)),F.head.appendChild(ae)}if(U.bodyClassName&&F.body.classList.add(...U.bodyClassName.split(" ")),U.copyStyles){const ae=B.getRootNode(),me=(ae.constructor.name==="ShadowRoot"?ae:r.current).querySelectorAll("style, link[rel='stylesheet']");for(let xe=0;xe<me.length;xe+=1){const ce=me[xe];if(ce.tagName==="STYLE"){const ge=F.createElement(ce.tagName),Te=ce.sheet;if(Te){let Ue="";for(let We=0;We<Te.cssRules.length;We+=1)typeof Te.cssRules[We].cssText=="string"&&(Ue+=`${Te.cssRules[We].cssText}\r
`);ge.appendChild(F.createTextNode(Ue)),F.head.appendChild(ge)}}else if(ce.getAttribute("href")){const ge=F.createElement(ce.tagName);for(let Te=0;Te<ce.attributes.length;Te+=1){const Ue=ce.attributes[Te];Ue&&ge.setAttribute(Ue.nodeName,Ue.nodeValue||"")}F.head.appendChild(ge)}}}k.contentWindow.print()},[e,r,t.columnHeaderHeight]),m=P.useCallback(k=>{var O,R;r.current.body.removeChild(k),e.current.restoreState(i.current||{}),(O=i.current)!=null&&(R=O.columns)!=null&&R.columnVisibilityModel||e.current.setColumnVisibilityModel(c.current),e.current.unstable_enableVirtualization(),i.current=null,c.current={}},[e]),w={exportDataAsPrint:P.useCallback(async k=>{if(n.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");if(i.current=e.current.exportState(),c.current=ec(e),t.pagination){const R=VU(e);e.current.setPageSize(R)}await d(k==null?void 0:k.fields,k==null?void 0:k.allColumns),e.current.unstable_disableVirtualization(),await cbe();const O=ube(k==null?void 0:k.fileName);O.onload=()=>{s(O,k),O.contentWindow.matchMedia("print").addEventListener("change",L=>{L.matches===!1&&m(O)})},r.current.body.appendChild(O)},[t,n,e,s,m,d])};Pr(e,w,"public");const E=P.useCallback((k,O)=>{var R;return(R=O.printOptions)!=null&&R.disableToolbarButton?k:[...k,{component:T.jsx(H_e,{options:O.printOptions}),componentName:"printExport"}]},[]);Ui(e,"exportMenu",E)},Nk=(e,t)=>{const n=$({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const r=Ay(t)[n.field];n.operator=r&&r.filterOperators[0].value}return n},hbe=cu(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),fbe=cu("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),pbe=cu("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),OV=(e,t,n)=>{const r=e.items.length>1;let i;r&&t?(hbe(),i=[e.items[0]]):i=e.items;const c=r&&i.some(s=>s.id==null),d=i.some(s=>s.operator==null);return c&&fbe(),d&&pbe(),d||c?$({},e,{items:i.map(s=>Nk(s,n))}):e.items!==i?$({},e,{items:i}):e},I$=(e,t,n)=>r=>$({},r,{filterModel:OV(e,t,n)}),DV=(e,t)=>{if(!e.field||!e.operator)return null;const n=t.current.getColumn(e.field);if(!n)return null;let r;if(n.valueParser){var i;const E=n.valueParser;r=Array.isArray(e.value)?(i=e.value)==null?void 0:i.map(k=>E(k)):E(e.value)}else r=e.value;const c=$({},e,{value:r}),d=n.filterOperators;if(!(d!=null&&d.length))throw new Error(`MUI: No filter operators found for column '${n.field}'.`);const s=d.find(E=>E.value===c.operator);if(!s)throw new Error(`MUI: No filter operator found for column '${n.field}' and operator value '${c.operator}'.`);const m=!Mw(s.getApplyFilterFn),_=!Mw(s.getApplyFilterFnV7);if(s.getApplyFilterFnV7&&!(m&&!_)){const E=s.getApplyFilterFnV7(c,n);return typeof E!="function"?null:{v7:!0,item:c,fn:k=>{const O=t.current.getRowValue(k,n);return E(O,k,n,t)}}}const w=s.getApplyFilterFn(c,n);return typeof w!="function"?null:{v7:!1,item:c,fn:E=>{const k=t.current.getCellParams(E,c.field);Fk.current=t;const O=w(k);return Fk.current=null,O}}},mbe=(e,t,n)=>{const{items:r}=t,i=r.map(c=>DV(c,n)).filter(c=>!!c);return i.length===0?null:(c,d)=>{const s={};for(let m=0;m<i.length;m+=1){const _=i[m];(!d||d(_.item.field))&&(s[_.item.id]=_.v7?_.fn(c):_.fn(e?e(c):c.id))}return s}},gbe=(e,t,n)=>{var r,i,c;const d=(r=(i=t.quickFilterValues)==null?void 0:i.filter(Boolean))!=null?r:[];if(d.length===0)return null;const m=((c=t.quickFilterExcludeHiddenColumns)!=null?c:!1)?vS(n):ed(n),_=[];return m.forEach(w=>{const E=n.current.getColumn(w),k=E==null?void 0:E.getApplyQuickFilterFn,O=E==null?void 0:E.getApplyQuickFilterFnV7,R=!Mw(k),L=!Mw(O);O&&!(R&&!L)?_.push({column:E,appliers:d.map(U=>({v7:!0,fn:O(U,E,n)}))}):k&&_.push({column:E,appliers:d.map(U=>({v7:!1,fn:k(U,E,n)}))})}),function(E,k){const O={},R={};e:for(let U=0;U<d.length;U+=1){const F=d[U];for(let z=0;z<_.length;z+=1){const{column:B,appliers:Z}=_[z],{field:ee}=B;if(k&&!k(ee))continue;const X=Z[U],W=n.current.getRowValue(E,B);if(X.fn!==null)if(X.v7){if(X.fn(W,E,B,n)){O[F]=!0;continue e}}else{var L;const ne=(L=R[ee])!=null?L:n.current.getCellParams(e?e(E):E.id,ee);if(R[ee]=ne,X.fn(ne)){O[F]=!0;continue e}}}O[F]=!1}return O}},ybe=(e,t,n)=>{const r=mbe(e,t,n),i=gbe(e,t,n);return function(d,s,m){var _,w;m.passingFilterItems=(_=r==null?void 0:r(d,s))!=null?_:null,m.passingQuickFilterValues=(w=i==null?void 0:i(d,s))!=null?w:null}},M$=e=>e!=null,vbe=(e,t,n)=>(e.cleanedFilterItems||(e.cleanedFilterItems=n.filter(r=>DV(r,t)!==null)),e.cleanedFilterItems),_be=(e,t,n,r,i)=>{const c=vbe(i,r,n.items),d=e.filter(M$),s=t.filter(M$);if(d.length>0){var m;const w=k=>d.some(O=>O[k.id]);if(((m=n.logicOperator)!=null?m:M_().logicOperator)===ra.And){if(!c.every(w))return!1}else if(!c.some(w))return!1}if(s.length>0&&n.quickFilterValues!=null){var _;const w=k=>s.some(O=>O[k]);if(((_=n.quickFilterLogicOperator)!=null?_:M_().quickFilterLogicOperator)===ra.And){if(!n.quickFilterValues.every(w))return!1}else if(!n.quickFilterValues.some(w))return!1}return!0},xbe=(e,t,n)=>{var r,i,c,d;const s=(r=(i=t.filterModel)!=null?i:(c=t.initialState)==null||(d=c.filter)==null?void 0:d.filterModel)!=null?r:M_();return $({},e,{filter:{filterModel:OV(s,t.disableMultipleColumnsFiltering,n),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},bbe=e=>e.filteredRowsLookup;function A$(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}const wbe=(e,t)=>{var n,r,i;const c=Is(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:is,changeEvent:"filterModelChange"});const d=P.useCallback(()=>{e.current.setState(de=>{const pe=is(de,e.current.instanceId),ae=t.filterMode==="client"?ybe(t.getRowId,pe,e):null,oe=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:ae,filterModel:pe??M_()}),me=$({},de,{filter:$({},de.filter,oe)}),xe=A$(e,me);return $({},me,{visibleRowsLookup:xe})}),e.current.publishEvent("filteredRowsSet")},[e,t.filterMode,t.getRowId]),s=P.useCallback((de,pe)=>pe==null||pe.filterable===!1||t.disableColumnFilter?de:[...de,"columnMenuFilterItem"],[t.disableColumnFilter]),m=P.useCallback(()=>{d(),e.current.forceUpdate()},[e,d]),_=P.useCallback(de=>{const pe=is(e),ae=[...pe.items],oe=ae.findIndex(me=>me.id===de.id);oe===-1?ae.push(de):ae[oe]=de,e.current.setFilterModel($({},pe,{items:ae}),"upsertFilterItem")},[e]),w=P.useCallback(de=>{const pe=is(e),ae=[...pe.items];de.forEach(oe=>{const me=de.findIndex(xe=>xe.id===oe.id);me===-1?ae.push(oe):ae[me]=oe}),e.current.setFilterModel($({},pe,{items:de}),"upsertFilterItems")},[e]),E=P.useCallback(de=>{const pe=is(e),ae=pe.items.filter(oe=>oe.id!==de.id);ae.length!==pe.items.length&&e.current.setFilterModel($({},pe,{items:ae}),"deleteFilterItem")},[e]),k=P.useCallback((de,pe,ae)=>{if(c.debug("Displaying filter panel"),de){const oe=is(e),me=oe.items.filter(Te=>{var Ue;if(Te.value!==void 0)return!(Array.isArray(Te.value)&&Te.value.length===0);const Ye=(Ue=e.current.getColumn(Te.field).filterOperators)==null?void 0:Ue.find(vt=>vt.value===Te.operator);return!(typeof(Ye==null?void 0:Ye.requiresFilterValue)>"u"?!0:Ye==null?void 0:Ye.requiresFilterValue)});let xe;const ce=me.find(Te=>Te.field===de),ge=e.current.getColumn(de);ce?xe=me:t.disableMultipleColumnsFiltering?xe=[Nk({field:de,operator:ge.filterOperators[0].value},e)]:xe=[...me,Nk({field:de,operator:ge.filterOperators[0].value},e)],e.current.setFilterModel($({},oe,{items:xe}))}e.current.showPreferences(zp.filters,pe,ae)},[e,c,t.disableMultipleColumnsFiltering]),O=P.useCallback(()=>{c.debug("Hiding filter panel"),e.current.hidePreferences()},[e,c]),R=P.useCallback(de=>{const pe=is(e);pe.logicOperator!==de&&e.current.setFilterModel($({},pe,{logicOperator:de}),"changeLogicOperator")},[e]),L=P.useCallback(de=>{const pe=is(e);wp(pe.quickFilterValues,de)||e.current.setFilterModel($({},pe,{quickFilterValues:[...de]}))},[e]),U=P.useCallback((de,pe)=>{is(e)!==de&&(c.debug("Setting filter model"),e.current.updateControlState("filter",I$(de,t.disableMultipleColumnsFiltering,e),pe),e.current.unstable_applyFilters())},[e,c,t.disableMultipleColumnsFiltering]);Pr(e,{setFilterLogicOperator:R,unstable_applyFilters:m,deleteFilterItem:E,upsertFilterItem:_,upsertFilterItems:w,setFilterModel:U,showFilterPanel:k,hideFilterPanel:O,setQuickFilterValues:L},"public");const z=P.useCallback((de,pe)=>{var ae,oe;const me=is(e);return!pe.exportOnlyDirtyModels||t.filterModel!=null||((ae=t.initialState)==null||(oe=ae.filter)==null?void 0:oe.filterModel)!=null||!wp(me,M_())?$({},de,{filter:{filterModel:me}}):de},[e,t.filterModel,(n=t.initialState)==null||(r=n.filter)==null?void 0:r.filterModel]),B=P.useCallback((de,pe)=>{var ae;const oe=(ae=pe.stateToRestore.filter)==null?void 0:ae.filterModel;return oe==null?de:(e.current.updateControlState("filter",I$(oe,t.disableMultipleColumnsFiltering,e),"restoreState"),$({},de,{callbacks:[...de.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),Z=P.useCallback((de,pe)=>{if(pe===zp.filters){var ae;const oe=t.slots.filterPanel;return T.jsx(oe,$({},(ae=t.slotProps)==null?void 0:ae.filterPanel))}return de},[t.slots.filterPanel,(i=t.slotProps)==null?void 0:i.filterPanel]),ee=e.current.state.rows.dataRowIdToModelLookup,X=P.useMemo(()=>Object.values(ee),[ee]),{getRowId:W}=t,ne=P.useCallback(de=>{if(t.filterMode!=="client"||!de.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const pe=Ph(e),ae={},{isRowMatchingFilters:oe}=de,me={},xe={passingFilterItems:null,passingQuickFilterValues:null};for(let Te=0;Te<X.length;Te+=1){const Ue=X[Te],We=W?W(Ue):Ue.id;oe(Ue,void 0,xe);const Ye=_be([xe.passingFilterItems],[xe.passingQuickFilterValues],de.filterModel,e,me);ae[We]=Ye}const ce="auto-generated-group-footer-root";return pe[ce]&&(ae[ce]=!0),{filteredRowsLookup:ae,filteredDescendantCountLookup:{}}},[e,X,t.filterMode,W]);Ui(e,"columnMenu",s),Ui(e,"exportState",z),Ui(e,"restoreState",B),Ui(e,"preferencePanel",Z),Aw(e,Fp,"filtering",ne),Aw(e,Fp,"visibleRowsLookupCreation",bbe);const J=P.useCallback(()=>{c.debug("onColUpdated - GridColumns changed, applying filters");const de=is(e),pe=vge(e),ae=de.items.filter(oe=>oe.field&&pe[oe.field]);ae.length<de.items.length&&e.current.setFilterModel($({},de,{items:ae}))},[e,c]),re=P.useCallback(de=>{de==="filtering"&&e.current.unstable_applyFilters()},[e]),se=P.useCallback(()=>{e.current.setState(de=>$({},de,{visibleRowsLookup:A$(e,de)})),e.current.forceUpdate()},[e]);Nn(e,"rowsSet",d),Nn(e,"columnsChange",J),Nn(e,"activeStrategyProcessorChange",re),Nn(e,"rowExpansionChange",se),Nn(e,"columnVisibilityModelChange",()=>{const de=is(e);de.quickFilterValues&&de.quickFilterExcludeHiddenColumns&&e.current.unstable_applyFilters()}),ax(()=>{e.current.unstable_applyFilters()}),fi(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,c,t.filterModel])},Cbe=e=>$({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),Sbe=(e,t)=>{const n=Is(e,"useGridFocus"),r=P.useRef(null),i=P.useCallback((X,W)=>{X&&e.current.getRow(X.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(X.id,X.field),W)},[e]),c=P.useCallback((X,W)=>{const ne=ll(e);(ne==null?void 0:ne.id)===X&&(ne==null?void 0:ne.field)===W||(e.current.setState(J=>(n.debug(`Focusing on cell with id=${X} and field=${W}`),$({},J,{tabIndex:{cell:{id:X,field:W},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:X,field:W},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(X)&&(ne&&i(ne,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(X,W))))},[e,n,i]),d=P.useCallback((X,W={})=>{const ne=ll(e);i(ne,W),e.current.setState(J=>(n.debug(`Focusing on column header with colIndex=${X}`),$({},J,{tabIndex:{columnHeader:{field:X},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:X},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,n,i]),s=P.useCallback((X,W={})=>{const ne=ll(e);i(ne,W),e.current.setState(J=>(n.debug(`Focusing on column header filter with colIndex=${X}`),$({},J,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:X},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:X},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,n,i]),m=P.useCallback((X,W,ne={})=>{const J=ll(e);J&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(J.id,J.field),ne),e.current.setState(re=>$({},re,{tabIndex:{columnGroupHeader:{field:X,depth:W},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:X,depth:W},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),_=P.useCallback(()=>Cw(e),[e]),w=P.useCallback((X,W,ne)=>{let J=e.current.getColumnIndex(W);const re=Es(e),se=DA(e,{pagination:t.pagination,paginationMode:t.paginationMode}),de=Ry(e),pe=[].concat(de.top||[],se.rows,de.bottom||[]);let ae=pe.findIndex(ce=>ce.id===X);ne==="right"?J+=1:ne==="left"?J-=1:ae+=1,J>=re.length?(ae+=1,ae<pe.length&&(J=0)):J<0&&(ae-=1,ae>=0&&(J=re.length-1)),ae=gy(ae,0,pe.length-1);const oe=pe[ae];if(!oe)return;const me=e.current.unstable_getCellColSpanInfo(oe.id,J);me&&me.spannedByColSpan&&(ne==="left"||ne==="below"?J=me.leftVisibleCellIndex:ne==="right"&&(J=me.rightVisibleCellIndex)),J=gy(J,0,re.length-1);const xe=re[J];e.current.setCellFocus(oe.id,xe.field)},[e,t.pagination,t.paginationMode]),E=P.useCallback(({id:X,field:W})=>{e.current.setCellFocus(X,W)},[e]),k=P.useCallback((X,W)=>{W.key==="Enter"||W.key==="Tab"||W.key==="Shift"||kw(W.key)||e.current.setCellFocus(X.id,X.field)},[e]),O=P.useCallback(({field:X},W)=>{W.target===W.currentTarget&&e.current.setColumnHeaderFocus(X,W)},[e]),R=P.useCallback(({fields:X,depth:W},ne)=>{if(ne.target!==ne.currentTarget)return;const J=Cw(e);J!==null&&J.depth===W&&X.includes(J.field)||e.current.setColumnGroupHeaderFocus(X[0],W,ne)},[e]),L=P.useCallback((X,W)=>{var ne;(ne=W.relatedTarget)!=null&&ne.className.includes(Ke.columnHeader)||(n.debug("Clearing focus"),e.current.setState(J=>$({},J,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),U=P.useCallback(X=>{r.current=X},[]),F=P.useCallback(X=>{const W=r.current;r.current=null;const ne=ll(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:X,cell:W}))return;if(!ne){W&&e.current.setCellFocus(W.id,W.field);return}if((W==null?void 0:W.id)===ne.id&&(W==null?void 0:W.field)===ne.field)return;const re=e.current.getCellElement(ne.id,ne.field);re!=null&&re.contains(X.target)||(W?e.current.setCellFocus(W.id,W.field):(e.current.setState(se=>$({},se,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),i(ne,X)))},[e,i]),z=P.useCallback(X=>{if(X.cellMode==="view")return;const W=ll(e);((W==null?void 0:W.id)!==X.id||(W==null?void 0:W.field)!==X.field)&&e.current.setCellFocus(X.id,X.field)},[e]),B=P.useCallback(()=>{const X=ll(e);X&&!e.current.getRow(X.id)&&e.current.setState(W=>$({},W,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),Z={setCellFocus:c,setColumnHeaderFocus:d,setColumnHeaderFilterFocus:s},ee={moveFocusToRelativeCell:w,setColumnGroupHeaderFocus:m,getColumnGroupHeaderFocus:_};Pr(e,Z,"public"),Pr(e,ee,"private"),P.useEffect(()=>{const X=wi(e.current.rootElementRef.current);return X.addEventListener("mouseup",F),()=>{X.removeEventListener("mouseup",F)}},[e,F]),Nn(e,"columnHeaderBlur",L),Nn(e,"headerFilterBlur",L),Nn(e,"cellDoubleClick",E),Nn(e,"cellMouseDown",U),Nn(e,"cellKeyDown",k),Nn(e,"cellModeChange",z),Nn(e,"columnHeaderFocus",O),Nn(e,"columnGroupHeaderFocus",R),Nn(e,"rowsSet",B)};function Tbe(e,t){const n=Ry(e)||{};return[...n.top||[],...t,...n.bottom||[]]}const ME=({currentColIndex:e,firstColIndex:t,lastColIndex:n,direction:r})=>{if(r==="rtl"){if(e<n)return e+1}else if(r==="ltr"&&e>t)return e-1;return null},AE=({currentColIndex:e,firstColIndex:t,lastColIndex:n,direction:r})=>{if(r==="rtl"){if(e>t)return e-1}else if(r==="ltr"&&e<n)return e+1;return null},Ebe=(e,t)=>{const n=Is(e,"useGridKeyboardNavigation"),r=Zp(e,t).rows,i=Cl(),c=P.useMemo(()=>Tbe(e,r),[e,r]),d=t.signature!=="DataGrid"&&t.unstable_headerFilters,s=P.useCallback((F,z,B="left")=>{const Z=of(e),ee=e.current.unstable_getCellColSpanInfo(z,F);ee&&ee.spannedByColSpan&&(B==="left"?F=ee.leftVisibleCellIndex:B==="right"&&(F=ee.rightVisibleCellIndex));const X=Z.findIndex(ne=>ne.id===z);n.debug(`Navigating to cell row ${X}, col ${F}`),e.current.scrollToIndexes({colIndex:F,rowIndex:X});const W=e.current.getVisibleColumns()[F].field;e.current.setCellFocus(z,W)},[e,n]),m=P.useCallback((F,z)=>{n.debug(`Navigating to header col ${F}`),e.current.scrollToIndexes({colIndex:F});const B=e.current.getVisibleColumns()[F].field;e.current.setColumnHeaderFocus(B,z)},[e,n]),_=P.useCallback((F,z)=>{n.debug(`Navigating to header filter col ${F}`),e.current.scrollToIndexes({colIndex:F});const B=e.current.getVisibleColumns()[F].field;e.current.setColumnHeaderFilterFocus(B,z)},[e,n]),w=P.useCallback((F,z,B)=>{n.debug(`Navigating to header col ${F}`),e.current.scrollToIndexes({colIndex:F});const{field:Z}=e.current.getVisibleColumns()[F];e.current.setColumnGroupHeaderFocus(Z,z,B)},[e,n]),E=P.useCallback(F=>c==null?void 0:c[F].id,[c]),k=P.useCallback((F,z)=>{const B=z.currentTarget.querySelector(`.${Ke.columnHeaderTitleContainerContent}`);if(!!B&&B.contains(z.target)&&F.field!==ux.field||!e.current.getRootDimensions())return;const X=e.current.getViewportPageSize(),W=F.field?e.current.getColumnIndex(F.field):0,ne=0,J=c.length-1,re=0,se=Es(e).length-1,de=sx(e);let pe=!0;switch(z.key){case"ArrowDown":{d?_(W,z):s(W,E(ne));break}case"ArrowRight":{const ae=AE({currentColIndex:W,firstColIndex:re,lastColIndex:se,direction:i.direction});ae!==null&&m(ae,z);break}case"ArrowLeft":{const ae=ME({currentColIndex:W,firstColIndex:re,lastColIndex:se,direction:i.direction});ae!==null&&m(ae,z);break}case"ArrowUp":{de>0&&w(W,de-1,z);break}case"PageDown":{J!==null&&s(W,E(Math.min(ne+X,J)));break}case"Home":{m(re,z);break}case"End":{m(se,z);break}case"Enter":{(z.ctrlKey||z.metaKey)&&e.current.toggleColumnMenu(F.field);break}case" ":break;default:pe=!1}pe&&z.preventDefault()},[e,c.length,d,_,s,E,i.direction,m,w]),O=P.useCallback((F,z)=>{if(!e.current.getRootDimensions())return;const Z=Xve(e)===F.field,ee=Jve(e)===F.field;if(Z||ee||!kw(z.key))return;const X=e.current.getViewportPageSize(),W=F.field?e.current.getColumnIndex(F.field):0,ne=0,J=c.length-1,re=0,se=Es(e).length-1;let de=!0;switch(z.key){case"ArrowDown":{const pe=E(ne);pe!=null&&s(W,pe);break}case"ArrowRight":{const pe=AE({currentColIndex:W,firstColIndex:re,lastColIndex:se,direction:i.direction});pe!==null&&_(pe,z);break}case"ArrowLeft":{const pe=ME({currentColIndex:W,firstColIndex:re,lastColIndex:se,direction:i.direction});pe!==null?_(pe,z):e.current.setColumnHeaderFilterFocus(F.field,z);break}case"ArrowUp":{m(W,z);break}case"PageDown":{J!==null&&s(W,E(Math.min(ne+X,J)));break}case"Home":{_(re,z);break}case"End":{_(se,z);break}case" ":break;default:de=!1}de&&z.preventDefault()},[e,c.length,_,i.direction,m,s,E]),R=P.useCallback((F,z)=>{if(!e.current.getRootDimensions())return;const Z=Cw(e);if(Z===null)return;const{field:ee,depth:X}=Z,{fields:W,depth:ne,maxDepth:J}=F,re=e.current.getViewportPageSize(),se=e.current.getColumnIndex(ee),de=ee?e.current.getColumnIndex(ee):0,pe=0,ae=c.length-1,oe=0,me=Es(e).length-1;let xe=!0;switch(z.key){case"ArrowDown":{ne===J-1?m(se,z):w(se,X+1,z);break}case"ArrowUp":{ne>0&&w(se,X-1,z);break}case"ArrowRight":{const ce=W.length-W.indexOf(ee)-1;se+ce+1<=me&&w(se+ce+1,X,z);break}case"ArrowLeft":{const ce=W.indexOf(ee);se-ce-1>=oe&&w(se-ce-1,X,z);break}case"PageDown":{ae!==null&&s(de,E(Math.min(pe+re,ae)));break}case"Home":{w(oe,X,z);break}case"End":{w(me,X,z);break}case" ":break;default:xe=!1}xe&&z.preventDefault()},[e,c.length,m,w,s,E]),L=P.useCallback((F,z)=>{if(!z.currentTarget.contains(z.target))return;const B=e.current.getCellParams(F.id,F.field);if(B.cellMode===xo.Edit||!kw(z.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:z,cell:B}))return;const ee=e.current.getRootDimensions();if(c.length===0||!ee)return;const X=i.direction,W=e.current.getViewportPageSize(),ne=F.field?e.current.getColumnIndex(F.field):0,J=c.findIndex(oe=>oe.id===F.id),re=0,se=c.length-1,de=0,pe=Es(e).length-1;let ae=!0;switch(z.key){case"ArrowDown":{J<se&&s(ne,E(J+1));break}case"ArrowUp":{J>re?s(ne,E(J-1)):d?_(ne,z):m(ne,z);break}case"ArrowRight":{const oe=AE({currentColIndex:ne,firstColIndex:de,lastColIndex:pe,direction:X});oe!==null&&s(oe,E(J),X==="rtl"?"left":"right");break}case"ArrowLeft":{const oe=ME({currentColIndex:ne,firstColIndex:de,lastColIndex:pe,direction:X});oe!==null&&s(oe,E(J),X==="rtl"?"right":"left");break}case"Tab":{z.shiftKey&&ne>de?s(ne-1,E(J),"left"):!z.shiftKey&&ne<pe&&s(ne+1,E(J),"right");break}case" ":{if(F.field===LA)break;const me=F.colDef;if(me&&me.type==="treeDataGroup")break;!z.shiftKey&&J<se&&s(ne,E(Math.min(J+W,se)));break}case"PageDown":{J<se&&s(ne,E(Math.min(J+W,se)));break}case"PageUp":{const oe=Math.max(J-W,re);oe!==J&&oe>=re?s(ne,E(oe)):m(ne,z);break}case"Home":{z.ctrlKey||z.metaKey||z.shiftKey?s(de,E(re)):s(de,E(J));break}case"End":{z.ctrlKey||z.metaKey||z.shiftKey?s(pe,E(se)):s(pe,E(J));break}default:ae=!1}ae&&z.preventDefault()},[e,c,i.direction,s,E,d,_,m]),U=P.useCallback((F,{event:z})=>z.key===" "?!1:F,[]);Ui(e,"canStartEditing",U),Nn(e,"columnHeaderKeyDown",k),Nn(e,"headerFilterKeyDown",O),Nn(e,"columnGroupHeaderKeyDown",R),Nn(e,"cellKeyDown",L)},Pbe=(e,t)=>{var n,r,i;const c=$({},cV(t.autoPageSize),(n=t.paginationModel)!=null?n:(r=t.initialState)==null||(i=r.pagination)==null?void 0:i.paginationModel);return uV(c.pageSize,t.signature),$({},e,{pagination:{paginationModel:c}})},RE=(e,t,n)=>r=>{var i;let c=r.paginationModel;const d=(i=n==null?void 0:n.pageSize)!=null?i:c.pageSize,s=lV(e,d);n&&((n==null?void 0:n.page)!==c.page||(n==null?void 0:n.pageSize)!==c.pageSize)&&(c=n);const m=jve(c.page,s);return m!==c.page&&(c=$({},c,{page:m})),uV(c.pageSize,t),{paginationModel:c}},kbe=(e,t)=>{var n,r;const i=Is(e,"useGridPagination"),c=In(e,bS),d=In(e,Oy),s=Math.floor(t.rowHeight*d);e.current.registerControlState({stateId:"pagination",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:cl,changeEvent:"paginationModelChange"});const m=P.useCallback(U=>{const F=cl(e);U!==F.page&&(i.debug(`Setting page to ${U}`),e.current.setPaginationModel({page:U,pageSize:F.pageSize}))},[e,i]),_=P.useCallback(U=>{const F=cl(e);U!==F.pageSize&&(i.debug(`Setting page size to ${U}`),e.current.setPaginationModel({pageSize:U,page:F.page}))},[e,i]),w=P.useCallback(U=>{var F;const z=cl(e);U!==z&&(i.debug("Setting 'paginationModel' to",U),e.current.updateControlState("pagination",RE((F=t.rowCount)!=null?F:c,t.signature,U),"setPaginationModel"),e.current.forceUpdate())},[e,i,t.rowCount,t.signature,c]);Pr(e,{setPage:m,setPageSize:_,setPaginationModel:w},"public");const k=P.useCallback((U,F)=>{var z,B;const Z=cl(e);return!F.exportOnlyDirtyModels||t.paginationModel!=null||((z=t.initialState)==null||(B=z.pagination)==null?void 0:B.paginationModel)!=null||Z.page!==0&&Z.pageSize!==Fve(t.autoPageSize)?$({},U,{pagination:$({},U.pagination,{paginationModel:Z})}):U},[e,t.paginationModel,(n=t.initialState)==null||(r=n.pagination)==null?void 0:r.paginationModel,t.autoPageSize]),O=P.useCallback((U,F)=>{var z,B,Z;const ee=(z=F.stateToRestore.pagination)!=null&&z.paginationModel?$({},cV(t.autoPageSize),(B=F.stateToRestore.pagination)==null?void 0:B.paginationModel):cl(e);return e.current.updateControlState("pagination",RE((Z=t.rowCount)!=null?Z:c,t.signature,ee),"stateRestorePreProcessing"),U},[e,t.autoPageSize,t.rowCount,t.signature,c]);Ui(e,"exportState",k),Ui(e,"restoreState",O);const R=()=>{var U;const F=cl(e);(U=e.current.virtualScrollerRef)!=null&&U.current&&e.current.scrollToIndexes({rowIndex:F.page*F.pageSize}),e.current.forceUpdate()},L=P.useCallback(()=>{const U=e.current.getRootDimensions();if(!t.autoPageSize||!U)return;const F=ZU(e),z=Math.floor((U.viewportInnerSize.height-F.top-F.bottom)/s);e.current.setPageSize(z)},[e,t.autoPageSize,s]);Nn(e,"viewportInnerSizeChange",L),Nn(e,"paginationModelChange",R),P.useEffect(()=>{},[t.rowCount,t.paginationMode]),P.useEffect(()=>{var U;e.current.updateControlState("pagination",RE((U=t.rowCount)!=null?U:c,t.signature,t.paginationModel))},[e,t.paginationModel,t.rowCount,t.paginationMode,c,t.signature]),P.useEffect(()=>{L()},[L])},Ibe=(e,t)=>{var n,r;return $({},e,{preferencePanel:(n=(r=t.initialState)==null?void 0:r.preferencePanel)!=null?n:{open:!1}})},Mbe=(e,t)=>{var n;const r=Is(e,"useGridPreferencesPanel"),i=P.useRef(),c=P.useRef(),d=P.useCallback(()=>{r.debug("Hiding Preferences Panel");const k=A_(e.current.state);k.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:k.openedPanelValue}),e.current.setState(O=>$({},O,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,r]),s=P.useCallback(()=>{c.current=setTimeout(()=>clearTimeout(i.current),0)},[]),m=P.useCallback(()=>{i.current=setTimeout(d,100)},[d]),_=P.useCallback((k,O,R)=>{r.debug("Opening Preferences Panel"),s(),e.current.setState(L=>$({},L,{preferencePanel:$({},L.preferencePanel,{open:!0,openedPanelValue:k,panelId:O,labelId:R})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:k}),e.current.forceUpdate()},[r,s,e]);Pr(e,{showPreferences:_,hidePreferences:m},"public");const w=P.useCallback((k,O)=>{var R;const L=A_(e.current.state);return!O.exportOnlyDirtyModels||((R=t.initialState)==null?void 0:R.preferencePanel)!=null||L.open?$({},k,{preferencePanel:L}):k},[e,(n=t.initialState)==null?void 0:n.preferencePanel]),E=P.useCallback((k,O)=>{const R=O.stateToRestore.preferencePanel;return R!=null&&e.current.setState(L=>$({},L,{preferencePanel:R})),k},[e]);Ui(e,"exportState",w),Ui(e,"restoreState",E),P.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(c.current)},[])},Abe=["id","field"],Rbe=["id","field"],Obe=cu(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),Dbe=(e,t)=>{const[n,r]=P.useState({}),i=P.useRef(n),c=P.useRef({}),{processRowUpdate:d,onProcessRowUpdateError:s,cellModesModel:m,onCellModesModelChange:_}=t,w=ae=>(...oe)=>{t.editMode===ru.Cell&&ae(...oe)},E=P.useCallback((ae,oe)=>{const me=e.current.getCellParams(ae,oe);if(!e.current.isCellEditable(me))throw new Error(`MUI: The cell with id=${ae} and field=${oe} is not editable.`)},[e]),k=P.useCallback((ae,oe,me)=>{if(e.current.getCellMode(ae,oe)!==me)throw new Error(`MUI: The cell with id=${ae} and field=${oe} is not in ${me} mode.`)},[e]),O=P.useCallback((ae,oe)=>{if(!ae.isEditable||ae.cellMode===xo.Edit)return;const me=$({},ae,{reason:uh.cellDoubleClick});e.current.publishEvent("cellEditStart",me,oe)},[e]),R=P.useCallback((ae,oe)=>{if(ae.cellMode===xo.View||e.current.getCellMode(ae.id,ae.field)===xo.View)return;const me=$({},ae,{reason:Kl.cellFocusOut});e.current.publishEvent("cellEditStop",me,oe)},[e]),L=P.useCallback((ae,oe)=>{if(ae.cellMode===xo.Edit){if(oe.which===229)return;let me;if(oe.key==="Escape"?me=Kl.escapeKeyDown:oe.key==="Enter"?me=Kl.enterKeyDown:oe.key==="Tab"&&(me=oe.shiftKey?Kl.shiftTabKeyDown:Kl.tabKeyDown,oe.preventDefault()),me){const xe=$({},ae,{reason:me});e.current.publishEvent("cellEditStop",xe,oe)}}else if(ae.isEditable){let me;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:oe,cellParams:ae,editMode:"cell"}))return;if(tV(oe)||(oe.ctrlKey||oe.metaKey)&&oe.key==="v"?me=uh.printableKeyDown:oe.key==="Enter"?me=uh.enterKeyDown:(oe.key==="Delete"||oe.key==="Backspace")&&(me=uh.deleteKeyDown),me){const ce=$({},ae,{reason:me,key:oe.key});e.current.publishEvent("cellEditStart",ce,oe)}}},[e]),U=P.useCallback(ae=>{const{id:oe,field:me,reason:xe,key:ce,colDef:ge}=ae,Te={id:oe,field:me};if(xe===uh.printableKeyDown)if(P.version.startsWith("17"))Te.deleteValue=!0;else{const Ue=ge.valueParser?ge.valueParser(ce):ce;Te.initialValue=Ue}else xe===uh.deleteKeyDown&&(Te.deleteValue=!0);e.current.startCellEditMode(Te)},[e]),F=P.useCallback(ae=>{const{id:oe,field:me,reason:xe}=ae;e.current.runPendingEditCellValueMutation(oe,me);let ce;xe===Kl.enterKeyDown?ce="below":xe===Kl.tabKeyDown?ce="right":xe===Kl.shiftTabKeyDown&&(ce="left");const ge=xe==="escapeKeyDown";e.current.stopCellEditMode({id:oe,field:me,ignoreModifications:ge,cellToFocusAfter:ce})},[e]);Nn(e,"cellDoubleClick",w(O)),Nn(e,"cellFocusOut",w(R)),Nn(e,"cellKeyDown",w(L)),Nn(e,"cellEditStart",w(U)),Nn(e,"cellEditStop",w(F)),Bo(e,"cellEditStart",t.onCellEditStart),Bo(e,"cellEditStop",t.onCellEditStop);const z=P.useCallback((ae,oe)=>{const me=Fs(e.current.state);return me[ae]&&me[ae][oe]?xo.Edit:xo.View},[e]),B=Pi(ae=>{const oe=ae!==t.cellModesModel;_&&oe&&_(ae,{}),!(t.cellModesModel&&oe)&&(r(ae),i.current=ae,e.current.publishEvent("cellModesModelChange",ae))}),Z=P.useCallback((ae,oe,me)=>{const xe=$({},i.current);if(me!==null)xe[ae]=$({},xe[ae],{[oe]:$({},me)});else{const ce=xe[ae],ge=mt(ce,[oe].map(fy));xe[ae]=ge,Object.keys(xe[ae]).length===0&&delete xe[ae]}B(xe)},[B]),ee=P.useCallback((ae,oe,me)=>{e.current.setState(xe=>{const ce=$({},xe.editRows);return me!==null?ce[ae]=$({},ce[ae],{[oe]:$({},me)}):(delete ce[ae][oe],Object.keys(ce[ae]).length===0&&delete ce[ae]),$({},xe,{editRows:ce})}),e.current.forceUpdate()},[e]),X=P.useCallback(ae=>{const{id:oe,field:me}=ae,xe=mt(ae,Abe);E(oe,me),k(oe,me,xo.View),Z(oe,me,$({mode:xo.Edit},xe))},[E,k,Z]),W=Pi(ae=>{const{id:oe,field:me,deleteValue:xe,initialValue:ce}=ae;let ge=e.current.getCellValue(oe,me),Te=!1;(xe||ce)&&(ge=xe?"":ce,Te=!0),ee(oe,me,{value:ge,error:!1,isProcessingProps:!1,unstable_updateValueOnRender:Te}),e.current.setCellFocus(oe,me)}),ne=P.useCallback(ae=>{const{id:oe,field:me}=ae,xe=mt(ae,Rbe);k(oe,me,xo.Edit),Z(oe,me,$({mode:xo.View},xe))},[k,Z]),J=Pi(async ae=>{const{id:oe,field:me,ignoreModifications:xe,cellToFocusAfter:ce="none"}=ae;k(oe,me,xo.Edit),e.current.runPendingEditCellValueMutation(oe,me);const ge=()=>{ee(oe,me,null),Z(oe,me,null),ce!=="none"&&e.current.moveFocusToRelativeCell(oe,me,ce)};if(xe){ge();return}const Te=Fs(e.current.state),{error:Ue,isProcessingProps:We}=Te[oe][me];if(Ue||We){c.current[oe][me].mode=xo.Edit,Z(oe,me,{mode:xo.Edit});return}const Ye=e.current.getRowWithUpdatedValuesFromCellEditing(oe,me);if(d){const gt=vt=>{c.current[oe][me].mode=xo.Edit,Z(oe,me,{mode:xo.Edit}),s?s(vt):Obe()};try{const vt=e.current.getRow(oe);Promise.resolve(d(Ye,vt)).then(jt=>{e.current.updateRows([jt]),ge()}).catch(gt)}catch(vt){gt(vt)}}else e.current.updateRows([Ye]),ge()}),re=P.useCallback(async ae=>{var oe,me;const{id:xe,field:ce,value:ge,debounceMs:Te,unstable_skipValueParser:Ue}=ae;E(xe,ce),k(xe,ce,xo.Edit);const We=e.current.getColumn(ce),Ye=e.current.getRow(xe);let gt=ge;We.valueParser&&!Ue&&(gt=We.valueParser(ge,e.current.getCellParams(xe,ce)));let vt=Fs(e.current.state),jt=$({},vt[xe][ce],{value:gt,changeReason:Te?"debouncedSetEditCellValue":"setEditCellValue"});if(We.preProcessEditCellProps){const Rt=ge!==vt[xe][ce].value;jt=$({},jt,{isProcessingProps:!0}),ee(xe,ce,jt),jt=await Promise.resolve(We.preProcessEditCellProps({id:xe,row:Ye,props:jt,hasChanged:Rt}))}return e.current.getCellMode(xe,ce)===xo.View?!1:(vt=Fs(e.current.state),jt=$({},jt,{isProcessingProps:!1}),jt.value=We.preProcessEditCellProps?vt[xe][ce].value:gt,ee(xe,ce,jt),vt=Fs(e.current.state),!((oe=vt[xe])!=null&&(me=oe[ce])!=null&&me.error))},[e,E,k,ee]),se=P.useCallback((ae,oe)=>{const me=e.current.getColumn(oe),xe=Fs(e.current.state),ce=e.current.getRow(ae);if(!xe[ae]||!xe[ae][oe])return e.current.getRow(ae);const{value:ge}=xe[ae][oe];return me.valueSetter?me.valueSetter({value:ge,row:ce}):$({},ce,{[oe]:ge})},[e]),de={getCellMode:z,startCellEditMode:X,stopCellEditMode:ne},pe={setCellEditingEditCellValue:re,getRowWithUpdatedValuesFromCellEditing:se};Pr(e,de,"public"),Pr(e,pe,"private"),P.useEffect(()=>{m&&B(m)},[m,B]),P.useEffect(()=>{const ae=ww(e),oe=c.current;c.current=aV(n),Object.entries(n).forEach(([me,xe])=>{Object.entries(xe).forEach(([ce,ge])=>{var Te,Ue,We;const Ye=((Te=oe[me])==null||(Ue=Te[ce])==null?void 0:Ue.mode)||xo.View,gt=(We=ae[me])!=null?We:me;ge.mode===xo.Edit&&Ye===xo.View?W($({id:gt,field:ce},ge)):ge.mode===xo.View&&Ye===xo.Edit&&J($({id:gt,field:ce},ge))})})},[e,n,W,J])},Lbe=["id"],zbe=["id"],Fbe=cu(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),jbe=(e,t)=>{const[n,r]=P.useState({}),i=P.useRef(n),c=P.useRef({}),d=P.useRef(null),s=P.useRef(null),{processRowUpdate:m,onProcessRowUpdateError:_,rowModesModel:w,onRowModesModelChange:E}=t,k=ce=>(...ge)=>{t.editMode===ru.Row&&ce(...ge)},O=P.useCallback((ce,ge)=>{const Te=e.current.getCellParams(ce,ge);if(!e.current.isCellEditable(Te))throw new Error(`MUI: The cell with id=${ce} and field=${ge} is not editable.`)},[e]),R=P.useCallback((ce,ge)=>{if(e.current.getRowMode(ce)!==ge)throw new Error(`MUI: The row with id=${ce} is not in ${ge} mode.`)},[e]),L=P.useCallback((ce,ge)=>{if(!ce.isEditable||e.current.getRowMode(ce.id)===Do.Edit)return;const Te=e.current.getRowParams(ce.id),Ue=$({},Te,{field:ce.field,reason:dh.cellDoubleClick});e.current.publishEvent("rowEditStart",Ue,ge)},[e]),U=P.useCallback(ce=>{s.current=ce},[]),F=P.useCallback((ce,ge)=>{ce.isEditable&&e.current.getRowMode(ce.id)!==Do.View&&(s.current=null,d.current=setTimeout(()=>{var Te;if(d.current=null,((Te=s.current)==null?void 0:Te.id)!==ce.id){if(!e.current.getRow(ce.id)||e.current.getRowMode(ce.id)===Do.View)return;const Ue=e.current.getRowParams(ce.id),We=$({},Ue,{field:ce.field,reason:Uu.rowFocusOut});e.current.publishEvent("rowEditStop",We,ge)}}))},[e]);P.useEffect(()=>()=>{clearTimeout(d.current)},[]);const z=P.useCallback((ce,ge)=>{if(ce.cellMode===Do.Edit){if(ge.which===229)return;let Te;if(ge.key==="Escape")Te=Uu.escapeKeyDown;else if(ge.key==="Enter")Te=Uu.enterKeyDown;else if(ge.key==="Tab"){const Ue=vS(e).filter(We=>e.current.getColumn(We).type===ES?!0:e.current.isCellEditable(e.current.getCellParams(ce.id,We)));if(ge.shiftKey?ce.field===Ue[0]&&(Te=Uu.shiftTabKeyDown):ce.field===Ue[Ue.length-1]&&(Te=Uu.tabKeyDown),ge.preventDefault(),!Te){const We=Ue.findIndex(gt=>gt===ce.field),Ye=Ue[ge.shiftKey?We-1:We+1];e.current.setCellFocus(ce.id,Ye)}}if(Te){const Ue=$({},e.current.getRowParams(ce.id),{reason:Te,field:ce.field});e.current.publishEvent("rowEditStop",Ue,ge)}}else if(ce.isEditable){let Te;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:ge,cellParams:ce,editMode:"row"}))return;if(tV(ge)||(ge.ctrlKey||ge.metaKey)&&ge.key==="v"?Te=dh.printableKeyDown:ge.key==="Enter"?Te=dh.enterKeyDown:(ge.key==="Delete"||ge.key==="Backspace")&&(Te=dh.deleteKeyDown),Te){const We=e.current.getRowParams(ce.id),Ye=$({},We,{field:ce.field,key:ge.key,reason:Te});e.current.publishEvent("rowEditStart",Ye,ge)}}},[e]),B=P.useCallback(ce=>{const{id:ge,field:Te,reason:Ue,key:We,columns:Ye}=ce,gt={id:ge,fieldToFocus:Te};if(Ue===dh.printableKeyDown)if(P.version.startsWith("17"))gt.deleteValue=!!Te;else{const vt=Ye.find(jt=>jt.field===Te);gt.initialValue=vt.valueParser?vt.valueParser(We):We}else Ue===dh.deleteKeyDown&&(gt.deleteValue=!!Te);e.current.startRowEditMode(gt)},[e]),Z=P.useCallback(ce=>{const{id:ge,reason:Te,field:Ue}=ce;e.current.runPendingEditCellValueMutation(ge);let We;Te===Uu.enterKeyDown?We="below":Te===Uu.tabKeyDown?We="right":Te===Uu.shiftTabKeyDown&&(We="left");const Ye=Te==="escapeKeyDown";e.current.stopRowEditMode({id:ge,ignoreModifications:Ye,field:Ue,cellToFocusAfter:We})},[e]);Nn(e,"cellDoubleClick",k(L)),Nn(e,"cellFocusIn",k(U)),Nn(e,"cellFocusOut",k(F)),Nn(e,"cellKeyDown",k(z)),Nn(e,"rowEditStart",k(B)),Nn(e,"rowEditStop",k(Z)),Bo(e,"rowEditStart",t.onRowEditStart),Bo(e,"rowEditStop",t.onRowEditStop);const ee=P.useCallback(ce=>{if(t.editMode===ru.Cell)return Do.View;const ge=Fs(e.current.state);return ge[ce]&&Object.keys(ge[ce]).length>0?Do.Edit:Do.View},[e,t.editMode]),X=Pi(ce=>{const ge=ce!==t.rowModesModel;E&&ge&&E(ce,{}),!(t.rowModesModel&&ge)&&(r(ce),i.current=ce,e.current.publishEvent("rowModesModelChange",ce))}),W=P.useCallback((ce,ge)=>{const Te=$({},i.current);ge!==null?Te[ce]=$({},ge):delete Te[ce],X(Te)},[X]),ne=P.useCallback((ce,ge)=>{e.current.setState(Te=>{const Ue=$({},Te.editRows);return ge!==null?Ue[ce]=ge:delete Ue[ce],$({},Te,{editRows:Ue})}),e.current.forceUpdate()},[e]),J=P.useCallback((ce,ge,Te)=>{e.current.setState(Ue=>{const We=$({},Ue.editRows);return Te!==null?We[ce]=$({},We[ce],{[ge]:$({},Te)}):(delete We[ce][ge],Object.keys(We[ce]).length===0&&delete We[ce]),$({},Ue,{editRows:We})}),e.current.forceUpdate()},[e]),re=P.useCallback(ce=>{const{id:ge}=ce,Te=mt(ce,Lbe);R(ge,Do.View),W(ge,$({mode:Do.Edit},Te))},[R,W]),se=Pi(ce=>{const{id:ge,fieldToFocus:Te,deleteValue:Ue,initialValue:We}=ce,gt=ed(e).reduce((vt,jt)=>{if(!e.current.getCellParams(ge,jt).isEditable)return vt;let pn=e.current.getCellValue(ge,jt),Ut=!1;return Te===jt&&(Ue||We)&&(pn=Ue?"":We,Ut=!0),vt[jt]={value:pn,error:!1,isProcessingProps:!1,unstable_updateValueOnRender:Ut},vt},{});ne(ge,gt),Te&&e.current.setCellFocus(ge,Te)}),de=P.useCallback(ce=>{const{id:ge}=ce,Te=mt(ce,zbe);R(ge,Do.Edit),W(ge,$({mode:Do.View},Te))},[R,W]),pe=Pi(ce=>{const{id:ge,ignoreModifications:Te,field:Ue,cellToFocusAfter:We="none"}=ce;e.current.runPendingEditCellValueMutation(ge);const Ye=()=>{We!=="none"&&Ue&&e.current.moveFocusToRelativeCell(ge,Ue,We),ne(ge,null),W(ge,null)};if(Te){Ye();return}const gt=Fs(e.current.state),vt=e.current.getRow(ge);if(Object.values(gt[ge]).some(Ut=>Ut.isProcessingProps)){c.current[ge].mode=Do.Edit;return}if(Object.values(gt[ge]).some(Ut=>Ut.error)){c.current[ge].mode=Do.Edit,W(ge,{mode:Do.Edit});return}const pn=e.current.getRowWithUpdatedValuesFromRowEditing(ge);if(m){const Ut=rn=>{c.current[ge].mode=Do.Edit,W(ge,{mode:Do.Edit}),_?_(rn):Fbe()};try{Promise.resolve(m(pn,vt)).then(rn=>{e.current.updateRows([rn]),Ye()}).catch(Ut)}catch(rn){Ut(rn)}}else e.current.updateRows([pn]),Ye()}),ae=P.useCallback(ce=>{const{id:ge,field:Te,value:Ue,debounceMs:We,unstable_skipValueParser:Ye}=ce;O(ge,Te);const gt=e.current.getColumn(Te),vt=e.current.getRow(ge);let jt=Ue;gt.valueParser&&!Ye&&(jt=gt.valueParser(Ue,e.current.getCellParams(ge,Te)));let Rt=Fs(e.current.state),pn=$({},Rt[ge][Te],{value:jt,changeReason:We?"debouncedSetEditCellValue":"setEditCellValue"});return gt.preProcessEditCellProps||J(ge,Te,pn),new Promise(Ut=>{const rn=[];if(gt.preProcessEditCellProps){const et=pn.value!==Rt[ge][Te].value;pn=$({},pn,{isProcessingProps:!0}),J(ge,Te,pn);const Pt=Rt[ge],Ot=mt(Pt,[Te].map(fy)),Yt=Promise.resolve(gt.preProcessEditCellProps({id:ge,row:vt,props:pn,hasChanged:et,otherFieldsProps:Ot})).then(st=>{if(e.current.getRowMode(ge)===Do.View){Ut(!1);return}Rt=Fs(e.current.state),st=$({},st,{isProcessingProps:!1}),st.value=gt.preProcessEditCellProps?Rt[ge][Te].value:jt,J(ge,Te,st)});rn.push(Yt)}Object.entries(Rt[ge]).forEach(([et,Pt])=>{if(et===Te)return;const Ot=e.current.getColumn(et);if(!Ot.preProcessEditCellProps)return;Pt=$({},Pt,{isProcessingProps:!0}),J(ge,et,Pt),Rt=Fs(e.current.state);const Yt=Rt[ge],st=mt(Yt,[et].map(fy)),Ct=Promise.resolve(Ot.preProcessEditCellProps({id:ge,row:vt,props:Pt,hasChanged:!1,otherFieldsProps:st})).then(ht=>{if(e.current.getRowMode(ge)===Do.View){Ut(!1);return}ht=$({},ht,{isProcessingProps:!1}),J(ge,et,ht)});rn.push(Ct)}),Promise.all(rn).then(()=>{e.current.getRowMode(ge)===Do.Edit?(Rt=Fs(e.current.state),Ut(!Rt[ge][Te].error)):Ut(!1)})})},[e,O,J]),oe=P.useCallback(ce=>{const ge=Fs(e.current.state),Te=e.current.getRow(ce);if(!ge[ce])return e.current.getRow(ce);let Ue=$({},Te);return Object.entries(ge[ce]).forEach(([We,Ye])=>{const gt=e.current.getColumn(We);gt.valueSetter?Ue=gt.valueSetter({value:Ye.value,row:Ue}):Ue[We]=Ye.value}),Ue},[e]),me={getRowMode:ee,startRowEditMode:re,stopRowEditMode:de},xe={setRowEditingEditCellValue:ae,getRowWithUpdatedValuesFromRowEditing:oe};Pr(e,me,"public"),Pr(e,xe,"private"),P.useEffect(()=>{w&&X(w)},[w,X]),P.useEffect(()=>{const ce=ww(e),ge=c.current;c.current=aV(n),Object.entries(n).forEach(([Te,Ue])=>{var We,Ye;const gt=((We=ge[Te])==null?void 0:We.mode)||Do.View,vt=(Ye=ce[Te])!=null?Ye:Te;Ue.mode===Do.Edit&&gt===Do.View?se($({id:vt},Ue)):Ue.mode===Do.View&&gt===Do.Edit&&pe($({id:vt},Ue))})},[e,n,se,pe])},$be=e=>$({},e,{editRows:{}}),Bbe=(e,t)=>{Dbe(e,t),jbe(e,t);const n=P.useRef({}),{isCellEditable:r}=t,i=P.useCallback(k=>I_(k.rowNode)||!k.colDef.editable||!k.colDef.renderEditCell?!1:r?r(k):!0,[r]),c=(k,O,R,L)=>{if(!R){L();return}if(n.current[k]||(n.current[k]={}),n.current[k][O]){const[z]=n.current[k][O];clearTimeout(z)}const U=()=>{const[z]=n.current[k][O];clearTimeout(z),L(),delete n.current[k][O]},F=setTimeout(()=>{L(),delete n.current[k][O]},R);n.current[k][O]=[F,U]};P.useEffect(()=>{const k=n.current;return()=>{Object.entries(k).forEach(([O,R])=>{Object.keys(R).forEach(L=>{const[U]=k[O][L];clearTimeout(U),delete k[O][L]})})}},[]);const d=P.useCallback((k,O)=>{if(n.current[k]){if(!O)Object.keys(n.current[k]).forEach(R=>{const[,L]=n.current[k][R];L()});else if(n.current[k][O]){const[,R]=n.current[k][O];R()}}},[]),s=P.useCallback(k=>{const{id:O,field:R,debounceMs:L}=k;return new Promise(U=>{c(O,R,L,async()=>{const F=t.editMode===ru.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(O,R)===xo.Edit){const z=await F(k);U(z)}})})},[e,t.editMode]),m=P.useCallback((k,O)=>t.editMode===ru.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(k,O):e.current.getRowWithUpdatedValuesFromRowEditing(k),[e,t.editMode]),_=P.useCallback((k,O)=>{var R,L;return(R=(L=Fs(e.current.state)[k])==null?void 0:L[O])!=null?R:null},[e]),w={isCellEditable:i,setEditCellValue:s,getRowWithUpdatedValues:m,unstable_getEditCellMeta:_},E={runPendingEditCellValueMutation:d};Pr(e,w,"public"),Pr(e,E,"private")},Nbe=(e,t,n)=>(n.current.caches.rows=S1({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),$({},e,{rows:qU({apiRef:n,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:null,previousTreeDepths:null})})),Ube=(e,t)=>{const n=Is(e,"useGridRows"),r=Zp(e,t),i=P.useRef(Date.now()),c=P.useRef(null),d=P.useCallback(se=>{const de=Ph(e)[se];if(de)return de;const pe=e.current.getRowNode(se);return pe&&I_(pe)?{[C1]:se}:null},[e]),s=P.useMemo(()=>r.rows.reduce((se,{id:de},pe)=>(se[de]=pe,se),{}),[r.rows]),m=P.useCallback(({cache:se,throttle:de})=>{const pe=()=>{c.current=null,i.current=Date.now(),e.current.setState(oe=>$({},oe,{rows:qU({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Ql(e),previousTreeDepths:o$(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(c.current&&(clearTimeout(c.current),c.current=null),e.current.caches.rows=se,!de){pe();return}const ae=t.throttleRowsMs-(Date.now()-i.current);if(ae>0){c.current=setTimeout(pe,ae);return}pe()},[t.throttleRowsMs,t.rowCount,t.loading,e]),_=P.useCallback(se=>{n.debug(`Updating all rows, new length ${se.length}`);const de=S1({rows:se,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),pe=e.current.caches.rows;de.rowsBeforePartialUpdates=pe.rowsBeforePartialUpdates,m({cache:de,throttle:!0})},[n,t.getRowId,t.loading,t.rowCount,m,e]),w=P.useCallback(se=>{if(t.signature===eu.DataGrid&&se.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const de=[];se.forEach(ae=>{const oe=Tw(ae,t.getRowId,"A row was provided without id when calling updateRows():"),me=e.current.getRowNode(oe);if((me==null?void 0:me.type)==="pinnedRow"){const xe=e.current.caches.pinnedRows,ce=xe.idLookup[oe];ce&&(xe.idLookup[oe]=$({},ce,ae))}else de.push(ae)});const pe=$ge({updates:de,getRowId:t.getRowId,previousCache:e.current.caches.rows});m({cache:pe,throttle:!0})},[t.signature,t.getRowId,m,e]),E=P.useCallback(()=>{const se=Xb(e),de=Ph(e);return new Map(se.map(pe=>{var ae;return[pe,(ae=de[pe])!=null?ae:{}]}))},[e]),k=P.useCallback(()=>_S(e),[e]),O=P.useCallback(()=>Xb(e),[e]),R=P.useCallback(se=>s[se],[s]),L=P.useCallback((se,de)=>{const pe=e.current.getRowNode(se);if(!pe)throw new Error(`MUI: No row with id #${se} found`);if(pe.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const ae=$({},pe,{childrenExpanded:de});e.current.setState(oe=>$({},oe,{rows:$({},oe.rows,{tree:$({},oe.rows.tree,{[se]:ae})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",ae)},[e]),U=P.useCallback(se=>{var de;return(de=Ql(e)[se])!=null?de:null},[e]),F=P.useCallback(({skipAutoGeneratedRows:se=!0,groupId:de,applySorting:pe,applyFiltering:ae})=>{const oe=Ql(e);let me;if(pe){const xe=oe[de];if(!xe)return[];const ce=SA(e);me=[];const ge=ce.findIndex(Te=>Te===de)+1;for(let Te=ge;Te<ce.length&&oe[ce[Te]].depth>xe.depth;Te+=1){const Ue=ce[Te];(!se||!I_(oe[Ue]))&&me.push(Ue)}}else me=kA(oe,de,se);if(ae){const xe=NU(e);me=me.filter(ce=>xe[ce]!==!1)}return me},[e]),z=P.useCallback((se,de)=>{const pe=e.current.getRowNode(se);if(!pe)throw new Error(`MUI: No row with id #${se} found`);if(pe.parent!==js)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(pe.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");e.current.setState(ae=>{const oe=Ql(ae,e.current.instanceId)[js],me=oe.children,xe=me.findIndex(ge=>ge===se);if(xe===-1||xe===de)return ae;n.debug(`Moving row ${se} to index ${de}`);const ce=[...me];return ce.splice(de,0,ce.splice(xe,1)[0]),$({},ae,{rows:$({},ae.rows,{tree:$({},ae.rows.tree,{[js]:$({},oe,{children:ce})})})})}),e.current.publishEvent("rowsSet")},[e,n]),B=P.useCallback((se,de)=>{if(t.signature===eu.DataGrid&&de.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(de.length===0)return;if(xS(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const ae=$({},Ql(e)),oe=$({},Ph(e)),me=$({},ww(e)),xe=ae[js],ce=[...xe.children];for(let Te=0;Te<de.length;Te+=1){const Ue=de[Te],We=Tw(Ue,t.getRowId,"A row was provided without id when calling replaceRows()."),[Ye]=ce.splice(se+Te,1,We);delete oe[Ye],delete me[Ye],delete ae[Ye];const gt={id:We,depth:0,parent:js,type:"leaf",groupingKey:null};oe[We]=Ue,me[We]=We,ae[We]=gt}ae[js]=$({},xe,{children:ce});const ge=ce.filter(Te=>ae[Te].type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=oe,e.current.caches.rows.dataRowIdToIdLookup=me,e.current.setState(Te=>$({},Te,{rows:$({},Te.rows,{dataRowIdToModelLookup:oe,dataRowIdToIdLookup:me,dataRowIds:ge,tree:ae})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),Z={getRow:d,getRowModels:E,getRowsCount:k,getAllRowIds:O,setRows:_,updateRows:w,getRowNode:U,getRowIndexRelativeToVisibleRows:R,unstable_replaceRows:B},ee={setRowIndex:z,setRowChildrenExpansion:L,getRowGroupChildren:F},X=P.useCallback(()=>{n.info("Row grouping pre-processing have changed, regenerating the row tree");let se;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?se=$({},e.current.caches.rows,{updates:{type:"full",rows:Xb(e)}}):se=S1({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),m({cache:se,throttle:!1})},[n,e,t.rows,t.getRowId,t.loading,t.rowCount,m]),W=P.useCallback(se=>{se==="rowTreeCreation"&&X()},[X]),ne=P.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==bge(e)&&X()},[e,X]);Nn(e,"activeStrategyProcessorChange",W),Nn(e,"strategyAvailabilityChange",ne);const J=P.useCallback(()=>{e.current.setState(se=>{const de=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Ql(se,e.current.instanceId),treeDepths:o$(se,e.current.instanceId),dataRowIds:Xb(se,e.current.instanceId),dataRowIdToModelLookup:Ph(se,e.current.instanceId),dataRowIdToIdLookup:ww(se,e.current.instanceId)});return $({},se,{rows:$({},se.rows,de,{totalTopLevelRowCount:WU({tree:de.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);FA(e,"hydrateRows",J),Pr(e,Z,"public"),Pr(e,ee,t.signature===eu.DataGrid?"private":"public"),P.useEffect(()=>()=>{c.current!==null&&clearTimeout(c.current)},[]);const re=P.useRef(!0);P.useEffect(()=>{if(re.current){re.current=!1;return}const se=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,de=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,pe=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(se){de||(e.current.setState(ae=>$({},ae,{rows:$({},ae.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),pe||(e.current.setState(ae=>$({},ae,{rows:$({},ae.rows,{totalRowCount:Math.max(t.rowCount||0,ae.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,ae.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}n.debug(`Updating all rows, new length ${t.rows.length}`),m({cache:S1({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1})},[t.rows,t.rowCount,t.getRowId,t.loading,n,m,e])},Vbe=e=>{const t={[js]:$({},Fge(),{children:e})};for(let n=0;n<e.length;n+=1){const r=e[n];t[r]={id:r,depth:0,parent:js,type:"leaf",groupingKey:null}}return{groupingName:Fp,tree:t,treeDepths:{0:e.length},dataRowIds:e}},Hbe=({previousTree:e,actions:t})=>{const n=$({},e),r={};for(let d=0;d<t.remove.length;d+=1){const s=t.remove[d];r[s]=!0,delete n[s]}for(let d=0;d<t.insert.length;d+=1){const s=t.insert[d];n[s]={id:s,depth:0,parent:js,type:"leaf",groupingKey:null}}const i=n[js];let c=[...i.children,...t.insert];return Object.values(r).length&&(c=c.filter(d=>!r[d])),n[js]=$({},i,{children:c}),{groupingName:Fp,tree:n,treeDepths:{0:c.length},dataRowIds:c}},Gbe=e=>e.updates.type==="full"?Vbe(e.updates.rows):Hbe({previousTree:e.previousTree,actions:e.updates.actions}),Wbe=e=>{Aw(e,Fp,"rowTreeCreation",Gbe)},LV=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],qbe=(e,t)=>{var n;return $({},e,{rowSelection:t.rowSelection?(n=LV(t.rowSelectionModel))!=null?n:[]:[]})},Zbe=(e,t)=>{const n=Is(e,"useGridSelection"),r=ae=>(...oe)=>{t.rowSelection&&ae(...oe)},i=P.useMemo(()=>LV(t.rowSelectionModel,sl(e.current.state)),[e,t.rowSelectionModel]),c=P.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:i,propOnChange:t.onRowSelectionModelChange,stateSelector:sl,changeEvent:"rowSelectionChange"});const{checkboxSelection:d,disableMultipleRowSelection:s,disableRowSelectionOnClick:m,isRowSelectable:_}=t,w=!s||d,E=Zp(e,t),k=P.useCallback(ae=>{var oe;let me=ae;const xe=(oe=c.current)!=null?oe:ae,ce=e.current.isRowSelected(ae);if(ce){const ge=W0(e),Te=ge.findIndex(We=>We===xe),Ue=ge.findIndex(We=>We===me);if(Te===Ue)return;Te>Ue?me=ge[Ue+1]:me=ge[Ue-1]}c.current=ae,e.current.selectRowRange({startId:xe,endId:me},!ce)},[e]),O=P.useCallback(ae=>{if(t.signature===eu.DataGrid&&!t.checkboxSelection&&Array.isArray(ae)&&ae.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));sl(e.current.state)!==ae&&(n.debug("Setting selection model"),e.current.setState(me=>$({},me,{rowSelection:t.rowSelection?ae:[]})),e.current.forceUpdate())},[e,n,t.rowSelection,t.signature,t.checkboxSelection]),R=P.useCallback(ae=>sl(e.current.state).includes(ae),[e]),L=P.useCallback(ae=>{if(_&&!_(e.current.getRowParams(ae)))return!1;const oe=e.current.getRowNode(ae);return!((oe==null?void 0:oe.type)==="footer"||(oe==null?void 0:oe.type)==="pinnedRow")},[e,_]),U=P.useCallback(()=>Vve(e),[e]),F=P.useCallback((ae,oe=!0,me=!1)=>{if(e.current.isRowSelectable(ae))if(c.current=ae,me)n.debug(`Setting selection for row ${ae}`),e.current.setRowSelectionModel(oe?[ae]:[]);else{n.debug(`Toggling selection for row ${ae}`);const ce=sl(e.current.state).filter(Te=>Te!==ae);oe&&ce.push(ae),(ce.length<2||w)&&e.current.setRowSelectionModel(ce)}},[e,n,w]),z=P.useCallback((ae,oe=!0,me=!1)=>{n.debug("Setting selection for several rows");const xe=ae.filter(Te=>e.current.isRowSelectable(Te));let ce;if(me)ce=oe?xe:[];else{const Te=$({},Iw(e));xe.forEach(Ue=>{oe?Te[Ue]=Ue:delete Te[Ue]}),ce=Object.values(Te)}(ce.length<2||w)&&e.current.setRowSelectionModel(ce)},[e,n,w]),B=P.useCallback(({startId:ae,endId:oe},me=!0,xe=!1)=>{if(!e.current.getRow(ae)||!e.current.getRow(oe))return;n.debug(`Expanding selection from row ${ae} to row ${oe}`);const ce=W0(e),ge=ce.indexOf(ae),Te=ce.indexOf(oe),[Ue,We]=ge>Te?[Te,ge]:[ge,Te],Ye=ce.slice(Ue,We+1);e.current.selectRows(Ye,me,xe)},[e,n]),Z={selectRow:F,setRowSelectionModel:O,getSelectedRows:U,isRowSelected:R,isRowSelectable:L},ee={selectRows:z,selectRowRange:B};Pr(e,Z,"public"),Pr(e,ee,t.signature===eu.DataGrid?"private":"public");const X=P.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const ae=sl(e.current.state),oe=Ph(e),me=$({},Iw(e));let xe=!1;ae.forEach(ce=>{oe[ce]||(delete me[ce],xe=!0)}),xe&&e.current.setRowSelectionModel(Object.values(me))},[e,t.keepNonExistentRowsSelected]),W=P.useCallback((ae,oe)=>{const me=oe.metaKey||oe.ctrlKey,xe=!d&&!me&&!Pye(oe),ce=!w||xe,ge=e.current.isRowSelected(ae);ce?e.current.selectRow(ae,xe?!0:!ge,!0):e.current.selectRow(ae,!ge,!1)},[e,w,d]),ne=P.useCallback((ae,oe)=>{var me;if(m)return;const xe=(me=oe.target.closest(`.${Ke.cell}`))==null?void 0:me.getAttribute("data-field");xe===ux.field||xe===LA||xe&&e.current.getColumn(xe).type===ES||e.current.getRowNode(ae.id).type==="pinnedRow"||(oe.shiftKey&&(w||d)?k(ae.id):W(ae.id,oe))},[m,w,d,e,k,W]),J=P.useCallback((ae,oe)=>{if(w&&oe.shiftKey){var me;(me=window.getSelection())==null||me.removeAllRanges()}},[w]),re=P.useCallback((ae,oe)=>{oe.nativeEvent.shiftKey?k(ae.id):e.current.selectRow(ae.id,ae.value)},[e,k]),se=P.useCallback(ae=>{const me=t.checkboxSelectionVisibleOnly&&t.pagination?hV(e):W0(e);e.current.selectRows(me,ae.value)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),de=P.useCallback((ae,oe)=>{if(e.current.getCellMode(ae.id,ae.field)!==xo.Edit&&oe.currentTarget.contains(oe.target)){if(kw(oe.key)&&oe.shiftKey){const me=ll(e);if(me&&me.id!==ae.id){oe.preventDefault();const xe=e.current.isRowSelected(me.id);if(!w){e.current.selectRow(me.id,!xe,!0);return}const ce=e.current.getRowIndexRelativeToVisibleRows(me.id),ge=e.current.getRowIndexRelativeToVisibleRows(ae.id);let Te,Ue;ce>ge?xe?(Te=ge,Ue=ce-1):(Te=ge,Ue=ce):xe?(Te=ce+1,Ue=ge):(Te=ce,Ue=ge);const We=E.rows.slice(Te,Ue+1).map(Ye=>Ye.id);e.current.selectRows(We,!xe);return}}if(oe.key===" "&&oe.shiftKey){oe.preventDefault(),W(ae.id,oe);return}oe.key==="a"&&(oe.ctrlKey||oe.metaKey)&&(oe.preventDefault(),z(e.current.getAllRowIds(),!0))}},[e,W,z,E.rows,w]);Nn(e,"sortedRowsSet",r(X)),Nn(e,"rowClick",r(ne)),Nn(e,"rowSelectionCheckboxChange",r(re)),Nn(e,"headerSelectionCheckboxChange",se),Nn(e,"cellMouseDown",r(J)),Nn(e,"cellKeyDown",r(de)),P.useEffect(()=>{i!==void 0&&e.current.setRowSelectionModel(i)},[e,i,t.rowSelection]),P.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const pe=i!=null;P.useEffect(()=>{if(pe||!t.rowSelection)return;const ae=sl(e.current.state);if(L){const oe=ae.filter(me=>L(me));oe.length<ae.length&&e.current.setRowSelectionModel(oe)}},[e,L,pe,t.rowSelection]),P.useEffect(()=>{if(!t.rowSelection||pe)return;const ae=sl(e.current.state);!w&&ae.length>1&&e.current.setRowSelectionModel([])},[e,w,d,pe,t.rowSelection])},Ybe={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Search…",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},Kbe=e=>{const{classes:t}=e;return P.useMemo(()=>hn({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},$r,t),[t])},Xbe=(e,t)=>{const n={classes:t.classes},r=Kbe(n),i=P.useCallback(c=>{const d=$({},ux,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),s=t.checkboxSelection,m=c.lookup[hh]!=null;return s&&!m?(c.lookup[hh]=d,c.orderedFields=[hh,...c.orderedFields]):!s&&m?(delete c.lookup[hh],c.orderedFields=c.orderedFields.filter(_=>_!==hh)):s&&m&&(c.lookup[hh]=$({},d,c.lookup[hh])),c},[e,r,t.checkboxSelection]);Ui(e,"hydrateColumns",i)},Jbe=(e,t)=>{var n,r,i,c;const d=(n=(r=t.sortModel)!=null?r:(i=t.initialState)==null||(c=i.sorting)==null?void 0:c.sortModel)!=null?n:[];return $({},e,{sorting:{sortModel:fV(d,t.disableMultipleColumnsSorting),sortedRows:[]}})},Qbe=(e,t)=>{var n,r;const i=Is(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:il,changeEvent:"sortModelChange"});const c=P.useCallback((W,ne)=>{const J=il(e),re=J.findIndex(de=>de.field===W);let se=[...J];return re>-1?ne?se.splice(re,1,ne):se.splice(re,1):se=[...J,ne],se},[e]),d=P.useCallback((W,ne)=>{var J;const se=il(e).find(pe=>pe.field===W.field);if(se){var de;const pe=ne===void 0?c$((de=W.sortingOrder)!=null?de:t.sortingOrder,se.sort):ne;return pe==null?void 0:$({},se,{sort:pe})}return{field:W.field,sort:ne===void 0?c$((J=W.sortingOrder)!=null?J:t.sortingOrder):ne}},[e,t.sortingOrder]),s=P.useCallback((W,ne)=>ne==null||ne.sortable===!1?W:(ne.sortingOrder||t.sortingOrder).some(re=>!!re)?[...W,"columnMenuSortItem"]:W,[t.sortingOrder]),m=P.useCallback(()=>{e.current.setState(W=>{if(t.sortingMode==="server")return i.debug("Skipping sorting rows as sortingMode = server"),$({},W,{sorting:$({},W.sorting,{sortedRows:kA(Ql(e),js,!1)})});const ne=il(W,e.current.instanceId),J=Zve(ne,e),re=e.current.applyStrategyProcessor("sorting",{sortRowList:J});return $({},W,{sorting:$({},W.sorting,{sortedRows:re})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,i,t.sortingMode]),_=P.useCallback(W=>{il(e)!==W&&(i.debug("Setting sort model"),e.current.setState(l$(W,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,i,t.disableMultipleColumnsSorting]),w=P.useCallback((W,ne,J)=>{if(!W.sortable)return;const re=d(W,ne);let se;!J||t.disableMultipleColumnsSorting?se=re?[re]:[]:se=c(W.field,re),e.current.setSortModel(se)},[e,c,d,t.disableMultipleColumnsSorting]),E=P.useCallback(()=>il(e),[e]),k=P.useCallback(()=>TA(e).map(ne=>ne.model),[e]),O=P.useCallback(()=>SA(e),[e]),R=P.useCallback(W=>e.current.getSortedRowIds()[W],[e]);Pr(e,{getSortModel:E,getSortedRows:k,getSortedRowIds:O,getRowIdFromRowIndex:R,setSortModel:_,sortColumn:w,applySorting:m},"public");const U=P.useCallback((W,ne)=>{var J,re;const se=il(e);return!ne.exportOnlyDirtyModels||t.sortModel!=null||((J=t.initialState)==null||(re=J.sorting)==null?void 0:re.sortModel)!=null||se.length>0?$({},W,{sorting:{sortModel:se}}):W},[e,t.sortModel,(n=t.initialState)==null||(r=n.sorting)==null?void 0:r.sortModel]),F=P.useCallback((W,ne)=>{var J;const re=(J=ne.stateToRestore.sorting)==null?void 0:J.sortModel;return re==null?W:(e.current.setState(l$(re,t.disableMultipleColumnsSorting)),$({},W,{callbacks:[...W.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),z=P.useCallback(W=>{const ne=Ql(e),J=ne[js],re=W.sortRowList?W.sortRowList(J.children.map(se=>ne[se])):[...J.children];return J.footerId!=null&&re.push(J.footerId),re},[e]);Ui(e,"exportState",U),Ui(e,"restoreState",F),Aw(e,Fp,"sorting",z);const B=P.useCallback(({colDef:W},ne)=>{const J=ne.shiftKey||ne.metaKey||ne.ctrlKey;w(W,void 0,J)},[w]),Z=P.useCallback(({colDef:W},ne)=>{Cye(ne.key)&&!ne.ctrlKey&&!ne.metaKey&&w(W,void 0,ne.shiftKey)},[w]),ee=P.useCallback(()=>{const W=il(e),ne=Ay(e);if(W.length>0){const J=W.filter(re=>ne[re.field]);J.length<W.length&&e.current.setSortModel(J)}},[e]),X=P.useCallback(W=>{W==="sorting"&&e.current.applySorting()},[e]);Ui(e,"columnMenu",s),Nn(e,"columnHeaderClick",B),Nn(e,"columnHeaderKeyDown",Z),Nn(e,"rowsSet",e.current.applySorting),Nn(e,"columnsChange",ee),Nn(e,"activeStrategyProcessorChange",X),ax(()=>{e.current.applySorting()}),fi(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function R$(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:i}=e,c=i+r;if(r>t)return i;if(c-t>n)return c-t;if(i<n)return i}const e1e=(e,t)=>{const n=Cl(),r=Is(e,"useGridScroll"),i=e.current.columnHeadersElementRef,c=e.current.virtualScrollerRef,d=In(e,of),s=P.useCallback(E=>{const k=_S(e),O=Es(e);if(!(E.rowIndex==null)&&k===0||O.length===0)return!1;r.debug(`Scrolling to cell at row ${E.rowIndex}, col: ${E.colIndex} `);let L={};if(E.colIndex!=null){const B=my(e);let Z;if(typeof E.rowIndex<"u"){var U;const ee=(U=d[E.rowIndex])==null?void 0:U.id,X=e.current.unstable_getCellColSpanInfo(ee,E.colIndex);X&&!X.spannedByColSpan&&(Z=X.cellProps.width)}typeof Z>"u"&&(Z=O[E.colIndex].computedWidth),L.left=R$({clientHeight:c.current.clientWidth,scrollTop:Math.abs(c.current.scrollLeft),offsetHeight:Z,offsetTop:B[E.colIndex]})}if(E.rowIndex!=null){var F,z;const B=R_(e.current.state),Z=$ve(e),ee=Bve(e),X=t.pagination?E.rowIndex-Z*ee:E.rowIndex,W=B.positions[X+1]?B.positions[X+1]-B.positions[X]:B.currentPageTotalHeight-B.positions[X],ne=((F=c.current.querySelector(`.${Ke["pinnedRows--top"]}`))==null?void 0:F.clientHeight)||0,J=((z=c.current.querySelector(`.${Ke["pinnedRows--bottom"]}`))==null?void 0:z.clientHeight)||0;L.top=R$({clientHeight:c.current.clientHeight-ne-J,scrollTop:c.current.scrollTop,offsetHeight:W,offsetTop:B.positions[X]})}return L=e.current.unstable_applyPipeProcessors("scrollToIndexes",L,E),typeof L.left!==void 0||typeof L.top!==void 0?(e.current.scroll(L),!0):!1},[r,e,c,t.pagination,d]),m=P.useCallback(E=>{if(c.current&&E.left!=null&&i.current){const k=n.direction==="rtl"?-1:1;i.current.scrollLeft=E.left,c.current.scrollLeft=k*E.left,r.debug(`Scrolling left: ${E.left}`)}c.current&&E.top!=null&&(c.current.scrollTop=E.top,r.debug(`Scrolling top: ${E.top}`)),r.debug("Scrolling, updating container, and viewport")},[c,n.direction,i,r]),_=P.useCallback(()=>c!=null&&c.current?{top:c.current.scrollTop,left:c.current.scrollLeft}:{top:0,left:0},[c]);Pr(e,{scroll:m,scrollToIndexes:s,getScrollPosition:_},"public")};function t1e(e,t){Bo(e,"columnHeaderClick",t.onColumnHeaderClick),Bo(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Bo(e,"columnHeaderOver",t.onColumnHeaderOver),Bo(e,"columnHeaderOut",t.onColumnHeaderOut),Bo(e,"columnHeaderEnter",t.onColumnHeaderEnter),Bo(e,"columnHeaderLeave",t.onColumnHeaderLeave),Bo(e,"cellClick",t.onCellClick),Bo(e,"cellDoubleClick",t.onCellDoubleClick),Bo(e,"cellKeyDown",t.onCellKeyDown),Bo(e,"preferencePanelClose",t.onPreferencePanelClose),Bo(e,"preferencePanelOpen",t.onPreferencePanelOpen),Bo(e,"menuOpen",t.onMenuOpen),Bo(e,"menuClose",t.onMenuClose),Bo(e,"rowDoubleClick",t.onRowDoubleClick),Bo(e,"rowClick",t.onRowClick),Bo(e,"stateChange",t.onStateChange)}const n1e=({content:e,container:t,scrollBarSize:n})=>{const r=e.width>t.width,i=e.height>t.height;let c=!1,d=!1;return(r||i)&&(c=r,d=e.height+(c?n:0)>t.height,d&&(c=e.width+n>t.width)),{hasScrollX:c,hasScrollY:d}};function r1e(e,t){const n=Is(e,"useResizeContainer"),r=P.useRef(!1),i=P.useRef(null),c=P.useRef(null),d=In(e,R_),s=In(e,Oy),m=Math.floor(t.rowHeight*s),_=jA(e,t.columnHeaderHeight),w=P.useCallback(()=>{var W;const ne=(W=e.current.rootElementRef)==null?void 0:W.current,J=CA(e),re=ZU(e);if(!i.current)return;let se;if(t.scrollbarSize!=null)se=t.scrollbarSize;else if(!J||!ne)se=0;else{const ge=wi(ne).createElement("div");ge.style.width="99px",ge.style.height="99px",ge.style.position="absolute",ge.style.overflow="scroll",ge.className="scrollDiv",ne.appendChild(ge),se=ge.offsetWidth-ge.clientWidth,ne.removeChild(ge)}let de,pe,ae;if(t.autoHeight)ae=!1,pe=Math.round(J)>Math.round(i.current.width),de={width:i.current.width,height:d.currentPageTotalHeight+(pe?se:0)};else{de={width:i.current.width,height:i.current.height-_};const ce=n1e({content:{width:Math.round(J),height:d.currentPageTotalHeight},container:{width:Math.round(de.width),height:de.height-re.top-re.bottom},scrollBarSize:se});ae=ce.hasScrollY,pe=ce.hasScrollX}const oe={width:de.width-(ae?se:0),height:de.height-(pe?se:0)},me={viewportOuterSize:de,viewportInnerSize:oe,hasScrollX:pe,hasScrollY:ae,scrollBarSize:se},xe=c.current;c.current=me,(me.viewportInnerSize.width!==(xe==null?void 0:xe.viewportInnerSize.width)||me.viewportInnerSize.height!==(xe==null?void 0:xe.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",me.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,d.currentPageTotalHeight,_]),[E,k]=P.useState(),O=P.useMemo(()=>W_(k,60),[]),R=P.useRef();fi(()=>{E&&(w(),e.current.publishEvent("debouncedResize",i.current))},[e,E,w]);const L=P.useCallback(()=>{e.current.computeSizeAndPublishResizeEvent()},[e]),U=P.useCallback(()=>c.current,[]),F=P.useCallback(()=>{const W=e.current.getRootDimensions();if(!W)return 0;const ne=DA(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const re=e.current.getRenderContext(),se=re.lastRowIndex-re.firstRowIndex;return Math.min(se-1,ne.rows.length)}const J=Math.floor(W.viewportInnerSize.height/m);return Math.min(J,ne.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,m]),z=P.useCallback(()=>{var W,ne,J;const re=(W=e.current.mainElementRef)==null?void 0:W.current;if(!re)return;const de=tu(re).getComputedStyle(re),pe=parseFloat(de.height)||0,ae=parseFloat(de.width)||0,oe=pe!==((ne=R.current)==null?void 0:ne.height),me=ae!==((J=R.current)==null?void 0:J.width);if(!R.current||oe||me){const xe={width:ae,height:pe};e.current.publishEvent("resize",xe),R.current=xe}},[e]),B={resize:L,getRootDimensions:U},Z={getViewportPageSize:F,updateGridDimensionsRef:w,computeSizeAndPublishResizeEvent:z};Pr(e,B,"public"),Pr(e,Z,"private");const ee=P.useRef(!0),X=P.useCallback(W=>{i.current=W;const ne=/jsdom/.test(window.navigator.userAgent);if(W.height===0&&!r.current&&!t.autoHeight&&!ne&&(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),W.width===0&&!r.current&&!ne&&(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),ee.current){k(W),ee.current=!1;return}O(W)},[t.autoHeight,O,n]);fi(()=>w(),[w]),Bo(e,"sortedRowsSet",w),Bo(e,"paginationModelChange",w),Bo(e,"columnsChange",w),Nn(e,"resize",X),Bo(e,"debouncedResize",t.onResize)}const o1e=["style"],i1e=["style"];function Ug(e,t,n=0,r=t.length){if(t.length<=0)return-1;if(n>=r)return n;const i=n+Math.floor((r-n)/2),c=t[i];return e<=c?Ug(e,t,n,i):Ug(e,t,i+1,r)}function s1e(e,t,n){let r=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=r,r*=2;return Ug(e,t,Math.floor(n/2),Math.min(n,t.length))}const yh=({firstIndex:e,lastIndex:t,buffer:n,minFirstIndex:r,maxLastIndex:i})=>[gy(e-n,r,i),gy(t+n,r,i)],zV=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,a1e={maxSize:3},l1e=e=>{var t,n;const r=qp(),i=Fn(),c=In(r,Es),{ref:d,disableVirtualization:s,onRenderZonePositioning:m,renderZoneMinColumnIndex:_=0,renderZoneMaxColumnIndex:w=c.length,getRowProps:E}=e,k=Cl(),O=In(r,my),R=In(r,CA),L=In(r,ll),U=In(r,Sw),F=In(r,R_),z=In(r,Iw),B=Zp(r,i),Z=P.useRef(null),ee=P.useRef(null),X=fo(d,ee),[W,ne]=P.useState(null),J=P.useRef(W),re=P.useRef({top:0,left:0}),[se,de]=P.useState({width:null,height:null}),pe=P.useRef(R),ae=P.useRef(Object.create(null)),oe=P.useRef(),me=P.useRef(),xe=P.useRef(wA((et,Pt,Ot)=>et.slice(Pt,Ot),a1e)),ce=P.useCallback(et=>{var Pt,Ot;const Yt=r.current.getLastMeasuredRowIndex();let st=Yt===1/0;(Pt=B.range)!=null&&Pt.lastRowIndex&&!st&&(st=Yt>=B.range.lastRowIndex);const Ct=gy(Yt-(((Ot=B.range)==null?void 0:Ot.firstRowIndex)||0),0,F.positions.length);return st||F.positions[Ct]>=et?Ug(et,F.positions):s1e(et,F.positions,Ct)},[r,(t=B.range)==null?void 0:t.firstRowIndex,(n=B.range)==null?void 0:n.lastRowIndex,F.positions]),ge=P.useCallback(()=>{if(s)return{firstRowIndex:0,lastRowIndex:B.rows.length,firstColumnIndex:0,lastColumnIndex:c.length};const{top:et,left:Pt}=re.current,Ot=Math.min(ce(et),F.positions.length-1),Yt=i.autoHeight?Ot+B.rows.length:ce(et+se.height);let st=!1,Ct=0,ht=O.length;const[en,Kt]=yh({firstIndex:Ot,lastIndex:Yt,minFirstIndex:0,maxLastIndex:B.rows.length,buffer:i.rowBuffer});for(let vn=en;vn<Kt&&!st;vn+=1){const wn=B.rows[vn];st=r.current.rowHasAutoHeight(wn.id)}return st||(Ct=Ug(Math.abs(Pt),O),ht=Ug(Math.abs(Pt)+se.width,O)),{firstRowIndex:Ot,lastRowIndex:Yt,firstColumnIndex:Ct,lastColumnIndex:ht}},[s,ce,F.positions.length,i.autoHeight,i.rowBuffer,B.rows,O,c.length,r,se]);fi(()=>{s?Z.current.style.transform="translate3d(0px, 0px, 0px)":(ee.current.scrollLeft=0,ee.current.scrollTop=0)},[s]),fi(()=>{de({width:ee.current.clientWidth,height:ee.current.clientHeight})},[F.currentPageTotalHeight]);const Te=P.useCallback(()=>{ee.current&&de({width:ee.current.clientWidth,height:ee.current.clientHeight})},[]);Nn(r,"debouncedResize",Te);const Ue=P.useCallback(et=>{const[Pt,Ot]=yh({firstIndex:et.firstRowIndex,lastIndex:et.lastRowIndex,minFirstIndex:0,maxLastIndex:B.rows.length,buffer:i.rowBuffer}),[Yt]=yh({firstIndex:et.firstColumnIndex,lastIndex:et.lastColumnIndex,minFirstIndex:_,maxLastIndex:w,buffer:i.columnBuffer}),st=Bk({firstColumnToRender:Yt,apiRef:r,firstRowToRender:Pt,lastRowToRender:Ot,visibleRows:B.rows}),Ct=k.direction==="ltr"?1:-1,ht=R_(r.current.state).positions[Pt],en=Ct*my(r)[st];Z.current.style.transform=`translate3d(${en}px, ${ht}px, 0px)`,typeof m=="function"&&m({top:ht,left:en})},[r,B.rows,m,_,w,i.columnBuffer,i.rowBuffer,k.direction]),We=P.useCallback(et=>{if(J.current&&zV(et,J.current)){Ue(et);return}ne(et),Ue(et);const[Pt,Ot]=yh({firstIndex:et.firstRowIndex,lastIndex:et.lastRowIndex,minFirstIndex:0,maxLastIndex:B.rows.length,buffer:i.rowBuffer});r.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:Pt,lastRowToRender:Ot}),J.current=et},[r,ne,J,B.rows.length,i.rowBuffer,Ue]);fi(()=>{if(se.width==null)return;const et=ge();We(et);const{top:Pt,left:Ot}=re.current,Yt={top:Pt,left:Ot,renderContext:et};r.current.publishEvent("scrollPositionChange",Yt)},[r,ge,se.width,We]);const Ye=Pi(et=>{const{scrollTop:Pt,scrollLeft:Ot}=et.currentTarget;if(re.current.top=Pt,re.current.left=Ot,!J.current||Pt<0||k.direction==="ltr"&&Ot<0||k.direction==="rtl"&&Ot>0)return;const Yt=s?J.current:ge(),st=Math.abs(Yt.firstRowIndex-J.current.firstRowIndex),Ct=Math.abs(Yt.lastRowIndex-J.current.lastRowIndex),ht=Math.abs(Yt.firstColumnIndex-J.current.firstColumnIndex),en=Math.abs(Yt.lastColumnIndex-J.current.lastColumnIndex),Kt=st>=i.rowThreshold||Ct>=i.rowThreshold||ht>=i.columnThreshold||en>=i.columnThreshold||pe.current!==R;r.current.publishEvent("scrollPositionChange",{top:Pt,left:Ot,renderContext:Kt?Yt:J.current},et),Kt&&(ef.flushSync(()=>{We(Yt)}),pe.current=R)}),gt=Pi(et=>{r.current.publishEvent("virtualScrollerWheel",{},et)}),vt=Pi(et=>{r.current.publishEvent("virtualScrollerTouchMove",{},et)}),jt=(et={renderContext:W})=>{var Pt;const{onRowRender:Ot,renderContext:Yt,minFirstColumn:st=_,maxLastColumn:Ct=w,availableSpace:ht=se.width,rowIndexOffset:en=0,position:Kt="center"}=et;if(!Yt||ht==null)return null;const vn=s?0:i.rowBuffer,wn=s?0:i.columnBuffer,[Ve,ft]=yh({firstIndex:Yt.firstRowIndex,lastIndex:Yt.lastRowIndex,minFirstIndex:0,maxLastIndex:B.rows.length,buffer:vn}),Dt=[];if(et.rows)et.rows.forEach(Ar=>{Dt.push(Ar),r.current.calculateColSpan({rowId:Ar.id,minFirstColumn:st,maxLastColumn:Ct,columns:c})});else{if(!B.range)return null;for(let Ar=Ve;Ar<ft;Ar+=1){const nr=B.rows[Ar];Dt.push(nr),r.current.calculateColSpan({rowId:nr.id,minFirstColumn:st,maxLastColumn:Ct,columns:c})}}const[Qt,yn]=yh({firstIndex:Yt.firstColumnIndex,lastIndex:Yt.lastColumnIndex,minFirstIndex:st,maxLastIndex:Ct,buffer:wn}),on=Bk({firstColumnToRender:Qt,apiRef:r,firstRowToRender:Ve,lastRowToRender:ft,visibleRows:B.rows}),un=xe.current(c,on,yn),dn=((Pt=i.slotProps)==null?void 0:Pt.row)||{},{style:sn}=dn,kn=mt(dn,o1e);(oe.current!==E||me.current!==sn)&&(ae.current=Object.create(null));const ar=[];for(let Ar=0;Ar<Dt.length;Ar+=1){var vr;const{id:nr,model:gi}=Dt[Ar],ti=Ve+Ar===B.rows.length-1,Re=r.current.rowHasAutoHeight(nr)?"auto":r.current.unstable_getRowHeight(nr);let he;z[nr]==null?he=!1:he=r.current.isRowSelectable(nr),Ot&&Ot(nr);const ye=L!==null&&L.id===nr?L.field:null;let Ie=null;U!==null&&U.id===nr&&(Ie=r.current.getCellParams(nr,U.field).cellMode==="view"?U.field:null);const ze=typeof E=="function"&&E(nr,gi)||{},{style:He}=ze,Xe=mt(ze,i1e);if(!ae.current[nr]){const Qe=$({},He,sn);ae.current[nr]=Qe}ar.push(T.jsx(i.slots.row,$({row:gi,rowId:nr,rowHeight:Re,focusedCell:ye,tabbableCell:Ie,renderedColumns:un,visibleColumns:c,firstColumnToRender:on,lastColumnToRender:yn,selected:he,index:en+((B==null||(vr=B.range)==null?void 0:vr.firstRowIndex)||0)+Ve+Ar,containerWidth:ht,isLastVisible:ti,position:Kt},Xe,kn,{style:ae.current[nr]}),nr))}return oe.current=E,me.current=sn,ar},Rt=se.width&&R>=se.width,pn=P.useMemo(()=>{const et=Math.max(F.currentPageTotalHeight,1);let Pt=!1;ee!=null&&ee.current&&et<=(ee==null?void 0:ee.current.clientHeight)&&(Pt=!0);const Ot={width:Rt?R:"auto",height:et,minHeight:Pt?"100%":"auto"};return i.autoHeight&&B.rows.length===0&&(Ot.height=YU(r,i.rowHeight)),Ot},[r,ee,R,F.currentPageTotalHeight,Rt,i.autoHeight,i.rowHeight,B.rows.length]);P.useEffect(()=>{r.current.publishEvent("virtualScrollerContentSizeChange")},[r,pn]);const Ut=P.useMemo(()=>{const et={};return Rt||(et.overflowX="hidden"),i.autoHeight&&(et.overflowY="hidden"),et},[Rt,i.autoHeight]),rn=P.useCallback(()=>J.current,[]);return r.current.register("private",{getRenderContext:rn}),{renderContext:W,updateRenderZonePosition:Ue,getRows:jt,getRootProps:(et={})=>$({ref:X,onScroll:Ye,onWheel:gt,onTouchMove:vt},et,{style:et.style?$({},et.style,Ut):Ut}),getContentProps:({style:et}={})=>({style:et?$({},et,pn):pn}),getRenderZoneProps:()=>({ref:Z})}},c1e=e=>{const{classes:t,headerAlign:n,isDragging:r,showColumnBorder:i,groupId:c}=e;return hn({root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",i&&"columnHeader--showColumnBorder",i&&"columnHeader--withRightBorder","withBorderColor",c===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},$r,t)};function u1e(e){var t;const{groupId:n,width:r,depth:i,maxDepth:c,fields:d,height:s,colIndex:m,hasFocus:_,tabIndex:w,isLastColumn:E}=e,k=Fn(),O=P.useRef(null),R=jr(),L=In(R,GU),U=n?L[n]:{},{headerName:F=n??"",description:z="",headerAlign:B=void 0}=U;let Z;const ee=n&&((t=L[n])==null?void 0:t.renderHeaderGroup),X=P.useMemo(()=>({groupId:n,headerName:F,description:z,depth:i,maxDepth:c,fields:d,colIndex:m,isLastColumn:E}),[n,F,z,i,c,d,m,E]);n&&ee&&(Z=ee(X));const W=k.showColumnVerticalBorder,ne=$({},e,{classes:k.classes,showColumnBorder:W,headerAlign:B,depth:i,isDragging:!1}),J=F??n,re=Ao(),se=n===null?`empty-group-cell-${re}`:n,de=c1e(ne);P.useLayoutEffect(()=>{if(_){const xe=O.current.querySelector('[tabindex="0"]')||O.current;xe==null||xe.focus()}},[R,_]);const pe=P.useCallback(me=>xe=>{xe.currentTarget.contains(xe.target)&&R.current.publishEvent(me,X,xe)},[R,X]),ae=P.useMemo(()=>({onKeyDown:pe("columnGroupHeaderKeyDown"),onFocus:pe("columnGroupHeaderFocus"),onBlur:pe("columnGroupHeaderBlur")}),[pe]),oe=typeof U.headerClassName=="function"?U.headerClassName(X):U.headerClassName;return T.jsx(iV,$({ref:O,classes:de,columnMenuOpen:!1,colIndex:m,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:w,isDraggable:!1,headerComponent:Z,headerClassName:oe,description:z,elementId:se,width:r,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:J,"aria-colspan":d.length,"data-fields":`|-${d.join("-|-")}-|`},ae))}const O$=Gi("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function d1e(e){return!!e.target}const h1e=e=>{const{innerRef:t,minColumnIndex:n=0,visibleColumns:r,sortColumnLookup:i,filterColumnLookup:c,columnPositions:d,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:m,columnHeaderFocus:_,columnGroupHeaderFocus:w,densityFactor:E,headerGroupingMaxDepth:k,columnMenuState:O,columnVisibility:R,columnGroupsHeaderStructure:L,hasOtherElementInTabSequence:U}=e,F=X_(),[z,B]=P.useState(""),[Z,ee]=P.useState(""),X=qp(),W=Fn(),ne=P.useRef(null),J=fo(t,ne),[re,se]=P.useState(null),de=P.useRef(re),pe=P.useRef(0),ae=Zp(X,W),oe=jA(X,W.columnHeaderHeight),me=Math.floor(W.columnHeaderHeight*E),xe=P.useCallback(Ut=>{re&&Ut&&zV(re,Ut)||se(Ut)},[re]);P.useEffect(()=>{X.current.columnHeadersContainerElementRef.current.scrollLeft=0},[X]);const ce=P.useRef(wA(Qxe,{equalityCheck:(Ut,rn)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(et=>Ut[et]===rn[et])})),ge=P.useCallback(Ut=>{const[rn,et]=yh({firstIndex:Ut.firstRowIndex,lastIndex:Ut.lastRowIndex,minFirstIndex:0,maxLastIndex:ae.rows.length,buffer:W.rowBuffer}),Pt=ce.current({firstColumnIndex:Ut.firstColumnIndex,minColumnIndex:n,columnBuffer:W.columnBuffer,firstRowToRender:rn,lastRowToRender:et,apiRef:X,visibleRows:ae.rows}),Ot=F.direction==="ltr"?1:-1,Yt=Pt>0?pe.current-Ot*d[Pt]:pe.current;ne.current.style.transform=`translate3d(${-Yt}px, 0px, 0px)`},[d,n,W.columnBuffer,X,ae.rows,W.rowBuffer,F.direction]);P.useLayoutEffect(()=>{re&&ge(re)},[re,ge]);const Te=P.useCallback(({left:Ut,renderContext:rn=null},et)=>{var Pt,Ot;if(!ne.current||pe.current===Ut&&((Pt=de.current)==null?void 0:Pt.firstColumnIndex)===(rn==null?void 0:rn.firstColumnIndex)&&((Ot=de.current)==null?void 0:Ot.lastColumnIndex)===(rn==null?void 0:rn.lastColumnIndex))return;pe.current=Ut;let Yt=!1;rn!==de.current||!de.current?(d1e(et)?(ef.flushSync(()=>{xe(rn)}),Yt=!0):xe(rn),de.current=rn):Yt=!0,rn&&Yt&&ge(rn)},[ge,xe]),Ue=P.useCallback(Ut=>ee(Ut.field),[]),We=P.useCallback(()=>ee(""),[]),Ye=P.useCallback(Ut=>B(Ut.field),[]),gt=P.useCallback(()=>B(""),[]);Nn(X,"columnResizeStart",Ue),Nn(X,"columnResizeStop",We),Nn(X,"columnHeaderDragStart",Ye),Nn(X,"columnHeaderDragEnd",gt),Nn(X,"scrollPositionChange",Te);const vt=Ut=>{const{renderContext:rn=re,minFirstColumn:et=n,maxLastColumn:Pt=r.length}=Ut||{};if(!rn)return null;const[Ot,Yt]=yh({firstIndex:rn.firstRowIndex,lastIndex:rn.lastRowIndex,minFirstIndex:0,maxLastIndex:ae.rows.length,buffer:W.rowBuffer}),st=ce.current({firstColumnIndex:rn.firstColumnIndex,minColumnIndex:et,columnBuffer:W.columnBuffer,apiRef:X,firstRowToRender:Ot,lastRowToRender:Yt,visibleRows:ae.rows}),Ct=Math.min(rn.lastColumnIndex+W.columnBuffer,Pt);return{renderedColumns:r.slice(st,Ct),firstColumnToRender:st,lastColumnToRender:Ct,minFirstColumn:et,maxLastColumn:Pt}},jt=(Ut,rn={})=>{const et=vt(Ut);if(et==null)return null;const{renderedColumns:Pt,firstColumnToRender:Ot}=et,Yt=[];for(let st=0;st<Pt.length;st+=1){const Ct=Pt[st],ht=Ot+st,en=ht===0,Kt=s!==null&&s.field===Ct.field||en&&!U?0:-1,vn=_!==null&&_.field===Ct.field,wn=O.open&&O.field===Ct.field;Yt.push(T.jsx(Sve,$({},i[Ct.field],{columnMenuOpen:wn,filterItemsCounter:c[Ct.field]&&c[Ct.field].length,headerHeight:me,isDragging:Ct.field===z,colDef:Ct,colIndex:ht,isResizing:Z===Ct.field,hasFocus:vn,tabIndex:Kt},rn),Ct.field))}return T.jsx(O$,{role:"row","aria-rowindex":k+1,ownerState:W,children:Yt})},Rt=Ut=>{if(k===0)return null;const rn=vt(Ut);if(rn==null||rn.renderedColumns.length===0)return null;const{firstColumnToRender:et,lastColumnToRender:Pt}=rn,Ot=[],Yt=[];for(let ht=0;ht<k;ht+=1){var st,Ct;const en=L[ht],Kt=r[et].field,vn=(st=X.current.unstable_getColumnGroupPath(Kt)[ht])!=null?st:null,wn=en.findIndex(({groupId:kn,columnFields:Vn})=>kn===vn&&Vn.includes(Kt)),Ve=r[Pt-1].field,ft=(Ct=X.current.unstable_getColumnGroupPath(Ve)[ht])!=null?Ct:null,Dt=en.findIndex(({groupId:kn,columnFields:Vn})=>kn===ft&&Vn.includes(Ve)),Qt=en.slice(wn,Dt+1).map(kn=>$({},kn,{columnFields:kn.columnFields.filter(Vn=>R[Vn]!==!1)})).filter(kn=>kn.columnFields.length>0),yn=Qt[0].columnFields.indexOf(Kt),un=Qt[0].columnFields.slice(0,yn).reduce((kn,Vn)=>{var ar;const vr=X.current.getColumn(Vn);return kn+((ar=vr.computedWidth)!=null?ar:0)},0);let dn=et;const sn=Qt.map(({groupId:kn,columnFields:Vn})=>{const ar=w!==null&&w.depth===ht&&Vn.includes(w.field),vr=m!==null&&m.depth===ht&&Vn.includes(m.field)?0:-1,Ar={groupId:kn,width:Vn.reduce((nr,gi)=>nr+X.current.getColumn(gi).computedWidth,0),fields:Vn,colIndex:dn,hasFocus:ar,tabIndex:vr};return dn+=Vn.length,Ar});Yt.push({leftOverflow:un,elements:sn})}return Yt.forEach((ht,en)=>{Ot.push(T.jsx(O$,{style:{height:`${me}px`,transform:`translateX(-${ht.leftOverflow}px)`},role:"row","aria-rowindex":en+1,ownerState:W,children:ht.elements.map(({groupId:Kt,width:vn,fields:wn,colIndex:Ve,hasFocus:ft,tabIndex:Dt},Qt)=>T.jsx(u1e,{groupId:Kt,width:vn,fields:wn,colIndex:Ve,depth:en,isLastColumn:Ve===r.length-wn.length,maxDepth:Yt.length,height:me,hasFocus:ft,tabIndex:Dt},Qt))},en))}),Ot},pn={minHeight:oe,maxHeight:oe,lineHeight:`${me}px`};return{renderContext:re,getColumnHeaders:jt,getColumnsToRender:vt,getColumnGroupHeaders:Rt,isDragging:!!z,getRootProps:(Ut={})=>$({style:pn},Ut),getInnerProps:()=>({ref:J,role:"rowgroup"}),headerHeight:me}},f1e=["className"],p1e=e=>{const{classes:t}=e;return hn({root:["columnHeaders","withBorderColor"]},$r,t)},m1e=Gi("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),g1e=P.forwardRef(function(t,n){const{className:r}=t,i=mt(t,f1e),c=Fn(),d=p1e(c);return T.jsx(m1e,$({ref:n,className:$t(r,d.root),ownerState:c},i))}),y1e=["isDragging","className"],v1e=e=>{const{isDragging:t,hasScrollX:n,classes:r}=e;return hn({root:["columnHeadersInner",t&&"columnHeaderDropZone",n&&"columnHeadersInner--scrollable"]},$r,r)},_1e=Gi("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${Ke.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${Ke.columnHeaderDropZone} .${Ke.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${Ke["columnHeadersInner--scrollable"]} .${Ke.columnHeader}:last-child`]:{borderRight:"none"}})),x1e=P.forwardRef(function(t,n){var r,i;const{isDragging:c,className:d}=t,s=mt(t,y1e),m=jr(),_=Fn(),w=$({},_,{isDragging:c,hasScrollX:(r=(i=m.current.getRootDimensions())==null?void 0:i.hasScrollX)!=null?r:!1}),E=v1e(w);return T.jsx(_1e,$({ref:n,className:$t(d,E.root),ownerState:w},s))}),b1e=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],w1e=P.forwardRef(function(t,n){const{innerRef:r,visibleColumns:i,sortColumnLookup:c,filterColumnLookup:d,columnPositions:s,columnHeaderTabIndexState:m,columnGroupHeaderTabIndexState:_,columnHeaderFocus:w,columnGroupHeaderFocus:E,densityFactor:k,headerGroupingMaxDepth:O,columnMenuState:R,columnVisibility:L,columnGroupsHeaderStructure:U,hasOtherElementInTabSequence:F}=t,z=mt(t,b1e),{isDragging:B,getRootProps:Z,getInnerProps:ee,getColumnHeaders:X,getColumnGroupHeaders:W}=h1e({innerRef:r,visibleColumns:i,sortColumnLookup:c,filterColumnLookup:d,columnPositions:s,columnHeaderTabIndexState:m,columnGroupHeaderTabIndexState:_,columnHeaderFocus:w,columnGroupHeaderFocus:E,densityFactor:k,headerGroupingMaxDepth:O,columnMenuState:R,columnVisibility:L,columnGroupsHeaderStructure:U,hasOtherElementInTabSequence:F});return T.jsx(g1e,$({ref:n},Z(z),{children:T.jsxs(x1e,$({isDragging:B},ee(),{children:[W(),X()]}))}))}),C1e=TS(w1e),S1e=P.forwardRef(function(t,n){const i=jr().current.getLocaleText("noResultsOverlayLabel");return T.jsx(MA,$({ref:n},t,{children:i}))}),T1e=["sortingOrder"],E1e=P.memo(function(t){const{sortingOrder:n}=t,r=mt(t,T1e),i=Fn(),[c]=n,d=c==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return d?T.jsx(d,$({},r)):null}),P1e=["native"];function k1e(e){let{native:t}=e,n=mt(e,P1e);return t?T.jsx("option",$({},n)):T.jsx(Oi,$({},n))}const I1e={BooleanCellTrueIcon:_0e,BooleanCellFalseIcon:IE,ColumnMenuIcon:m0e,OpenFilterButtonIcon:l0e,FilterPanelDeleteIcon:IE,ColumnFilteredIcon:p$,ColumnSelectorIcon:u0e,ColumnUnsortedIcon:E1e,ColumnSortedAscendingIcon:u$,ColumnSortedDescendingIcon:d$,ColumnResizeIcon:d0e,DensityCompactIcon:h0e,DensityStandardIcon:f0e,DensityComfortableIcon:p0e,ExportIcon:v0e,MoreActionsIcon:x0e,TreeDataCollapseIcon:f$,TreeDataExpandIcon:h$,GroupingCriteriaCollapseIcon:f$,GroupingCriteriaExpandIcon:h$,DetailPanelExpandIcon:m$,DetailPanelCollapseIcon:g0e,RowReorderIcon:g$,QuickFilterIcon:c0e,QuickFilterClearIcon:IE,ColumnMenuHideIcon:b0e,ColumnMenuSortAscendingIcon:u$,ColumnMenuSortDescendingIcon:d$,ColumnMenuFilterIcon:p$,ColumnMenuManageColumnsIcon:w0e,ColumnMenuClearIcon:C0e,LoadIcon:y0e,FilterPanelAddIcon:m$,FilterPanelRemoveAllIcon:S0e,ColumnReorderIcon:g$},M1e=$({},I1e,{BaseCheckbox:_1,BaseTextField:br,BaseFormControl:lp,BaseSelect:rA,BaseSwitch:Mae,BaseButton:Po,BaseIconButton:Qi,BaseInputAdornment:dy,BaseTooltip:xae,BasePopper:Np,BaseInputLabel:T4,BaseSelectOption:k1e,BaseChip:s4}),A1e=M1e,R1e=$({},A1e,{Cell:Lk,SkeletonCell:Hye,ColumnHeaderFilterIconButton:e0e,ColumnMenu:$0e,ColumnHeaders:C1e,Footer:Q_e,Toolbar:null,PreferencesPanel:f_e,LoadingOverlay:txe,NoResultsOverlay:S1e,NoRowsOverlay:nxe,Pagination:oxe,FilterPanel:z_e,ColumnsPanel:a_e,Panel:h_e,Row:mxe}),FV=e=>{if(e!==void 0)return Object.keys(e).reduce((t,n)=>$({},t,{[`${n.charAt(0).toLowerCase()}${n.slice(1)}`]:e[n]}),{})};function O1e({defaultSlots:e,slots:t,components:n}){const r=t??(n?FV(n):null);return!r||Object.keys(r).length===0?e:$({},e,r)}const D1e=["components","componentsProps"];function L1e(e){var t;const n=Object.keys(e);if(!n.some(c=>c.startsWith("aria-")||c.startsWith("data-")))return e;const r={},i=(t=e.forwardedProps)!=null?t:{};for(let c=0;c<n.length;c+=1){const d=n[c];d.startsWith("aria-")||d.startsWith("data-")?i[d]=e[d]:r[d]=e[d]}return r.forwardedProps=i,r}function z1e(e){return P.useMemo(()=>{const{components:t,componentsProps:n}=e,r=mt(e,D1e);return[t,n,L1e(r)]},[e])}const F1e={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},jV={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:ru.Cell,filterMode:"client",columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	"},j1e=FV(R1e),$1e=e=>{const[t,n,r]=z1e(Xn({props:e,name:"MuiDataGrid"})),i=P.useMemo(()=>$({},Ybe,r.localeText),[r.localeText]),c=P.useMemo(()=>O1e({defaultSlots:j1e,slots:r.slots,components:t}),[t,r.slots]);return P.useMemo(()=>{var d;return $({},jV,r,{localeText:i,slots:c,slotProps:(d=r.slotProps)!=null?d:n},F1e)},[r,i,c,n])},B1e=e=>$({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),D$=(e,t,n)=>typeof e=="number"&&e>0?e:t,N1e=(e,t)=>{const{getRowHeight:n,getRowSpacing:r,getEstimatedRowHeight:i}=t,c=P.useRef(Object.create(null)),d=P.useRef(-1),s=P.useRef(!1),m=In(e,Oy),_=In(e,is),w=In(e,dV),E=In(e,il),k=Zp(e,t),O=In(e,Ry),R=D$(t.rowHeight,jV.rowHeight),L=Math.floor(R*m),U=P.useCallback(()=>{var de,pe;s.current=!1;const ae=xe=>{c.current[xe.id]||(c.current[xe.id]={sizes:{baseCenter:L},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:ce,needsFirstMeasurement:ge,sizes:Te}=c.current[xe.id];let Ue=typeof L=="number"&&L>0?L:52;const We=Te.baseCenter;if(ce)Ue=We;else if(n){const Rt=n($({},xe,{densityFactor:m}));if(Rt==="auto"){if(ge){const pn=i?i($({},xe,{densityFactor:m})):L;Ue=pn??L}else Ue=We;s.current=!0,c.current[xe.id].autoHeight=!0}else Ue=D$(Rt,L),c.current[xe.id].needsFirstMeasurement=!1,c.current[xe.id].autoHeight=!1}else c.current[xe.id].needsFirstMeasurement=!1;const Ye={};for(const Rt in Te)/^base[A-Z]/.test(Rt)&&(Ye[Rt]=Te[Rt]);if(Ye.baseCenter=Ue,r){var gt,vt;const Rt=e.current.getRowIndexRelativeToVisibleRows(xe.id),pn=r($({},xe,{isFirstVisible:Rt===0,isLastVisible:Rt===k.rows.length-1,indexRelativeToCurrentPage:Rt}));Ye.spacingTop=(gt=pn.top)!=null?gt:0,Ye.spacingBottom=(vt=pn.bottom)!=null?vt:0}const jt=e.current.unstable_applyPipeProcessors("rowHeight",Ye,xe);return c.current[xe.id].sizes=jt,jt},oe=[],me=k.rows.reduce((xe,ce)=>{oe.push(xe);let ge=0,Te=0;const Ue=ae(ce);for(const We in Ue){const Ye=Ue[We];/^base[A-Z]/.test(We)?ge=Ye>ge?Ye:ge:Te+=Ye}return xe+ge+Te},0);O==null||(de=O.top)==null||de.forEach(xe=>{ae(xe)}),O==null||(pe=O.bottom)==null||pe.forEach(xe=>{ae(xe)}),e.current.setState(xe=>$({},xe,{rowsMeta:{currentPageTotalHeight:me,positions:oe}})),s.current||(d.current=1/0),e.current.forceUpdate()},[e,k.rows,L,n,r,i,O,m]),F=P.useCallback(de=>{const pe=c.current[de];return pe?pe.sizes.baseCenter:L},[L]),z=de=>{var pe;return(pe=c.current[de])==null?void 0:pe.sizes},B=P.useCallback((de,pe)=>{c.current[de].sizes.baseCenter=pe,c.current[de].isResized=!0,c.current[de].needsFirstMeasurement=!1,U()},[U]),Z=P.useMemo(()=>W_(U),[U]),ee=P.useCallback((de,pe,ae)=>{if(!c.current[de]||!c.current[de].autoHeight)return;const oe=c.current[de].sizes[`base${xt(ae)}`]!==pe;c.current[de].needsFirstMeasurement=!1,c.current[de].sizes[`base${xt(ae)}`]=pe,oe&&Z()},[Z]),X=P.useCallback(de=>{var pe;return((pe=c.current[de])==null?void 0:pe.autoHeight)||!1},[]),W=P.useCallback(()=>d.current,[]),ne=P.useCallback(de=>{s.current&&de>d.current&&(d.current=de)},[]),J=P.useCallback(()=>{c.current={},U()},[U]);P.useEffect(()=>{U()},[L,_,w,E,U]),FA(e,"rowHeight",U);const re={unstable_setLastMeasuredRowIndex:ne,unstable_getRowHeight:F,unstable_getRowInternalSizes:z,unstable_setRowHeight:B,unstable_storeRowHeightMeasurement:ee,resetRowHeights:J},se={getLastMeasuredRowIndex:W,rowHasAutoHeight:X};Pr(e,re,"public"),Pr(e,se,"private")},U1e=e=>{const t=P.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),n=P.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(d=>{d()}),e.current.forceUpdate()},[e]);Pr(e,{exportState:t,restoreState:n},"public")},V1e=e=>{const t=P.useRef({}),n=P.useCallback((_,w,E)=>{const k=t.current;k[_]||(k[_]={}),k[_][w]=E},[]),r=P.useCallback((_,w)=>{var E;return(E=t.current[_])==null?void 0:E[w]},[]),i=P.useCallback(_=>{const{columnIndex:w,rowId:E,minFirstColumnIndex:k,maxLastColumnIndex:O,columns:R}=_,L=R.length,U=R[w],F=typeof U.colSpan=="function"?U.colSpan(e.current.getCellParams(E,U.field)):U.colSpan;if(!F||F===1)return n(E,w,{spannedByColSpan:!1,cellProps:{colSpan:1,width:U.computedWidth}}),{colSpan:1};let z=U.computedWidth;for(let B=1;B<F;B+=1){const Z=w+B;if(Z>=k&&Z<O){const ee=R[Z];z+=ee.computedWidth,n(E,w+B,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(w+F,L-1),leftVisibleCellIndex:w})}n(E,w,{spannedByColSpan:!1,cellProps:{colSpan:F,width:z}})}return{colSpan:F}},[e,n]),c=P.useCallback(({rowId:_,minFirstColumn:w,maxLastColumn:E,columns:k})=>{for(let O=w;O<E;O+=1){const R=i({columnIndex:O,rowId:_,minFirstColumnIndex:w,maxLastColumnIndex:E,columns:k});R.colSpan>1&&(O+=R.colSpan-1)}},[i]),d={unstable_getCellColSpanInfo:r},s={calculateColSpan:c};Pr(e,d,"public"),Pr(e,s,"private");const m=P.useCallback(()=>{t.current={}},[]);Nn(e,"columnOrderChange",m)},$V=(e,t,n)=>{if(KU(e)){if(n[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:r,children:i}=e;i.forEach(c=>{$V(c,[...t,r],n)})},Uk=e=>{if(!e)return{};const t={};return e.forEach(n=>{$V(n,[],t)}),t},Vk=(e,t)=>{const n=d=>{var s;return(s=t[d])!=null?s:[]},r=[],i=Math.max(...e.map(d=>n(d).length)),c=(d,s,m)=>wp(n(d).slice(0,m+1),n(s).slice(0,m+1));for(let d=0;d<i;d+=1){const s=e.reduce((m,_)=>{var w;const E=(w=n(_)[d])!=null?w:null;if(m.length===0)return[{columnFields:[_],groupId:E}];const k=m[m.length-1],O=k.columnFields[k.columnFields.length-1];return k.groupId!==E||!c(O,_,d)?[...m,{columnFields:[_],groupId:E}]:[...m.slice(0,m.length-1),{columnFields:[...k.columnFields,_],groupId:E}]},[]);r.push(s)}return r},H1e=["groupId","children"],$A=e=>{let t={};return e.forEach(n=>{if(KU(n))return;const{groupId:r,children:i}=n,c=mt(n,H1e);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");i||console.warn(`MUI: group groupId=${r} has no children.`);const d=$({},c,{groupId:r}),s=$A(i);if(s[r]!==void 0||t[r]!==void 0)throw new Error(`MUI: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=$({},t,s,{[r]:d})}),$({},t)},G1e=(e,t,n)=>{var r,i,c;if(!((r=t.experimentalFeatures)!=null&&r.columnGrouping))return e;const d=ed(n),s=vS(n),m=$A((i=t.columnGroupingModel)!=null?i:[]),_=Uk((c=t.columnGroupingModel)!=null?c:[]),w=Vk(d,_),E=s.length===0?0:Math.max(...s.map(k=>{var O,R;return(O=(R=_[k])==null?void 0:R.length)!=null?O:0}));return $({},e,{columnGrouping:{lookup:m,unwrappedGroupingModel:_,headerStructure:w,maxDepth:E}})},W1e=(e,t)=>{var n;const r=P.useCallback(m=>{var _;return(_=Oge(e)[m])!=null?_:[]},[e]),i=P.useCallback(()=>GU(e),[e]);Pr(e,{unstable_getColumnGroupPath:r,unstable_getAllGroupDetails:i},"public");const d=P.useCallback(()=>{var m;const _=Uk((m=t.columnGroupingModel)!=null?m:[]);e.current.setState(w=>{var E,k;const O=(E=(k=w.columns)==null?void 0:k.orderedFields)!=null?E:[],R=Vk(O,_);return $({},w,{columnGrouping:$({},w.columnGrouping,{headerStructure:R})})})},[e,t.columnGroupingModel]),s=P.useCallback(m=>{var _;if(!((_=t.experimentalFeatures)!=null&&_.columnGrouping))return;const w=ed(e),E=vS(e),k=$A(m??[]),O=Uk(m??[]),R=Vk(w,O),L=E.length===0?0:Math.max(...E.map(U=>{var F,z;return(F=(z=O[U])==null?void 0:z.length)!=null?F:0}));e.current.setState(U=>$({},U,{columnGrouping:{lookup:k,unwrappedGroupingModel:O,headerStructure:R,maxDepth:L}}))},[e,(n=t.experimentalFeatures)==null?void 0:n.columnGrouping]);Nn(e,"columnIndexChange",d),Nn(e,"columnsChange",()=>{s(t.columnGroupingModel)}),Nn(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),P.useEffect(()=>{s(t.columnGroupingModel)},[s,t.columnGroupingModel])},q1e=(e,t)=>{const n=Ixe(e,t);return Xbe(n,t),Wbe(n),Pa(qbe,n,t),Pa(ebe,n,t),Pa(Nbe,n,t),Pa($be,n,t),Pa(Cbe,n,t),Pa(Jbe,n,t),Pa(Ibe,n,t),Pa(xbe,n,t),Pa(obe,n,t),Pa(Pbe,n,t),Pa(B1e,n,t),Pa(Yxe,n,t),Pa(G1e,n,t),Ebe(n,t),Zbe(n,t),tbe(n,t),Ube(n,t),Xge(n,t),V1e(n),W1e(n,t),Bbe(n,t),Sbe(n,t),Mbe(n,t),wbe(n,t),Qbe(n,t),ibe(n,t),kbe(n,t),N1e(n,t),e1e(n,t),Kxe(n),lbe(n,t),dbe(n,t),Zxe(n,t),r1e(n,t),t1e(n,t),U1e(n),n},Z1e=e=>{const{classes:t}=e;return hn({root:["virtualScroller"]},$r,t)},Y1e=Gi("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"}}),K1e=P.forwardRef(function(t,n){const r=Fn(),i=Z1e(r);return T.jsx(Y1e,$({ref:n},t,{className:$t(i.root,t.className),ownerState:r}))}),X1e=(e,t)=>{const{classes:n}=e;return hn({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},$r,n)},J1e=Gi("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),Q1e=P.forwardRef(function(t,n){var r;const i=Fn(),c=!i.autoHeight&&((r=t.style)==null?void 0:r.minHeight)==="auto",d=X1e(i,c);return T.jsx(J1e,$({ref:n},t,{ownerState:i,className:$t(d.root,t.className)}))}),ewe=["className"],twe=e=>{const{classes:t}=e;return hn({root:["virtualScrollerRenderZone"]},$r,t)},nwe=Gi("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),rwe=P.forwardRef(function(t,n){const{className:r}=t,i=mt(t,ewe),c=Fn(),d=twe(c);return T.jsx(nwe,$({ref:n,className:$t(d.root,r),ownerState:c},i))}),owe=["className","disableVirtualization"],iwe=P.forwardRef(function(t,n){const{className:r,disableVirtualization:i}=t,c=mt(t,owe),{getRootProps:d,getContentProps:s,getRenderZoneProps:m,getRows:_}=l1e({ref:n,disableVirtualization:i});return T.jsxs(K1e,$({className:r},d(c),{children:[T.jsx(Hge,{}),T.jsx(Q1e,$({},s(),{children:T.jsx(rwe,$({},m(),{children:_()}))}))]}))}),BV=P.forwardRef(function(t,n){const r=$1e(t),i=q1e(r.apiRef,r);return T.jsx(gxe,{privateApiRef:i,props:r,children:T.jsxs(Yye,$({className:r.className,style:r.style,sx:r.sx,ref:n},r.forwardedProps,{children:[T.jsx(exe,{}),T.jsx(Lge,{VirtualScrollerComponent:iwe}),T.jsx(zge,{})]}))})}),NV=P.memo(BV);BV.propTypes={apiRef:qe.shape({current:qe.object.isRequired}),"aria-label":qe.string,"aria-labelledby":qe.string,autoHeight:qe.bool,autoPageSize:qe.bool,cellModesModel:qe.object,checkboxSelection:qe.bool,classes:qe.object,clipboardCopyCellDelimiter:qe.string,columnBuffer:qe.number,columnGroupingModel:qe.arrayOf(qe.object),columnHeaderHeight:qe.number,columns:hZ(qe.array.isRequired),columnThreshold:qe.number,columnVisibilityModel:qe.object,components:qe.object,componentsProps:qe.object,density:qe.oneOf(["comfortable","compact","standard"]),disableColumnFilter:qe.bool,disableColumnMenu:qe.bool,disableColumnSelector:qe.bool,disableDensitySelector:qe.bool,disableRowSelectionOnClick:qe.bool,disableVirtualization:qe.bool,editMode:qe.oneOf(["cell","row"]),experimentalFeatures:qe.shape({columnGrouping:qe.bool,warnIfFocusStateIsNotSynced:qe.bool}),filterMode:qe.oneOf(["client","server"]),filterModel:qe.shape({items:qe.arrayOf(qe.shape({field:qe.string.isRequired,id:qe.oneOfType([qe.number,qe.string]),operator:qe.string.isRequired,value:qe.any})).isRequired,logicOperator:qe.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:qe.bool,quickFilterLogicOperator:qe.oneOf(["and","or"]),quickFilterValues:qe.array}),forwardedProps:qe.object,getCellClassName:qe.func,getDetailPanelContent:qe.func,getEstimatedRowHeight:qe.func,getRowClassName:qe.func,getRowHeight:qe.func,getRowId:qe.func,getRowSpacing:qe.func,hideFooter:qe.bool,hideFooterPagination:qe.bool,hideFooterSelectedRowCount:qe.bool,initialState:qe.object,isCellEditable:qe.func,isRowSelectable:qe.func,keepNonExistentRowsSelected:qe.bool,loading:qe.bool,localeText:qe.object,logger:qe.shape({debug:qe.func.isRequired,error:qe.func.isRequired,info:qe.func.isRequired,warn:qe.func.isRequired}),logLevel:qe.oneOf(["debug","error","info","warn",!1]),nonce:qe.string,onCellClick:qe.func,onCellDoubleClick:qe.func,onCellEditStart:qe.func,onCellEditStop:qe.func,onCellKeyDown:qe.func,onCellModesModelChange:qe.func,onClipboardCopy:qe.func,onColumnHeaderClick:qe.func,onColumnHeaderDoubleClick:qe.func,onColumnHeaderEnter:qe.func,onColumnHeaderLeave:qe.func,onColumnHeaderOut:qe.func,onColumnHeaderOver:qe.func,onColumnOrderChange:qe.func,onColumnVisibilityModelChange:qe.func,onFilterModelChange:qe.func,onMenuClose:qe.func,onMenuOpen:qe.func,onPaginationModelChange:qe.func,onPreferencePanelClose:qe.func,onPreferencePanelOpen:qe.func,onProcessRowUpdateError:qe.func,onResize:qe.func,onRowClick:qe.func,onRowDoubleClick:qe.func,onRowEditCommit:qe.func,onRowEditStart:qe.func,onRowEditStop:qe.func,onRowModesModelChange:qe.func,onRowSelectionModelChange:qe.func,onSortModelChange:qe.func,onStateChange:qe.func,pageSizeOptions:qe.arrayOf(qe.oneOfType([qe.number,qe.shape({label:qe.string.isRequired,value:qe.number.isRequired})]).isRequired),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:qe.oneOf(["client","server"]),paginationModel:qe.shape({page:qe.number.isRequired,pageSize:qe.number.isRequired}),processRowUpdate:qe.func,rowBuffer:qe.number,rowCount:qe.number,rowHeight:qe.number,rowModesModel:qe.object,rows:qe.arrayOf(qe.object).isRequired,rowSelection:qe.bool,rowSelectionModel:qe.oneOfType([qe.arrayOf(qe.oneOfType([qe.number,qe.string]).isRequired),qe.number,qe.string]),rowSpacingType:qe.oneOf(["border","margin"]),rowThreshold:qe.number,scrollbarSize:qe.number,showCellVerticalBorder:qe.bool,showColumnVerticalBorder:qe.bool,slotProps:qe.object,slots:qe.object,sortingMode:qe.oneOf(["client","server"]),sortingOrder:qe.arrayOf(qe.oneOf(["asc","desc"])),sortModel:qe.arrayOf(qe.shape({field:qe.string.isRequired,sort:qe.oneOf(["asc","desc"])})),sx:qe.oneOfType([qe.arrayOf(qe.oneOfType([qe.func,qe.object,qe.bool])),qe.func,qe.object]),unstable_ignoreValueFormatterDuringExport:qe.oneOfType([qe.shape({clipboardExport:qe.bool,csvExport:qe.bool}),qe.bool])};const swe=()=>{const[e,t]=P.useState([]),[n,r]=P.useState([]),{userToken:i}=Ga(),[c,d]=P.useState(!1),[s,m]=P.useState("");P.useEffect(()=>{i&&ho.listModele().then(w=>w.json()).then(w=>{t(w)}).catch(w=>{console.log(w)}).finally(()=>d(!1))},[i]),P.useEffect(()=>{e.length>0&&r(e)},[e]),P.useEffect(()=>{if(s){const w=e.filter(E=>E.marque.nom.toLowerCase().includes(s.toLowerCase()));r(w)}else r(e)},[e,s]);const _=[{field:"id",headerName:"ID",width:100},{field:"nom",headerName:"NOM",width:300},{field:"marque",headerName:"MARQUE",width:300,renderCell:w=>w.row.marque.nom}];return T.jsx(Wp,{children:T.jsx(pt,{width:"100%",height:"100%",children:T.jsx(Cn,{container:!0,width:"100%",height:"100%",children:T.jsxs(Cn,{item:!0,md:12,xs:12,sm:12,p:2,children:[T.jsx(uy,{children:"Marque"}),T.jsxs(uy,{"aria-label":"breadcrumb",sx:{mt:2,backgroundColor:"#295ad6",p:1.5,borderRadius:1,color:"#fff"},children:[T.jsx(qh,{underline:"hover",color:"inherit",href:"/dashboard",children:"Dashboard"}),T.jsx(Wt,{children:"Modeles"})]}),T.jsxs(pt,{width:"100%",children:[T.jsx(pt,{sx:{mt:2,borderRadius:5}}),T.jsx(pt,{sx:{mt:1,mb:1},children:T.jsxs(pt,{sx:{display:"flex",alignItems:"center",gap:.2,maxWidth:400,justifyContent:"flex-start",p:.5},children:[T.jsx(pS,{}),T.jsx(au,{sx:{border:"1px solid #ddd",p:.5,borderRadius:2},fullWidth:!0,placeholder:"",onChange:w=>m(w.target.value)}),T.jsx(Po,{variant:"contained",children:"Search"})]})}),c?T.jsx(sS,{}):T.jsx("div",{style:{height:"calc(100vh - 300px)",width:"100%"},children:T.jsx(NV,{rows:n,columns:_})})]})]})})})})},awe="modulepreload",lwe=function(e){return"/"+e},L$={},BA=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(c=>{if(c=lwe(c),c in L$)return;L$[c]=!0;const d=c.endsWith(".css"),s=d?'[rel="stylesheet"]':"";if(!!r)for(let w=i.length-1;w>=0;w--){const E=i[w];if(E.href===c&&(!d||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${s}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":awe,d||(_.as="script",_.crossOrigin=""),_.href=c,document.head.appendChild(_),d)return new Promise((w,E)=>{_.addEventListener("load",w),_.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>t()).catch(c=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c})},cwe=Wi(()=>({btnLeft:{position:"absolute",zIndex:99,left:2,bottom:0,top:0,height:"100%",alignItems:"center"},btnRight:{position:"absolute",zIndex:99,right:2,bottom:0,top:0,height:"100%",alignItems:"center"},card:{cursor:"pointer","&:hover":{boxShadow:"0px 0px 10px #b9f0f4","& > .card-content,.card-action":{backgroundColor:"#bae3fce6"},"& .delete-btn":{display:"flex"}},"& .delete-btn":{display:"none",position:"absolute",right:"5px",top:"5px",zIndex:9999,backgroundColor:"rgba(171,171,171,.5)",borderRadius:"50%"},"& .btn":{borderRadius:3,backgroundColor:"transparent","&:hover":{backgroundColor:"rgba(0,0,0,.5)"}}},btnIconContainer:{borderRadius:8},priceContainer:{position:"absolute",right:0,top:-10,p:.5,pl:2,pr:2,backgroundColor:"#fff"},image:{height:200,cursor:"pointer",position:"relative",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.05)",objectFit:"contain"},objectFit:"fill"}}));function uwe(e){var L;const{voiture:t}=e,[n,r]=P.useState(0),i=cwe(),{images:c,annee:d,description:s,km_parcouru:m,model:_,prix:w,type_carburant:E,boite_vitesse:k}=t,O=()=>{n>=c.length-1?r(0):r(n+1)},R=()=>{n<=0?r(c.length-1):r(n-1)};return T.jsxs(f4,{className:i.card,children:[T.jsxs(pt,{sx:{width:"100%",position:"relative",backgroundColor:"#b9f0f4"},children:[T.jsx(pt,{className:i.btnLeft,sx:{display:c.length>1?"flex":"none"},children:T.jsx(pi,{elevation:0,className:"btn",children:T.jsx(Qi,{onClick:R,children:T.jsx(Pfe,{sx:{color:"#fff"}})})})}),T.jsx(m4,{className:i.image,image:c[n].photo,title:_.nom}),T.jsx(pt,{className:i.btnRight,sx:{display:c.length>1?"flex":"none"},children:T.jsx(pi,{elevation:0,className:"btn",children:T.jsx(Qi,{sx:{backgroundColor:"transparent"},onClick:O,children:T.jsx(kfe,{sx:{color:"#fff"}})})})}),T.jsx(pt,{className:"delete-btn",children:T.jsx(ha,{sx:{borderRadius:5},children:T.jsx(pt,{sx:{color:"#e73232",p:1,borderRadius:5,backgroundColor:"rgba(171,171,171,.6)"},children:T.jsx(gA,{})})})})]}),T.jsxs(p4,{onClick:()=>window.location.href=`/dashboard/voiture/${t.id}/`,className:"card-content",sx:{position:"relative"},children:[T.jsx(pi,{className:i.priceContainer,children:T.jsxs(Wt,{variant:"h6",sx:{color:"RGB(27, 84, 235)",fontSize:"19px",p:.8,fontFamily:"Comic Sans MS"},children:[Lp(w,{space:!0})," XAF"]})}),T.jsxs(Wt,{gutterBottom:!0,variant:"body2",component:"div",sx:{fontSize:"20px"},children:[(L=_.marque)==null?void 0:L.nom," ",_.nom]}),T.jsx(Wt,{variant:"body1",color:"text.secondary",noWrap:!0,children:s}),T.jsx(pt,{sx:{width:"100%"},children:T.jsxs(pt,{sx:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap","& > .text":{fontSize:".75em"}},children:[T.jsx(Wt,{className:"text",color:"text.secondary",children:d}),T.jsx(Ko,{orientation:"vertical",flexItem:!0}),T.jsx(Wt,{className:"text",color:"text.secondary",children:Lp(m*1e3,{units:["m","km","mi","ft"],space:!0})}),T.jsx(Ko,{orientation:"vertical",flexItem:!0}),T.jsx(Wt,{className:"text",color:"text.secondary",children:E.toUpperCase()}),T.jsx(Ko,{orientation:"vertical",flexItem:!0}),T.jsx(Wt,{className:"text",color:"text.secondary",children:k.toUpperCase()})]})})]})]})}function dwe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var UV=P,hwe=dwe(UV);function z$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fwe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var pwe=!!(typeof window<"u"&&window.document&&window.document.createElement);function mwe(e,t,n){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(c){if(typeof c!="function")throw new Error("Expected WrappedComponent to be a React component.");var d=[],s;function m(){s=e(d.map(function(w){return w.props})),_.canUseDOM?t(s):n&&(s=n(s))}var _=function(w){fwe(E,w);function E(){return w.apply(this,arguments)||this}E.peek=function(){return s},E.rewind=function(){if(E.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var R=s;return s=void 0,d=[],R};var k=E.prototype;return k.UNSAFE_componentWillMount=function(){d.push(this),m()},k.componentDidUpdate=function(){m()},k.componentWillUnmount=function(){var R=d.indexOf(this);d.splice(R,1),m()},k.render=function(){return hwe.createElement(c,this.props)},E}(UV.PureComponent);return z$(_,"displayName","SideEffect("+r(c)+")"),z$(_,"canUseDOM",pwe),_}}var gwe=mwe;const ywe=fa(gwe);var vwe=typeof Element<"u",_we=typeof Map=="function",xwe=typeof Set=="function",bwe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function E1(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!E1(e[r],t[r]))return!1;return!0}var c;if(_we&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(c=e.entries();!(r=c.next()).done;)if(!t.has(r.value[0]))return!1;for(c=e.entries();!(r=c.next()).done;)if(!E1(r.value[1],t.get(r.value[0])))return!1;return!0}if(xwe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(c=e.entries();!(r=c.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(bwe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(vwe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!E1(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var wwe=function(t,n){try{return E1(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const Cwe=fa(wwe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var F$=Object.getOwnPropertySymbols,Swe=Object.prototype.hasOwnProperty,Twe=Object.prototype.propertyIsEnumerable;function Ewe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function Pwe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(c){return t[c]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(c){i[c]=c}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var kwe=Pwe()?Object.assign:function(e,t){for(var n,r=Ewe(e),i,c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var d in n)Swe.call(n,d)&&(r[d]=n[d]);if(F$){i=F$(n);for(var s=0;s<i.length;s++)Twe.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r};const Iwe=fa(kwe);var Cp={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},gr={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(gr).map(function(e){return gr[e]});var Xo={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Rw={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},O_={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Mwe=Object.keys(Rw).reduce(function(e,t){return e[Rw[t]]=t,e},{}),Awe=[gr.NOSCRIPT,gr.SCRIPT,gr.STYLE],tc="data-react-helmet",Rwe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Owe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Dwe=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lwe=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},j$=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},zwe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},Hk=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Fwe=function(t){var n=Vg(t,gr.TITLE),r=Vg(t,O_.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Vg(t,O_.DEFAULT_TITLE);return n||i||void 0},jwe=function(t){return Vg(t,O_.ON_CHANGE_CLIENT_STATE)||function(){}},OE=function(t,n){return n.filter(function(r){return typeof r[t]<"u"}).map(function(r){return r[t]}).reduce(function(r,i){return ea({},r,i)},{})},$we=function(t,n){return n.filter(function(r){return typeof r[gr.BASE]<"u"}).map(function(r){return r[gr.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var c=Object.keys(i),d=0;d<c.length;d++){var s=c[d],m=s.toLowerCase();if(t.indexOf(m)!==-1&&i[m])return r.concat(i)}return r},[])},f0=function(t,n,r){var i={};return r.filter(function(c){return Array.isArray(c[t])?!0:(typeof c[t]<"u"&&Vwe("Helmet: "+t+' should be of type "Array". Instead found type "'+Rwe(c[t])+'"'),!1)}).map(function(c){return c[t]}).reverse().reduce(function(c,d){var s={};d.filter(function(k){for(var O=void 0,R=Object.keys(k),L=0;L<R.length;L++){var U=R[L],F=U.toLowerCase();n.indexOf(F)!==-1&&!(O===Xo.REL&&k[O].toLowerCase()==="canonical")&&!(F===Xo.REL&&k[F].toLowerCase()==="stylesheet")&&(O=F),n.indexOf(U)!==-1&&(U===Xo.INNER_HTML||U===Xo.CSS_TEXT||U===Xo.ITEM_PROP)&&(O=U)}if(!O||!k[O])return!1;var z=k[O].toLowerCase();return i[O]||(i[O]={}),s[O]||(s[O]={}),i[O][z]?!1:(s[O][z]=!0,!0)}).reverse().forEach(function(k){return c.push(k)});for(var m=Object.keys(s),_=0;_<m.length;_++){var w=m[_],E=Iwe({},i[w],s[w]);i[w]=E}return c},[]).reverse()},Vg=function(t,n){for(var r=t.length-1;r>=0;r--){var i=t[r];if(i.hasOwnProperty(n))return i[n]}return null},Bwe=function(t){return{baseTag:$we([Xo.HREF,Xo.TARGET],t),bodyAttributes:OE(Cp.BODY,t),defer:Vg(t,O_.DEFER),encode:Vg(t,O_.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:OE(Cp.HTML,t),linkTags:f0(gr.LINK,[Xo.REL,Xo.HREF],t),metaTags:f0(gr.META,[Xo.NAME,Xo.CHARSET,Xo.HTTPEQUIV,Xo.PROPERTY,Xo.ITEM_PROP],t),noscriptTags:f0(gr.NOSCRIPT,[Xo.INNER_HTML],t),onChangeClientState:jwe(t),scriptTags:f0(gr.SCRIPT,[Xo.SRC,Xo.INNER_HTML],t),styleTags:f0(gr.STYLE,[Xo.CSS_TEXT],t),title:Fwe(t),titleAttributes:OE(Cp.TITLE,t)}},Gk=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Gk(t)},0)}}(),$$=function(t){return clearTimeout(t)},Nwe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Gk:global.requestAnimationFrame||Gk,Uwe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||$$:global.cancelAnimationFrame||$$,Vwe=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},p0=null,Hwe=function(t){p0&&Uwe(p0),t.defer?p0=Nwe(function(){B$(t,function(){p0=null})}):(B$(t),p0=null)},B$=function(t,n){var r=t.baseTag,i=t.bodyAttributes,c=t.htmlAttributes,d=t.linkTags,s=t.metaTags,m=t.noscriptTags,_=t.onChangeClientState,w=t.scriptTags,E=t.styleTags,k=t.title,O=t.titleAttributes;Wk(gr.BODY,i),Wk(gr.HTML,c),Gwe(k,O);var R={baseTag:og(gr.BASE,r),linkTags:og(gr.LINK,d),metaTags:og(gr.META,s),noscriptTags:og(gr.NOSCRIPT,m),scriptTags:og(gr.SCRIPT,w),styleTags:og(gr.STYLE,E)},L={},U={};Object.keys(R).forEach(function(F){var z=R[F],B=z.newTags,Z=z.oldTags;B.length&&(L[F]=B),Z.length&&(U[F]=R[F].oldTags)}),n&&n(),_(t,L,U)},VV=function(t){return Array.isArray(t)?t.join(""):t},Gwe=function(t,n){typeof t<"u"&&document.title!==t&&(document.title=VV(t)),Wk(gr.TITLE,n)},Wk=function(t,n){var r=document.getElementsByTagName(t)[0];if(r){for(var i=r.getAttribute(tc),c=i?i.split(","):[],d=[].concat(c),s=Object.keys(n),m=0;m<s.length;m++){var _=s[m],w=n[_]||"";r.getAttribute(_)!==w&&r.setAttribute(_,w),c.indexOf(_)===-1&&c.push(_);var E=d.indexOf(_);E!==-1&&d.splice(E,1)}for(var k=d.length-1;k>=0;k--)r.removeAttribute(d[k]);c.length===d.length?r.removeAttribute(tc):r.getAttribute(tc)!==s.join(",")&&r.setAttribute(tc,s.join(","))}},og=function(t,n){var r=document.head||document.querySelector(gr.HEAD),i=r.querySelectorAll(t+"["+tc+"]"),c=Array.prototype.slice.call(i),d=[],s=void 0;return n&&n.length&&n.forEach(function(m){var _=document.createElement(t);for(var w in m)if(m.hasOwnProperty(w))if(w===Xo.INNER_HTML)_.innerHTML=m.innerHTML;else if(w===Xo.CSS_TEXT)_.styleSheet?_.styleSheet.cssText=m.cssText:_.appendChild(document.createTextNode(m.cssText));else{var E=typeof m[w]>"u"?"":m[w];_.setAttribute(w,E)}_.setAttribute(tc,"true"),c.some(function(k,O){return s=O,_.isEqualNode(k)})?c.splice(s,1):d.push(_)}),c.forEach(function(m){return m.parentNode.removeChild(m)}),d.forEach(function(m){return r.appendChild(m)}),{oldTags:c,newTags:d}},HV=function(t){return Object.keys(t).reduce(function(n,r){var i=typeof t[r]<"u"?r+'="'+t[r]+'"':""+r;return n?n+" "+i:i},"")},Wwe=function(t,n,r,i){var c=HV(r),d=VV(n);return c?"<"+t+" "+tc+'="true" '+c+">"+Hk(d,i)+"</"+t+">":"<"+t+" "+tc+'="true">'+Hk(d,i)+"</"+t+">"},qwe=function(t,n,r){return n.reduce(function(i,c){var d=Object.keys(c).filter(function(_){return!(_===Xo.INNER_HTML||_===Xo.CSS_TEXT)}).reduce(function(_,w){var E=typeof c[w]>"u"?w:w+'="'+Hk(c[w],r)+'"';return _?_+" "+E:E},""),s=c.innerHTML||c.cssText||"",m=Awe.indexOf(t)===-1;return i+"<"+t+" "+tc+'="true" '+d+(m?"/>":">"+s+"</"+t+">")},"")},GV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Rw[i]||i]=t[i],r},n)},Zwe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(r,i){return r[Mwe[i]||i]=t[i],r},n)},Ywe=function(t,n,r){var i,c=(i={key:n},i[tc]=!0,i),d=GV(r,c);return[Tr.createElement(gr.TITLE,d,n)]},Kwe=function(t,n){return n.map(function(r,i){var c,d=(c={key:i},c[tc]=!0,c);return Object.keys(r).forEach(function(s){var m=Rw[s]||s;if(m===Xo.INNER_HTML||m===Xo.CSS_TEXT){var _=r.innerHTML||r.cssText;d.dangerouslySetInnerHTML={__html:_}}else d[m]=r[s]}),Tr.createElement(t,d)})},Bu=function(t,n,r){switch(t){case gr.TITLE:return{toComponent:function(){return Ywe(t,n.title,n.titleAttributes)},toString:function(){return Wwe(t,n.title,n.titleAttributes,r)}};case Cp.BODY:case Cp.HTML:return{toComponent:function(){return GV(n)},toString:function(){return HV(n)}};default:return{toComponent:function(){return Kwe(t,n)},toString:function(){return qwe(t,n,r)}}}},WV=function(t){var n=t.baseTag,r=t.bodyAttributes,i=t.encode,c=t.htmlAttributes,d=t.linkTags,s=t.metaTags,m=t.noscriptTags,_=t.scriptTags,w=t.styleTags,E=t.title,k=E===void 0?"":E,O=t.titleAttributes;return{base:Bu(gr.BASE,n,i),bodyAttributes:Bu(Cp.BODY,r,i),htmlAttributes:Bu(Cp.HTML,c,i),link:Bu(gr.LINK,d,i),meta:Bu(gr.META,s,i),noscript:Bu(gr.NOSCRIPT,m,i),script:Bu(gr.SCRIPT,_,i),style:Bu(gr.STYLE,w,i),title:Bu(gr.TITLE,{title:k,titleAttributes:O},i)}},Xwe=function(t){var n,r;return r=n=function(i){Lwe(c,i);function c(){return Owe(this,c),zwe(this,i.apply(this,arguments))}return c.prototype.shouldComponentUpdate=function(s){return!Cwe(this.props,s)},c.prototype.mapNestedChildrenToProps=function(s,m){if(!m)return null;switch(s.type){case gr.SCRIPT:case gr.NOSCRIPT:return{innerHTML:m};case gr.STYLE:return{cssText:m}}throw new Error("<"+s.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},c.prototype.flattenArrayTypeChildren=function(s){var m,_=s.child,w=s.arrayTypeChildren,E=s.newChildProps,k=s.nestedChildren;return ea({},w,(m={},m[_.type]=[].concat(w[_.type]||[],[ea({},E,this.mapNestedChildrenToProps(_,k))]),m))},c.prototype.mapObjectTypeChildren=function(s){var m,_,w=s.child,E=s.newProps,k=s.newChildProps,O=s.nestedChildren;switch(w.type){case gr.TITLE:return ea({},E,(m={},m[w.type]=O,m.titleAttributes=ea({},k),m));case gr.BODY:return ea({},E,{bodyAttributes:ea({},k)});case gr.HTML:return ea({},E,{htmlAttributes:ea({},k)})}return ea({},E,(_={},_[w.type]=ea({},k),_))},c.prototype.mapArrayTypeChildrenToProps=function(s,m){var _=ea({},m);return Object.keys(s).forEach(function(w){var E;_=ea({},_,(E={},E[w]=s[w],E))}),_},c.prototype.warnOnInvalidChildren=function(s,m){return!0},c.prototype.mapChildrenToProps=function(s,m){var _=this,w={};return Tr.Children.forEach(s,function(E){if(!(!E||!E.props)){var k=E.props,O=k.children,R=j$(k,["children"]),L=Zwe(R);switch(_.warnOnInvalidChildren(E,O),E.type){case gr.LINK:case gr.META:case gr.NOSCRIPT:case gr.SCRIPT:case gr.STYLE:w=_.flattenArrayTypeChildren({child:E,arrayTypeChildren:w,newChildProps:L,nestedChildren:O});break;default:m=_.mapObjectTypeChildren({child:E,newProps:m,newChildProps:L,nestedChildren:O});break}}}),m=this.mapArrayTypeChildrenToProps(w,m),m},c.prototype.render=function(){var s=this.props,m=s.children,_=j$(s,["children"]),w=ea({},_);return m&&(w=this.mapChildrenToProps(m,w)),Tr.createElement(t,w)},Dwe(c,null,[{key:"canUseDOM",set:function(s){t.canUseDOM=s}}]),c}(Tr.Component),n.propTypes={base:qe.object,bodyAttributes:qe.object,children:qe.oneOfType([qe.arrayOf(qe.node),qe.node]),defaultTitle:qe.string,defer:qe.bool,encodeSpecialCharacters:qe.bool,htmlAttributes:qe.object,link:qe.arrayOf(qe.object),meta:qe.arrayOf(qe.object),noscript:qe.arrayOf(qe.object),onChangeClientState:qe.func,script:qe.arrayOf(qe.object),style:qe.arrayOf(qe.object),title:qe.string,titleAttributes:qe.object,titleTemplate:qe.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=t.peek,n.rewind=function(){var i=t.rewind();return i||(i=WV({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Jwe=function(){return null},Qwe=ywe(Bwe,Hwe,WV)(Jwe),D_=Xwe(Qwe);D_.renderStatic=D_.rewind;const eCe=Wi(()=>({container:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),dx=e=>{const t=eCe(),{...n}=e;return T.jsx(pt,{className:t.container,...n,children:T.jsx(sS,{variant:"indeterminate",thickness:4,size:100})})},tCe=P.lazy(()=>BA(()=>import("./AddVoiture-f9a022df.js"),["static/AddVoiture-f9a022df.js","static/Restore-84a2913a.js"])),nCe=()=>{const{userToken:e}=Ga(),[t,n]=P.useState(!0),[r,i]=P.useState(!1),[c,d]=P.useState([]),[s,m]=P.useState(""),[_,w]=P.useState([]);return P.useEffect(()=>{n(!0),e&&ho.listVoiture(e).then(E=>E.json()).then(E=>{console.log("Data"),console.log(E),d(E)}).catch(E=>{console.log(E)}).finally(()=>n(!1))},[e]),P.useEffect(()=>{c.length>0&&w(c)},[c]),P.useEffect(()=>{if(s){const E=c.filter(k=>k.annee.toString().includes(s)||k.model.marque.nom.toLowerCase().includes(s)||k.model.nom.toLowerCase().includes(s)||k.num_chassi.toLowerCase().includes(s)||k.type_vehicule.toLowerCase().includes(s)||k.type_carburant.toLowerCase().includes(s));w(E)}else w(c)},[s,c]),T.jsx(Wp,{children:T.jsxs(pt,{sx:{padding:0,margin:0,backgroundColor:"RGBA(226, 254, 254,.2)"},width:"100%",height:"100%",children:[T.jsxs(D_,{children:[T.jsx("meta",{charSet:"utf-8"}),T.jsx("title",{children:"Dashboard | Voiture "})]}),T.jsx(Cn,{container:!0,width:"100%",height:"100%",children:T.jsxs(Cn,{item:!0,md:12,xs:12,sm:12,pl:2,pr:2,children:[T.jsxs(uy,{"aria-label":"breadcrumb",sx:{mt:2,backgroundColor:"#295ad6",p:2,borderRadius:1,color:"#fff"},children:[T.jsx(qh,{underline:"hover",color:"inherit",href:"/dashboard",children:"Dashboard"}),T.jsx(Wt,{children:"Voiture"})]}),T.jsxs(pt,{width:"100%",children:[T.jsxs(pt,{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",children:[T.jsx(pt,{sx:{mt:1,mb:1},children:T.jsxs(pt,{sx:{display:"flex",alignItems:"center",gap:.5,maxWidth:400,justifyContent:"flex-start",p:.5},children:[T.jsx(pS,{}),T.jsx(pi,{sx:{display:"flex",alignItems:"center",borderRadius:3},children:T.jsx(au,{sx:{border:"1px solid #ddd",p:.5,borderRadius:2,minWidth:"300px"},value:s,onChange:E=>m(E.target.value),fullWidth:!0,placeholder:"Search..."})}),T.jsx(Po,{variant:"contained",children:"Search"})]})}),T.jsx(pt,{sx:{mt:1,borderRadius:5},children:T.jsx(Po,{onClick:()=>i(!0),variant:"contained",sx:{borderRadius:8,backgroundColor:"#295ad6"},endIcon:T.jsx(mU,{}),children:"Ajouter Une Voiture"})})]}),T.jsx(P.Suspense,{fallback:T.jsx("div",{children:"Loading..."}),children:T.jsx(tCe,{open:r,onClose:i,onCreate:E=>{d([...c,E]),Ss.fire({toast:!0,position:"bottom-start",icon:"success",title:"Voiture créée avec succès.",showConfirmButton:!1,timer:5e3})}})}),t?T.jsx(dx,{sx:{height:"100%"}}):T.jsx(Cn,{container:!0,width:"100%",gap:2,display:"flex",p:2,flexDirection:"row",children:_==null?void 0:_.map((E,k)=>T.jsx(Cn,{sm:6,md:2.8,item:!0,children:T.jsx("a",{style:{textDecoration:"none"},href:`/dashboard/voiture/${E.id}/`,children:T.jsx(uwe,{voiture:E},k)})},k))})]})]})})]})})};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var qV;function Sn(){return qV.apply(null,arguments)}function rCe(e){qV=e}function sc(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Sp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function to(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function NA(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(to(e,t))return!1;return!0}function ta(e){return e===void 0}function cd(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function hx(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ZV(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function kh(e,t){for(var n in t)to(t,n)&&(e[n]=t[n]);return to(t,"toString")&&(e.toString=t.toString),to(t,"valueOf")&&(e.valueOf=t.valueOf),e}function uu(e,t,n,r){return v6(e,t,n,r,!0).utc()}function oCe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function wr(e){return e._pf==null&&(e._pf=oCe()),e._pf}var qk;Array.prototype.some?qk=Array.prototype.some:qk=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function UA(e){if(e._isValid==null){var t=wr(e),n=qk.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function PS(e){var t=uu(NaN);return e!=null?kh(wr(t),e):wr(t).userInvalidated=!0,t}var N$=Sn.momentProperties=[],DE=!1;function VA(e,t){var n,r,i,c=N$.length;if(ta(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ta(t._i)||(e._i=t._i),ta(t._f)||(e._f=t._f),ta(t._l)||(e._l=t._l),ta(t._strict)||(e._strict=t._strict),ta(t._tzm)||(e._tzm=t._tzm),ta(t._isUTC)||(e._isUTC=t._isUTC),ta(t._offset)||(e._offset=t._offset),ta(t._pf)||(e._pf=wr(t)),ta(t._locale)||(e._locale=t._locale),c>0)for(n=0;n<c;n++)r=N$[n],i=t[r],ta(i)||(e[r]=i);return e}function fx(e){VA(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),DE===!1&&(DE=!0,Sn.updateOffset(this),DE=!1)}function ac(e){return e instanceof fx||e!=null&&e._isAMomentObject!=null}function YV(e){Sn.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Tl(e,t){var n=!0;return kh(function(){if(Sn.deprecationHandler!=null&&Sn.deprecationHandler(null,e),n){var r=[],i,c,d,s=arguments.length;for(c=0;c<s;c++){if(i="",typeof arguments[c]=="object"){i+=`
[`+c+"] ";for(d in arguments[0])to(arguments[0],d)&&(i+=d+": "+arguments[0][d]+", ");i=i.slice(0,-2)}else i=arguments[c];r.push(i)}YV(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var U$={};function KV(e,t){Sn.deprecationHandler!=null&&Sn.deprecationHandler(e,t),U$[e]||(YV(t),U$[e]=!0)}Sn.suppressDeprecationWarnings=!1;Sn.deprecationHandler=null;function du(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function iCe(e){var t,n;for(n in e)to(e,n)&&(t=e[n],du(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Zk(e,t){var n=kh({},e),r;for(r in t)to(t,r)&&(Sp(e[r])&&Sp(t[r])?(n[r]={},kh(n[r],e[r]),kh(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)to(e,r)&&!to(t,r)&&Sp(e[r])&&(n[r]=kh({},n[r]));return n}function HA(e){e!=null&&this.set(e)}var Yk;Object.keys?Yk=Object.keys:Yk=function(e){var t,n=[];for(t in e)to(e,t)&&n.push(t);return n};var sCe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function aCe(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return du(r)?r.call(t,n):r}function ou(e,t,n){var r=""+Math.abs(e),i=t-r.length,c=e>=0;return(c?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var GA=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Jb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,LE={},Hg={};function Yn(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Hg[e]=i),t&&(Hg[t[0]]=function(){return ou(i.apply(this,arguments),t[1],t[2])}),n&&(Hg[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function lCe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function cCe(e){var t=e.match(GA),n,r;for(n=0,r=t.length;n<r;n++)Hg[t[n]]?t[n]=Hg[t[n]]:t[n]=lCe(t[n]);return function(i){var c="",d;for(d=0;d<r;d++)c+=du(t[d])?t[d].call(i,e):t[d];return c}}function P1(e,t){return e.isValid()?(t=XV(t,e.localeData()),LE[t]=LE[t]||cCe(t),LE[t](e)):e.localeData().invalidDate()}function XV(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(Jb.lastIndex=0;n>=0&&Jb.test(e);)e=e.replace(Jb,r),Jb.lastIndex=0,n-=1;return e}var uCe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function dCe(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(GA).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var hCe="Invalid date";function fCe(){return this._invalidDate}var pCe="%d",mCe=/\d{1,2}/;function gCe(e){return this._ordinal.replace("%d",e)}var yCe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function vCe(e,t,n,r){var i=this._relativeTime[n];return du(i)?i(e,t,n,r):i.replace(/%d/i,e)}function _Ce(e,t){var n=this._relativeTime[e>0?"future":"past"];return du(n)?n(t):n.replace(/%s/i,t)}var q0={};function Ms(e,t){var n=e.toLowerCase();q0[n]=q0[n+"s"]=q0[t]=e}function El(e){return typeof e=="string"?q0[e]||q0[e.toLowerCase()]:void 0}function WA(e){var t={},n,r;for(r in e)to(e,r)&&(n=El(r),n&&(t[n]=e[r]));return t}var JV={};function As(e,t){JV[e]=t}function xCe(e){var t=[],n;for(n in e)to(e,n)&&t.push({unit:n,priority:JV[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function kS(e){return e%4===0&&e%100!==0||e%400===0}function hl(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mr(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=hl(t)),n}function Dy(e,t){return function(n){return n!=null?(QV(this,e,n),Sn.updateOffset(this,t),this):Ow(this,e)}}function Ow(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function QV(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&kS(e.year())&&e.month()===1&&e.date()===29?(n=Mr(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),DS(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function bCe(e){return e=El(e),du(this[e])?this[e]():this}function wCe(e,t){if(typeof e=="object"){e=WA(e);var n=xCe(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=El(e),du(this[e]))return this[e](t);return this}var e6=/\d/,Wa=/\d\d/,t6=/\d{3}/,qA=/\d{4}/,IS=/[+-]?\d{6}/,Wo=/\d\d?/,n6=/\d\d\d\d?/,r6=/\d\d\d\d\d\d?/,MS=/\d{1,3}/,ZA=/\d{1,4}/,AS=/[+-]?\d{1,6}/,Ly=/\d+/,RS=/[+-]?\d+/,CCe=/Z|[+-]\d\d:?\d\d/gi,OS=/Z|[+-]\d\d(?::?\d\d)?/gi,SCe=/[+-]?\d+(\.\d{1,3})?/,px=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Dw;Dw={};function Rn(e,t,n){Dw[e]=du(t)?t:function(r,i){return r&&n?n:t}}function TCe(e,t){return to(Dw,e)?Dw[e](t._strict,t._locale):new RegExp(ECe(e))}function ECe(e){return Da(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,c){return n||r||i||c}))}function Da(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Kk={};function Io(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),cd(t)&&(r=function(c,d){d[t]=Mr(c)}),i=e.length,n=0;n<i;n++)Kk[e[n]]=r}function mx(e,t){Io(e,function(n,r,i,c){i._w=i._w||{},t(n,i._w,i,c)})}function PCe(e,t,n){t!=null&&to(Kk,e)&&Kk[e](t,n._a,n,e)}var Ps=0,Ku=1,Wc=2,Vi=3,nc=4,Xu=5,pp=6,kCe=7,ICe=8;function MCe(e,t){return(e%t+t)%t}var Ti;Array.prototype.indexOf?Ti=Array.prototype.indexOf:Ti=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function DS(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=MCe(t,12);return e+=(t-n)/12,n===1?kS(e)?29:28:31-n%7%2}Yn("M",["MM",2],"Mo",function(){return this.month()+1});Yn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Yn("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ms("month","M");As("month",8);Rn("M",Wo);Rn("MM",Wo,Wa);Rn("MMM",function(e,t){return t.monthsShortRegex(e)});Rn("MMMM",function(e,t){return t.monthsRegex(e)});Io(["M","MM"],function(e,t){t[Ku]=Mr(e)-1});Io(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[Ku]=i:wr(n).invalidMonth=e});var ACe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),o6="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),i6=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,RCe=px,OCe=px;function DCe(e,t){return e?sc(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||i6).test(t)?"format":"standalone"][e.month()]:sc(this._months)?this._months:this._months.standalone}function LCe(e,t){return e?sc(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[i6.test(t)?"format":"standalone"][e.month()]:sc(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function zCe(e,t,n){var r,i,c,d=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)c=uu([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(c,"").toLocaleLowerCase();return n?t==="MMM"?(i=Ti.call(this._shortMonthsParse,d),i!==-1?i:null):(i=Ti.call(this._longMonthsParse,d),i!==-1?i:null):t==="MMM"?(i=Ti.call(this._shortMonthsParse,d),i!==-1?i:(i=Ti.call(this._longMonthsParse,d),i!==-1?i:null)):(i=Ti.call(this._longMonthsParse,d),i!==-1?i:(i=Ti.call(this._shortMonthsParse,d),i!==-1?i:null))}function FCe(e,t,n){var r,i,c;if(this._monthsParseExact)return zCe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=uu([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(c="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(c.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function s6(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mr(t);else if(t=e.localeData().monthsParse(t),!cd(t))return e}return n=Math.min(e.date(),DS(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function a6(e){return e!=null?(s6(this,e),Sn.updateOffset(this,!0),this):Ow(this,"Month")}function jCe(){return DS(this.year(),this.month())}function $Ce(e){return this._monthsParseExact?(to(this,"_monthsRegex")||l6.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(to(this,"_monthsShortRegex")||(this._monthsShortRegex=RCe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function BCe(e){return this._monthsParseExact?(to(this,"_monthsRegex")||l6.call(this),e?this._monthsStrictRegex:this._monthsRegex):(to(this,"_monthsRegex")||(this._monthsRegex=OCe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function l6(){function e(d,s){return s.length-d.length}var t=[],n=[],r=[],i,c;for(i=0;i<12;i++)c=uu([2e3,i]),t.push(this.monthsShort(c,"")),n.push(this.months(c,"")),r.push(this.months(c,"")),r.push(this.monthsShort(c,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Da(t[i]),n[i]=Da(n[i]);for(i=0;i<24;i++)r[i]=Da(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Yn("Y",0,0,function(){var e=this.year();return e<=9999?ou(e,4):"+"+e});Yn(0,["YY",2],0,function(){return this.year()%100});Yn(0,["YYYY",4],0,"year");Yn(0,["YYYYY",5],0,"year");Yn(0,["YYYYYY",6,!0],0,"year");Ms("year","y");As("year",1);Rn("Y",RS);Rn("YY",Wo,Wa);Rn("YYYY",ZA,qA);Rn("YYYYY",AS,IS);Rn("YYYYYY",AS,IS);Io(["YYYYY","YYYYYY"],Ps);Io("YYYY",function(e,t){t[Ps]=e.length===2?Sn.parseTwoDigitYear(e):Mr(e)});Io("YY",function(e,t){t[Ps]=Sn.parseTwoDigitYear(e)});Io("Y",function(e,t){t[Ps]=parseInt(e,10)});function Z0(e){return kS(e)?366:365}Sn.parseTwoDigitYear=function(e){return Mr(e)+(Mr(e)>68?1900:2e3)};var c6=Dy("FullYear",!0);function NCe(){return kS(this.year())}function UCe(e,t,n,r,i,c,d){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,c,d),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,c,d),s}function L_(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Lw(e,t,n){var r=7+t-n,i=(7+L_(e,0,r).getUTCDay()-t)%7;return-i+r-1}function u6(e,t,n,r,i){var c=(7+n-r)%7,d=Lw(e,r,i),s=1+7*(t-1)+c+d,m,_;return s<=0?(m=e-1,_=Z0(m)+s):s>Z0(e)?(m=e+1,_=s-Z0(e)):(m=e,_=s),{year:m,dayOfYear:_}}function z_(e,t,n){var r=Lw(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,c,d;return i<1?(d=e.year()-1,c=i+td(d,t,n)):i>td(e.year(),t,n)?(c=i-td(e.year(),t,n),d=e.year()+1):(d=e.year(),c=i),{week:c,year:d}}function td(e,t,n){var r=Lw(e,t,n),i=Lw(e+1,t,n);return(Z0(e)-r+i)/7}Yn("w",["ww",2],"wo","week");Yn("W",["WW",2],"Wo","isoWeek");Ms("week","w");Ms("isoWeek","W");As("week",5);As("isoWeek",5);Rn("w",Wo);Rn("ww",Wo,Wa);Rn("W",Wo);Rn("WW",Wo,Wa);mx(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mr(e)});function VCe(e){return z_(e,this._week.dow,this._week.doy).week}var HCe={dow:0,doy:6};function GCe(){return this._week.dow}function WCe(){return this._week.doy}function qCe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function ZCe(e){var t=z_(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Yn("d",0,"do","day");Yn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Yn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Yn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Yn("e",0,0,"weekday");Yn("E",0,0,"isoWeekday");Ms("day","d");Ms("weekday","e");Ms("isoWeekday","E");As("day",11);As("weekday",11);As("isoWeekday",11);Rn("d",Wo);Rn("e",Wo);Rn("E",Wo);Rn("dd",function(e,t){return t.weekdaysMinRegex(e)});Rn("ddd",function(e,t){return t.weekdaysShortRegex(e)});Rn("dddd",function(e,t){return t.weekdaysRegex(e)});mx(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:wr(n).invalidWeekday=e});mx(["d","e","E"],function(e,t,n,r){t[r]=Mr(e)});function YCe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function KCe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function YA(e,t){return e.slice(t,7).concat(e.slice(0,t))}var XCe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),d6="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),JCe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),QCe=px,eSe=px,tSe=px;function nSe(e,t){var n=sc(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?YA(n,this._week.dow):e?n[e.day()]:n}function rSe(e){return e===!0?YA(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function oSe(e){return e===!0?YA(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function iSe(e,t,n){var r,i,c,d=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)c=uu([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(c,"").toLocaleLowerCase();return n?t==="dddd"?(i=Ti.call(this._weekdaysParse,d),i!==-1?i:null):t==="ddd"?(i=Ti.call(this._shortWeekdaysParse,d),i!==-1?i:null):(i=Ti.call(this._minWeekdaysParse,d),i!==-1?i:null):t==="dddd"?(i=Ti.call(this._weekdaysParse,d),i!==-1||(i=Ti.call(this._shortWeekdaysParse,d),i!==-1)?i:(i=Ti.call(this._minWeekdaysParse,d),i!==-1?i:null)):t==="ddd"?(i=Ti.call(this._shortWeekdaysParse,d),i!==-1||(i=Ti.call(this._weekdaysParse,d),i!==-1)?i:(i=Ti.call(this._minWeekdaysParse,d),i!==-1?i:null)):(i=Ti.call(this._minWeekdaysParse,d),i!==-1||(i=Ti.call(this._weekdaysParse,d),i!==-1)?i:(i=Ti.call(this._shortWeekdaysParse,d),i!==-1?i:null))}function sSe(e,t,n){var r,i,c;if(this._weekdaysParseExact)return iSe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=uu([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(c="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(c.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function aSe(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=YCe(e,this.localeData()),this.add(e-t,"d")):t}function lSe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function cSe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=KCe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function uSe(e){return this._weekdaysParseExact?(to(this,"_weekdaysRegex")||KA.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(to(this,"_weekdaysRegex")||(this._weekdaysRegex=QCe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function dSe(e){return this._weekdaysParseExact?(to(this,"_weekdaysRegex")||KA.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(to(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=eSe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function hSe(e){return this._weekdaysParseExact?(to(this,"_weekdaysRegex")||KA.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(to(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tSe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function KA(){function e(w,E){return E.length-w.length}var t=[],n=[],r=[],i=[],c,d,s,m,_;for(c=0;c<7;c++)d=uu([2e3,1]).day(c),s=Da(this.weekdaysMin(d,"")),m=Da(this.weekdaysShort(d,"")),_=Da(this.weekdays(d,"")),t.push(s),n.push(m),r.push(_),i.push(s),i.push(m),i.push(_);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function XA(){return this.hours()%12||12}function fSe(){return this.hours()||24}Yn("H",["HH",2],0,"hour");Yn("h",["hh",2],0,XA);Yn("k",["kk",2],0,fSe);Yn("hmm",0,0,function(){return""+XA.apply(this)+ou(this.minutes(),2)});Yn("hmmss",0,0,function(){return""+XA.apply(this)+ou(this.minutes(),2)+ou(this.seconds(),2)});Yn("Hmm",0,0,function(){return""+this.hours()+ou(this.minutes(),2)});Yn("Hmmss",0,0,function(){return""+this.hours()+ou(this.minutes(),2)+ou(this.seconds(),2)});function h6(e,t){Yn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}h6("a",!0);h6("A",!1);Ms("hour","h");As("hour",13);function f6(e,t){return t._meridiemParse}Rn("a",f6);Rn("A",f6);Rn("H",Wo);Rn("h",Wo);Rn("k",Wo);Rn("HH",Wo,Wa);Rn("hh",Wo,Wa);Rn("kk",Wo,Wa);Rn("hmm",n6);Rn("hmmss",r6);Rn("Hmm",n6);Rn("Hmmss",r6);Io(["H","HH"],Vi);Io(["k","kk"],function(e,t,n){var r=Mr(e);t[Vi]=r===24?0:r});Io(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Io(["h","hh"],function(e,t,n){t[Vi]=Mr(e),wr(n).bigHour=!0});Io("hmm",function(e,t,n){var r=e.length-2;t[Vi]=Mr(e.substr(0,r)),t[nc]=Mr(e.substr(r)),wr(n).bigHour=!0});Io("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Vi]=Mr(e.substr(0,r)),t[nc]=Mr(e.substr(r,2)),t[Xu]=Mr(e.substr(i)),wr(n).bigHour=!0});Io("Hmm",function(e,t,n){var r=e.length-2;t[Vi]=Mr(e.substr(0,r)),t[nc]=Mr(e.substr(r))});Io("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Vi]=Mr(e.substr(0,r)),t[nc]=Mr(e.substr(r,2)),t[Xu]=Mr(e.substr(i))});function pSe(e){return(e+"").toLowerCase().charAt(0)==="p"}var mSe=/[ap]\.?m?\.?/i,gSe=Dy("Hours",!0);function ySe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var p6={calendar:sCe,longDateFormat:uCe,invalidDate:hCe,ordinal:pCe,dayOfMonthOrdinalParse:mCe,relativeTime:yCe,months:ACe,monthsShort:o6,week:HCe,weekdays:XCe,weekdaysMin:JCe,weekdaysShort:d6,meridiemParse:mSe},Jo={},m0={},F_;function vSe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function V$(e){return e&&e.toLowerCase().replace("_","-")}function _Se(e){for(var t=0,n,r,i,c;t<e.length;){for(c=V$(e[t]).split("-"),n=c.length,r=V$(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=LS(c.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&vSe(c,r)>=n-1)break;n--}t++}return F_}function xSe(e){return e.match("^[^/\\\\]*$")!=null}function LS(e){var t=null,n;if(Jo[e]===void 0&&typeof module<"u"&&module&&module.exports&&xSe(e))try{t=F_._abbr,n=require,n("./locale/"+e),Uh(t)}catch{Jo[e]=null}return Jo[e]}function Uh(e,t){var n;return e&&(ta(t)?n=fd(e):n=JA(e,t),n?F_=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),F_._abbr}function JA(e,t){if(t!==null){var n,r=p6;if(t.abbr=e,Jo[e]!=null)KV("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Jo[e]._config;else if(t.parentLocale!=null)if(Jo[t.parentLocale]!=null)r=Jo[t.parentLocale]._config;else if(n=LS(t.parentLocale),n!=null)r=n._config;else return m0[t.parentLocale]||(m0[t.parentLocale]=[]),m0[t.parentLocale].push({name:e,config:t}),null;return Jo[e]=new HA(Zk(r,t)),m0[e]&&m0[e].forEach(function(i){JA(i.name,i.config)}),Uh(e),Jo[e]}else return delete Jo[e],null}function bSe(e,t){if(t!=null){var n,r,i=p6;Jo[e]!=null&&Jo[e].parentLocale!=null?Jo[e].set(Zk(Jo[e]._config,t)):(r=LS(e),r!=null&&(i=r._config),t=Zk(i,t),r==null&&(t.abbr=e),n=new HA(t),n.parentLocale=Jo[e],Jo[e]=n),Uh(e)}else Jo[e]!=null&&(Jo[e].parentLocale!=null?(Jo[e]=Jo[e].parentLocale,e===Uh()&&Uh(e)):Jo[e]!=null&&delete Jo[e]);return Jo[e]}function fd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return F_;if(!sc(e)){if(t=LS(e),t)return t;e=[e]}return _Se(e)}function wSe(){return Yk(Jo)}function QA(e){var t,n=e._a;return n&&wr(e).overflow===-2&&(t=n[Ku]<0||n[Ku]>11?Ku:n[Wc]<1||n[Wc]>DS(n[Ps],n[Ku])?Wc:n[Vi]<0||n[Vi]>24||n[Vi]===24&&(n[nc]!==0||n[Xu]!==0||n[pp]!==0)?Vi:n[nc]<0||n[nc]>59?nc:n[Xu]<0||n[Xu]>59?Xu:n[pp]<0||n[pp]>999?pp:-1,wr(e)._overflowDayOfYear&&(t<Ps||t>Wc)&&(t=Wc),wr(e)._overflowWeeks&&t===-1&&(t=kCe),wr(e)._overflowWeekday&&t===-1&&(t=ICe),wr(e).overflow=t),e}var CSe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,SSe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,TSe=/Z|[+-]\d\d(?::?\d\d)?/,Qb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],zE=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ESe=/^\/?Date\((-?\d+)/i,PSe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,kSe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function m6(e){var t,n,r=e._i,i=CSe.exec(r)||SSe.exec(r),c,d,s,m,_=Qb.length,w=zE.length;if(i){for(wr(e).iso=!0,t=0,n=_;t<n;t++)if(Qb[t][1].exec(i[1])){d=Qb[t][0],c=Qb[t][2]!==!1;break}if(d==null){e._isValid=!1;return}if(i[3]){for(t=0,n=w;t<n;t++)if(zE[t][1].exec(i[3])){s=(i[2]||" ")+zE[t][0];break}if(s==null){e._isValid=!1;return}}if(!c&&s!=null){e._isValid=!1;return}if(i[4])if(TSe.exec(i[4]))m="Z";else{e._isValid=!1;return}e._f=d+(s||"")+(m||""),tR(e)}else e._isValid=!1}function ISe(e,t,n,r,i,c){var d=[MSe(e),o6.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return c&&d.push(parseInt(c,10)),d}function MSe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ASe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function RSe(e,t,n){if(e){var r=d6.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return wr(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function OSe(e,t,n){if(e)return kSe[e];if(t)return 0;var r=parseInt(n,10),i=r%100,c=(r-i)/100;return c*60+i}function g6(e){var t=PSe.exec(ASe(e._i)),n;if(t){if(n=ISe(t[4],t[3],t[2],t[5],t[6],t[7]),!RSe(t[1],n,e))return;e._a=n,e._tzm=OSe(t[8],t[9],t[10]),e._d=L_.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),wr(e).rfc2822=!0}else e._isValid=!1}function DSe(e){var t=ESe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(m6(e),e._isValid===!1)delete e._isValid;else return;if(g6(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Sn.createFromInputFallback(e)}Sn.createFromInputFallback=Tl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function dg(e,t,n){return e??t??n}function LSe(e){var t=new Date(Sn.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function eR(e){var t,n,r=[],i,c,d;if(!e._d){for(i=LSe(e),e._w&&e._a[Wc]==null&&e._a[Ku]==null&&zSe(e),e._dayOfYear!=null&&(d=dg(e._a[Ps],i[Ps]),(e._dayOfYear>Z0(d)||e._dayOfYear===0)&&(wr(e)._overflowDayOfYear=!0),n=L_(d,0,e._dayOfYear),e._a[Ku]=n.getUTCMonth(),e._a[Wc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Vi]===24&&e._a[nc]===0&&e._a[Xu]===0&&e._a[pp]===0&&(e._nextDay=!0,e._a[Vi]=0),e._d=(e._useUTC?L_:UCe).apply(null,r),c=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Vi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==c&&(wr(e).weekdayMismatch=!0)}}function zSe(e){var t,n,r,i,c,d,s,m,_;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(c=1,d=4,n=dg(t.GG,e._a[Ps],z_(Ho(),1,4).year),r=dg(t.W,1),i=dg(t.E,1),(i<1||i>7)&&(m=!0)):(c=e._locale._week.dow,d=e._locale._week.doy,_=z_(Ho(),c,d),n=dg(t.gg,e._a[Ps],_.year),r=dg(t.w,_.week),t.d!=null?(i=t.d,(i<0||i>6)&&(m=!0)):t.e!=null?(i=t.e+c,(t.e<0||t.e>6)&&(m=!0)):i=c),r<1||r>td(n,c,d)?wr(e)._overflowWeeks=!0:m!=null?wr(e)._overflowWeekday=!0:(s=u6(n,r,i,c,d),e._a[Ps]=s.year,e._dayOfYear=s.dayOfYear)}Sn.ISO_8601=function(){};Sn.RFC_2822=function(){};function tR(e){if(e._f===Sn.ISO_8601){m6(e);return}if(e._f===Sn.RFC_2822){g6(e);return}e._a=[],wr(e).empty=!0;var t=""+e._i,n,r,i,c,d,s=t.length,m=0,_,w;for(i=XV(e._f,e._locale).match(GA)||[],w=i.length,n=0;n<w;n++)c=i[n],r=(t.match(TCe(c,e))||[])[0],r&&(d=t.substr(0,t.indexOf(r)),d.length>0&&wr(e).unusedInput.push(d),t=t.slice(t.indexOf(r)+r.length),m+=r.length),Hg[c]?(r?wr(e).empty=!1:wr(e).unusedTokens.push(c),PCe(c,r,e)):e._strict&&!r&&wr(e).unusedTokens.push(c);wr(e).charsLeftOver=s-m,t.length>0&&wr(e).unusedInput.push(t),e._a[Vi]<=12&&wr(e).bigHour===!0&&e._a[Vi]>0&&(wr(e).bigHour=void 0),wr(e).parsedDateParts=e._a.slice(0),wr(e).meridiem=e._meridiem,e._a[Vi]=FSe(e._locale,e._a[Vi],e._meridiem),_=wr(e).era,_!==null&&(e._a[Ps]=e._locale.erasConvertYear(_,e._a[Ps])),eR(e),QA(e)}function FSe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function jSe(e){var t,n,r,i,c,d,s=!1,m=e._f.length;if(m===0){wr(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<m;i++)c=0,d=!1,t=VA({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],tR(t),UA(t)&&(d=!0),c+=wr(t).charsLeftOver,c+=wr(t).unusedTokens.length*10,wr(t).score=c,s?c<r&&(r=c,n=t):(r==null||c<r||d)&&(r=c,n=t,d&&(s=!0));kh(e,n||t)}function $Se(e){if(!e._d){var t=WA(e._i),n=t.day===void 0?t.date:t.day;e._a=ZV([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),eR(e)}}function BSe(e){var t=new fx(QA(y6(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function y6(e){var t=e._i,n=e._f;return e._locale=e._locale||fd(e._l),t===null||n===void 0&&t===""?PS({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),ac(t)?new fx(QA(t)):(hx(t)?e._d=t:sc(n)?jSe(e):n?tR(e):NSe(e),UA(e)||(e._d=null),e))}function NSe(e){var t=e._i;ta(t)?e._d=new Date(Sn.now()):hx(t)?e._d=new Date(t.valueOf()):typeof t=="string"?DSe(e):sc(t)?(e._a=ZV(t.slice(0),function(n){return parseInt(n,10)}),eR(e)):Sp(t)?$Se(e):cd(t)?e._d=new Date(t):Sn.createFromInputFallback(e)}function v6(e,t,n,r,i){var c={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Sp(e)&&NA(e)||sc(e)&&e.length===0)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=i,c._l=n,c._i=e,c._f=t,c._strict=r,BSe(c)}function Ho(e,t,n,r){return v6(e,t,n,r,!1)}var USe=Tl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ho.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:PS()}),VSe=Tl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ho.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:PS()});function _6(e,t){var n,r;if(t.length===1&&sc(t[0])&&(t=t[0]),!t.length)return Ho();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function HSe(){var e=[].slice.call(arguments,0);return _6("isBefore",e)}function GSe(){var e=[].slice.call(arguments,0);return _6("isAfter",e)}var WSe=function(){return Date.now?Date.now():+new Date},g0=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qSe(e){var t,n=!1,r,i=g0.length;for(t in e)if(to(e,t)&&!(Ti.call(g0,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[g0[r]]){if(n)return!1;parseFloat(e[g0[r]])!==Mr(e[g0[r]])&&(n=!0)}return!0}function ZSe(){return this._isValid}function YSe(){return uc(NaN)}function zS(e){var t=WA(e),n=t.year||0,r=t.quarter||0,i=t.month||0,c=t.week||t.isoWeek||0,d=t.day||0,s=t.hour||0,m=t.minute||0,_=t.second||0,w=t.millisecond||0;this._isValid=qSe(t),this._milliseconds=+w+_*1e3+m*6e4+s*1e3*60*60,this._days=+d+c*7,this._months=+i+r*3+n*12,this._data={},this._locale=fd(),this._bubble()}function k1(e){return e instanceof zS}function Xk(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function KSe(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),c=0,d;for(d=0;d<r;d++)(n&&e[d]!==t[d]||!n&&Mr(e[d])!==Mr(t[d]))&&c++;return c+i}function x6(e,t){Yn(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ou(~~(n/60),2)+t+ou(~~n%60,2)})}x6("Z",":");x6("ZZ","");Rn("Z",OS);Rn("ZZ",OS);Io(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=nR(OS,e)});var XSe=/([\+\-]|\d\d)/gi;function nR(e,t){var n=(t||"").match(e),r,i,c;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(XSe)||["-",0,0],c=+(i[1]*60)+Mr(i[2]),c===0?0:i[0]==="+"?c:-c)}function rR(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(ac(e)||hx(e)?e.valueOf():Ho(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Sn.updateOffset(n,!1),n):Ho(e).local()}function Jk(e){return-Math.round(e._d.getTimezoneOffset())}Sn.updateOffset=function(){};function JSe(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=nR(OS,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=Jk(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?C6(this,uc(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Sn.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Jk(this)}function QSe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function e2e(e){return this.utcOffset(0,e)}function t2e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Jk(this),"m")),this}function n2e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=nR(CCe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function r2e(e){return this.isValid()?(e=e?Ho(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function o2e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function i2e(){if(!ta(this._isDSTShifted))return this._isDSTShifted;var e={},t;return VA(e,this),e=y6(e),e._a?(t=e._isUTC?uu(e._a):Ho(e._a),this._isDSTShifted=this.isValid()&&KSe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function s2e(){return this.isValid()?!this._isUTC:!1}function a2e(){return this.isValid()?this._isUTC:!1}function b6(){return this.isValid()?this._isUTC&&this._offset===0:!1}var l2e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,c2e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function uc(e,t){var n=e,r=null,i,c,d;return k1(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:cd(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=l2e.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:Mr(r[Wc])*i,h:Mr(r[Vi])*i,m:Mr(r[nc])*i,s:Mr(r[Xu])*i,ms:Mr(Xk(r[pp]*1e3))*i}):(r=c2e.exec(e))?(i=r[1]==="-"?-1:1,n={y:ep(r[2],i),M:ep(r[3],i),w:ep(r[4],i),d:ep(r[5],i),h:ep(r[6],i),m:ep(r[7],i),s:ep(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(d=u2e(Ho(n.from),Ho(n.to)),n={},n.ms=d.milliseconds,n.M=d.months),c=new zS(n),k1(e)&&to(e,"_locale")&&(c._locale=e._locale),k1(e)&&to(e,"_isValid")&&(c._isValid=e._isValid),c}uc.fn=zS.prototype;uc.invalid=YSe;function ep(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function H$(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function u2e(e,t){var n;return e.isValid()&&t.isValid()?(t=rR(t,e),e.isBefore(t)?n=H$(e,t):(n=H$(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function w6(e,t){return function(n,r){var i,c;return r!==null&&!isNaN(+r)&&(KV(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),c=n,n=r,r=c),i=uc(n,r),C6(this,i,e),this}}function C6(e,t,n,r){var i=t._milliseconds,c=Xk(t._days),d=Xk(t._months);e.isValid()&&(r=r??!0,d&&s6(e,Ow(e,"Month")+d*n),c&&QV(e,"Date",Ow(e,"Date")+c*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&Sn.updateOffset(e,c||d))}var d2e=w6(1,"add"),h2e=w6(-1,"subtract");function S6(e){return typeof e=="string"||e instanceof String}function f2e(e){return ac(e)||hx(e)||S6(e)||cd(e)||m2e(e)||p2e(e)||e===null||e===void 0}function p2e(e){var t=Sp(e)&&!NA(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,c,d=r.length;for(i=0;i<d;i+=1)c=r[i],n=n||to(e,c);return t&&n}function m2e(e){var t=sc(e),n=!1;return t&&(n=e.filter(function(r){return!cd(r)&&S6(e)}).length===0),t&&n}function g2e(e){var t=Sp(e)&&!NA(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,c;for(i=0;i<r.length;i+=1)c=r[i],n=n||to(e,c);return t&&n}function y2e(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function v2e(e,t){arguments.length===1&&(arguments[0]?f2e(arguments[0])?(e=arguments[0],t=void 0):g2e(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Ho(),r=rR(n,this).startOf("day"),i=Sn.calendarFormat(this,r)||"sameElse",c=t&&(du(t[i])?t[i].call(this,n):t[i]);return this.format(c||this.localeData().calendar(i,this,Ho(n)))}function _2e(){return new fx(this)}function x2e(e,t){var n=ac(e)?e:Ho(e);return this.isValid()&&n.isValid()?(t=El(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function b2e(e,t){var n=ac(e)?e:Ho(e);return this.isValid()&&n.isValid()?(t=El(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function w2e(e,t,n,r){var i=ac(e)?e:Ho(e),c=ac(t)?t:Ho(t);return this.isValid()&&i.isValid()&&c.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(c,n):!this.isAfter(c,n))):!1}function C2e(e,t){var n=ac(e)?e:Ho(e),r;return this.isValid()&&n.isValid()?(t=El(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function S2e(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function T2e(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function E2e(e,t,n){var r,i,c;if(!this.isValid())return NaN;if(r=rR(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=El(t),t){case"year":c=I1(this,r)/12;break;case"month":c=I1(this,r);break;case"quarter":c=I1(this,r)/3;break;case"second":c=(this-r)/1e3;break;case"minute":c=(this-r)/6e4;break;case"hour":c=(this-r)/36e5;break;case"day":c=(this-r-i)/864e5;break;case"week":c=(this-r-i)/6048e5;break;default:c=this-r}return n?c:hl(c)}function I1(e,t){if(e.date()<t.date())return-I1(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,c;return t-r<0?(i=e.clone().add(n-1,"months"),c=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),c=(t-r)/(i-r)),-(n+c)||0}Sn.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Sn.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function P2e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function k2e(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?P1(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):du(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",P1(n,"Z")):P1(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function I2e(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,c;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",c=t+'[")]',this.format(n+r+i+c)}function M2e(e){e||(e=this.isUtc()?Sn.defaultFormatUtc:Sn.defaultFormat);var t=P1(this,e);return this.localeData().postformat(t)}function A2e(e,t){return this.isValid()&&(ac(e)&&e.isValid()||Ho(e).isValid())?uc({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function R2e(e){return this.from(Ho(),e)}function O2e(e,t){return this.isValid()&&(ac(e)&&e.isValid()||Ho(e).isValid())?uc({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function D2e(e){return this.to(Ho(),e)}function T6(e){var t;return e===void 0?this._locale._abbr:(t=fd(e),t!=null&&(this._locale=t),this)}var E6=Tl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function P6(){return this._locale}var zw=1e3,Gg=60*zw,Fw=60*Gg,k6=(365*400+97)*24*Fw;function Wg(e,t){return(e%t+t)%t}function I6(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-k6:new Date(e,t,n).valueOf()}function M6(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-k6:Date.UTC(e,t,n)}function L2e(e){var t,n;if(e=El(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?M6:I6,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Wg(t+(this._isUTC?0:this.utcOffset()*Gg),Fw);break;case"minute":t=this._d.valueOf(),t-=Wg(t,Gg);break;case"second":t=this._d.valueOf(),t-=Wg(t,zw);break}return this._d.setTime(t),Sn.updateOffset(this,!0),this}function z2e(e){var t,n;if(e=El(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?M6:I6,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Fw-Wg(t+(this._isUTC?0:this.utcOffset()*Gg),Fw)-1;break;case"minute":t=this._d.valueOf(),t+=Gg-Wg(t,Gg)-1;break;case"second":t=this._d.valueOf(),t+=zw-Wg(t,zw)-1;break}return this._d.setTime(t),Sn.updateOffset(this,!0),this}function F2e(){return this._d.valueOf()-(this._offset||0)*6e4}function j2e(){return Math.floor(this.valueOf()/1e3)}function $2e(){return new Date(this.valueOf())}function B2e(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function N2e(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function U2e(){return this.isValid()?this.toISOString():null}function V2e(){return UA(this)}function H2e(){return kh({},wr(this))}function G2e(){return wr(this).overflow}function W2e(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Yn("N",0,0,"eraAbbr");Yn("NN",0,0,"eraAbbr");Yn("NNN",0,0,"eraAbbr");Yn("NNNN",0,0,"eraName");Yn("NNNNN",0,0,"eraNarrow");Yn("y",["y",1],"yo","eraYear");Yn("y",["yy",2],0,"eraYear");Yn("y",["yyy",3],0,"eraYear");Yn("y",["yyyy",4],0,"eraYear");Rn("N",oR);Rn("NN",oR);Rn("NNN",oR);Rn("NNNN",rTe);Rn("NNNNN",oTe);Io(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?wr(n).era=i:wr(n).invalidEra=e});Rn("y",Ly);Rn("yy",Ly);Rn("yyy",Ly);Rn("yyyy",Ly);Rn("yo",iTe);Io(["y","yy","yyy","yyyy"],Ps);Io(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ps]=n._locale.eraYearOrdinalParse(e,i):t[Ps]=parseInt(e,10)});function q2e(e,t){var n,r,i,c=this._eras||fd("en")._eras;for(n=0,r=c.length;n<r;++n){switch(typeof c[n].since){case"string":i=Sn(c[n].since).startOf("day"),c[n].since=i.valueOf();break}switch(typeof c[n].until){case"undefined":c[n].until=1/0;break;case"string":i=Sn(c[n].until).startOf("day").valueOf(),c[n].until=i.valueOf();break}}return c}function Z2e(e,t,n){var r,i,c=this.eras(),d,s,m;for(e=e.toUpperCase(),r=0,i=c.length;r<i;++r)if(d=c[r].name.toUpperCase(),s=c[r].abbr.toUpperCase(),m=c[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return c[r];break;case"NNNN":if(d===e)return c[r];break;case"NNNNN":if(m===e)return c[r];break}else if([d,s,m].indexOf(e)>=0)return c[r]}function Y2e(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Sn(e.since).year():Sn(e.since).year()+(t-e.offset)*n}function K2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function X2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function J2e(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Q2e(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-Sn(i[e].since).year())*n+i[e].offset;return this.year()}function eTe(e){return to(this,"_erasNameRegex")||iR.call(this),e?this._erasNameRegex:this._erasRegex}function tTe(e){return to(this,"_erasAbbrRegex")||iR.call(this),e?this._erasAbbrRegex:this._erasRegex}function nTe(e){return to(this,"_erasNarrowRegex")||iR.call(this),e?this._erasNarrowRegex:this._erasRegex}function oR(e,t){return t.erasAbbrRegex(e)}function rTe(e,t){return t.erasNameRegex(e)}function oTe(e,t){return t.erasNarrowRegex(e)}function iTe(e,t){return t._eraYearOrdinalRegex||Ly}function iR(){var e=[],t=[],n=[],r=[],i,c,d=this.eras();for(i=0,c=d.length;i<c;++i)t.push(Da(d[i].name)),e.push(Da(d[i].abbr)),n.push(Da(d[i].narrow)),r.push(Da(d[i].name)),r.push(Da(d[i].abbr)),r.push(Da(d[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Yn(0,["gg",2],0,function(){return this.weekYear()%100});Yn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function FS(e,t){Yn(0,[e,e.length],0,t)}FS("gggg","weekYear");FS("ggggg","weekYear");FS("GGGG","isoWeekYear");FS("GGGGG","isoWeekYear");Ms("weekYear","gg");Ms("isoWeekYear","GG");As("weekYear",1);As("isoWeekYear",1);Rn("G",RS);Rn("g",RS);Rn("GG",Wo,Wa);Rn("gg",Wo,Wa);Rn("GGGG",ZA,qA);Rn("gggg",ZA,qA);Rn("GGGGG",AS,IS);Rn("ggggg",AS,IS);mx(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mr(e)});mx(["gg","GG"],function(e,t,n,r){t[r]=Sn.parseTwoDigitYear(e)});function sTe(e){return A6.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function aTe(e){return A6.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function lTe(){return td(this.year(),1,4)}function cTe(){return td(this.isoWeekYear(),1,4)}function uTe(){var e=this.localeData()._week;return td(this.year(),e.dow,e.doy)}function dTe(){var e=this.localeData()._week;return td(this.weekYear(),e.dow,e.doy)}function A6(e,t,n,r,i){var c;return e==null?z_(this,r,i).year:(c=td(e,r,i),t>c&&(t=c),hTe.call(this,e,t,n,r,i))}function hTe(e,t,n,r,i){var c=u6(e,t,n,r,i),d=L_(c.year,0,c.dayOfYear);return this.year(d.getUTCFullYear()),this.month(d.getUTCMonth()),this.date(d.getUTCDate()),this}Yn("Q",0,"Qo","quarter");Ms("quarter","Q");As("quarter",7);Rn("Q",e6);Io("Q",function(e,t){t[Ku]=(Mr(e)-1)*3});function fTe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Yn("D",["DD",2],"Do","date");Ms("date","D");As("date",9);Rn("D",Wo);Rn("DD",Wo,Wa);Rn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Io(["D","DD"],Wc);Io("Do",function(e,t){t[Wc]=Mr(e.match(Wo)[0])});var R6=Dy("Date",!0);Yn("DDD",["DDDD",3],"DDDo","dayOfYear");Ms("dayOfYear","DDD");As("dayOfYear",4);Rn("DDD",MS);Rn("DDDD",t6);Io(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mr(e)});function pTe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Yn("m",["mm",2],0,"minute");Ms("minute","m");As("minute",14);Rn("m",Wo);Rn("mm",Wo,Wa);Io(["m","mm"],nc);var mTe=Dy("Minutes",!1);Yn("s",["ss",2],0,"second");Ms("second","s");As("second",15);Rn("s",Wo);Rn("ss",Wo,Wa);Io(["s","ss"],Xu);var gTe=Dy("Seconds",!1);Yn("S",0,0,function(){return~~(this.millisecond()/100)});Yn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Yn(0,["SSS",3],0,"millisecond");Yn(0,["SSSS",4],0,function(){return this.millisecond()*10});Yn(0,["SSSSS",5],0,function(){return this.millisecond()*100});Yn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Yn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Yn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Yn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ms("millisecond","ms");As("millisecond",16);Rn("S",MS,e6);Rn("SS",MS,Wa);Rn("SSS",MS,t6);var Ih,O6;for(Ih="SSSS";Ih.length<=9;Ih+="S")Rn(Ih,Ly);function yTe(e,t){t[pp]=Mr(("0."+e)*1e3)}for(Ih="S";Ih.length<=9;Ih+="S")Io(Ih,yTe);O6=Dy("Milliseconds",!1);Yn("z",0,0,"zoneAbbr");Yn("zz",0,0,"zoneName");function vTe(){return this._isUTC?"UTC":""}function _Te(){return this._isUTC?"Coordinated Universal Time":""}var cn=fx.prototype;cn.add=d2e;cn.calendar=v2e;cn.clone=_2e;cn.diff=E2e;cn.endOf=z2e;cn.format=M2e;cn.from=A2e;cn.fromNow=R2e;cn.to=O2e;cn.toNow=D2e;cn.get=bCe;cn.invalidAt=G2e;cn.isAfter=x2e;cn.isBefore=b2e;cn.isBetween=w2e;cn.isSame=C2e;cn.isSameOrAfter=S2e;cn.isSameOrBefore=T2e;cn.isValid=V2e;cn.lang=E6;cn.locale=T6;cn.localeData=P6;cn.max=VSe;cn.min=USe;cn.parsingFlags=H2e;cn.set=wCe;cn.startOf=L2e;cn.subtract=h2e;cn.toArray=B2e;cn.toObject=N2e;cn.toDate=$2e;cn.toISOString=k2e;cn.inspect=I2e;typeof Symbol<"u"&&Symbol.for!=null&&(cn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});cn.toJSON=U2e;cn.toString=P2e;cn.unix=j2e;cn.valueOf=F2e;cn.creationData=W2e;cn.eraName=K2e;cn.eraNarrow=X2e;cn.eraAbbr=J2e;cn.eraYear=Q2e;cn.year=c6;cn.isLeapYear=NCe;cn.weekYear=sTe;cn.isoWeekYear=aTe;cn.quarter=cn.quarters=fTe;cn.month=a6;cn.daysInMonth=jCe;cn.week=cn.weeks=qCe;cn.isoWeek=cn.isoWeeks=ZCe;cn.weeksInYear=uTe;cn.weeksInWeekYear=dTe;cn.isoWeeksInYear=lTe;cn.isoWeeksInISOWeekYear=cTe;cn.date=R6;cn.day=cn.days=aSe;cn.weekday=lSe;cn.isoWeekday=cSe;cn.dayOfYear=pTe;cn.hour=cn.hours=gSe;cn.minute=cn.minutes=mTe;cn.second=cn.seconds=gTe;cn.millisecond=cn.milliseconds=O6;cn.utcOffset=JSe;cn.utc=e2e;cn.local=t2e;cn.parseZone=n2e;cn.hasAlignedHourOffset=r2e;cn.isDST=o2e;cn.isLocal=s2e;cn.isUtcOffset=a2e;cn.isUtc=b6;cn.isUTC=b6;cn.zoneAbbr=vTe;cn.zoneName=_Te;cn.dates=Tl("dates accessor is deprecated. Use date instead.",R6);cn.months=Tl("months accessor is deprecated. Use month instead",a6);cn.years=Tl("years accessor is deprecated. Use year instead",c6);cn.zone=Tl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",QSe);cn.isDSTShifted=Tl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",i2e);function xTe(e){return Ho(e*1e3)}function bTe(){return Ho.apply(null,arguments).parseZone()}function D6(e){return e}var no=HA.prototype;no.calendar=aCe;no.longDateFormat=dCe;no.invalidDate=fCe;no.ordinal=gCe;no.preparse=D6;no.postformat=D6;no.relativeTime=vCe;no.pastFuture=_Ce;no.set=iCe;no.eras=q2e;no.erasParse=Z2e;no.erasConvertYear=Y2e;no.erasAbbrRegex=tTe;no.erasNameRegex=eTe;no.erasNarrowRegex=nTe;no.months=DCe;no.monthsShort=LCe;no.monthsParse=FCe;no.monthsRegex=BCe;no.monthsShortRegex=$Ce;no.week=VCe;no.firstDayOfYear=WCe;no.firstDayOfWeek=GCe;no.weekdays=nSe;no.weekdaysMin=oSe;no.weekdaysShort=rSe;no.weekdaysParse=sSe;no.weekdaysRegex=uSe;no.weekdaysShortRegex=dSe;no.weekdaysMinRegex=hSe;no.isPM=pSe;no.meridiem=ySe;function jw(e,t,n,r){var i=fd(),c=uu().set(r,t);return i[n](c,e)}function L6(e,t,n){if(cd(e)&&(t=e,e=void 0),e=e||"",t!=null)return jw(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=jw(e,r,n,"month");return i}function sR(e,t,n,r){typeof e=="boolean"?(cd(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,cd(t)&&(n=t,t=void 0),t=t||"");var i=fd(),c=e?i._week.dow:0,d,s=[];if(n!=null)return jw(t,(n+c)%7,r,"day");for(d=0;d<7;d++)s[d]=jw(t,(d+c)%7,r,"day");return s}function wTe(e,t){return L6(e,t,"months")}function CTe(e,t){return L6(e,t,"monthsShort")}function STe(e,t,n){return sR(e,t,n,"weekdays")}function TTe(e,t,n){return sR(e,t,n,"weekdaysShort")}function ETe(e,t,n){return sR(e,t,n,"weekdaysMin")}Uh("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Sn.lang=Tl("moment.lang is deprecated. Use moment.locale instead.",Uh);Sn.langData=Tl("moment.langData is deprecated. Use moment.localeData instead.",fd);var Nu=Math.abs;function PTe(){var e=this._data;return this._milliseconds=Nu(this._milliseconds),this._days=Nu(this._days),this._months=Nu(this._months),e.milliseconds=Nu(e.milliseconds),e.seconds=Nu(e.seconds),e.minutes=Nu(e.minutes),e.hours=Nu(e.hours),e.months=Nu(e.months),e.years=Nu(e.years),this}function z6(e,t,n,r){var i=uc(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function kTe(e,t){return z6(this,e,t,1)}function ITe(e,t){return z6(this,e,t,-1)}function G$(e){return e<0?Math.floor(e):Math.ceil(e)}function MTe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,c,d,s,m;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=G$(Qk(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=hl(e/1e3),r.seconds=i%60,c=hl(i/60),r.minutes=c%60,d=hl(c/60),r.hours=d%24,t+=hl(d/24),m=hl(F6(t)),n+=m,t-=G$(Qk(m)),s=hl(n/12),n%=12,r.days=t,r.months=n,r.years=s,this}function F6(e){return e*4800/146097}function Qk(e){return e*146097/4800}function ATe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=El(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+F6(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Qk(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function RTe(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mr(this._months/12)*31536e6:NaN}function pd(e){return function(){return this.as(e)}}var OTe=pd("ms"),DTe=pd("s"),LTe=pd("m"),zTe=pd("h"),FTe=pd("d"),jTe=pd("w"),$Te=pd("M"),BTe=pd("Q"),NTe=pd("y");function UTe(){return uc(this)}function VTe(e){return e=El(e),this.isValid()?this[e+"s"]():NaN}function Yp(e){return function(){return this.isValid()?this._data[e]:NaN}}var HTe=Yp("milliseconds"),GTe=Yp("seconds"),WTe=Yp("minutes"),qTe=Yp("hours"),ZTe=Yp("days"),YTe=Yp("months"),KTe=Yp("years");function XTe(){return hl(this.days()/7)}var Hu=Math.round,kg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function JTe(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function QTe(e,t,n,r){var i=uc(e).abs(),c=Hu(i.as("s")),d=Hu(i.as("m")),s=Hu(i.as("h")),m=Hu(i.as("d")),_=Hu(i.as("M")),w=Hu(i.as("w")),E=Hu(i.as("y")),k=c<=n.ss&&["s",c]||c<n.s&&["ss",c]||d<=1&&["m"]||d<n.m&&["mm",d]||s<=1&&["h"]||s<n.h&&["hh",s]||m<=1&&["d"]||m<n.d&&["dd",m];return n.w!=null&&(k=k||w<=1&&["w"]||w<n.w&&["ww",w]),k=k||_<=1&&["M"]||_<n.M&&["MM",_]||E<=1&&["y"]||["yy",E],k[2]=t,k[3]=+e>0,k[4]=r,JTe.apply(null,k)}function eEe(e){return e===void 0?Hu:typeof e=="function"?(Hu=e,!0):!1}function tEe(e,t){return kg[e]===void 0?!1:t===void 0?kg[e]:(kg[e]=t,e==="s"&&(kg.ss=t-1),!0)}function nEe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=kg,i,c;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},kg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),c=QTe(this,!n,r,i),n&&(c=i.pastFuture(+this,c)),i.postformat(c)}var FE=Math.abs;function ig(e){return(e>0)-(e<0)||+e}function jS(){if(!this.isValid())return this.localeData().invalidDate();var e=FE(this._milliseconds)/1e3,t=FE(this._days),n=FE(this._months),r,i,c,d,s=this.asSeconds(),m,_,w,E;return s?(r=hl(e/60),i=hl(r/60),e%=60,r%=60,c=hl(n/12),n%=12,d=e?e.toFixed(3).replace(/\.?0+$/,""):"",m=s<0?"-":"",_=ig(this._months)!==ig(s)?"-":"",w=ig(this._days)!==ig(s)?"-":"",E=ig(this._milliseconds)!==ig(s)?"-":"",m+"P"+(c?_+c+"Y":"")+(n?_+n+"M":"")+(t?w+t+"D":"")+(i||r||e?"T":"")+(i?E+i+"H":"")+(r?E+r+"M":"")+(e?E+d+"S":"")):"P0D"}var Vr=zS.prototype;Vr.isValid=ZSe;Vr.abs=PTe;Vr.add=kTe;Vr.subtract=ITe;Vr.as=ATe;Vr.asMilliseconds=OTe;Vr.asSeconds=DTe;Vr.asMinutes=LTe;Vr.asHours=zTe;Vr.asDays=FTe;Vr.asWeeks=jTe;Vr.asMonths=$Te;Vr.asQuarters=BTe;Vr.asYears=NTe;Vr.valueOf=RTe;Vr._bubble=MTe;Vr.clone=UTe;Vr.get=VTe;Vr.milliseconds=HTe;Vr.seconds=GTe;Vr.minutes=WTe;Vr.hours=qTe;Vr.days=ZTe;Vr.weeks=XTe;Vr.months=YTe;Vr.years=KTe;Vr.humanize=nEe;Vr.toISOString=jS;Vr.toString=jS;Vr.toJSON=jS;Vr.locale=T6;Vr.localeData=P6;Vr.toIsoString=Tl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jS);Vr.lang=E6;Yn("X",0,0,"unix");Yn("x",0,0,"valueOf");Rn("x",RS);Rn("X",SCe);Io("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Io("x",function(e,t,n){n._d=new Date(Mr(e))});//! moment.js
Sn.version="2.29.4";rCe(Ho);Sn.fn=cn;Sn.min=HSe;Sn.max=GSe;Sn.now=WSe;Sn.utc=uu;Sn.unix=xTe;Sn.months=wTe;Sn.isDate=hx;Sn.locale=Uh;Sn.invalid=PS;Sn.duration=uc;Sn.isMoment=ac;Sn.weekdays=STe;Sn.parseZone=bTe;Sn.localeData=fd;Sn.isDuration=k1;Sn.monthsShort=CTe;Sn.weekdaysMin=ETe;Sn.defineLocale=JA;Sn.updateLocale=bSe;Sn.locales=wSe;Sn.weekdaysShort=TTe;Sn.normalizeUnits=El;Sn.relativeTimeRounding=eEe;Sn.relativeTimeThreshold=tEe;Sn.calendarFormat=y2e;Sn.prototype=cn;Sn.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const rEe=P.lazy(()=>BA(()=>import("./AddAnnonce-6bec3c27.js"),["static/AddAnnonce-6bec3c27.js","static/Restore-84a2913a.js"])),oEe=()=>{const{userToken:e}=Ga(),[t,n]=P.useState(!1),[r,i]=P.useState(""),[c,d]=P.useState([]),[s,m]=P.useState([]),[_,w]=P.useState("none"),[E,k]=P.useState([]),O=[{field:"id",headerName:"ID",width:70},{field:"titre",headerName:"Titre",width:150},{field:"prix",headerName:"Prix(XAF)",width:150},{field:"voiture",headerName:"Voiture",width:220},{field:"description",headerName:"Description",width:300},{field:"status",headerName:"Status",width:120},{field:"date_creation",headerName:"Date Creation",width:300},{field:"actions",headerName:"Actions",width:300,renderCell:F=>T.jsxs(pt,{sx:{display:"flex",gap:2,justifyContent:"space-between"},children:[T.jsx(Po,{color:"info",onClick:()=>{location.href=`/dashboard/annonce/${F.row.id}/`},variant:"contained",children:"Detail"}),T.jsx(Po,{variant:"contained",color:"error",onClick:()=>L(F.row),children:"Supprimer"})]})}],R=Tr.useCallback(()=>{const F=c.map(z=>({...z,voiture:`${z.voiture.model.marque.nom} ${z.voiture.model.nom} ${z.voiture.annee}`,prix:`${Lp(z.prix,{space:!0})}`,date_creation:Sn(z.date_creation).format("D, MMMM YYYY à h:mm A")}));k(F)},[c]);P.useEffect(()=>{c.length>0&&R()},[c,R]);function L(F){Ss.fire({title:"Es-tu sûr ?",text:"Vous ne pourrez pas revenir en arrière !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimez-le !"}).then(z=>{z.isConfirmed&&ho.deleteAnnonce(F.id,e).then(()=>{Ss.fire("Supprimez!","Votre annonce a été supprimé","success"),d(c.filter(B=>F.id!==B.id))}).catch(()=>{Ss.fire("Erreur!","Désolé, un problème est survenu.","error")})})}const U=()=>{s&&Ss.fire({title:"Es-tu sûr de vouloir supprimer ces annonces ?",text:"Vous ne pourrez pas revenir en arrière !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimez-les !"}).then(F=>{F.isConfirmed&&(s==null||s.map(z=>{ho.deleteAnnonce(z,e).then(()=>{Ss.fire({toast:!0,position:"bottom-start",icon:"success",title:"Annonce Supprimer avec succès.",showConfirmButton:!1,timer:5e3}),d(c.filter(B=>z!==B.id))}).catch(()=>{Ss.fire({toast:!0,position:"bottom-start",icon:"error",title:"Désolé, un problème est survenu.",showConfirmButton:!1,timer:5e3})})}))})};return P.useEffect(()=>{const F=localStorage.getItem("AuserToken");F&&ho.listAnnonce(F).then(z=>z.json()).then(z=>{d(z)}).catch(z=>{console.log(z)})},[]),P.useEffect(()=>{if(r){const F=E.filter(z=>z.titre.includes(r)||z.voiture.includes(r)||z.description.includes(r));k(F)}else R()},[r,E,R]),T.jsx(Wp,{children:T.jsxs(pt,{sx:{padding:0,margin:0},width:"100%",height:"100%",children:[T.jsxs(D_,{children:[T.jsx("meta",{charSet:"utf-8"}),T.jsx("title",{children:"Dashboard | Annonce "})]}),T.jsx(Cn,{container:!0,width:"100%",height:"100%",children:T.jsxs(Cn,{item:!0,md:12,xs:12,sm:12,pl:2,pr:2,children:[T.jsxs(uy,{"aria-label":"breadcrumb",sx:{mt:2,backgroundColor:"#295ad6",p:2,borderRadius:1,color:"#fff"},children:[T.jsx(qh,{underline:"hover",color:"inherit",href:"/dashboard",children:"Dashboard"}),T.jsx(Wt,{children:"Annonce"})]}),T.jsxs(pt,{width:"100%",children:[T.jsxs(pt,{sx:{mt:1,mb:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsxs(pt,{sx:{display:"flex",alignItems:"center",gap:.2,maxWidth:400,justifyContent:"flex-start",p:.5},children:[T.jsx(pS,{}),T.jsxs(Tne,{children:[T.jsx(pi,{sx:{mr:.5,borderRadius:2},children:T.jsx(au,{sx:{border:"1px solid #ddd",p:.5,minWidth:"300px",mr:.5},fullWidth:!0,placeholder:"",value:r,onChange:F=>i(F.target.value)})}),T.jsx(Po,{variant:"contained",children:"Search"})]})]}),T.jsx(Po,{onClick:()=>n(!0),variant:"contained",sx:{borderRadius:8,backgroundColor:"#295ad6"},endIcon:T.jsx(mU,{}),children:"Ajouter Une Annonce"})]}),T.jsx(pt,{sx:{mb:2},children:T.jsxs(pt,{sx:{display:"flex",alignItems:"center",gap:2},children:[T.jsx(Wt,{children:"Action"}),T.jsxs(br,{select:!0,value:_,fullWidth:!0,sx:{maxWidth:"210px",p:0},variant:"standard",onChange:F=>w(F.target.value),children:[T.jsx(Oi,{value:"none",children:"----------------------------"}),T.jsx(Oi,{value:"delete",children:T.jsx(Wt,{sx:{color:"#ff0000",alignItems:"center",justifyContent:"space-between"},children:"Supprimer"})})]}),T.jsx(Po,{variant:"contained",disabled:s.length===0,onClick:U,children:"Go"}),T.jsxs(Wt,{children:[s.length," sur ",c.length]})]})}),T.jsx(P.Suspense,{fallback:T.jsx("div",{children:"Loading..."}),children:T.jsx(rEe,{open:t,onClose:n,onCreate:F=>{d([...c,F]),Ss.fire({toast:!0,position:"bottom-start",icon:"success",title:"Annonce créée avec succès.",showConfirmButton:!1,timer:5e3})}})}),T.jsx(Cn,{container:!0,width:"100%",gap:1,display:"flex",flexDirection:"row",flex:1,children:T.jsx(pi,{sx:{flex:1,width:"100%",height:"100%"},children:T.jsx(NV,{sx:{width:"100%",height:"100%"},rows:E,columns:O,checkboxSelection:!0,onRowSelectionModelChange:F=>{m(F)}})})})]})]})})]})})};function Kp(e){this._maxSize=e,this.clear()}Kp.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Kp.prototype.get=function(e){return this._values[e]};Kp.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var iEe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,j6=/^\d+$/,sEe=/^\d/,aEe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,lEe=/^\s*(['"]?)(.*?)(\1)\s*$/,aR=512,W$=new Kp(aR),q$=new Kp(aR),Z$=new Kp(aR),Tp={Cache:Kp,split:eI,normalizePath:jE,setter:function(e){var t=jE(e);return q$.get(e)||q$.set(e,function(r,i){for(var c=0,d=t.length,s=r;c<d-1;){var m=t[c];if(m==="__proto__"||m==="constructor"||m==="prototype")return r;s=s[t[c++]]}s[t[c]]=i})},getter:function(e,t){var n=jE(e);return Z$.get(e)||Z$.set(e,function(i){for(var c=0,d=n.length;c<d;)if(i!=null||!t)i=i[n[c++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(lR(n)||j6.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){cEe(Array.isArray(e)?e:eI(e),t,n)}};function jE(e){return W$.get(e)||W$.set(e,eI(e).map(function(t){return t.replace(lEe,"$2")}))}function eI(e){return e.match(iEe)||[""]}function cEe(e,t,n){var r=e.length,i,c,d,s;for(c=0;c<r;c++)i=e[c],i&&(hEe(i)&&(i='"'+i+'"'),s=lR(i),d=!s&&/^\d+$/.test(i),t.call(n,i,s,d,c,e))}function lR(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function uEe(e){return e.match(sEe)&&!e.match(j6)}function dEe(e){return aEe.test(e)}function hEe(e){return!lR(e)&&(uEe(e)||dEe(e))}const fEe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,$S=e=>e.match(fEe)||[],BS=e=>e[0].toUpperCase()+e.slice(1),cR=(e,t)=>$S(e).join(t).toLowerCase(),$6=e=>$S(e).reduce((t,n)=>`${t}${t?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),pEe=e=>BS($6(e)),mEe=e=>cR(e,"_"),gEe=e=>cR(e,"-"),yEe=e=>BS(cR(e," ")),vEe=e=>$S(e).map(BS).join(" ");var $E={words:$S,upperFirst:BS,camelCase:$6,pascalCase:pEe,snakeCase:mEe,kebabCase:gEe,sentenceCase:yEe,titleCase:vEe},uR={exports:{}};uR.exports=function(e){return B6(_Ee(e),e)};uR.exports.array=B6;function B6(e,t){var n=e.length,r=new Array(n),i={},c=n,d=xEe(t),s=bEe(e);for(t.forEach(function(_){if(!s.has(_[0])||!s.has(_[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});c--;)i[c]||m(e[c],c,new Set);return r;function m(_,w,E){if(E.has(_)){var k;try{k=", node was:"+JSON.stringify(_)}catch{k=""}throw new Error("Cyclic dependency"+k)}if(!s.has(_))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(_));if(!i[w]){i[w]=!0;var O=d.get(_)||new Set;if(O=Array.from(O),w=O.length){E.add(_);do{var R=O[--w];m(R,s.get(R),E)}while(w);E.delete(_)}r[--n]=_}}}function _Ee(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function xEe(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function bEe(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}var wEe=uR.exports;const CEe=fa(wEe),SEe=Object.prototype.toString,TEe=Error.prototype.toString,EEe=RegExp.prototype.toString,PEe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",kEe=/^Symbol\((.*)\)(.*)$/;function IEe(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function Y$(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return IEe(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return PEe.call(e).replace(kEe,"Symbol($1)");const r=SEe.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+TEe.call(e)+"]":r==="RegExp"?EEe.call(e):null}function qg(e,t){let n=Y$(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let c=Y$(this[r],t);return c!==null?c:i},2)}function N6(e){return e==null?[]:[].concat(e)}let MEe=/\$\{\s*(\w+)\s*\}/g;class La extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof t=="string"?t.replace(MEe,(i,c)=>qg(n[c])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],N6(t).forEach(c=>{La.isError(c)?(this.errors.push(...c.errors),this.inner=this.inner.concat(c.inner.length?c.inner:c)):this.errors.push(c)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,La)}}let Gu={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${qg(r,!0)}\`).`:".";return t!=="mixed"?`${e} must be a \`${t}\` type, but the final value was: \`${qg(n,!0)}\``+i:`${e} must match the configured type. The validated value was: \`${qg(n,!0)}\``+i}},Zl={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},fh={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},tI={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},AEe={isValue:"${path} field must be ${value}"},nI={noUnknown:"${path} field has unspecified keys: ${unknown}"},REe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Gu,string:Zl,number:fh,date:tI,object:nI,array:REe,boolean:AEe});const dR=e=>e&&e.__isYupSchema__;class $w{static fromOptions(t,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:c}=n,d=typeof r=="function"?r:(...s)=>s.every(m=>m===r);return new $w(t,(s,m)=>{var _;let w=d(...s)?i:c;return(_=w==null?void 0:w(m))!=null?_:m})}constructor(t,n){this.fn=void 0,this.refs=t,this.refs=t,this.fn=n}resolve(t,n){let r=this.refs.map(c=>c.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,t,n);if(i===void 0||i===t)return t;if(!dR(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const e1={context:"$",value:"."};function OEe(e,t){return new sf(e,t)}class sf{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===e1.context,this.isValue=this.key[0]===e1.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?e1.context:this.isValue?e1.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Tp.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}sf.prototype.__isYupRef=!0;const Ju=e=>e==null;function sg(e){function t({value:n,path:r="",options:i,originalValue:c,schema:d},s,m){const{name:_,test:w,params:E,message:k,skipAbsent:O}=e;let{parent:R,context:L,abortEarly:U=d.spec.abortEarly}=i;function F(re){return sf.isRef(re)?re.getValue(n,R,L):re}function z(re={}){const se=Object.assign({value:n,originalValue:c,label:d.spec.label,path:re.path||r,spec:d.spec},E,re.params);for(const pe of Object.keys(se))se[pe]=F(se[pe]);const de=new La(La.formatError(re.message||k,se),n,se.path,re.type||_);return de.params=se,de}const B=U?s:m;let Z={path:r,parent:R,type:_,from:i.from,createError:z,resolve:F,options:i,originalValue:c,schema:d};const ee=re=>{La.isError(re)?B(re):re?m(null):B(z())},X=re=>{La.isError(re)?B(re):s(re)},W=O&&Ju(n);if(!i.sync){try{Promise.resolve(W?!0:w.call(Z,n,Z)).then(ee,X)}catch(re){X(re)}return}let ne;try{var J;if(ne=W?!0:w.call(Z,n,Z),typeof((J=ne)==null?void 0:J.then)=="function")throw new Error(`Validation test of type: "${Z.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(re){X(re);return}ee(ne)}return t.OPTIONS=e,t}function DEe(e,t,n,r=n){let i,c,d;return t?(Tp.forEach(t,(s,m,_)=>{let w=m?s.slice(1,s.length-1):s;e=e.resolve({context:r,parent:i,value:n});let E=e.type==="tuple",k=_?parseInt(w,10):0;if(e.innerType||E){if(E&&!_)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${d}" must contain an index to the tuple element, e.g. "${d}[0]"`);if(n&&k>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[k],e=E?e.spec.types[k]:e.innerType}if(!_){if(!e.fields||!e.fields[w])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${d} which is a type: "${e.type}")`);i=n,n=n&&n[w],e=e.fields[w]}c=w,d=m?"["+s+"]":"."+s}),{schema:e,parent:i,parentPath:c}):{parent:i,parentPath:t,schema:e}}class Bw extends Set{describe(){const t=[];for(const n of this.values())t.push(sf.isRef(n)?n.describe():n);return t}resolveAll(t){let n=[];for(const r of this.values())n.push(t(r));return n}clone(){return new Bw(this.values())}merge(t,n){const r=this.clone();return t.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ig(e,t=new Map){if(dR(e)||!e||typeof e!="object")return e;if(t.has(e))return t.get(e);let n;if(e instanceof Date)n=new Date(e.getTime()),t.set(e,n);else if(e instanceof RegExp)n=new RegExp(e),t.set(e,n);else if(Array.isArray(e)){n=new Array(e.length),t.set(e,n);for(let r=0;r<e.length;r++)n[r]=Ig(e[r],t)}else if(e instanceof Map){n=new Map,t.set(e,n);for(const[r,i]of e.entries())n.set(r,Ig(i,t))}else if(e instanceof Set){n=new Set,t.set(e,n);for(const r of e)n.add(Ig(r,t))}else if(e instanceof Object){n={},t.set(e,n);for(const[r,i]of Object.entries(e))n[r]=Ig(i,t)}else throw Error(`Unable to clone ${e}`);return n}class lc{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Bw,this._blacklist=new Bw,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Gu.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},t==null?void 0:t.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ig(Object.assign({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(c=>{t.tests.forEach(d=>{c.test(d.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,c)=>c.resolve(i,t),n),n=n.resolve(t)}return n}resolveOptions(t){var n,r,i;return Object.assign({},t,{from:t.from||[],strict:(n=t.strict)!=null?n:this.spec.strict,abortEarly:(r=t.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=t.recursive)!=null?i:this.spec.recursive})}cast(t,n={}){let r=this.resolve(Object.assign({value:t},n)),i=n.assert==="ignore-optionality",c=r._cast(t,n);if(n.assert!==!1&&!r.isType(c)){if(i&&Ju(c))return c;let d=qg(t),s=qg(c);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${d} 
`+(s!==d?`result of cast: ${s}`:""))}return c}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,c)=>c.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault(n)),r}_validate(t,n={},r,i){let{path:c,originalValue:d=t,strict:s=this.spec.strict}=n,m=t;s||(m=this._cast(m,Object.assign({assert:!1},n)));let _=[];for(let w of Object.values(this.internalTests))w&&_.push(w);this.runTests({path:c,value:m,originalValue:d,options:n,tests:_},r,w=>{if(w.length)return i(w,m);this.runTests({path:c,value:m,originalValue:d,options:n,tests:this.tests},r,i)})}runTests(t,n,r){let i=!1,{tests:c,value:d,originalValue:s,path:m,options:_}=t,w=L=>{i||(i=!0,n(L,d))},E=L=>{i||(i=!0,r(L,d))},k=c.length,O=[];if(!k)return E([]);let R={value:d,originalValue:s,path:m,options:_,schema:this};for(let L=0;L<c.length;L++){const U=c[L];U(R,w,function(z){z&&(O=O.concat(z)),--k<=0&&E(O)})}}asNestedTest({key:t,index:n,parent:r,parentPath:i,originalParent:c,options:d}){const s=t??n;if(s==null)throw TypeError("Must include `key` or `index` for nested validations");const m=typeof s=="number";let _=r[s];const w=Object.assign({},d,{strict:!0,parent:r,value:_,originalValue:c[s],key:void 0,[m?"index":"key"]:s,path:m||s.includes(".")?`${i||""}[${_?s:`"${s}"`}]`:(i?`${i}.`:"")+t});return(E,k,O)=>this.resolve(w)._validate(_,w,k,O)}validate(t,n){let r=this.resolve(Object.assign({},n,{value:t}));return new Promise((i,c)=>r._validate(t,n,(d,s)=>{La.isError(d)&&(d.value=s),c(d)},(d,s)=>{d.length?c(new La(d,s)):i(s)}))}validateSync(t,n){let r=this.resolve(Object.assign({},n,{value:t})),i;return r._validate(t,Object.assign({},n,{sync:!0}),(c,d)=>{throw La.isError(c)&&(c.value=d),c},(c,d)=>{if(c.length)throw new La(c,t);i=d}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(La.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(La.isError(r))return!1;throw r}}_getDefault(t){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,t):Ig(n)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,n){const r=this.clone({nullable:t});return r.internalTests.nullable=sg({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(t,n){const r=this.clone({optional:t});return r.internalTests.optionality=sg({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(t=Gu.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Gu.notNull){return this.nullability(!1,t)}required(t=Gu.required){return this.clone().withMutation(n=>n.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=Gu.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=sg(n),c=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(d=>!(d.OPTIONS.name===n.name&&(c||d.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=N6(t).map(c=>new sf(c));return i.forEach(c=>{c.isSibling&&r.deps.push(c.key)}),r.conditions.push(typeof n=="function"?new $w(i,n):$w.fromOptions(i,n)),r}typeError(t){let n=this.clone();return n.internalTests.typeError=sg({message:t,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(t,n=Gu.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=sg({message:n,name:"oneOf",skipAbsent:!0,test(i){let c=this.schema._whitelist,d=c.resolveAll(this.resolve);return d.includes(i)?!0:this.createError({params:{values:Array.from(c).join(", "),resolved:d}})}}),r}notOneOf(t,n=Gu.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=sg({message:n,name:"notOneOf",test(i){let c=this.schema._blacklist,d=c.resolveAll(this.resolve);return d.includes(i)?this.createError({params:{values:Array.from(c).join(", "),resolved:d}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(t){const n=(t?this.resolve(t):this).clone(),{label:r,meta:i,optional:c,nullable:d}=n.spec;return{meta:i,label:r,optional:c,nullable:d,default:n.getDefault(t),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(m=>({name:m.OPTIONS.name,params:m.OPTIONS.params})).filter((m,_,w)=>w.findIndex(E=>E.name===m.name)===_)}}}lc.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])lc.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:c,schema:d}=DEe(this,t,n,r.context);return d[e](i&&i[c],Object.assign({},r,{parent:i,path:t}))};for(const e of["equals","is"])lc.prototype[e]=lc.prototype.oneOf;for(const e of["not","nope"])lc.prototype[e]=lc.prototype.notOneOf;let LEe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,zEe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,FEe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,jEe=e=>Ju(e)||e===e.trim(),$Ee={}.toString();function ui(){return new U6}class U6 extends lc{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce||r.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===$Ee?t:i})})}required(t){return super.required(t).withMutation(n=>n.test({message:t||Gu.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t))}length(t,n=Zl.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(r){return r.length===this.resolve(t)}})}min(t,n=Zl.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r.length>=this.resolve(t)}})}max(t,n=Zl.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},skipAbsent:!0,test(r){return r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,c;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:c}=n:i=n),this.test({name:c||"matches",message:i||Zl.matches,params:{regex:t},skipAbsent:!0,test:d=>d===""&&r||d.search(t)!==-1})}email(t=Zl.email){return this.matches(LEe,{name:"email",message:t,excludeEmptyString:!0})}url(t=Zl.url){return this.matches(zEe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Zl.uuid){return this.matches(FEe,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Zl.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:jEe})}lowercase(t=Zl.lowercase){return this.transform(n=>Ju(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ju(n)||n===n.toLowerCase()})}uppercase(t=Zl.uppercase){return this.transform(n=>Ju(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ju(n)||n===n.toUpperCase()})}}ui.prototype=U6.prototype;let BEe=e=>e!=+e;function qu(){return new V6}class V6 extends lc{constructor(){super({type:"number",check(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!BEe(t)}}),this.withMutation(()=>{this.transform((t,n,r)=>{if(!r.spec.coerce)return t;let i=t;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(t,n=fh.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(t)}})}max(t,n=fh.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(t)}})}lessThan(t,n=fh.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},skipAbsent:!0,test(r){return r<this.resolve(t)}})}moreThan(t,n=fh.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},skipAbsent:!0,test(r){return r>this.resolve(t)}})}positive(t=fh.positive){return this.moreThan(0,t)}negative(t=fh.negative){return this.lessThan(0,t)}integer(t=fh.integer){return this.test({name:"integer",message:t,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(t=>Ju(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Ju(i)?i:Math[t](i))}}qu.prototype=V6.prototype;var NEe=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function UEe(e){var t=[1,4,5,6,7,10,11],n=0,r,i;if(i=NEe.exec(e)){for(var c=0,d;d=t[c];++c)i[d]=+i[d]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let VEe=new Date(""),HEe=e=>Object.prototype.toString.call(e)==="[object Date]";class NS extends lc{constructor(){super({type:"date",check(t){return HEe(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,n,r)=>!r.spec.coerce||r.isType(t)||t===null?t:(t=UEe(t),isNaN(t)?NS.INVALID_DATE:new Date(t)))})}prepareParam(t,n){let r;if(sf.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=tI.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(t,n=tI.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}NS.INVALID_DATE=VEe;NS.prototype;function GEe(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([d,s])=>`${d}-${s}`));function c(d,s){let m=Tp.split(d)[0];r.add(m),i.has(`${s}-${m}`)||n.push([s,m])}for(const d of Object.keys(e)){let s=e[d];r.add(d),sf.isRef(s)&&s.isSibling?c(s.path,d):dR(s)&&"deps"in s&&s.deps.forEach(m=>c(m,d))}return CEe.array(Array.from(r),n).reverse()}function K$(e,t){let n=1/0;return e.some((r,i)=>{var c;if((c=t.path)!=null&&c.includes(r))return n=i,!0}),n}function H6(e){return(t,n)=>K$(e,t)-K$(e,n)}const WEe=(e,t,n)=>{if(typeof e!="string")return e;let r=e;try{r=JSON.parse(e)}catch{}return n.isType(r)?r:e};function M1(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=M1(r);return e.setFields(t)}if(e.type==="array"){const t=e.optional();return t.innerType&&(t.innerType=M1(t.innerType)),t}return e.type==="tuple"?e.optional().clone({types:e.spec.types.map(M1)}):"optional"in e?e.optional():e}const qEe=(e,t)=>{const n=[...Tp.normalizePath(t)];if(n.length===1)return n[0]in e;let r=n.pop(),i=Tp.getter(Tp.join(n),!0)(e);return!!(i&&r in i)};let X$=e=>Object.prototype.toString.call(e)==="[object Object]";function ZEe(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const YEe=H6([]);function US(e){return new G6(e)}class G6 extends lc{constructor(t){super({type:"object",check(n){return X$(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=YEe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let c=this.fields,d=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(i).filter(E=>!this._nodes.includes(E))),m={},_=Object.assign({},n,{parent:m,__validating:n.__validating||!1}),w=!1;for(const E of s){let k=c[E],O=E in i;if(k){let R,L=i[E];_.path=(n.path?`${n.path}.`:"")+E,k=k.resolve({value:L,context:n.context,parent:m});let U=k instanceof lc?k.spec:void 0,F=U==null?void 0:U.strict;if(U!=null&&U.strip){w=w||E in i;continue}R=!n.__validating||!F?k.cast(i[E],_):i[E],R!==void 0&&(m[E]=R)}else O&&!d&&(m[E]=i[E]);(O!==E in m||m[E]!==i[E])&&(w=!0)}return w?m:i}_validate(t,n={},r,i){let{from:c=[],originalValue:d=t,recursive:s=this.spec.recursive}=n;n.from=[{schema:this,value:d},...c],n.__validating=!0,n.originalValue=d,super._validate(t,n,r,(m,_)=>{if(!s||!X$(_)){i(m,_);return}d=d||_;let w=[];for(let E of this._nodes){let k=this.fields[E];!k||sf.isRef(k)||w.push(k.asNestedTest({options:n,key:E,parent:_,parentPath:n.path,originalParent:d}))}this.runTests({tests:w,value:_,originalValue:d,options:n},r,E=>{i(E.sort(this._sortErrors).concat(m),_)})})}clone(t){const n=super.clone(t);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,c]of Object.entries(this.fields)){const d=r[i];r[i]=d===void 0?c:d}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const c=this.fields[r];let d=t;(i=d)!=null&&i.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[r]})),n[r]=c&&"getDefault"in c?c.getDefault(d):void 0}),n}setFields(t,n){let r=this.clone();return r.fields=t,r._nodes=GEe(t,n),r._sortErrors=H6(Object.keys(t)),n&&(r._excludedEdges=n),r}shape(t,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,t),i)})}partial(){const t={};for(const[n,r]of Object.entries(this.fields))t[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(t)}deepPartial(){return M1(this)}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n)}omit(t){const n=Object.assign({},this.fields);for(const r of t)delete n[r];return this.setFields(n)}from(t,n,r){let i=Tp.getter(t,!0);return this.transform(c=>{if(!c)return c;let d=c;return qEe(c,t)&&(d=Object.assign({},c),r||delete d[t],d[n]=i(c)),d})}json(){return this.transform(WEe)}noUnknown(t=!0,n=nI.noUnknown){typeof t!="boolean"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const c=ZEe(this.schema,i);return!t||c.length===0||this.createError({params:{unknown:c.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=nI.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[t(i)]=n[i];return r})}camelCase(){return this.transformKeys($E.camelCase)}snakeCase(){return this.transformKeys($E.snakeCase)}constantCase(){return this.transformKeys(t=>$E.snakeCase(t).toUpperCase())}describe(t){let n=super.describe(t);n.fields={};for(const[i,c]of Object.entries(this.fields)){var r;let d=t;(r=d)!=null&&r.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[i]})),n.fields[i]=c.describe(d)}return n}}US.prototype=G6.prototype;const KEe=new Date().getFullYear(),XEe=US().shape({annee:qu().required("Annee de sortie obligatoire").min(1994,"L'annee doit extre superieur or egale a  1994").max(new Date().getFullYear(),`L'annee doit etre inferieur ou egale a l'annee courante ${KEe}`),num_chassi:ui().required("Numeros Chassi obligatoire").length(6,"le numero de chassi doit avoir 6 chiffre"),km_parcouru:qu().required("Km parcourus obligatoire").min(0,"km parcouru doit etre > 0 km"),prix:qu().required("Prix du vehicule obligatoire").min(0,"le prix ne doit pas etre < 0 XAF"),description:ui().required("Description obligatoire"),modele:ui().required("Modele du vehicule obligatoire"),couleur:ui().required("Couleur obligatoire"),nombre_de_place:qu().min(2,"Une voiture a minimum deux place").required("Nombre de place obligatoire"),nombre_de_chevaux:qu().required("Nombre de chevaux obligatoire"),type_carburant:ui().required("Type carburant obligatoire"),type_vehicule:ui().required("Type vehicule obligatoire"),boite_vitesse:ui().required("Boite de voitesse obligatoire"),plaque_immatriculation:ui(),traction:ui().required("Type traction obligatoire")}),JEe=[{value:"electrique",label:"Électrique"},{value:"essence",label:"Essence"},{value:"gazoil",label:"Gazoil"},{value:"hybride",label:"Hybride"}],QEe=[{value:"coupe",label:"Véhicule coupé"},{value:"berline",label:"Voiture berline"},{value:"hayon",label:"Véhicule hayon"},{value:"break",label:"Voiture de type break"},{value:"limousine",label:"Limousine"},{value:"pick-up",label:"Voiture de type pick-up"},{value:"crossover",label:"Crossover"},{value:"SUV",label:"Véhicule de type SUV"},{value:"fourgonnette",label:"Fourgonnette"},{value:"mini-fourgonnette",label:"Mini-fourgonnette"},{value:"liftback",label:"Carrosserie liftback"},{value:"cabriolet",label:"Voiture cabriolet"},{value:"minibus",label:"Minibus"},{value:"roadster",label:"Roadster"},{value:"targa",label:"Voiture de type targa"}],ePe=[{value:"automatique",label:"Automatique"},{value:"manuelle",label:"Manuelle"}],W6=[{value:"AV",label:"Traction avant"},{value:"AR",label:"Traction arrière"},{value:"4RM",label:"Quatre roues motrices"},{value:"AWD",label:"Transmission intégrale"}],q6=Tr.forwardRef(function(t,n){return T.jsx(Vre,{direction:"up",ref:n,...t})}),tPe=Wi(e=>({container:{width:"800px",height:"700px",padding:e.spacing(1),backgroundColor:"rgba(171,171,171,.2)"},imageContainer:{display:"flex",gap:e.spacing(1),flexWrap:"wrap",width:"100%",height:"80%",alignItems:"center",justifyContent:"center",overflow:"auto","& .imageBox":{width:"100px",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"100px",maxHeight:"100px"}},centerDiv:{display:"flex",alignItems:"center",justifyContent:"center",height:"80%"}})),nPe=e=>{const{open:t,multiple:n,onClose:r,voitureId:i,photoId:c,oldImage:d,onUpdateImage:s,onNewImages:m}=e,_=tPe(),[w,E]=Tr.useState(null),[k,O]=Tr.useState([]),{userToken:R}=Ga();function L(){O([]),E(null),r()}function U(){const Z=document.getElementById("photo");Z&&Z.click()}Tr.useEffect(()=>{t&&U()},[t]),Tr.useEffect(()=>{if(w){const ee=Array.from(w).map(X=>({url:URL.createObjectURL(X)}));O(ee)}else O([])},[w]);function F(Z){if(console.log(Z),Z){console.log(Z.target.files);const ee=Z.target.files;E(ee)}}function z(){if(w){const Z=new FormData,ee=Array.from(w);Z.append("photo",ee[0]),ho.updateVoitureImage(Number(c),Z,R).then(X=>X.json()).then(X=>{console.log(X),L(),s(Number(c),X)}).catch(X=>console.log(X))}}function B(){if(w){const Z=new FormData,ee=Array.from(w);Z.append("voiture",i.toString()),ee.map(X=>{Z.append("images",X)}),ho.addVoitureImage(i,Z,R).then(X=>X.json()).then(X=>{console.log(X),L(),m(X)}).catch(X=>console.log(X))}}return T.jsx(v4,{open:t,TransitionComponent:q6,maxWidth:"md",onClose:()=>L(),children:T.jsxs(pt,{className:_.container,children:[T.jsx(Wt,{variant:"h5",textAlign:"center",gutterBottom:!0,children:d?"Modifier l'image":"Ajouter des images"}),T.jsx("input",{id:"photo",type:"file",accept:"image/*",multiple:!!n,onChange:F,style:{display:"none"}}),T.jsxs(pt,{sx:{display:"flex",gap:3,height:"85%",alignItems:"center",justifyContent:"space-between"},children:[T.jsxs(pt,{sx:{height:"100%",width:"100%"},children:[c&&T.jsxs(T.Fragment,{children:[T.jsx(Wt,{variant:"h6",textAlign:"center",children:"Ancienne image"}),T.jsx(pt,{className:_.centerDiv,children:d&&T.jsx("img",{src:d,style:{maxWidth:"250px"}})})]}),T.jsx(pt,{className:c?"":_.centerDiv,children:T.jsxs(Po,{variant:"contained",onClick:U,children:["Selectionner ",c?"une":"(une) ou des"," image"]})})]}),T.jsx(Ko,{flexItem:!0,orientation:"vertical"}),T.jsxs(pt,{sx:{height:"100%",width:"100%"},children:[T.jsx(Wt,{variant:"h6",textAlign:"center",children:"Nouvelle Image"}),T.jsxs(pt,{className:_.imageContainer,children:[k.length>1&&(k==null?void 0:k.map((Z,ee)=>T.jsx(pt,{children:T.jsx(pi,{className:"imageBox",children:T.jsx("img",{src:Z.url})},ee)}))),k.length==1&&T.jsx("img",{src:k[0].url,style:{width:300,height:300,objectFit:"contain"}})]})]})]}),T.jsxs(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsx(Po,{variant:"contained",color:"error",onClick:L,children:"Fermez"}),c?T.jsx(Po,{disabled:k.length!==1,variant:"contained",color:"success",onClick:z,children:"Update image"}):T.jsx(T.Fragment,{children:w&&w.length>0&&T.jsx(Po,{onClick:B,variant:"contained",color:"success",children:"Sauegarder ces images"})})]})]})})},rPe=e=>{const{open:t,photoId:n,onClose:r,photo:i,onDelete:c}=e,{userToken:d}=Ga();function s(){r()}function m(){ho.deleteVoitureImage(n,d).then(()=>{c(n),s()}).catch(_=>console.log(_))}return T.jsx(v4,{open:t,TransitionComponent:q6,maxWidth:"md",onClose:s,children:T.jsxs(pt,{sx:_=>({width:"300px",height:"300px",padding:_.spacing(2)}),children:[T.jsx(Wt,{variant:"h6",gutterBottom:!0,children:"Voulezvous vraimen supprimez ?"}),T.jsx(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:T.jsx("img",{src:i,style:{width:200,height:200}})}),T.jsx(Ko,{}),T.jsxs(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:1},children:[T.jsx(Po,{onClick:s,variant:"contained",children:"Close"}),T.jsx(Po,{onClick:m,variant:"contained",color:"error",children:"Delete"})]})]})})},oPe=Wi(e=>({boxWrapper:{[e.breakpoints.up("md")]:{display:"flex",overflow:"auto"},[e.breakpoints.down("md")]:{display:"block"}},label:{fontSize:"18px",minWidth:"300px",fontWeight:"400"},btnAddImage:{color:"#000",backgroundColor:"#000","& :hover":{backgroundColor:"#000"}},imagesContainer:{display:"flex",flexWrap:"wrap",gap:e.spacing(1),padding:e.spacing(1)},imageWrapper:{backgroundColor:"#e0f1f5b5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:e.spacing(1),borderRadius:3,cursor:"pointer","&: hover":{backgroundColor:"#808080ab",opacity:.8},transition:"all 2s ease",width:200,height:200,position:"relative","&:hover .overlay":{display:"block",position:"absolute",left:0,right:0,bottom:0,top:0},"& .overlay":{display:"none"}},image:{width:"150px",height:"150px",cursor:"pointer",objectFit:"contain"}})),iPe=()=>{const{id:e}=xM(),[t,n]=P.useState(),[r,i]=P.useState([]),[c,d]=P.useState([]),[s,m]=P.useState(0),[_,w]=P.useState(!1),{userToken:E}=Ga(),k=oPe(),[O,R]=P.useState(!0),[L,U]=P.useState([]),[F,z]=P.useState(""),[B,Z]=P.useState(0),[ee,X]=P.useState(!1),[W,ne]=P.useState(!1);P.useEffect(()=>{t&&U(t.images)},[t]),P.useEffect(()=>{E&&e&&ho.getVoiture(parseInt(e),E).then(oe=>oe.json()).then(oe=>{console.log(oe),setTimeout(()=>{R(!1),n(oe)},300)}).catch(oe=>console.log(oe))},[E,e]),P.useEffect(()=>{ho.listMarque().then(oe=>oe.json()).then(oe=>i(oe)).catch(oe=>console.log(oe.message))},[E]),P.useEffect(()=>{t&&m(t.model.marque.id)},[t]),P.useEffect(()=>{if(s){const oe=r.find(me=>me.id===s);oe&&d(oe.modeles),console.log(s),console.log(r),console.log(c)}},[s,r,c]),P.useEffect(()=>{ho.listMarque().then(oe=>oe.json()).then(oe=>{i(oe)}).catch(oe=>console.log(oe.message))},[]);const J=(oe,me)=>{Z(oe),z(me),w(!0)};function re(){z(""),Z(null),X(!1)}function se(){X(!0),w(!0)}function de(oe,me){Z(oe),z(me),ne(!0)}function pe(){re(),ne(!1)}const ae=oe=>`${oe.model.marque.nom} ${oe.model.nom}(${oe.annee})`;return T.jsx(Wp,{children:T.jsxs(pt,{sx:{padding:0,margin:0,backgroundColor:"RGBA(226, 254, 254,.2)"},width:"100%",height:"100%",children:[T.jsxs(D_,{children:[T.jsx("meta",{charSet:"utf-8"}),T.jsx("title",{children:"Dashboard | Voiture "})]}),T.jsx(Cn,{container:!0,width:"100%",height:"100%",sx:{backgroundColor:"#79c2e29e"},children:O&&!t?T.jsx(dx,{}):T.jsxs(T.Fragment,{children:[T.jsx(Cn,{item:!0,md:8,sm:7,xs:12,sx:{backgroundColor:"#b7e9f5c4"},height:"100%",overflow:"auto",children:T.jsx(hS,{initialValues:{annee:t.annee,prix:t.prix,description:t.description,num_chassi:t.num_chassi,km_parcouru:t.km_parcouru,model:t.model.id,nombre_de_place:t.nombre_de_place,nombre_de_chevaux:t.nombre_de_chevaux,couleur:"black",type_carburant:t.type_carburant,type_vehicule:t.type_vehicule,boite_vitesse:t.boite_vitesse,plaque_immatriculation:t.plaque_immatriculation,traction:t.traction},validationSchema:XEe,onSubmit:()=>{},children:({values:oe,errors:me,isValid:xe,dirty:ce,touched:ge,handleBlur:Te,handleChange:Ue,handleSubmit:We})=>T.jsx(ox,{method:"post",onSubmit:Ye=>{Ye.preventDefault(),We(Ye);const gt=new FormData(Ye.target);ho.updateVoiture(Number(e),gt,E).then(vt=>vt.json()).then(vt=>{console.log(vt),window.location.href="/dashboard/voiture/"}).catch(vt=>console.log(vt))},children:T.jsxs(pt,{sx:{p:2},children:[T.jsx(Wt,{variant:"h5",fontWeight:"100",gutterBottom:!0,children:"Modifier Voiture"}),T.jsxs(pt,{children:[T.jsx(Wt,{variant:"h5",sx:{fontWeight:"600"},gutterBottom:!0,children:ae(t)}),T.jsxs(pt,{sx:{display:"flex",gap:2,flexDirection:"column",mt:2,p:2},children:[T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Annee:"}),T.jsx(br,{type:"number",name:"annee",onChange:Ue,onBlur:Te,value:oe.annee,error:!!me.annee&&!!ge.annee,helperText:!!me.annee&&me.annee})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Prix:"}),T.jsx(br,{type:"number",name:"prix",onChange:Ue,onBlur:Te,value:oe.prix,error:!!me.prix&&!!ge.prix,helperText:!!me.prix&&me.prix,InputProps:{endAdornment:T.jsx(dy,{position:"end",children:"XAF"})}})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Description:"}),T.jsx(br,{sx:{maxWidth:600},multiline:!0,fullWidth:!0,rows:6,name:"description",onChange:Ue,onBlur:Te,value:oe.description,error:!!me.description&&!!ge.description,helperText:!!me.description&&me.description})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Num chassi:"}),T.jsx(br,{name:"num_chassi",onChange:Ue,onBlur:Te,value:oe.num_chassi,error:!!me.num_chassi&&!!ge.num_chassi,helperText:!!me.num_chassi&&me.num_chassi})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Traction:"}),T.jsx(br,{name:"traction",onChange:Ue,onBlur:Te,value:oe.traction,select:!0,error:!!me.traction&&!!ge.traction,helperText:!!me.traction&&me.traction,children:W6.map(Ye=>T.jsx(Oi,{value:Ye.value,children:Ye.label},Ye.value))})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Plaque immatriculation:"}),T.jsx(br,{name:"plaque_immatriculation",onChange:Ue,onBlur:Te,value:oe.plaque_immatriculation,error:!!me.plaque_immatriculation&&!!ge.plaque_immatriculation,helperText:!!me.plaque_immatriculation&&me.plaque_immatriculation})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Km parcouru:"}),T.jsx(br,{name:"km_parcouru",onChange:Ue,onBlur:Te,value:oe.km_parcouru,error:!!me.km_parcouru&&!!ge.km_parcouru,helperText:!!me.km_parcouru&&me.km_parcouru,InputProps:{endAdornment:T.jsx(dy,{position:"end",children:"KM"})}})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Marque"}),T.jsx(br,{select:!0,value:s,onChange:Ye=>m(Number(Ye.target.value)),children:r==null?void 0:r.map(Ye=>T.jsx(Oi,{value:Ye.id,children:Ye.nom},Ye.id))})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Modele:"}),T.jsxs(br,{name:"model",onChange:Ue,onBlur:Te,value:oe.model,select:!0,error:!!me.model&&!!ge.model,helperText:!!me.model&&me.model,children:[T.jsx(Oi,{value:"",children:"Selectionner le modele"}),c==null?void 0:c.map(Ye=>T.jsx(Oi,{value:Ye.id,children:Ye.nom},Ye.id))]})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Nombre de place:"}),T.jsx(br,{name:"nombre_de_place",onChange:Ue,onBlur:Te,value:oe.nombre_de_place,error:!!me.nombre_de_place&&!!ge.nombre_de_place,helperText:!!me.nombre_de_place&&me.nombre_de_place})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Nombre de chevaux:"}),T.jsx(br,{name:"nombre_de_chevaux",onChange:Ue,onBlur:Te,value:oe.nombre_de_chevaux,error:!!me.nombre_de_chevaux&&!!ge.nombre_de_chevaux,helperText:!!me.nombre_de_chevaux&&me.nombre_de_chevaux})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Boite vitesse:"}),T.jsx(br,{value:oe.boite_vitesse,select:!0,name:"boite_vitesse",onChange:Ue,onBlur:Te,error:!!me.boite_vitesse&&!!ge.boite_vitesse,helperText:!!me.boite_vitesse&&me.boite_vitesse,children:ePe.map(Ye=>T.jsx(Oi,{value:Ye.value,children:Ye.label},Ye.value))})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Type carburant:"}),T.jsx(br,{value:oe.type_carburant,name:"type_carburant",select:!0,onChange:Ue,onBlur:Te,error:!!me.type_carburant&&!!ge.type_carburant,helperText:!!me.type_carburant&&me.type_carburant,children:JEe.map(Ye=>T.jsx(Oi,{value:Ye.value,children:Ye.label},Ye.value))})]}),T.jsx(Ko,{}),T.jsxs(pt,{className:k.boxWrapper,children:[T.jsx(Wt,{className:k.label,children:"Type vehicule:"}),T.jsx(br,{name:"type_vehicule",value:oe.type_vehicule,select:!0,onChange:Ue,onBlur:Te,error:!!me.type_vehicule&&!!ge.type_vehicule,helperText:!!me.type_vehicule&&me.type_vehicule,children:QEe.map(Ye=>T.jsx(Oi,{value:Ye.value,children:Ye.label},Ye.value))})]})]}),T.jsxs(pt,{sx:{p:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx(Po,{color:"error",variant:"contained",children:"Delete"}),T.jsx(Po,{disabled:!ce||!xe,color:"info",variant:"contained",type:"submit",children:"Save"})]})]})]})})})}),T.jsx(Cn,{item:!0,md:4,sm:5,sx:{backgroundColor:"#dedede",p:2,right:0,bottom:0,top:0},height:"100vh",position:"static",children:T.jsxs(pt,{height:"100%",overflow:"auto",children:[T.jsx(pt,{children:T.jsx(Po,{className:k.btnAddImage,onClick:se,variant:"contained",children:"Ajouter une image"})}),T.jsx(nPe,{oldImage:F,photoId:B,voitureId:Number(e),open:_,multiple:ee,onClose:()=>{w(!1),re()},onNewImages:oe=>{U(oe.images)},onUpdateImage:(oe,me)=>{const xe=L.find(ce=>ce.id===oe);xe.photo=me.photo}}),T.jsx(Wt,{variant:"h5",children:"Photos "}),T.jsx(pt,{sx:{height:"100%",width:"100%"},children:T.jsxs(pt,{className:k.imagesContainer,children:[T.jsx(rPe,{onClose:pe,open:W,photo:F,photoId:B,onDelete:oe=>{U(L.filter(me=>me.id!==oe))}}),L==null?void 0:L.map((oe,me)=>T.jsxs(pi,{className:k.imageWrapper,children:[T.jsx("img",{src:oe.photo,className:k.image}),T.jsx(pt,{className:"overlay",children:T.jsxs(pt,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#d2d1d19c"},children:[T.jsx(pt,{sx:{position:"absolute",right:5,top:5,zIndex:999},children:T.jsx(pi,{children:T.jsx(Qi,{color:"error",onClick:()=>{de(oe.id,oe.photo)},children:T.jsx(gA,{})})})}),T.jsx(pi,{sx:xe=>({padding:xe.spacing(1),height:80,width:80,borderRadius:xe.shape.borderRadius}),component:ha,onClick:()=>{J(oe.id,oe.photo)},children:T.jsx(Wt,{children:"Changer d'image"})})]})})]},me))]})})]})})]})})]})})},sPe=Wi(e=>({header:{backgroundColor:"RGB(49, 114, 221)",borderRadius:e.shape.borderRadius,color:"#fff","& > *":{color:"#fff"}},title:{flexGrow:1,textDecoration:"none",color:"#fff","&:hover":{color:"#eee"},"& img":{maxWidth:32,maxHeight:32}},link:{textDecoration:"none",marginLeft:e.spacing(2),"&:hover":{color:"#ddd"}},navContainer:{display:"flex"}})),zy=e=>{const t=sPe(),{...n}=e,{userToken:r}=Ga();return T.jsx(zee,{...n,sx:{backgroundColor:"RGBA(49, 114, 221,9)"},position:"absolute",className:t.header,children:T.jsxs(z4,{children:[T.jsxs(Wt,{variant:"h6",component:Jv,to:"/",className:t.title,children:[T.jsx("img",{src:"/logo-white.png",alt:"Logo"}),"Annonces Voitures"]}),T.jsxs("nav",{className:t.navContainer,children:[T.jsx(Po,{sx:{color:"#fff"},component:Jv,to:"/",className:t.link,children:"Accueil"}),T.jsx(Po,{sx:{color:"#fff"},component:Jv,to:"/annonces",className:t.link,children:"Annonces"}),T.jsx(Po,{sx:{color:"#fff"},component:Jv,to:"/contact/",className:t.link,children:"Contact"}),r&&T.jsx(Po,{sx:{color:"#fff"},component:Jv,to:"/dashboard/",className:t.link,children:"Dashboard"})]})]})})},aPe=Wi(e=>({root:{padding:e.spacing(2),minHeight:"300px",display:"flex",backgroundColor:"RGB(49, 114, 221)",color:"#fff",flexDirection:"column",borderRadius:e.shape.borderRadius,"& .footer-content":{display:"flex",flex:1,width:"100%",alignItems:"center",gap:e.spacing(1),"& .footer-logo":{"& img":{maxWidth:128,maxHeight:128}},"& .footer-links":{"& ul":{listStyleType:"none","& li":{"& a":{textDecoration:"none",color:"#fff",fontSize:"1.3rem"}}}}},"& .footer-bottom":{width:"100%","& .container":{"& p":{textAlign:"center",fontSize:"1.3rem"}}}}})),Fy=()=>{const e=aPe();return T.jsxs(pt,{className:e.root,component:"footer",children:[T.jsxs(pt,{className:"footer-content",children:[T.jsx("div",{className:"footer-logo",children:T.jsx("img",{src:"/logo-white.png",alt:"Logo"})}),T.jsx("div",{className:"footer-links",children:T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("a",{href:"/",children:"Accueil"})}),T.jsx("li",{children:T.jsx("a",{href:"/annonces",children:"Annonces"})}),T.jsx("li",{children:T.jsx("a",{href:"/contact",children:"Contact"})})]})})]}),T.jsx(pt,{className:"footer-bottom",children:T.jsx("div",{className:"container",children:T.jsxs("p",{children:["Tous droits réservés ",T.jsx("a",{style:{color:"#ffff"},href:"https://github.com/tomdieu",children:"ivantom"})," © ",new Date().getFullYear()]})})})]})},lPe=e=>{const t=Sn(),n=Sn(e,"YYYY-MM-DD"),r=Sn.duration(t.diff(n)),i=r.years(),c=r.months(),d=r.days();return i>0?`Il y a ${i} an${i>1?"s":""}`:c>0?`Il y a ${c} mois`:`Il y a ${d} jour${d>1?"s":""}`};function t1(e){return e.replace(/\b\w/g,t=>t.toUpperCase())}var Z6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},J$=Tr.createContext&&Tr.createContext(Z6),Vh=globalThis&&globalThis.__assign||function(){return Vh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vh.apply(this,arguments)},cPe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Y6(e){return e&&e.map(function(t,n){return Tr.createElement(t.tag,Vh({key:n},t.attr),Y6(t.child))})}function Xp(e){return function(t){return Tr.createElement(uPe,Vh({attr:Vh({},e.attr)},t),Y6(e.child))}}function uPe(e){var t=function(n){var r=e.attr,i=e.size,c=e.title,d=cPe(e,["attr","size","title"]),s=i||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),Tr.createElement("svg",Vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,d,{className:m,style:Vh(Vh({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),c&&Tr.createElement("title",null,c),e.children)};return J$!==void 0?Tr.createElement(J$.Consumer,null,function(n){return t(n)}):t(Z6)}function K6(e){return Xp({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M5 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M12 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M19 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M5 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M12 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M5 8l0 8"}},{tag:"path",attr:{d:"M12 8l0 8"}},{tag:"path",attr:{d:"M19 8v2a2 2 0 0 1 -2 2h-12"}}]})(e)}function dPe(e){return Xp({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"}},{tag:"path",attr:{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"}}]})(e)}const hPe=Wi(e=>({card:{marginBottom:e.spacing(1),cursor:"pointer",width:"100%"},media:{height:0,paddingTop:"56.25%"},description:{maxHeight:"4.5em",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical"}})),hR=e=>{var i;const{annonce:t,...n}=e,r=hPe();return P.createElement(f4,{...n,key:t.titre,className:r.card},T.jsx(m4,{className:r.media,image:(i=t.voiture.images[0])==null?void 0:i.photo,title:t.voiture.model.marque.nom+" "+t.voiture.model.nom}),T.jsxs(p4,{sx:{position:"relative",backgroundColor:"RGB(49, 114, 221)",color:"#ddd","& > *":{color:"#ddd"}},children:[T.jsx(Wt,{variant:"h5",component:"h2",children:t1(t.titre)}),T.jsxs(Wt,{variant:"body2",color:"textSecondary",children:["Voiture : ",t.voiture.model.marque.nom," ",t.voiture.model.nom," ",t.voiture.annee]}),T.jsxs(Wt,{variant:"body2",color:"textSecondary",children:["Prix: ",t.prix," FCFA"]}),T.jsxs(Wt,{variant:"body2",color:"textSecondary",children:["Propriétaire: ",t.voiture.proprietaire.first_name," ",t.voiture.proprietaire.last_name," (",t.voiture.proprietaire.username,")"]}),T.jsx(Wt,{variant:"body2",color:"textSecondary",children:T.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[T.jsx(Afe,{sx:{width:20}})," ",t1(t.address)]})}),T.jsx(pt,{sx:c=>({position:"absolute",left:5,top:-30,backgroundColor:"rgba(0,0,0,.5)",borderRadius:c.shape.borderRadius,p:c.spacing(.5)}),children:T.jsxs(Wt,{variant:"body2",color:"textSecondary",sx:{display:"flex",alignItems:"center",gap:1,color:"#fff"},children:[T.jsx(dPe,{style:{fontWeight:"600"}}),lPe(t.date_creation)]})}),T.jsxs(pt,{sx:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap","& > *":{color:"#fff"}},children:[T.jsx(Wt,{variant:"body2",color:"text.secondary",children:t.voiture.annee}),T.jsx(Ko,{orientation:"vertical",flexItem:!0}),T.jsx(Wt,{variant:"body2",color:"text.secondary",children:Lp(t.voiture.km_parcouru*1e3,{units:["m","km","mi","ft"],space:!0})}),T.jsx(Ko,{orientation:"vertical",flexItem:!0}),T.jsx(Wt,{variant:"body2",color:"text.secondary",children:T.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[T.jsx(fS,{}),t1(t.voiture.type_carburant)]})}),T.jsx(Ko,{orientation:"vertical",flexItem:!0}),T.jsx(Wt,{variant:"body2",color:"text.secondary",children:T.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[T.jsx(K6,{style:{width:20,height:20}}),t1(t.voiture.boite_vitesse)]})})]})]}))};function X6(e){return Xp({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(e)}const fPe=Wi(e=>({btn:{padding:e.spacing(1),display:"flex",alignItems:"center",borderRadius:20,color:"#eee",backgroundColor:"RGB(49, 114, 221)","& .icon":{display:"none"},"&:hover .icon":{display:"inline-block"}},link:{"&:hover *":{color:"#ccc"}}})),pPe=()=>{const e=fPe(),[t,n]=P.useState([]);return P.useEffect(()=>{ho.listAnnonces("limit=8").then(r=>r.json()).then(r=>{n(r)}).catch(r=>console.log(r.message))},[]),T.jsxs(Cn,{container:!0,sx:{p:2,display:"flex",flexDirection:"column"},children:[T.jsxs(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[T.jsx(Wt,{variant:"h4",children:"Annonces"}),T.jsx(ha,{className:e.link,href:"/annonces",children:T.jsxs(pt,{className:e.btn,children:[T.jsx(Wt,{variant:"body1",children:"Plus D'annonce"})," ",T.jsx(X6,{className:"icon",size:20})]})})]}),T.jsx(Cn,{container:!0,spacing:1,sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:t==null?void 0:t.map(r=>T.jsx(Cn,{lg:3,md:4,sm:6,flex:1,item:!0,children:T.jsx("a",{href:`/annonces/${r.id}/`,children:T.jsx(hR,{annonce:r})})},r.id))})]})},mPe=Wi(e=>({h1:{fontSize:"5rem",[e.breakpoints.down("sm")]:{fontSize:"2.5rem"},fontWeight:"bold"},h2:{fontSize:"3rem",[e.breakpoints.down("sm")]:{fontSize:"2rem"}},h3:{fontSize:"2.5rem",[e.breakpoints.down("sm")]:{fontSize:"1.8rem"}},h4:{fontSize:"2rem",[e.breakpoints.down("sm")]:{fontSize:"1.6rem"}},h5:{fontSize:"1.8rem",[e.breakpoints.down("sm")]:{fontSize:"1.4rem"}},h6:{fontSize:"1.5rem",[e.breakpoints.down("sm")]:{fontSize:"1.2rem"}},subtitle1:{fontSize:"1.2rem",[e.breakpoints.down("sm")]:{fontSize:"1rem"}},subtitle2:{fontSize:"1rem",[e.breakpoints.down("sm")]:{fontSize:"0.9rem"}},body1:{fontSize:"1rem",[e.breakpoints.down("sm")]:{fontSize:"0.9rem"}},body2:{fontSize:"0.9rem",[e.breakpoints.down("sm")]:{fontSize:"0.8rem"}},inherit:{fontSize:"inherit"}})),gPe=Wi(e=>({container:{width:"100vw",height:"100vh",overflowX:"hidden"},heroSection:{height:"800px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"10px",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",color:"#fff","&::before":{content:'""',position:"absolute",top:"-10px",left:"-10px",right:"-10px",bottom:"-10px",background:"linear-gradient(315deg, #ffffff, #d7e1ec)",zIndex:"-1",filter:"blur(40px)"},marginTop:e.spacing(2.5)},leftPart:{color:"#fff",padding:e.spacing(4),width:"100%",position:"relative",textAlign:"center"},rightPart:{width:"100%",position:"relative","& img":{minWidth:"100%",height:"auto",display:"block",top:0,left:0,bottom:0,width:"100%",transform:"scale(2)",zIndex:99,[e.breakpoints.down("md")]:{transform:"scale(10)"},[e.breakpoints.down("lg")]:{transform:"scale(3)"}}},svgBackground:{position:"absolute",top:0,left:"-10%",zIndex:50},btn:{padding:e.spacing(1),display:"flex",alignItems:"center",borderRadius:20,color:"#eee",backgroundColor:"RGB(49, 114, 221)","& .icon":{display:"none"},"&:hover .icon":{display:"inline-block"}},customBtn:{padding:e.spacing(2),backgroundColor:"RGB(49, 114, 221)",borderRadius:30,display:"flex",alignItems:"center",gap:1,"& .icon":{display:"none"},"&:hover .icon":{display:"inline-block"}},link:{"&:hover *":{color:"#ccc"}}})),yPe=()=>{const e=gPe(),t=mPe();return T.jsxs(Cn,{container:!0,className:e.heroSection,children:[T.jsxs(Cn,{item:!0,md:6,sm:6,className:e.leftPart,children:[T.jsxs(pt,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[T.jsx(Wt,{textAlign:"left",gutterBottom:!0,color:"black",className:t.h1,component:"span",sx:n=>({[n.breakpoints.down("lg")]:{fontSize:"2.9rem"},[n.breakpoints.down("md")]:{fontSize:"2.3rem"},[n.breakpoints.up("md")]:{fontSize:"4rem"}}),children:"Bienvenue sur ,"}),T.jsx(Wt,{className:t.h3,textAlign:"left",gutterBottom:!0,color:"black",variant:"caption",component:"span",sx:n=>({[n.breakpoints.down("lg")]:{fontSize:"2.7rem"},[n.breakpoints.down("md")]:{fontSize:"2.1rem"},[n.breakpoints.up("md")]:{fontSize:"3rem"}}),children:"Annonces Ventes Voitures"}),T.jsx(Wt,{className:t.h5,textAlign:"left",color:"black",component:"span",sx:n=>({[n.breakpoints.down("lg")]:{fontSize:"2.5rem"},[n.breakpoints.down("md")]:{fontSize:"1.9rem"},[n.breakpoints.up("md")]:{fontSize:"1.5rem"}}),children:"Découvrez les meilleures offres de voitures neuves et d'occasion."})]}),T.jsx(pt,{sx:{width:"100%",display:"flex",mt:3},children:T.jsx(ha,{href:"/dashboard/annonce/",className:e.link,children:T.jsxs(pt,{className:e.customBtn,children:[T.jsx(Wt,{children:"Cree une annonce "}),T.jsx(X6,{className:"icon",size:20})]})})})]}),T.jsx(Cn,{item:!0,md:6,sm:6,className:e.rightPart,sx:{backgroundImage:"url(/bg.svg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",display:"flex",width:"100%",p:20},children:T.jsx(pt,{sx:{position:"relative"},children:T.jsx("img",{src:"/rav4.png",alt:"Car"})})})]})};function J6(e){return Xp({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}}]})(e)}function Q6(e){return Xp({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}}]})(e)}var eH={},tH={},VS={},nH={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=t;e.default=n})(nH);var vPe="Expected a function",Q$=0/0,_Pe="[object Symbol]",xPe=/^\s+|\s+$/g,bPe=/^[-+]0x[0-9a-f]+$/i,wPe=/^0b[01]+$/i,CPe=/^0o[0-7]+$/i,SPe=parseInt,TPe=typeof Ma=="object"&&Ma&&Ma.Object===Object&&Ma,EPe=typeof self=="object"&&self&&self.Object===Object&&self,PPe=TPe||EPe||Function("return this")(),kPe=Object.prototype,IPe=kPe.toString,MPe=Math.max,APe=Math.min,BE=function(){return PPe.Date.now()};function RPe(e,t,n){var r,i,c,d,s,m,_=0,w=!1,E=!1,k=!0;if(typeof e!="function")throw new TypeError(vPe);t=e5(t)||0,rI(n)&&(w=!!n.leading,E="maxWait"in n,c=E?MPe(e5(n.maxWait)||0,t):c,k="trailing"in n?!!n.trailing:k);function O(X){var W=r,ne=i;return r=i=void 0,_=X,d=e.apply(ne,W),d}function R(X){return _=X,s=setTimeout(F,t),w?O(X):d}function L(X){var W=X-m,ne=X-_,J=t-W;return E?APe(J,c-ne):J}function U(X){var W=X-m,ne=X-_;return m===void 0||W>=t||W<0||E&&ne>=c}function F(){var X=BE();if(U(X))return z(X);s=setTimeout(F,L(X))}function z(X){return s=void 0,k&&r?O(X):(r=i=void 0,d)}function B(){s!==void 0&&clearTimeout(s),_=0,r=m=i=s=void 0}function Z(){return s===void 0?d:z(BE())}function ee(){var X=BE(),W=U(X);if(r=arguments,i=this,m=X,W){if(s===void 0)return R(m);if(E)return s=setTimeout(F,t),O(m)}return s===void 0&&(s=setTimeout(F,t)),d}return ee.cancel=B,ee.flush=Z,ee}function rI(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function OPe(e){return!!e&&typeof e=="object"}function DPe(e){return typeof e=="symbol"||OPe(e)&&IPe.call(e)==_Pe}function e5(e){if(typeof e=="number")return e;if(DPe(e))return Q$;if(rI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=rI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(xPe,"");var n=wPe.test(e);return n||CPe.test(e)?SPe(e.slice(2),n?2:8):bPe.test(e)?Q$:+e}var LPe=RPe,rH={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var c=arguments[i];if(c){var d=typeof c;if(d==="string"||d==="number")r.push(c);else if(Array.isArray(c)){if(c.length){var s=n.apply(null,c);s&&r.push(s)}}else if(d==="object"){if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]")){r.push(c.toString());continue}for(var m in c)t.call(c,m)&&c[m]&&r.push(m)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(rH);var HS=rH.exports,En={};Object.defineProperty(En,"__esModule",{value:!0});En.checkSpecKeys=En.checkNavigable=En.changeSlide=En.canUseDOM=En.canGoNext=void 0;En.clamp=oH;En.swipeStart=En.swipeMove=En.swipeEnd=En.slidesOnRight=En.slidesOnLeft=En.slideHandler=En.siblingDirection=En.safePreventDefault=En.lazyStartIndex=En.lazySlidesOnRight=En.lazySlidesOnLeft=En.lazyEndIndex=En.keyHandler=En.initializedState=En.getWidth=En.getTrackLeft=En.getTrackCSS=En.getTrackAnimateCSS=En.getTotalSlides=En.getSwipeDirection=En.getSlideCount=En.getRequiredLazySlides=En.getPreClones=En.getPostClones=En.getOnDemandLazySlides=En.getNavigableIndexes=En.getHeight=En.extractObject=void 0;var zPe=FPe(P);function FPe(e){return e&&e.__esModule?e:{default:e}}function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(r){jPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jPe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oH(e,t,n){return Math.max(t,Math.min(e,n))}var Ep=function(t){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(t._reactName)||t.preventDefault()};En.safePreventDefault=Ep;var fR=function(t){for(var n=[],r=pR(t),i=mR(t),c=r;c<i;c++)t.lazyLoadedList.indexOf(c)<0&&n.push(c);return n};En.getOnDemandLazySlides=fR;var $Pe=function(t){for(var n=[],r=pR(t),i=mR(t),c=r;c<i;c++)n.push(c);return n};En.getRequiredLazySlides=$Pe;var pR=function(t){return t.currentSlide-iH(t)};En.lazyStartIndex=pR;var mR=function(t){return t.currentSlide+sH(t)};En.lazyEndIndex=mR;var iH=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0};En.lazySlidesOnLeft=iH;var sH=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow};En.lazySlidesOnRight=sH;var Nw=function(t){return t&&t.offsetWidth||0};En.getWidth=Nw;var gR=function(t){return t&&t.offsetHeight||0};En.getHeight=gR;var yR=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,c,d;return r=t.startX-t.curX,i=t.startY-t.curY,c=Math.atan2(i,r),d=Math.round(c*180/Math.PI),d<0&&(d=360-Math.abs(d)),d<=45&&d>=0||d<=360&&d>=315?"left":d>=135&&d<=225?"right":n===!0?d>=35&&d<=135?"up":"down":"vertical"};En.getSwipeDirection=yR;var vR=function(t){var n=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(n=!1),n};En.canGoNext=vR;var BPe=function(t,n){var r={};return n.forEach(function(i){return r[i]=t[i]}),r};En.extractObject=BPe;var NPe=function(t){var n=zPe.default.Children.count(t.children),r=t.listRef,i=Math.ceil(Nw(r)),c=t.trackRef&&t.trackRef.node,d=Math.ceil(Nw(c)),s;if(t.vertical)s=i;else{var m=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(m*=i/100),s=Math.ceil((i-m)/t.slidesToShow)}var _=r&&gR(r.querySelector('[data-index="0"]')),w=_*t.slidesToShow,E=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(E=n-1-t.initialSlide);var k=t.lazyLoadedList||[],O=fR(Qo(Qo({},t),{},{currentSlide:E,lazyLoadedList:k}));k=k.concat(O);var R={slideCount:n,slideWidth:s,listWidth:i,trackWidth:d,currentSlide:E,slideHeight:_,listHeight:w,lazyLoadedList:k};return t.autoplaying===null&&t.autoplay&&(R.autoplaying="playing"),R};En.initializedState=NPe;var UPe=function(t){var n=t.waitForAnimate,r=t.animating,i=t.fade,c=t.infinite,d=t.index,s=t.slideCount,m=t.lazyLoad,_=t.currentSlide,w=t.centerMode,E=t.slidesToScroll,k=t.slidesToShow,O=t.useCSS,R=t.lazyLoadedList;if(n&&r)return{};var L=d,U,F,z,B={},Z={},ee=c?d:oH(d,0,s-1);if(i){if(!c&&(d<0||d>=s))return{};d<0?L=d+s:d>=s&&(L=d-s),m&&R.indexOf(L)<0&&(R=R.concat(L)),B={animating:!0,currentSlide:L,lazyLoadedList:R,targetSlide:L},Z={animating:!1,targetSlide:L}}else U=L,L<0?(U=L+s,c?s%E!==0&&(U=s-s%E):U=0):!vR(t)&&L>_?L=U=_:w&&L>=s?(L=c?s:s-1,U=c?0:s-1):L>=s&&(U=L-s,c?s%E!==0&&(U=0):U=s-k),!c&&L+k>=s&&(U=s-k),F=$_(Qo(Qo({},t),{},{slideIndex:L})),z=$_(Qo(Qo({},t),{},{slideIndex:U})),c||(F===z&&(L=U),F=z),m&&(R=R.concat(fR(Qo(Qo({},t),{},{currentSlide:L})))),O?(B={animating:!0,currentSlide:U,trackStyle:_R(Qo(Qo({},t),{},{left:F})),lazyLoadedList:R,targetSlide:ee},Z={animating:!1,currentSlide:U,trackStyle:j_(Qo(Qo({},t),{},{left:z})),swipeLeft:null,targetSlide:ee}):B={currentSlide:U,trackStyle:j_(Qo(Qo({},t),{},{left:z})),lazyLoadedList:R,targetSlide:ee};return{state:B,nextState:Z}};En.slideHandler=UPe;var VPe=function(t,n){var r,i,c,d,s,m=t.slidesToScroll,_=t.slidesToShow,w=t.slideCount,E=t.currentSlide,k=t.targetSlide,O=t.lazyLoad,R=t.infinite;if(d=w%m!==0,r=d?0:(w-E)%m,n.message==="previous")c=r===0?m:_-r,s=E-c,O&&!R&&(i=E-c,s=i===-1?w-1:i),R||(s=k-m);else if(n.message==="next")c=r===0?m:r,s=E+c,O&&!R&&(s=(E+m)%w+r),R||(s=k+m);else if(n.message==="dots")s=n.index*n.slidesToScroll;else if(n.message==="children"){if(s=n.index,R){var L=uH(Qo(Qo({},t),{},{targetSlide:s}));s>n.currentSlide&&L==="left"?s=s-w:s<n.currentSlide&&L==="right"&&(s=s+w)}}else n.message==="index"&&(s=Number(n.index));return s};En.changeSlide=VPe;var HPe=function(t,n,r){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":t.keyCode===37?r?"next":"previous":t.keyCode===39?r?"previous":"next":""};En.keyHandler=HPe;var GPe=function(t,n,r){return t.target.tagName==="IMG"&&Ep(t),!n||!r&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}};En.swipeStart=GPe;var WPe=function(t,n){var r=n.scrolling,i=n.animating,c=n.vertical,d=n.swipeToSlide,s=n.verticalSwiping,m=n.rtl,_=n.currentSlide,w=n.edgeFriction,E=n.edgeDragged,k=n.onEdge,O=n.swiped,R=n.swiping,L=n.slideCount,U=n.slidesToScroll,F=n.infinite,z=n.touchObject,B=n.swipeEvent,Z=n.listHeight,ee=n.listWidth;if(!r){if(i)return Ep(t);c&&d&&s&&Ep(t);var X,W={},ne=$_(n);z.curX=t.touches?t.touches[0].pageX:t.clientX,z.curY=t.touches?t.touches[0].pageY:t.clientY,z.swipeLength=Math.round(Math.sqrt(Math.pow(z.curX-z.startX,2)));var J=Math.round(Math.sqrt(Math.pow(z.curY-z.startY,2)));if(!s&&!R&&J>10)return{scrolling:!0};s&&(z.swipeLength=J);var re=(m?-1:1)*(z.curX>z.startX?1:-1);s&&(re=z.curY>z.startY?1:-1);var se=Math.ceil(L/U),de=yR(n.touchObject,s),pe=z.swipeLength;return F||(_===0&&(de==="right"||de==="down")||_+1>=se&&(de==="left"||de==="up")||!vR(n)&&(de==="left"||de==="up"))&&(pe=z.swipeLength*w,E===!1&&k&&(k(de),W.edgeDragged=!0)),!O&&B&&(B(de),W.swiped=!0),c?X=ne+pe*(Z/ee)*re:m?X=ne-pe*re:X=ne+pe*re,s&&(X=ne+pe*re),W=Qo(Qo({},W),{},{touchObject:z,swipeLeft:X,trackStyle:j_(Qo(Qo({},n),{},{left:X}))}),Math.abs(z.curX-z.startX)<Math.abs(z.curY-z.startY)*.8||z.swipeLength>10&&(W.swiping=!0,Ep(t)),W}};En.swipeMove=WPe;var qPe=function(t,n){var r=n.dragging,i=n.swipe,c=n.touchObject,d=n.listWidth,s=n.touchThreshold,m=n.verticalSwiping,_=n.listHeight,w=n.swipeToSlide,E=n.scrolling,k=n.onSwipe,O=n.targetSlide,R=n.currentSlide,L=n.infinite;if(!r)return i&&Ep(t),{};var U=m?_/s:d/s,F=yR(c,m),z={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(E||!c.swipeLength)return z;if(c.swipeLength>U){Ep(t),k&&k(F);var B,Z,ee=L?R:O;switch(F){case"left":case"up":Z=ee+iI(n),B=w?oI(n,Z):Z,z.currentDirection=0;break;case"right":case"down":Z=ee-iI(n),B=w?oI(n,Z):Z,z.currentDirection=1;break;default:B=ee}z.triggerSlideHandler=B}else{var X=$_(n);z.trackStyle=_R(Qo(Qo({},n),{},{left:X}))}return z};En.swipeEnd=qPe;var aH=function(t){for(var n=t.infinite?t.slideCount*2:t.slideCount,r=t.infinite?t.slidesToShow*-1:0,i=t.infinite?t.slidesToShow*-1:0,c=[];r<n;)c.push(r),r=i+t.slidesToScroll,i+=Math.min(t.slidesToScroll,t.slidesToShow);return c};En.getNavigableIndexes=aH;var oI=function(t,n){var r=aH(t),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var c in r){if(n<r[c]){n=i;break}i=r[c]}return n};En.checkNavigable=oI;var iI=function(t){var n=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var r,i=t.listRef,c=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(c).every(function(m){if(t.vertical){if(m.offsetTop+gR(m)/2>t.swipeLeft*-1)return r=m,!1}else if(m.offsetLeft-n+Nw(m)/2>t.swipeLeft*-1)return r=m,!1;return!0}),!r)return 0;var d=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,s=Math.abs(r.dataset.index-d)||1;return s}else return t.slidesToScroll};En.getSlideCount=iI;var GS=function(t,n){return n.reduce(function(r,i){return r&&t.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",t)};En.checkSpecKeys=GS;var j_=function(t){GS(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=t.slideCount+2*t.slidesToShow;t.vertical?r=i*t.slideHeight:n=cH(t)*t.slideWidth;var c={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var d=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",s=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",m=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";c=Qo(Qo({},c),{},{WebkitTransform:d,transform:s,msTransform:m})}else t.vertical?c.top=t.left:c.left=t.left;return t.fade&&(c={opacity:1}),n&&(c.width=n),r&&(c.height=r),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?c.marginTop=t.left+"px":c.marginLeft=t.left+"px"),c};En.getTrackCSS=j_;var _R=function(t){GS(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=j_(t);return t.useTransform?(n.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,n.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?n.transition="top "+t.speed+"ms "+t.cssEase:n.transition="left "+t.speed+"ms "+t.cssEase,n};En.getTrackAnimateCSS=_R;var $_=function(t){if(t.unslick)return 0;GS(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=t.slideIndex,r=t.trackRef,i=t.infinite,c=t.centerMode,d=t.slideCount,s=t.slidesToShow,m=t.slidesToScroll,_=t.slideWidth,w=t.listWidth,E=t.variableWidth,k=t.slideHeight,O=t.fade,R=t.vertical,L=0,U,F,z=0;if(O||t.slideCount===1)return 0;var B=0;if(i?(B=-Y0(t),d%m!==0&&n+m>d&&(B=-(n>d?s-(n-d):d%m)),c&&(B+=parseInt(s/2))):(d%m!==0&&n+m>d&&(B=s-d%m),c&&(B=parseInt(s/2))),L=B*_,z=B*k,R?U=n*k*-1+z:U=n*_*-1+L,E===!0){var Z,ee=r&&r.node;if(Z=n+Y0(t),F=ee&&ee.childNodes[Z],U=F?F.offsetLeft*-1:0,c===!0){Z=i?n+Y0(t):n,F=ee&&ee.children[Z],U=0;for(var X=0;X<Z;X++)U-=ee&&ee.children[X]&&ee.children[X].offsetWidth;U-=parseInt(t.centerPadding),U+=F&&(w-F.offsetWidth)/2}}return U};En.getTrackLeft=$_;var Y0=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)};En.getPreClones=Y0;var lH=function(t){return t.unslick||!t.infinite?0:t.slideCount};En.getPostClones=lH;var cH=function(t){return t.slideCount===1?1:Y0(t)+t.slideCount+lH(t)};En.getTotalSlides=cH;var uH=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+dH(t)?"left":"right":t.targetSlide<t.currentSlide-hH(t)?"right":"left"};En.siblingDirection=uH;var dH=function(t){var n=t.slidesToShow,r=t.centerMode,i=t.rtl,c=t.centerPadding;if(r){var d=(n-1)/2+1;return parseInt(c)>0&&(d+=1),i&&n%2===0&&(d+=1),d}return i?0:n-1};En.slidesOnRight=dH;var hH=function(t){var n=t.slidesToShow,r=t.centerMode,i=t.rtl,c=t.centerPadding;if(r){var d=(n-1)/2+1;return parseInt(c)>0&&(d+=1),!i&&n%2===0&&(d+=1),d}return i?n-1:0};En.slidesOnLeft=hH;var ZPe=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};En.canUseDOM=ZPe;var WS={};function sI(e){"@babel/helpers - typeof";return sI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sI(e)}Object.defineProperty(WS,"__esModule",{value:!0});WS.Track=void 0;var vh=fH(P),NE=fH(HS),UE=En;function fH(e){return e&&e.__esModule?e:{default:e}}function aI(){return aI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aI.apply(this,arguments)}function YPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KPe(e,t,n){return t&&n5(e.prototype,t),n&&n5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lI(e,t)}function lI(e,t){return lI=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lI(e,t)}function JPe(e){var t=eke();return function(){var r=Uw(e),i;if(t){var c=Uw(this).constructor;i=Reflect.construct(r,arguments,c)}else i=r.apply(this,arguments);return QPe(this,i)}}function QPe(e,t){if(t&&(sI(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cI(e)}function cI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uw(e){return Uw=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Uw(e)}function r5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(n),!0).forEach(function(r){uI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VE=function(t){var n,r,i,c,d;t.rtl?d=t.slideCount-1-t.index:d=t.index,i=d<0||d>=t.slideCount,t.centerMode?(c=Math.floor(t.slidesToShow/2),r=(d-t.currentSlide)%t.slideCount===0,d>t.currentSlide-c-1&&d<=t.currentSlide+c&&(n=!0)):n=t.currentSlide<=d&&d<t.currentSlide+t.slidesToShow;var s;t.targetSlide<0?s=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?s=t.targetSlide-t.slideCount:s=t.targetSlide;var m=d===s;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":m}},tke=function(t){var n={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(n.width=t.slideWidth),t.fade&&(n.position="relative",t.vertical?n.top=-t.index*parseInt(t.slideHeight):n.left=-t.index*parseInt(t.slideWidth),n.opacity=t.currentSlide===t.index?1:0,t.useCSS&&(n.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),n},HE=function(t,n){return t.key||n},nke=function(t){var n,r=[],i=[],c=[],d=vh.default.Children.count(t.children),s=(0,UE.lazyStartIndex)(t),m=(0,UE.lazyEndIndex)(t);return vh.default.Children.forEach(t.children,function(_,w){var E,k={message:"children",index:w,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(w)>=0?E=_:E=vh.default.createElement("div",null);var O=tke(Qs(Qs({},t),{},{index:w})),R=E.props.className||"",L=VE(Qs(Qs({},t),{},{index:w}));if(r.push(vh.default.cloneElement(E,{key:"original"+HE(E,w),"data-index":w,className:(0,NE.default)(L,R),tabIndex:"-1","aria-hidden":!L["slick-active"],style:Qs(Qs({outline:"none"},E.props.style||{}),O),onClick:function(z){E.props&&E.props.onClick&&E.props.onClick(z),t.focusOnSelect&&t.focusOnSelect(k)}})),t.infinite&&t.fade===!1){var U=d-w;U<=(0,UE.getPreClones)(t)&&d!==t.slidesToShow&&(n=-U,n>=s&&(E=_),L=VE(Qs(Qs({},t),{},{index:n})),i.push(vh.default.cloneElement(E,{key:"precloned"+HE(E,n),"data-index":n,tabIndex:"-1",className:(0,NE.default)(L,R),"aria-hidden":!L["slick-active"],style:Qs(Qs({},E.props.style||{}),O),onClick:function(z){E.props&&E.props.onClick&&E.props.onClick(z),t.focusOnSelect&&t.focusOnSelect(k)}}))),d!==t.slidesToShow&&(n=d+w,n<m&&(E=_),L=VE(Qs(Qs({},t),{},{index:n})),c.push(vh.default.cloneElement(E,{key:"postcloned"+HE(E,n),"data-index":n,tabIndex:"-1",className:(0,NE.default)(L,R),"aria-hidden":!L["slick-active"],style:Qs(Qs({},E.props.style||{}),O),onClick:function(z){E.props&&E.props.onClick&&E.props.onClick(z),t.focusOnSelect&&t.focusOnSelect(k)}})))}}),t.rtl?i.concat(r,c).reverse():i.concat(r,c)},rke=function(e){XPe(n,e);var t=JPe(n);function n(){var r;YPe(this,n);for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return r=t.call.apply(t,[this].concat(c)),uI(cI(r),"node",null),uI(cI(r),"handleRef",function(s){r.node=s}),r}return KPe(n,[{key:"render",value:function(){var i=nke(this.props),c=this.props,d=c.onMouseEnter,s=c.onMouseOver,m=c.onMouseLeave,_={onMouseEnter:d,onMouseOver:s,onMouseLeave:m};return vh.default.createElement("div",aI({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},_),i)}}]),n}(vh.default.PureComponent);WS.Track=rke;var qS={};function dI(e){"@babel/helpers - typeof";return dI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dI(e)}Object.defineProperty(qS,"__esModule",{value:!0});qS.Dots=void 0;var n1=pH(P),oke=pH(HS),o5=En;function pH(e){return e&&e.__esModule?e:{default:e}}function i5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ike(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(n),!0).forEach(function(r){ske(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ske(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ake(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lke(e,t,n){return t&&s5(e.prototype,t),n&&s5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hI(e,t)}function hI(e,t){return hI=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},hI(e,t)}function uke(e){var t=fke();return function(){var r=Vw(e),i;if(t){var c=Vw(this).constructor;i=Reflect.construct(r,arguments,c)}else i=r.apply(this,arguments);return dke(this,i)}}function dke(e,t){if(t&&(dI(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hke(e)}function hke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vw(e){return Vw=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vw(e)}var pke=function(t){var n;return t.infinite?n=Math.ceil(t.slideCount/t.slidesToScroll):n=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,n},mke=function(e){cke(n,e);var t=uke(n);function n(){return ake(this,n),t.apply(this,arguments)}return lke(n,[{key:"clickHandler",value:function(i,c){c.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,c=i.onMouseEnter,d=i.onMouseOver,s=i.onMouseLeave,m=i.infinite,_=i.slidesToScroll,w=i.slidesToShow,E=i.slideCount,k=i.currentSlide,O=pke({slideCount:E,slidesToScroll:_,slidesToShow:w,infinite:m}),R={onMouseEnter:c,onMouseOver:d,onMouseLeave:s},L=[],U=0;U<O;U++){var F=(U+1)*_-1,z=m?F:(0,o5.clamp)(F,0,E-1),B=z-(_-1),Z=m?B:(0,o5.clamp)(B,0,E-1),ee=(0,oke.default)({"slick-active":m?k>=Z&&k<=z:k===Z}),X={message:"dots",index:U,slidesToScroll:_,currentSlide:k},W=this.clickHandler.bind(this,X);L=L.concat(n1.default.createElement("li",{key:U,className:ee},n1.default.cloneElement(this.props.customPaging(U),{onClick:W})))}return n1.default.cloneElement(this.props.appendDots(L),ike({className:this.props.dotsClass},R))}}]),n}(n1.default.PureComponent);qS.Dots=mke;var yy={};function fI(e){"@babel/helpers - typeof";return fI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fI(e)}Object.defineProperty(yy,"__esModule",{value:!0});yy.PrevArrow=yy.NextArrow=void 0;var Zg=gH(P),mH=gH(HS),gke=En;function gH(e){return e&&e.__esModule?e:{default:e}}function Hw(){return Hw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(this,arguments)}function a5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(n),!0).forEach(function(r){yke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vH(e,t,n){return t&&l5(e.prototype,t),n&&l5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _H(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pI(e,t)}function pI(e,t){return pI=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},pI(e,t)}function xH(e){var t=xke();return function(){var r=Ww(e),i;if(t){var c=Ww(this).constructor;i=Reflect.construct(r,arguments,c)}else i=r.apply(this,arguments);return vke(this,i)}}function vke(e,t){if(t&&(fI(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ke(e)}function _ke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ww(e){return Ww=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ww(e)}var bke=function(e){_H(n,e);var t=xH(n);function n(){return yH(this,n),t.apply(this,arguments)}return vH(n,[{key:"clickHandler",value:function(i,c){c&&c.preventDefault(),this.props.clickHandler(i,c)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},c=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,c=null);var d={key:"0","data-role":"none",className:(0,mH.default)(i),style:{display:"block"},onClick:c},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},m;return this.props.prevArrow?m=Zg.default.cloneElement(this.props.prevArrow,Gw(Gw({},d),s)):m=Zg.default.createElement("button",Hw({key:"0",type:"button"},d)," ","Previous"),m}}]),n}(Zg.default.PureComponent);yy.PrevArrow=bke;var wke=function(e){_H(n,e);var t=xH(n);function n(){return yH(this,n),t.apply(this,arguments)}return vH(n,[{key:"clickHandler",value:function(i,c){c&&c.preventDefault(),this.props.clickHandler(i,c)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},c=this.clickHandler.bind(this,{message:"next"});(0,gke.canGoNext)(this.props)||(i["slick-disabled"]=!0,c=null);var d={key:"1","data-role":"none",className:(0,mH.default)(i),style:{display:"block"},onClick:c},s={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},m;return this.props.nextArrow?m=Zg.default.cloneElement(this.props.nextArrow,Gw(Gw({},d),s)):m=Zg.default.createElement("button",Hw({key:"1",type:"button"},d)," ","Next"),m}}]),n}(Zg.default.PureComponent);yy.NextArrow=wke;var bH=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,c){return i[0]===n?(r=c,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,c=this.__entries__;i<c.length;i++){var d=c[i];n.call(r,d[1],d[0])}},t}()}(),mI=typeof window<"u"&&typeof document<"u"&&window.document===document,qw=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Cke=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(qw):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Ske=2;function Tke(e,t){var n=!1,r=!1,i=0;function c(){n&&(n=!1,e()),r&&s()}function d(){Cke(c)}function s(){var m=Date.now();if(n){if(m-i<Ske)return;r=!0}else n=!0,r=!1,setTimeout(d,t);i=m}return s}var Eke=20,Pke=["top","right","bottom","left","width","height","size","weight"],kke=typeof MutationObserver<"u",Ike=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Tke(this.refresh.bind(this),Eke)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!mI||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),kke?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!mI||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=Pke.some(function(c){return!!~r.indexOf(c)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),wH=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},vy=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||qw},CH=ZS(0,0,0,0);function Zw(e){return parseFloat(e)||0}function c5(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var c=e["border-"+i+"-width"];return r+Zw(c)},0)}function Mke(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var c=i[r],d=e["padding-"+c];n[c]=Zw(d)}return n}function Ake(e){var t=e.getBBox();return ZS(0,0,t.width,t.height)}function Rke(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return CH;var r=vy(e).getComputedStyle(e),i=Mke(r),c=i.left+i.right,d=i.top+i.bottom,s=Zw(r.width),m=Zw(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+c)!==t&&(s-=c5(r,"left","right")+c),Math.round(m+d)!==n&&(m-=c5(r,"top","bottom")+d)),!Dke(e)){var _=Math.round(s+c)-t,w=Math.round(m+d)-n;Math.abs(_)!==1&&(s-=_),Math.abs(w)!==1&&(m-=w)}return ZS(i.left,i.top,s,m)}var Oke=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof vy(e).SVGGraphicsElement}:function(e){return e instanceof vy(e).SVGElement&&typeof e.getBBox=="function"}}();function Dke(e){return e===vy(e).document.documentElement}function Lke(e){return mI?Oke(e)?Ake(e):Rke(e):CH}function zke(e){var t=e.x,n=e.y,r=e.width,i=e.height,c=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,d=Object.create(c.prototype);return wH(d,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),d}function ZS(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Fke=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ZS(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Lke(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),jke=function(){function e(t,n){var r=zke(n);wH(this,{target:t,contentRect:r})}return e}(),$ke=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new bH,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof vy(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Fke(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof vy(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new jke(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),SH=typeof WeakMap<"u"?new WeakMap:new bH,TH=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ike.getInstance(),r=new $ke(t,n,this);SH.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){TH.prototype[e]=function(){var t;return(t=SH.get(this))[e].apply(t,arguments)}});var Bke=function(){return typeof qw.ResizeObserver<"u"?qw.ResizeObserver:TH}();const Nke=Object.freeze(Object.defineProperty({__proto__:null,default:Bke},Symbol.toStringTag,{value:"Module"})),Uke=AW(Nke);Object.defineProperty(VS,"__esModule",{value:!0});VS.InnerSlider=void 0;var Ls=gx(P),Vke=gx(nH),Hke=gx(LPe),Gke=gx(HS),ci=En,Wke=WS,qke=qS,u5=yy,Zke=gx(Uke);function gx(e){return e&&e.__esModule?e:{default:e}}function Yw(e){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yw(e)}function Kw(){return Kw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(this,arguments)}function Yke(e,t){if(e==null)return{};var n=Kke(e,t),r,i;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(i=0;i<c.length;i++)r=c[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kke(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,c;for(c=0;c<r.length;c++)i=r[c],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function d5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(n),!0).forEach(function(r){zr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jke(e,t,n){return t&&h5(e.prototype,t),n&&h5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gI(e,t)}function gI(e,t){return gI=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},gI(e,t)}function eIe(e){var t=nIe();return function(){var r=Xw(e),i;if(t){var c=Xw(this).constructor;i=Reflect.construct(r,arguments,c)}else i=r.apply(this,arguments);return tIe(this,i)}}function tIe(e,t){if(t&&(Yw(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xw(e){return Xw=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Xw(e)}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rIe=function(e){Qke(n,e);var t=eIe(n);function n(r){var i;Xke(this,n),i=t.call(this,r),zr(Lr(i),"listRefHandler",function(d){return i.list=d}),zr(Lr(i),"trackRefHandler",function(d){return i.track=d}),zr(Lr(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var d=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,ci.getHeight)(d)+"px"}}),zr(Lr(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var d=(0,ci.getOnDemandLazySlides)(ir(ir({},i.props),i.state));d.length>0&&(i.setState(function(m){return{lazyLoadedList:m.lazyLoadedList.concat(d)}}),i.props.onLazyLoad&&i.props.onLazyLoad(d))}var s=ir({listRef:i.list,trackRef:i.track},i.props);i.updateState(s,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new Zke.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(m){m.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,m.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),zr(Lr(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(d){return clearTimeout(d)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),zr(Lr(i),"componentDidUpdate",function(d){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var s=(0,ci.getOnDemandLazySlides)(ir(ir({},i.props),i.state));s.length>0&&(i.setState(function(w){return{lazyLoadedList:w.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}i.adaptHeight();var m=ir(ir({listRef:i.list,trackRef:i.track},i.props),i.state),_=i.didPropsChange(d);_&&i.updateState(m,_,function(){i.state.currentSlide>=Ls.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Ls.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),zr(Lr(i),"onWindowResized",function(d){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,Hke.default)(function(){return i.resizeWindow(d)},50),i.debouncedResize()}),zr(Lr(i),"resizeWindow",function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,s=!!(i.track&&i.track.node);if(s){var m=ir(ir({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(m,d,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),zr(Lr(i),"updateState",function(d,s,m){var _=(0,ci.initializedState)(d);d=ir(ir(ir({},d),_),{},{slideIndex:_.currentSlide});var w=(0,ci.getTrackLeft)(d);d=ir(ir({},d),{},{left:w});var E=(0,ci.getTrackCSS)(d);(s||Ls.default.Children.count(i.props.children)!==Ls.default.Children.count(d.children))&&(_.trackStyle=E),i.setState(_,m)}),zr(Lr(i),"ssrInit",function(){if(i.props.variableWidth){var d=0,s=0,m=[],_=(0,ci.getPreClones)(ir(ir(ir({},i.props),i.state),{},{slideCount:i.props.children.length})),w=(0,ci.getPostClones)(ir(ir(ir({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(W){m.push(W.props.style.width),d+=W.props.style.width});for(var E=0;E<_;E++)s+=m[m.length-1-E],d+=m[m.length-1-E];for(var k=0;k<w;k++)d+=m[k];for(var O=0;O<i.state.currentSlide;O++)s+=m[O];var R={width:d+"px",left:-s+"px"};if(i.props.centerMode){var L="".concat(m[i.state.currentSlide],"px");R.left="calc(".concat(R.left," + (100% - ").concat(L,") / 2 ) ")}return{trackStyle:R}}var U=Ls.default.Children.count(i.props.children),F=ir(ir(ir({},i.props),i.state),{},{slideCount:U}),z=(0,ci.getPreClones)(F)+(0,ci.getPostClones)(F)+U,B=100/i.props.slidesToShow*z,Z=100/z,ee=-Z*((0,ci.getPreClones)(F)+i.state.currentSlide)*B/100;i.props.centerMode&&(ee+=(100-Z*B/100)/2);var X={width:B+"%",left:ee+"%"};return{slideWidth:Z+"%",trackStyle:X}}),zr(Lr(i),"checkImagesLoad",function(){var d=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],s=d.length,m=0;Array.prototype.forEach.call(d,function(_){var w=function(){return++m&&m>=s&&i.onWindowResized()};if(!_.onclick)_.onclick=function(){return _.parentNode.focus()};else{var E=_.onclick;_.onclick=function(){E(),_.parentNode.focus()}}_.onload||(i.props.lazyLoad?_.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(_.onload=w,_.onerror=function(){w(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),zr(Lr(i),"progressiveLazyLoad",function(){for(var d=[],s=ir(ir({},i.props),i.state),m=i.state.currentSlide;m<i.state.slideCount+(0,ci.getPostClones)(s);m++)if(i.state.lazyLoadedList.indexOf(m)<0){d.push(m);break}for(var _=i.state.currentSlide-1;_>=-(0,ci.getPreClones)(s);_--)if(i.state.lazyLoadedList.indexOf(_)<0){d.push(_);break}d.length>0?(i.setState(function(w){return{lazyLoadedList:w.lazyLoadedList.concat(d)}}),i.props.onLazyLoad&&i.props.onLazyLoad(d)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),zr(Lr(i),"slideHandler",function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=i.props,_=m.asNavFor,w=m.beforeChange,E=m.onLazyLoad,k=m.speed,O=m.afterChange,R=i.state.currentSlide,L=(0,ci.slideHandler)(ir(ir(ir({index:d},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!s})),U=L.state,F=L.nextState;if(U){w&&w(R,U.currentSlide);var z=U.lazyLoadedList.filter(function(B){return i.state.lazyLoadedList.indexOf(B)<0});E&&z.length>0&&E(z),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),O&&O(R),delete i.animationEndCallback),i.setState(U,function(){_&&i.asNavForIndex!==d&&(i.asNavForIndex=d,_.innerSlider.slideHandler(d)),F&&(i.animationEndCallback=setTimeout(function(){var B=F.animating,Z=Yke(F,["animating"]);i.setState(Z,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:B})},10)),O&&O(U.currentSlide),delete i.animationEndCallback})},k))})}}),zr(Lr(i),"changeSlide",function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=ir(ir({},i.props),i.state),_=(0,ci.changeSlide)(m,d);if(!(_!==0&&!_)&&(s===!0?i.slideHandler(_,s):i.slideHandler(_),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var w=i.list.querySelectorAll(".slick-current");w[0]&&w[0].focus()}}),zr(Lr(i),"clickHandler",function(d){i.clickable===!1&&(d.stopPropagation(),d.preventDefault()),i.clickable=!0}),zr(Lr(i),"keyHandler",function(d){var s=(0,ci.keyHandler)(d,i.props.accessibility,i.props.rtl);s!==""&&i.changeSlide({message:s})}),zr(Lr(i),"selectHandler",function(d){i.changeSlide(d)}),zr(Lr(i),"disableBodyScroll",function(){var d=function(m){m=m||window.event,m.preventDefault&&m.preventDefault(),m.returnValue=!1};window.ontouchmove=d}),zr(Lr(i),"enableBodyScroll",function(){window.ontouchmove=null}),zr(Lr(i),"swipeStart",function(d){i.props.verticalSwiping&&i.disableBodyScroll();var s=(0,ci.swipeStart)(d,i.props.swipe,i.props.draggable);s!==""&&i.setState(s)}),zr(Lr(i),"swipeMove",function(d){var s=(0,ci.swipeMove)(d,ir(ir(ir({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));s&&(s.swiping&&(i.clickable=!1),i.setState(s))}),zr(Lr(i),"swipeEnd",function(d){var s=(0,ci.swipeEnd)(d,ir(ir(ir({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(s){var m=s.triggerSlideHandler;delete s.triggerSlideHandler,i.setState(s),m!==void 0&&(i.slideHandler(m),i.props.verticalSwiping&&i.enableBodyScroll())}}),zr(Lr(i),"touchEnd",function(d){i.swipeEnd(d),i.clickable=!0}),zr(Lr(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),zr(Lr(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),zr(Lr(i),"slickGoTo",function(d){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(d=Number(d),isNaN(d))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:d,currentSlide:i.state.currentSlide},s)},0))}),zr(Lr(i),"play",function(){var d;if(i.props.rtl)d=i.state.currentSlide-i.props.slidesToScroll;else if((0,ci.canGoNext)(ir(ir({},i.props),i.state)))d=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(d)}),zr(Lr(i),"autoPlay",function(d){i.autoplayTimer&&clearInterval(i.autoplayTimer);var s=i.state.autoplaying;if(d==="update"){if(s==="hovered"||s==="focused"||s==="paused")return}else if(d==="leave"){if(s==="paused"||s==="focused")return}else if(d==="blur"&&(s==="paused"||s==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),zr(Lr(i),"pause",function(d){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var s=i.state.autoplaying;d==="paused"?i.setState({autoplaying:"paused"}):d==="focused"?(s==="hovered"||s==="playing")&&i.setState({autoplaying:"focused"}):s==="playing"&&i.setState({autoplaying:"hovered"})}),zr(Lr(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),zr(Lr(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),zr(Lr(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),zr(Lr(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),zr(Lr(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),zr(Lr(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),zr(Lr(i),"render",function(){var d=(0,Gke.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),s=ir(ir({},i.props),i.state),m=(0,ci.extractObject)(s,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),_=i.props.pauseOnHover;m=ir(ir({},m),{},{onMouseEnter:_?i.onTrackOver:null,onMouseLeave:_?i.onTrackLeave:null,onMouseOver:_?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var w;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var E=(0,ci.extractObject)(s,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),k=i.props.pauseOnDotsHover;E=ir(ir({},E),{},{clickHandler:i.changeSlide,onMouseEnter:k?i.onDotsLeave:null,onMouseOver:k?i.onDotsOver:null,onMouseLeave:k?i.onDotsLeave:null}),w=Ls.default.createElement(qke.Dots,E)}var O,R,L=(0,ci.extractObject)(s,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);L.clickHandler=i.changeSlide,i.props.arrows&&(O=Ls.default.createElement(u5.PrevArrow,L),R=Ls.default.createElement(u5.NextArrow,L));var U=null;i.props.vertical&&(U={height:i.state.listHeight});var F=null;i.props.vertical===!1?i.props.centerMode===!0&&(F={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(F={padding:i.props.centerPadding+" 0px"});var z=ir(ir({},U),F),B=i.props.touchMove,Z={className:"slick-list",style:z,onClick:i.clickHandler,onMouseDown:B?i.swipeStart:null,onMouseMove:i.state.dragging&&B?i.swipeMove:null,onMouseUp:B?i.swipeEnd:null,onMouseLeave:i.state.dragging&&B?i.swipeEnd:null,onTouchStart:B?i.swipeStart:null,onTouchMove:i.state.dragging&&B?i.swipeMove:null,onTouchEnd:B?i.touchEnd:null,onTouchCancel:i.state.dragging&&B?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},ee={className:d,dir:"ltr",style:i.props.style};return i.props.unslick&&(Z={className:"slick-list"},ee={className:d}),Ls.default.createElement("div",ee,i.props.unslick?"":O,Ls.default.createElement("div",Kw({ref:i.listRefHandler},Z),Ls.default.createElement(Wke.Track,Kw({ref:i.trackRefHandler},m),i.props.children)),i.props.unslick?"":R,i.props.unslick?"":w)}),i.list=null,i.track=null,i.state=ir(ir({},Vke.default),{},{currentSlide:i.props.initialSlide,slideCount:Ls.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var c=i.ssrInit();return i.state=ir(ir({},i.state),c),i}return Jke(n,[{key:"didPropsChange",value:function(i){for(var c=!1,d=0,s=Object.keys(this.props);d<s.length;d++){var m=s[d];if(!i.hasOwnProperty(m)){c=!0;break}if(!(Yw(i[m])==="object"||typeof i[m]=="function")&&i[m]!==this.props[m]){c=!0;break}}return c||Ls.default.Children.count(this.props.children)!==Ls.default.Children.count(i.children)}}]),n}(Ls.default.Component);VS.InnerSlider=rIe;var oIe=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()},iIe=oIe,sIe=iIe,aIe=function(e){var t=/[height|width]$/;return t.test(e)},f5=function(e){var t="",n=Object.keys(e);return n.forEach(function(r,i){var c=e[r];r=sIe(r),aIe(r)&&typeof c=="number"&&(c=c+"px"),c===!0?t+=r:c===!1?t+="not "+r:t+="("+r+": "+c+")",i<n.length-1&&(t+=" and ")}),t},lIe=function(e){var t="";return typeof e=="string"?e:e instanceof Array?(e.forEach(function(n,r){t+=f5(n),r<e.length-1&&(t+=", ")}),t):f5(e)},cIe=lIe,EH={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(P);function n(c){return c&&c.__esModule?c:{default:c}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(d){return t.default.createElement("ul",{style:{display:"block"}},d)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(d){return t.default.createElement("button",null,d+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;e.default=i})(EH);var GE,p5;function uIe(){if(p5)return GE;p5=1;function e(t){this.options=t,!t.deferSetup&&this.setup()}return e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},GE=e,GE}var WE,m5;function PH(){if(m5)return WE;m5=1;function e(r,i){var c=0,d=r.length,s;for(c;c<d&&(s=i(r[c],c),s!==!1);c++);}function t(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return WE={isFunction:n,isArray:t,each:e},WE}var qE,g5;function dIe(){if(g5)return qE;g5=1;var e=uIe(),t=PH().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var c=this;this.listener=function(d){c.mql=d.currentTarget||d,c.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new e(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;t(i,function(c,d){if(c.equals(r))return c.destroy(),!i.splice(d,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";t(this.handlers,function(i){i[r]()})}},qE=n,qE}var ZE,y5;function hIe(){if(y5)return ZE;y5=1;var e=dIe(),t=PH(),n=t.each,r=t.isFunction,i=t.isArray;function c(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return c.prototype={constructor:c,register:function(d,s,m){var _=this.queries,w=m&&this.browserIsIncapable;return _[d]||(_[d]=new e(d,w)),r(s)&&(s={match:s}),i(s)||(s=[s]),n(s,function(E){r(E)&&(E={match:E}),_[d].addHandler(E)}),this},unregister:function(d,s){var m=this.queries[d];return m&&(s?m.removeHandler(s):(m.clear(),delete this.queries[d])),this}},ZE=c,ZE}var YE,v5;function fIe(){if(v5)return YE;v5=1;var e=hIe();return YE=new e,YE}(function(e){function t(ne){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},t(ne)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(P),r=VS,i=s(cIe),c=s(EH),d=En;function s(ne){return ne&&ne.__esModule?ne:{default:ne}}function m(){return m=Object.assign||function(ne){for(var J=1;J<arguments.length;J++){var re=arguments[J];for(var se in re)Object.prototype.hasOwnProperty.call(re,se)&&(ne[se]=re[se])}return ne},m.apply(this,arguments)}function _(ne,J){var re=Object.keys(ne);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(ne);J&&(se=se.filter(function(de){return Object.getOwnPropertyDescriptor(ne,de).enumerable})),re.push.apply(re,se)}return re}function w(ne){for(var J=1;J<arguments.length;J++){var re=arguments[J]!=null?arguments[J]:{};J%2?_(Object(re),!0).forEach(function(se){ee(ne,se,re[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(re)):_(Object(re)).forEach(function(se){Object.defineProperty(ne,se,Object.getOwnPropertyDescriptor(re,se))})}return ne}function E(ne,J){if(!(ne instanceof J))throw new TypeError("Cannot call a class as a function")}function k(ne,J){for(var re=0;re<J.length;re++){var se=J[re];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ne,se.key,se)}}function O(ne,J,re){return J&&k(ne.prototype,J),re&&k(ne,re),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function R(ne,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(J&&J.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),J&&L(ne,J)}function L(ne,J){return L=Object.setPrototypeOf||function(se,de){return se.__proto__=de,se},L(ne,J)}function U(ne){var J=B();return function(){var se=Z(ne),de;if(J){var pe=Z(this).constructor;de=Reflect.construct(se,arguments,pe)}else de=se.apply(this,arguments);return F(this,de)}}function F(ne,J){if(J&&(t(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(ne)}function z(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z(ne){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},Z(ne)}function ee(ne,J,re){return J in ne?Object.defineProperty(ne,J,{value:re,enumerable:!0,configurable:!0,writable:!0}):ne[J]=re,ne}var X=(0,d.canUseDOM)()&&fIe(),W=function(ne){R(re,ne);var J=U(re);function re(se){var de;return E(this,re),de=J.call(this,se),ee(z(de),"innerSliderRefHandler",function(pe){return de.innerSlider=pe}),ee(z(de),"slickPrev",function(){return de.innerSlider.slickPrev()}),ee(z(de),"slickNext",function(){return de.innerSlider.slickNext()}),ee(z(de),"slickGoTo",function(pe){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return de.innerSlider.slickGoTo(pe,ae)}),ee(z(de),"slickPause",function(){return de.innerSlider.pause("paused")}),ee(z(de),"slickPlay",function(){return de.innerSlider.autoPlay("play")}),de.state={breakpoint:null},de._responsiveMediaHandlers=[],de}return O(re,[{key:"media",value:function(de,pe){X.register(de,pe),this._responsiveMediaHandlers.push({query:de,handler:pe})}},{key:"componentDidMount",value:function(){var de=this;if(this.props.responsive){var pe=this.props.responsive.map(function(oe){return oe.breakpoint});pe.sort(function(oe,me){return oe-me}),pe.forEach(function(oe,me){var xe;me===0?xe=(0,i.default)({minWidth:0,maxWidth:oe}):xe=(0,i.default)({minWidth:pe[me-1]+1,maxWidth:oe}),(0,d.canUseDOM)()&&de.media(xe,function(){de.setState({breakpoint:oe})})});var ae=(0,i.default)({minWidth:pe.slice(-1)[0]});(0,d.canUseDOM)()&&this.media(ae,function(){de.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(de){X.unregister(de.query,de.handler)})}},{key:"render",value:function(){var de=this,pe,ae;this.state.breakpoint?(ae=this.props.responsive.filter(function(gt){return gt.breakpoint===de.state.breakpoint}),pe=ae[0].settings==="unslick"?"unslick":w(w(w({},c.default),this.props),ae[0].settings)):pe=w(w({},c.default),this.props),pe.centerMode&&(pe.slidesToScroll>1,pe.slidesToScroll=1),pe.fade&&(pe.slidesToShow>1,pe.slidesToScroll>1,pe.slidesToShow=1,pe.slidesToScroll=1);var oe=n.default.Children.toArray(this.props.children);oe=oe.filter(function(gt){return typeof gt=="string"?!!gt.trim():!!gt}),pe.variableWidth&&(pe.rows>1||pe.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),pe.variableWidth=!1);for(var me=[],xe=null,ce=0;ce<oe.length;ce+=pe.rows*pe.slidesPerRow){for(var ge=[],Te=ce;Te<ce+pe.rows*pe.slidesPerRow;Te+=pe.slidesPerRow){for(var Ue=[],We=Te;We<Te+pe.slidesPerRow&&(pe.variableWidth&&oe[We].props.style&&(xe=oe[We].props.style.width),!(We>=oe.length));We+=1)Ue.push(n.default.cloneElement(oe[We],{key:100*ce+10*Te+We,tabIndex:-1,style:{width:"".concat(100/pe.slidesPerRow,"%"),display:"inline-block"}}));ge.push(n.default.createElement("div",{key:10*ce+Te},Ue))}pe.variableWidth?me.push(n.default.createElement("div",{key:ce,style:{width:xe}},ge)):me.push(n.default.createElement("div",{key:ce},ge))}if(pe==="unslick"){var Ye="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:Ye},oe)}else me.length<=pe.slidesToShow&&(pe.unslick=!0);return n.default.createElement(r.InnerSlider,m({style:this.props.style,ref:this.innerSliderRefHandler},pe),me)}}]),re}(n.default.Component);e.default=W})(tH);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(tH);function n(i){return i&&i.__esModule?i:{default:i}}var r=t.default;e.default=r})(eH);const kH=fa(eH),pIe=()=>{function e(c){const{onClick:d}=c;return T.jsx(pt,{style:{display:"flex",position:"absolute",left:5,top:0,bottom:0,zIndex:99,alignItems:"center"},children:T.jsx(pt,{sx:{backgroundColor:"#ddd",borderRadius:"50%"},children:T.jsx(Qi,{onClick:d,href:"#",children:T.jsx(J6,{})})})})}function t(c){const{onClick:d}=c;return T.jsx(pt,{style:{display:"flex",position:"absolute",right:5,top:0,bottom:0,zIndex:99,alignItems:"center"},children:T.jsx(pt,{sx:{backgroundColor:"#ddd",borderRadius:"50%"},children:T.jsx(Qi,{onClick:d,href:"#",children:T.jsx(Q6,{})})})})}const n={dots:!0,infinite:!0,speed:600,slidesToShow:5,slidesToScroll:1,prevArrow:T.jsx(e,{}),nextArrow:T.jsx(t,{}),className:"xslider"},[r,i]=P.useState([]);return P.useEffect(()=>{ho.listMarque().then(c=>c.json()).then(c=>{i(c)}).catch(c=>console.log(c.message))},[]),T.jsx(pt,{sx:{marginLeft:2,marginRight:2,height:"100%"},children:T.jsx(kH,{...n,children:r==null?void 0:r.map(c=>T.jsxs("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:"10px",cursor:"pointer"},children:[T.jsx("img",{src:c.logo,alt:c.nom,style:{width:"100%",height:"100px",objectFit:"contain"}}),T.jsx("center",{children:T.jsx("h3",{children:c.nom})})]},c.id))})})},mIe=Wi(()=>({container:{width:"100vw",height:"100vh",overflowX:"hidden"}})),gIe=()=>{const e=mIe();return T.jsxs(pt,{className:e.container,children:[T.jsx(zy,{}),T.jsx(yPe,{}),T.jsx(pPe,{}),T.jsx(pt,{sx:{ml:2,mr:2,mb:5},children:T.jsx(pIe,{})}),T.jsx(pt,{sx:{ml:2,mr:2},children:T.jsx(Fy,{})})]})},yIe=Wi(e=>({container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4),width:"100vw",height:"100vh",position:"relative"},form:{display:"flex",flexDirection:"column",gap:e.spacing(2),maxWidth:500,margin:"0 auto"}})),vIe=()=>{const e=yIe(),t=n=>{n.preventDefault();const r=new FormData(n.target),i=r.get("name").toString(),c=r.get("email").toString(),d=r.get("message").toString(),s=`mailto:ivan.tomdieu@gmail.com?subject=New message from ${encodeURIComponent(i)}&body=${encodeURIComponent(d)}%0D%0A%0D%0AFrom: ${encodeURIComponent(c)}`;window.location.href=s};return T.jsxs(pt,{className:e.container,children:[T.jsx(pt,{sx:{mb:8},children:T.jsx(zy,{})}),T.jsx(Wt,{variant:"h4",align:"center",gutterBottom:!0,children:"Contact Us"}),T.jsxs("form",{className:e.form,onSubmit:t,children:[T.jsx(br,{name:"name",label:"Name",variant:"outlined",required:!0}),T.jsx(br,{name:"email",label:"Email",variant:"outlined",required:!0,type:"email"}),T.jsx(br,{name:"message",label:"Message",variant:"outlined",required:!0,multiline:!0,rows:4}),T.jsx(Po,{type:"submit",size:"large",variant:"contained",color:"primary",children:"Submit"})]}),T.jsx(pt,{sx:{mb:5}}),T.jsx(Fy,{})]})};function _Ie(e){return Xp({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m18.707 12.707-1.414-1.414L13 15.586V6h-2v9.586l-4.293-4.293-1.414 1.414L12 19.414z"}}]})(e)}function xIe(e){return Xp({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 8.414V18h2V8.414l4.293 4.293 1.414-1.414L12 4.586l-6.707 6.707 1.414 1.414z"}}]})(e)}const bIe=()=>T.jsxs(Wt,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(fS,{})," Essence"]}),wIe=()=>T.jsxs(Wt,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(fS,{})," Gazoil"]}),CIe=()=>T.jsxs(Wt,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(gU,{})," ELectrique"]}),SIe=()=>T.jsxs(Wt,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(fS,{}),"+",T.jsx(gU,{})," Hybride"]}),TIe=[{label:T.jsx(bIe,{}),value:"essence"},{label:T.jsx(wIe,{}),value:"gazoil"},{label:T.jsx(CIe,{}),value:"electrique"},{label:T.jsx(SIe,{}),value:"hybride"}],EIe=()=>T.jsx(Wt,{sx:{display:"flex",alignItems:"center"},children:"Automatic"}),PIe=()=>T.jsxs(Wt,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(K6,{size:24})," Manualle"]}),kIe=[{label:T.jsx(PIe,{}),value:"manuelle"},{label:T.jsx(EIe,{}),value:"automatique"}],IIe=Wi(e=>({boxFilter:{backgroundColor:"RGB(49, 114, 221)",padding:e.spacing(1),borderRadius:5,"&:last-child":{marginBottom:e.spacing(1)}},root:{display:"flex",flex:1,padding:e.spacing(0),width:"100%"},wrapper:{padding:e.spacing(.5),width:"100%",borderRadius:e.shape.borderRadius,backgroundColor:"#fff",display:"flex",flexDirection:"column",gap:e.spacing(1),marginBottom:e.spacing(2),flex:1},input:{borderRadius:e.shape.borderRadius,"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#ccc"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#fff"},"& .MuiInputBase-input":{color:"#fff"}}})),MIe=({onPriceFilter:e,onRecentFilter:t,onPriceMax:n,onPriceMin:r,onTypeCarburantSelected:i,onKilometrageMaxSelected:c,onMarqueSelected:d,onModeleSelected:s,onBoiteVitesseSelected:m,onYear:_})=>{const w=IIe(),[E,k]=P.useState([]),[O,R]=P.useState([]),[L,U]=P.useState([]),[F,z]=P.useState([]),[B,Z]=P.useState(!1);P.useEffect(()=>{ho.listMarque().then(J=>J.json()).then(J=>{k(J)}).catch(J=>console.log(J.message))},[]),P.useEffect(()=>{if(L.length>0){const J=L==null?void 0:L.map(se=>se?E==null?void 0:E.find(pe=>pe.nom.match(se)):null);J||R([]);const re=J.map(se=>se?se.modeles:[]).flat();re.sort((se,de)=>se.nom<de.nom?-1:se.nom>de.nom?1:0),R(re)}},[L,E]),P.useEffect(()=>d(L),[L,d]),P.useEffect(()=>{if(F)return s(F)},[s,F]);const[ee,X]=P.useState({priceFilter:"",year:"",km:"",minPrice:"",maxPrice:"",carburant:"",boiteVitesse:""}),W=J=>{const{name:re,value:se}=J.target;X(de=>({...de,[re]:se}))},ne=()=>{e(""),_(null),U([]),z([]),Z(!1),X({priceFilter:"",year:"",km:"",minPrice:"",maxPrice:"",carburant:"",boiteVitesse:""})};return T.jsx(pt,{className:w.root,children:T.jsxs(pt,{className:w.wrapper,children:[T.jsxs(pt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",cursor:"pointer"},children:[T.jsx("img",{src:"/logo-blue.png",style:{width:32,height:32}}),T.jsx(ha,{title:"Renitialiser",onClick:ne,children:T.jsx(pt,{sx:{backgroundColor:"RGB(49, 114, 221)",color:"#fff",p:1.2,borderRadius:1,display:"flex",alignItems:"center"},children:T.jsx(Dfe,{})})})]}),T.jsx(pt,{className:w.boxFilter,children:T.jsxs(lp,{sx:{flex:1,display:"flex",pr:1},children:[T.jsx(Wt,{variant:"h6",sx:{ml:2},children:"Trier"}),T.jsx(lh,{labelPlacement:"start",value:"recent",sx:{width:"100%",display:"flex",justifyContent:"space-between"},control:T.jsx(_1,{color:"info",sx:{"&.Mui-checked":{color:"#fff"}},name:"recent",value:B,checked:B,onChange:(J,re)=>{Z(re),t(!!re)}}),label:"Plus Recents"}),T.jsxs(aE,{id:"price-filter",value:ee.priceFilter,name:"priceFilter",onChange:J=>{W(J),e(J.target.value)},children:[T.jsx(lh,{labelPlacement:"start",value:"prix-desc",control:T.jsx(Vb,{color:"info",sx:{"&.Mui-checked":{color:"#fff"}}}),sx:{width:"100%",display:"flex",justifyContent:"space-between"},label:T.jsxs(Wt,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(xIe,{size:24})," Prix"]})}),T.jsx(lh,{labelPlacement:"start",value:"prix-asc",sx:{width:"100%",display:"flex",justifyContent:"space-between"},control:T.jsx(Vb,{color:"info",sx:{"&.Mui-checked":{color:"#fff"}}}),label:T.jsxs("span",{style:{display:"flex",alignItems:"center"},children:[T.jsx(_Ie,{size:24})," Prix"]})})]})]})}),T.jsxs(pt,{className:w.boxFilter,children:[T.jsx(Wt,{sx:{ml:2},variant:"h6",children:"Annee"}),T.jsx(pt,{sx:{flex:1,display:"flex",pr:1,ml:2},children:T.jsx(br,{fullWidth:!0,placeholder:"annee production",color:"info",type:"number",name:"year",className:w.input,value:ee.year,onChange:J=>{const re=J.target.value;W(J),_(re?Number(re):null)}})})]}),T.jsxs(pt,{className:w.boxFilter,children:[T.jsx(Wt,{sx:{ml:2},variant:"h6",children:"Marque"}),T.jsx(pt,{sx:{maxHeight:"600px",overflow:"auto",overflowX:"hidden"},children:T.jsx(lp,{sx:{flex:1,display:"flex",pr:1},children:E==null?void 0:E.map(J=>T.jsx(lh,{labelPlacement:"start",control:T.jsx(_1,{color:"info",value:J.nom,sx:{"&.Mui-checked":{color:"#fff"}},checked:L.includes(J.nom),onChange:re=>{re.target.checked?U(se=>[...se,re.target.value]):U(se=>se.filter(de=>de!==re.target.value))}}),sx:{width:"100%",display:"flex",justifyContent:"space-between"},label:J.nom},J.id))})})]}),T.jsxs(pt,{className:w.boxFilter,children:[T.jsx(Wt,{sx:{ml:2},variant:"h6",children:"Modele"}),T.jsx(pt,{sx:{maxHeight:"600px",overflow:"auto",overflowX:"hidden"},children:T.jsx(lp,{sx:{flex:1,display:"flex",pr:1},children:O==null?void 0:O.map(J=>T.jsx(lh,{labelPlacement:"start",control:T.jsx(_1,{color:"info",value:J.nom,sx:{"&.Mui-checked":{color:"#fff"}},checked:F.includes(J.nom),onChange:(re,se)=>{z(se?[...F,re.target.value]:F.filter(de=>de!==J.nom))}}),sx:{width:"100%",display:"flex",justifyContent:"space-between"},label:J.nom},J.id))})})]}),T.jsxs(pt,{className:w.boxFilter,children:[T.jsx(Wt,{sx:{ml:2},variant:"h6",gutterBottom:!0,children:"Kilometrage"}),T.jsx(pt,{sx:{flex:1,display:"flex",pr:1,ml:2},children:T.jsx(br,{fullWidth:!0,placeholder:"km max",color:"info",type:"number",name:"km",className:w.input,value:ee.km,onChange:J=>{W(J);const re=Number(J.target.value);c(re||null)}})})]}),T.jsxs(pt,{className:w.boxFilter,children:[T.jsx(Wt,{sx:{ml:2},variant:"h6",gutterBottom:!0,children:"Prix"}),T.jsxs(pt,{sx:{flex:1,display:"flex",pr:1,ml:2,gap:1},children:[T.jsx(br,{fullWidth:!0,placeholder:"prix min",color:"info",type:"number",name:"minPrice",className:w.input,value:ee.minPrice,onChange:J=>{W(J);const re=Number(J.target.value);re>0?r(re):r(null)}}),T.jsx(br,{fullWidth:!0,placeholder:"prix max",color:"info",type:"number",name:"maxPrice",className:w.input,value:ee.maxPrice,onChange:J=>{W(J);const re=Number(J.target.value);console.log(re),re>0?n(re):r(null)}})]})]}),T.jsxs(pt,{className:w.boxFilter,children:[T.jsx(Wt,{sx:{ml:2},variant:"h6",gutterBottom:!0,children:"Carburant"}),T.jsx(pt,{children:T.jsx(lp,{sx:{flex:1,display:"flex",pr:1},children:T.jsx(aE,{name:"carburant",value:ee.carburant,onChange:J=>{W(J),i(J.target.value)},children:TIe.map(J=>T.jsx(lh,{labelPlacement:"start",value:J.value,control:T.jsx(Vb,{color:"info",sx:{"&.Mui-checked":{color:"#fff"}}}),sx:{width:"100%",display:"flex",justifyContent:"space-between"},label:J.label},J.value))})})})]}),T.jsxs(pt,{className:w.boxFilter,children:[T.jsx(Wt,{sx:{ml:2},variant:"h6",gutterBottom:!0,children:"Boite Vitesse"}),T.jsx(pt,{children:T.jsx(lp,{sx:{flex:1,display:"flex",pr:1},children:T.jsx(aE,{name:"boiteVitesse",value:ee.boiteVitesse,onChange:J=>{W(J),m(J.target.value)},children:kIe.map(J=>T.jsx(lh,{labelPlacement:"start",value:J.value,control:T.jsx(Vb,{color:"info",sx:{"&.Mui-checked":{color:"#fff"}}}),sx:{width:"100%",display:"flex",justifyContent:"space-between"},label:J.label}))})})})]})]})})},AIe=()=>{const[e,t]=P.useState([]),[n,r]=P.useState(!1),[i,c]=P.useState([]),[d,s]=P.useState(),[m,_]=P.useState(),[w,E]=P.useState([]),[k,O]=P.useState([]),[R,L]=P.useState(),[U,F]=P.useState(),[z,B]=P.useState(),[Z,ee]=P.useState(),[X,W]=P.useState(),[ne,J]=P.useState();return P.useEffect(()=>{r(!0),ho.listAnnonces().then(re=>re.json()).then(re=>t(re)).catch(re=>console.log(re.message)).finally(()=>r(!1))},[]),P.useEffect(()=>{e&&c(e)},[e]),P.useEffect(()=>{d?i.sort(function(re,se){return new Date(re.date_creation).getTime()-new Date(se.date_creation).getTime()}):i.sort(function(re,se){return new Date(se.date_creation).getTime()-new Date(re.date_creation).getTime()})},[e,i,d]),P.useEffect(()=>{m&&(m==="prix-asc"?i.sort(function(re,se){return se.prix-re.prix}):i.sort(function(re,se){return se.prix-re.prix}))},[i,m]),P.useEffect(()=>{if(w.length>0){const re=e.filter(se=>w.includes(se.voiture.model.marque.nom));c(re)}else c(e)},[e,w]),P.useEffect(()=>{if(k.length>0){const re=e.filter(se=>k.includes(se.voiture.model.nom));c(re)}else c(e)},[e,k]),P.useEffect(()=>{if(R){const re=e.filter(se=>se.voiture.type_carburant===R);c(re)}},[e,R]),P.useEffect(()=>{if(U){const re=e.filter(se=>se.voiture.boite_vitesse===U);c(re)}},[e,U]),P.useEffect(()=>{if(z){console.log({kmMax:z});const re=e.filter(se=>se.voiture.km_parcouru<=z);c(re)}else c(e)},[e,z]),P.useEffect(()=>{if(Z){const re=e.filter(se=>se.prix>=Z);c(re)}else c(e)},[e,Z]),P.useEffect(()=>{if(console.log({priceMax:X}),X){const re=e.filter(se=>se.prix<=X);c(re)}else c(e)},[e,X]),P.useEffect(()=>{if(ne){const re=e.filter(se=>se.voiture.annee===ne);c(re)}else c(e)},[ne,e]),T.jsxs(Cn,{container:!0,height:"100vh",width:"100vw",maxHeight:"100vh",overflow:"auto",position:"relative",padding:0,margin:0,children:[T.jsx(Cn,{item:!0,md:2,sm:3,lg:2,xs:2,height:"100%",maxHeight:"100vh",overflow:"auto",sx:{left:0,bottom:0,top:0,position:"static",color:"#fff",display:"flex",backgroundColor:"#fff"},padding:0,margin:0,children:T.jsx(MIe,{onPriceFilter:_,onRecentFilter:s,onMarqueSelected:E,onModeleSelected:O,onKilometrageMaxSelected:B,onPriceMax:W,onPriceMin:ee,onTypeCarburantSelected:L,onBoiteVitesseSelected:F,onYear:J})}),T.jsxs(Cn,{item:!0,md:10,sm:9,lg:10,xs:10,maxHeight:"100vh",overflow:"auto",sx:{backgroundColor:"#e6f5fee6",p:2},children:[T.jsx(pt,{sx:{mb:10,position:"relative"},children:T.jsx(zy,{})}),T.jsxs(pt,{flex:1,children:[T.jsx(Wt,{variant:"h4",sx:{color:"#2794e7e0",textShadow:"2px 0px 3px #98caf0e0"},gutterBottom:!0,children:"Annonce des voitures"}),n?T.jsx(dx,{}):T.jsx(Cn,{container:!0,spacing:1,flex:1,children:i==null?void 0:i.map(re=>T.jsx(Cn,{item:!0,lg:3,md:4,sm:6,xs:12,children:T.jsx("a",{href:`/annonces/${re.id}/`,children:T.jsx(hR,{annonce:re})})},re.id))}),T.jsx(Fy,{})]})]})]})};function RIe(e){const{onClick:t}=e;return T.jsx(pt,{style:{display:"flex",position:"absolute",left:5,top:0,bottom:0,zIndex:99,alignItems:"center"},children:T.jsx(pt,{sx:{backgroundColor:"#ddd",borderRadius:"50%"},children:T.jsx(Qi,{onClick:t,href:"#",children:T.jsx(J6,{})})})})}function OIe(e){const{onClick:t}=e;return T.jsx(pt,{style:{display:"flex",position:"absolute",right:5,top:0,bottom:0,zIndex:99,alignItems:"center"},children:T.jsx(pt,{sx:{backgroundColor:"#ddd",borderRadius:"50%"},children:T.jsx(Qi,{onClick:t,href:"#",children:T.jsx(Q6,{})})})})}var IH={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ma,function(){var n,r,i;function c(s,m){if(!n)n=m;else if(!r)r=m;else{var _="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",w={};n(w),i=m(w),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(i.workerUrl=window.URL.createObjectURL(new Blob([_],{type:"text/javascript"})))}}c(["exports"],function(s){var m=typeof self<"u"?self:{},_="2.15.0";let w;const E={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(w==null){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{w={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):a}catch{w=a}}return w},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!E.API_URL)return null;try{const a=new URL(E.API_URL);return a.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":a.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},k={supported:!1,testSupport:function(a){!L&&R&&(U?F(a):O=a)}};let O,R,L=!1,U=!1;function F(a){const o=a.createTexture();a.bindTexture(a.TEXTURE_2D,o);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,R),a.isContextLost())return;k.supported=!0}catch{}a.deleteTexture(o),L=!0}m.document&&(R=m.document.createElement("img"),R.onload=function(){O&&F(O),O=null,U=!0},R.onerror=function(){L=!0,O=null},R.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const z="01";function B(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Z=ee;function ee(a,o,l,h){this.cx=3*a,this.bx=3*(l-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(h-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=o,this.p2x=l,this.p2y=h}ee.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,o){if(o===void 0&&(o=1e-6),a<0)return 0;if(a>1)return 1;for(var l=a,h=0;h<8;h++){var p=this.sampleCurveX(l)-a;if(Math.abs(p)<o)return l;var y=this.sampleCurveDerivativeX(l);if(Math.abs(y)<1e-6)break;l-=p/y}var x=0,C=1;for(l=a,h=0;h<20&&(p=this.sampleCurveX(l),!(Math.abs(p-a)<o));h++)a>p?x=l:C=l,l=.5*(C-x)+x;return l},solve:function(a,o){return this.sampleCurveY(this.solveCurveX(a,o))}};var X=B(Z),W=ne;function ne(a,o){this.x=a,this.y=o}ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,o){return this.clone()._rotateAround(a,o)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var o=a.x-this.x,l=a.y-this.y;return o*o+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,o){return Math.atan2(this.x*o-this.y*a,this.x*a+this.y*o)},_matMult:function(a){var o=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=o,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var o=Math.cos(a),l=Math.sin(a),h=l*this.x+o*this.y;return this.x=o*this.x-l*this.y,this.y=h,this},_rotateAround:function(a,o){var l=Math.cos(a),h=Math.sin(a),p=o.y+h*(this.x-o.x)+l*(this.y-o.y);return this.x=o.x+l*(this.x-o.x)-h*(this.y-o.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ne.convert=function(a){return a instanceof ne?a:Array.isArray(a)?new ne(a[0],a[1]):a};var J=B(W);const re=Math.PI/180,se=180/Math.PI;function de(a){return a*re}function pe(a){return a*se}const ae=[[0,0],[1,0],[1,1],[0,1]];function oe(a){if(a<=0)return 0;if(a>=1)return 1;const o=a*a,l=o*a;return 4*(a<.5?l:3*(a-o)+l-.75)}function me(a,o,l,h){const p=new X(a,o,l,h);return function(y){return p.solve(y)}}const xe=me(.25,.1,.25,1);function ce(a,o,l){return Math.min(l,Math.max(o,a))}function ge(a,o,l){return(l=ce((l-a)/(o-a),0,1))*l*(3-2*l)}function Te(a,o,l){const h=l-o,p=((a-o)%h+h)%h+o;return p===o?l:p}function Ue(a,o,l){if(!a.length)return l(null,[]);let h=a.length;const p=new Array(a.length);let y=null;a.forEach((x,C)=>{o(x,(I,M)=>{I&&(y=I),p[C]=M,--h==0&&l(y,p)})})}function We(a){const o=[];for(const l in a)o.push(a[l]);return o}function Ye(a,...o){for(const l of o)for(const h in l)a[h]=l[h];return a}let gt=1;function vt(){return gt++}function jt(){return function a(o){return o?(o^Math.random()*(16>>o/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function Rt(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function pn(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function Ut(a,o){a.forEach(l=>{o[l]&&(o[l]=o[l].bind(o))})}function rn(a,o){return a.indexOf(o,a.length-o.length)!==-1}function et(a,o,l){const h={};for(const p in a)h[p]=o.call(l||this,a[p],p,a);return h}function Pt(a,o,l){const h={};for(const p in a)o.call(l||this,a[p],p,a)&&(h[p]=a[p]);return h}function Ot(a){return Array.isArray(a)?a.map(Ot):typeof a=="object"&&a?et(a,Ot):a}const Yt={};function st(a){Yt[a]||(typeof console<"u"&&console.warn(a),Yt[a]=!0)}function Ct(a,o,l){return(l.y-a.y)*(o.x-a.x)>(o.y-a.y)*(l.x-a.x)}function ht(a){let o=0;for(let l,h,p=0,y=a.length,x=y-1;p<y;x=p++)l=a[p],h=a[x],o+=(h.x-l.x)*(l.y+h.y);return o}function en(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Kt(a){const o={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,h,p,y)=>{const x=p||y;return o[h]=!x||x.toLowerCase(),""}),o["max-age"]){const l=parseInt(o["max-age"],10);isNaN(l)?delete o["max-age"]:o["max-age"]=l}return o}let vn=null;function wn(a){if(vn==null){const o=a.navigator?a.navigator.userAgent:null;vn=!!a.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return vn}function Ve(a){try{const o=m[a];return o.setItem("_mapbox_test_",1),o.removeItem("_mapbox_test_"),!0}catch{return!1}}function ft(a,o){return[a[4*o],a[4*o+1],a[4*o+2],a[4*o+3]]}const Dt="mapbox-tiles";let Qt=500,yn=50,on,un;function dn(){try{return m.caches}catch{}}function sn(){dn()&&!on&&(on=m.caches.open(Dt))}function kn(a){const o=a.indexOf("?");if(o<0)return a;const l=function(p){const y=p.indexOf("?");return y>0?p.slice(y+1).split("&"):[]}(a),h=l.filter(p=>{const y=p.split("=");return y[0]==="language"||y[0]==="worldview"});return h.length?`${a.slice(0,o)}?${h.join("&")}`:a.slice(0,o)}let Vn=1/0;const ar={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ar);class vr extends Error{constructor(o,l,h){l===401&&Xe(h)&&(o+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(o),this.status=l,this.url=h}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ar=en()?()=>self.worker&&self.worker.referrer:()=>(m.location.protocol==="blob:"?m.parent:m).location.href,nr=function(a,o){if(!(/^file:/.test(l=a.url)||/^file:/.test(Ar())&&!/^\w+:/.test(l))){if(m.fetch&&m.Request&&m.AbortController&&m.Request.prototype.hasOwnProperty("signal"))return function(h,p){const y=new m.AbortController,x=new m.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:Ar(),referrerPolicy:h.referrerPolicy,signal:y.signal});let C=!1,I=!1;const M=(j=x.url).indexOf("sku=")>0&&Xe(j);var j;h.type==="json"&&x.headers.set("Accept","application/json");const V=(Q,te,ue)=>{if(I)return;if(Q&&Q.message!=="SecurityError"&&st(Q.toString()),te&&ue)return q(te);const _e=Date.now();m.fetch(x).then(Pe=>{if(Pe.ok){const Le=M?Pe.clone():null;return q(Pe,Le,_e)}return p(new vr(Pe.statusText,Pe.status,h.url))}).catch(Pe=>{Pe.name!=="AbortError"&&p(new Error(`${Pe.message} ${h.url}`))})},q=(Q,te,ue)=>{(h.type==="arrayBuffer"?Q.arrayBuffer():h.type==="json"?Q.json():Q.text()).then(_e=>{I||(te&&ue&&function(Pe,Le,ke){if(sn(),!on)return;const Oe={status:Le.status,statusText:Le.statusText,headers:new m.Headers};Le.headers.forEach((lt,rt)=>Oe.headers.set(rt,lt));const je=Kt(Le.headers.get("Cache-Control")||"");if(je["no-store"])return;je["max-age"]&&Oe.headers.set("Expires",new Date(ke+1e3*je["max-age"]).toUTCString());const Fe=Oe.headers.get("Expires");Fe&&(new Date(Fe).getTime()-ke<42e4||function(lt,rt){if(un===void 0)try{new Response(new ReadableStream),un=!0}catch{un=!1}un?rt(lt.body):lt.blob().then(rt)}(Le,lt=>{const rt=new m.Response(lt,Oe);sn(),on&&on.then(bt=>bt.put(kn(Pe.url),rt)).catch(bt=>st(bt.message))}))}(x,te,ue),C=!0,p(null,_e,Q.headers.get("Cache-Control"),Q.headers.get("Expires")))}).catch(_e=>{I||p(new Error(_e.message))})};return M?function(Q,te){if(sn(),!on)return te(null);const ue=kn(Q.url);on.then(_e=>{_e.match(ue).then(Pe=>{const Le=function(ke){if(!ke)return!1;const Oe=new Date(ke.headers.get("Expires")||0),je=Kt(ke.headers.get("Cache-Control")||"");return Oe>Date.now()&&!je["no-cache"]}(Pe);_e.delete(ue),Le&&_e.put(ue,Pe.clone()),te(null,Pe,Le)}).catch(te)}).catch(te)}(x,V):V(null,null),{cancel:()=>{I=!0,C||y.abort()}}}(a,o);if(en()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,o,void 0,!0)}var l;return function(h,p){const y=new m.XMLHttpRequest;y.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(y.responseType="arraybuffer");for(const x in h.headers)y.setRequestHeader(x,h.headers[x]);return h.type==="json"&&(y.responseType="text",y.setRequestHeader("Accept","application/json")),y.withCredentials=h.credentials==="include",y.onerror=()=>{p(new Error(y.statusText))},y.onload=()=>{if((y.status>=200&&y.status<300||y.status===0)&&y.response!==null){let x=y.response;if(h.type==="json")try{x=JSON.parse(y.response)}catch(C){return p(C)}p(null,x,y.getResponseHeader("Cache-Control"),y.getResponseHeader("Expires"))}else p(new vr(y.statusText,y.status,h.url))},y.send(h.body),{cancel:()=>y.abort()}}(a,o)},gi=function(a,o){return nr(Ye(a,{type:"arrayBuffer"}),o)};function ti(a){const o=m.document.createElement("a");return o.href=a,o.protocol===m.document.location.protocol&&o.host===m.document.location.host}const Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let he,ye;he=[],ye=0;const Ie=function(a,o){if(k.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),ye>=E.MAX_PARALLEL_IMAGE_REQUESTS){const y={requestParameters:a,callback:o,cancelled:!1,cancel(){this.cancelled=!0}};return he.push(y),y}ye++;let l=!1;const h=()=>{if(!l)for(l=!0,ye--;he.length&&ye<E.MAX_PARALLEL_IMAGE_REQUESTS;){const y=he.shift(),{requestParameters:x,callback:C,cancelled:I}=y;I||(y.cancel=Ie(x,C).cancel)}},p=gi(a,(y,x,C,I)=>{h(),y?o(y):x&&(m.createImageBitmap?function(M,j){const V=new m.Blob([new Uint8Array(M)],{type:"image/png"});m.createImageBitmap(V).then(q=>{j(null,q)}).catch(q=>{j(new Error(`Could not load image because of ${q.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(x,(M,j)=>o(M,j,C,I)):function(M,j){const V=new m.Image,q=m.URL;V.onload=()=>{j(null,V),q.revokeObjectURL(V.src),V.onload=null,m.requestAnimationFrame(()=>{V.src=Re})},V.onerror=()=>j(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Q=new m.Blob([new Uint8Array(M)],{type:"image/png"});V.src=M.byteLength?q.createObjectURL(Q):Re}(x,(M,j)=>o(M,j,C,I)))});return{cancel:()=>{p.cancel(),h()}}},ze="NO_ACCESS_TOKEN";function He(a){return a.indexOf("mapbox:")===0}function Xe(a){return E.API_URL_REGEX.test(a)}function Qe(a){return E.API_CDN_URL_REGEX.test(a)}function Ge(a){return E.API_STYLE_REGEX.test(a)&&!tt(a)}function tt(a){return E.API_SPRITE_REGEX.test(a)}const Mt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function qt(a){const o=a.match(Mt);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function Ft(a){const o=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${o}`}const Un="mapbox.eventData";function Hn(a){if(!a)return null;const o=a.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(m.atob(o[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class $n{constructor(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(o){const l=Hn(E.ACCESS_TOKEN);let h="";return h=l&&l.u?m.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(p,y)=>String.fromCharCode(+("0x"+y)))):E.ACCESS_TOKEN||"",o?`${Un}.${o}:${h}`:`${Un}:${h}`}fetchEventData(){const o=Ve("localStorage"),l=this.getStorageKey(),h=this.getStorageKey("uuid");if(o)try{const p=m.localStorage.getItem(l);p&&(this.eventData=JSON.parse(p));const y=m.localStorage.getItem(h);y&&(this.anonId=y)}catch{st("Unable to read from LocalStorage")}}saveEventData(){const o=Ve("localStorage"),l=this.getStorageKey(),h=this.getStorageKey("uuid");if(o)try{m.localStorage.setItem(h,this.anonId),Object.keys(this.eventData).length>=1&&m.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{st("Unable to write to LocalStorage")}}processRequests(o){}postEvent(o,l,h,p){if(!E.EVENTS_URL)return;const y=qt(E.EVENTS_URL);y.params.push(`access_token=${p||E.ACCESS_TOKEN||""}`);const x={event:this.type,created:new Date(o).toISOString()},C=l?Ye(x,l):x,I={url:Ft(y),headers:{"Content-Type":"text/plain"},body:JSON.stringify([C])};this.pendingRequest=function(M,j){return nr(Ye(M,{method:"POST"}),j)}(I,M=>{this.pendingRequest=null,h(M),this.saveEventData(),this.processRequests(p)})}queueRequest(o,l){this.queue.push(o),this.processRequests(l)}}const Dn=new class extends $n{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,o){E.EVENTS_URL&&E.ACCESS_TOKEN&&Array.isArray(a)&&a.some(l=>He(l)||Xe(l))&&this.queueRequest(Date.now(),o)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const o=Hn(E.ACCESS_TOKEN),l=o?o.u:E.ACCESS_TOKEN;let h=l!==this.eventData.tokenU;pn(this.anonId)||(this.anonId=jt(),h=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const y=new Date(this.eventData.lastSuccess),x=new Date(p),C=(p-this.eventData.lastSuccess)/864e5;h=h||C>=1||C<-1||y.getDate()!==x.getDate()}else h=!0;h?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:_,skuId:z,"enabled.telemetry":!1,userId:this.anonId},y=>{y||(this.eventData.lastSuccess=p,this.eventData.tokenU=l)},a):this.processRequests()}},Wn=Dn.postTurnstileEvent.bind(Dn),Rr=new class extends $n{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,o,l,h){this.skuToken=o,this.errorCb=h,E.EVENTS_URL&&(l||E.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(ze)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:l}=this.queue.shift();o&&this.success[o]||(this.anonId||this.fetchEventData(),pn(this.anonId)||(this.anonId=jt()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:_,skuId:z,skuToken:this.skuToken,userId:this.anonId},h=>{h?this.errorCb(h):o&&(this.success[o]=!0)},a))}},Er=Rr.postMapLoadEvent.bind(Rr),ro=new class extends $n{constructor(){super("gljs.performance")}postPerformanceEvent(a,o){E.EVENTS_URL&&(a||E.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:o},a)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:o,performanceData:l}=this.queue.shift(),h=function(p){const y=m.performance.getEntriesByType("resource"),x=m.performance.getEntriesByType("mark"),C=function(q){const Q={};if(q){for(const te in q)if(te!=="other")for(const ue of q[te]){const _e=`${te}ResolveRangeMin`,Pe=`${te}ResolveRangeMax`,Le=`${te}RequestCount`,ke=`${te}RequestCachedCount`;Q[_e]=Math.min(Q[_e]||1/0,ue.startTime),Q[Pe]=Math.max(Q[Pe]||-1/0,ue.responseEnd);const Oe=je=>{Q[je]===void 0&&(Q[je]=0),++Q[je]};ue.transferSize!==void 0&&ue.transferSize===0&&Oe(ke),Oe(Le)}}return Q}(function(q,Q){const te={};if(q)for(const ue of q){const _e=Q(ue);te[_e]===void 0&&(te[_e]=[]),te[_e].push(ue)}return te}(y,Co)),I=m.devicePixelRatio,M=m.navigator.connection||m.navigator.mozConnection||m.navigator.webkitConnection,j={counters:[],metadata:[],attributes:[]},V=(q,Q,te)=>{te!=null&&q.push({name:Q,value:te.toString()})};for(const q in C)V(j.counters,q,C[q]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(V(j.counters,"interactionRangeMin",p.interactionRange[0]),V(j.counters,"interactionRangeMax",p.interactionRange[1])),x)for(const q of Object.keys(mr)){const Q=mr[q],te=x.find(ue=>ue.name===Q);te&&V(j.counters,Q,te.startTime)}return V(j.counters,"visibilityHidden",p.visibilityHidden),V(j.attributes,"style",function(q){if(q)for(const Q of q){const te=Q.name.split("?")[0];if(Ge(te)){const ue=te.split("/").slice(-2);if(ue.length===2)return`mapbox://styles/${ue[0]}/${ue[1]}`}}}(y)),V(j.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),V(j.attributes,"fogEnabled",p.fogEnabled?"true":"false"),V(j.attributes,"projection",p.projection),V(j.attributes,"zoom",p.zoom),V(j.metadata,"devicePixelRatio",I),V(j.metadata,"connectionEffectiveType",M?M.effectiveType:void 0),V(j.metadata,"navigatorUserAgent",m.navigator.userAgent),V(j.metadata,"screenWidth",m.screen.width),V(j.metadata,"screenHeight",m.screen.height),V(j.metadata,"windowWidth",m.innerWidth),V(j.metadata,"windowHeight",m.innerHeight),V(j.metadata,"mapWidth",p.width/I),V(j.metadata,"mapHeight",p.height/I),V(j.metadata,"webglRenderer",p.renderer),V(j.metadata,"webglVendor",p.vendor),V(j.metadata,"sdkVersion",_),V(j.metadata,"sdkIdentifier","mapbox-gl-js"),j}(l);for(const p of h.metadata);for(const p of h.counters);for(const p of h.attributes);this.postEvent(o,h,()=>{},a)}},ot=ro.postPerformanceEvent.bind(ro),dt=new class extends $n{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,o,l,h){if(!E.API_URL||!E.SESSION_PATH)return;const p=qt(E.API_URL+E.SESSION_PATH);p.params.push(`sku=${o||""}`),p.params.push(`access_token=${h||E.ACCESS_TOKEN||""}`);const y={url:Ft(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(x,C){return nr(Ye(x,{method:"GET"}),C)}(y,x=>{this.pendingRequest=null,l(x),this.saveEventData(),this.processRequests(h)})}getSessionAPI(a,o,l,h){this.skuToken=o,this.errorCb=h,E.SESSION_PATH&&E.API_URL&&(l||E.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},l):this.errorCb(new Error(ze)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:l}=this.queue.shift();o&&this.success[o]||this.getSession(l,this.skuToken,h=>{h?this.errorCb(h):o&&(this.success[o]=!0)},a)}},tn=dt.getSessionAPI.bind(dt),Tn=new Set,mr={create:"create",load:"load",fullLoad:"fullLoad"},kr={mark(a){m.performance.mark(a)},measure(a,o,l){m.performance.measure(a,o,l)}};function Co(a){const o=a.name.split("?")[0];return Qe(o)&&o.includes("mapbox-gl.js")?"javascript":Qe(o)&&o.includes("mapbox-gl.css")?"css":function(l){return E.API_FONTS_REGEX.test(l)}(o)?"fontRange":tt(o)?"sprite":Ge(o)?"style":function(l){return E.API_TILEJSON_REGEX.test(l)}(o)?"tilejson":"other"}const Jn=m.performance;function lr(a){const o=a?a.url.toString():void 0;return Jn.getEntriesByName(o)}let qo,af,md,Us;const Vs={now:()=>md!==void 0?md:m.performance.now(),setNow(a){md=a},restoreNow(){md=void 0},frame(a){const o=m.requestAnimationFrame(a);return{cancel:()=>m.cancelAnimationFrame(o)}},getImageData(a,o=0){const{width:l,height:h}=a;Us||(Us=m.document.createElement("canvas"));const p=Us.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(l>Us.width||h>Us.height)&&(Us.width=l,Us.height=h),p.clearRect(-o,-o,l+2*o,h+2*o),p.drawImage(a,0,0,l,h),p.getImageData(-o,-o,l+2*o,h+2*o)},resolveURL:a=>(qo||(qo=m.document.createElement("a")),qo.href=a,qo.href),get devicePixelRatio(){return m.devicePixelRatio},get prefersReducedMotion(){return!!m.matchMedia&&(af==null&&(af=m.matchMedia("(prefers-reduced-motion: reduce)")),af.matches)}};function lf(a,o,l){l[a]&&l[a].indexOf(o)!==-1||(l[a]=l[a]||[],l[a].push(o))}function gd(a,o,l){if(l&&l[a]){const h=l[a].indexOf(o);h!==-1&&l[a].splice(h,1)}}class Pl{constructor(o,l={}){Ye(this,l),this.type=o}}class pa extends Pl{constructor(o,l={}){super("error",Ye({error:o},l))}}class fu{on(o,l){return this._listeners=this._listeners||{},lf(o,l,this._listeners),this}off(o,l){return gd(o,l,this._listeners),gd(o,l,this._oneTimeListeners),this}once(o,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},lf(o,l,this._oneTimeListeners),this):new Promise(h=>this.once(o,h))}fire(o,l){typeof o=="string"&&(o=new Pl(o,l||{}));const h=o.type;if(this.listens(h)){o.target=this;const p=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(const C of p)C.call(this,o);const y=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(const C of y)gd(h,C,this._oneTimeListeners),C.call(this,o);const x=this._eventedParent;x&&(Ye(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),x.fire(o))}else o instanceof pa&&console.error(o.error);return this}listens(o){return!!(this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o))}setEventedParent(o,l){return this._eventedParent=o,this._eventedParentData=l,this}}var _t=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function ma(a,...o){for(const l of o)for(const h in l)a[h]=l[h];return a}function Fo(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function yi(a){if(Array.isArray(a))return a.map(yi);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const o={};for(const l in a)o[l]=yi(a[l]);return o}return Fo(a)}class cf extends Error{constructor(o,l){super(l),this.message=l,this.key=o}}var Hs=cf;class yd{constructor(o,l=[]){this.parent=o,this.bindings={};for(const[h,p]of l)this.bindings[h]=p}concat(o){return new yd(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}var Qp=yd;const dc={kind:"null"},nn={kind:"number"},hr={kind:"string"},cr={kind:"boolean"},zi={kind:"color"},cs={kind:"object"},ur={kind:"value"},ns={kind:"collator"},pu={kind:"formatted"},kl={kind:"resolvedImage"};function us(a,o){return{kind:"array",itemType:a,N:o}}function po(a){if(a.kind==="array"){const o=po(a.itemType);return typeof a.N=="number"?`array<${o}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${o}>`}return a.kind}const hc=[dc,nn,hr,cr,zi,pu,cs,us(ur),kl];function ga(a,o){if(o.kind==="error")return null;if(a.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!ga(a.itemType,o.itemType))&&(typeof a.N!="number"||a.N===o.N))return null}else{if(a.kind===o.kind)return null;if(a.kind==="value"){for(const l of hc)if(!ga(l,o))return null}}return`Expected ${po(a)} but found ${po(o)} instead.`}function fc(a,o){return o.some(l=>l.kind===a.kind)}function pc(a,o){return o.some(l=>l==="null"?a===null:l==="array"?Array.isArray(a):l==="object"?a&&!Array.isArray(a)&&typeof a=="object":l===typeof a)}var uf,em={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function mu(a){return(a=Math.round(a))<0?0:a>255?255:a}function gu(a){return mu(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function vd(a){return(o=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:o>1?1:o;var o}function mc(a,o,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?a+(o-a)*l*6:2*l<1?o:3*l<2?a+(o-a)*(2/3-l)*6:a}try{uf={}.parseCSSColor=function(a){var o,l=a.replace(/ /g,"").toLowerCase();if(l in em)return em[l].slice();if(l[0]==="#")return l.length===4?(o=parseInt(l.substr(1),16))>=0&&o<=4095?[(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,1]:null:l.length===7&&(o=parseInt(l.substr(1),16))>=0&&o<=16777215?[(16711680&o)>>16,(65280&o)>>8,255&o,1]:null;var h=l.indexOf("("),p=l.indexOf(")");if(h!==-1&&p+1===l.length){var y=l.substr(0,h),x=l.substr(h+1,p-(h+1)).split(","),C=1;switch(y){case"rgba":if(x.length!==4)return null;C=vd(x.pop());case"rgb":return x.length!==3?null:[gu(x[0]),gu(x[1]),gu(x[2]),C];case"hsla":if(x.length!==4)return null;C=vd(x.pop());case"hsl":if(x.length!==3)return null;var I=(parseFloat(x[0])%360+360)%360/360,M=vd(x[1]),j=vd(x[2]),V=j<=.5?j*(M+1):j+M-j*M,q=2*j-V;return[mu(255*mc(q,V,I+1/3)),mu(255*mc(q,V,I)),mu(255*mc(q,V,I-1/3)),C];default:return null}}return null}}catch{}class qi{constructor(o,l,h,p=1){this.r=o,this.g=l,this.b=h,this.a=p}static parse(o){if(!o)return;if(o instanceof qi)return o;if(typeof o!="string")return;const l=uf(o);return l?new qi(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[o,l,h,p]=this.toArray();return`rgba(${Math.round(o)},${Math.round(l)},${Math.round(h)},${p})`}toArray(){const{r:o,g:l,b:h,a:p}=this;return p===0?[0,0,0,0]:[255*o/p,255*l/p,255*h/p,p]}toArray01(){const{r:o,g:l,b:h,a:p}=this;return p===0?[0,0,0,0]:[o/p,l/p,h/p,p]}toArray01PremultipliedAlpha(){const{r:o,g:l,b:h,a:p}=this;return[o,l,h,p]}}qi.black=new qi(0,0,0,1),qi.white=new qi(1,1,1,1),qi.transparent=new qi(0,0,0,0),qi.red=new qi(1,0,0,1),qi.blue=new qi(0,0,1,1);var oo=qi;class df{constructor(o,l,h){this.sensitivity=o?l?"variant":"case":l?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,l){return this.collator.compare(o,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class hf{constructor(o,l,h,p,y){this.text=o.normalize?o.normalize():o,this.image=l,this.scale=h,this.fontStack=p,this.textColor=y}}class Fi{constructor(o){this.sections=o}static fromString(o){return new Fi([new hf(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.name.length!==0)}static factory(o){return o instanceof Fi?o:Fi.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}serialize(){const o=["format"];for(const l of this.sections){if(l.image){o.push(["image",l.image.name]);continue}o.push(l.text);const h={};l.fontStack&&(h["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(h["font-scale"]=l.scale),l.textColor&&(h["text-color"]=["rgba"].concat(l.textColor.toArray())),o.push(h)}return o}}class ds{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new ds({name:o,available:!1}):null}serialize(){return["image",this.name]}}function ya(a,o,l,h){return typeof a=="number"&&a>=0&&a<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof l=="number"&&l>=0&&l<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[a,o,l,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[a,o,l,h]:[a,o,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function yu(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof oo||a instanceof df||a instanceof Fi||a instanceof ds)return!0;if(Array.isArray(a)){for(const o of a)if(!yu(o))return!1;return!0}if(typeof a=="object"){for(const o in a)if(!yu(a[o]))return!1;return!0}return!1}function So(a){if(a===null)return dc;if(typeof a=="string")return hr;if(typeof a=="boolean")return cr;if(typeof a=="number")return nn;if(a instanceof oo)return zi;if(a instanceof df)return ns;if(a instanceof Fi)return pu;if(a instanceof ds)return kl;if(Array.isArray(a)){const o=a.length;let l;for(const h of a){const p=So(h);if(l){if(l===p)continue;l=ur;break}l=p}return us(l||ur,o)}return cs}function va(a){const o=typeof a;return a===null?"":o==="string"||o==="number"||o==="boolean"?String(a):a instanceof oo||a instanceof Fi||a instanceof ds?a.toString():JSON.stringify(a)}class ff{constructor(o,l){this.type=o,this.value=l}static parse(o,l){if(o.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!yu(o[1]))return l.error("invalid value");const h=o[1];let p=So(h);const y=l.expectedType;return p.kind!=="array"||p.N!==0||!y||y.kind!=="array"||typeof y.N=="number"&&y.N!==0||(p=y),new ff(p,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof oo?["rgba"].concat(this.value.toArray()):this.value instanceof Fi?this.value.serialize():this.value}}var Il=ff,Ci=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const _d={string:hr,number:nn,boolean:cr,object:cs};class qa{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");let h,p=1;const y=o[0];if(y==="array"){let C,I;if(o.length>2){const M=o[1];if(typeof M!="string"||!(M in _d)||M==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);C=_d[M],p++}else C=ur;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return l.error('The length argument to "array" must be a positive integer literal',2);I=o[2],p++}h=us(C,I)}else h=_d[y];const x=[];for(;p<o.length;p++){const C=l.parse(o[p],p,ur);if(!C)return null;x.push(C)}return new qa(h,x)}evaluate(o){for(let l=0;l<this.args.length;l++){const h=this.args[l].evaluate(o);if(!ga(this.type,So(h)))return h;if(l===this.args.length-1)throw new Ci(`Expected value to be of type ${po(this.type)}, but found ${po(So(h))} instead.`)}return null}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=this.type,l=[o.kind];if(o.kind==="array"){const h=o.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){l.push(h.kind);const p=o.N;(typeof p=="number"||this.args.length>1)&&l.push(p)}}return l.concat(this.args.map(h=>h.serialize()))}}var _a=qa;class Za{constructor(o){this.type=pu,this.sections=o}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");const h=o[1];if(!Array.isArray(h)&&typeof h=="object")return l.error("First argument must be an image or text section.");const p=[];let y=!1;for(let x=1;x<=o.length-1;++x){const C=o[x];if(y&&typeof C=="object"&&!Array.isArray(C)){y=!1;let I=null;if(C["font-scale"]&&(I=l.parse(C["font-scale"],1,nn),!I))return null;let M=null;if(C["text-font"]&&(M=l.parse(C["text-font"],1,us(hr)),!M))return null;let j=null;if(C["text-color"]&&(j=l.parse(C["text-color"],1,zi),!j))return null;const V=p[p.length-1];V.scale=I,V.font=M,V.textColor=j}else{const I=l.parse(o[x],1,ur);if(!I)return null;const M=I.type.kind;if(M!=="string"&&M!=="value"&&M!=="null"&&M!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");y=!0,p.push({content:I,scale:null,font:null,textColor:null})}}return new Za(p)}evaluate(o){return new Fi(this.sections.map(l=>{const h=l.content.evaluate(o);return So(h)===kl?new hf("",h,null,null,null):new hf(va(h),null,l.scale?l.scale.evaluate(o):null,l.font?l.font.evaluate(o).join(","):null,l.textColor?l.textColor.evaluate(o):null)}))}eachChild(o){for(const l of this.sections)o(l.content),l.scale&&o(l.scale),l.font&&o(l.font),l.textColor&&o(l.textColor)}outputDefined(){return!1}serialize(){const o=["format"];for(const l of this.sections){o.push(l.content.serialize());const h={};l.scale&&(h["font-scale"]=l.scale.serialize()),l.font&&(h["text-font"]=l.font.serialize()),l.textColor&&(h["text-color"]=l.textColor.serialize()),o.push(h)}return o}}class xd{constructor(o){this.type=kl,this.input=o}static parse(o,l){if(o.length!==2)return l.error("Expected two arguments.");const h=l.parse(o[1],1,hr);return h?new xd(h):l.error("No image name provided.")}evaluate(o){const l=this.input.evaluate(o),h=ds.fromString(l);return h&&o.availableImages&&(h.available=o.availableImages.indexOf(l)>-1),h}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const $y={"to-boolean":cr,"to-color":zi,"to-number":nn,"to-string":hr};class pf{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expected at least one argument.");const h=o[0];if((h==="to-boolean"||h==="to-string")&&o.length!==2)return l.error("Expected one argument.");const p=$y[h],y=[];for(let x=1;x<o.length;x++){const C=l.parse(o[x],x,ur);if(!C)return null;y.push(C)}return new pf(p,y)}evaluate(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){let l,h;for(const p of this.args){if(l=p.evaluate(o),h=null,l instanceof oo)return l;if(typeof l=="string"){const y=o.parseColor(l);if(y)return y}else if(Array.isArray(l)&&(h=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:ya(l[0],l[1],l[2],l[3]),!h))return new oo(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Ci(h||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const h of this.args){if(l=h.evaluate(o),l===null)return 0;const p=Number(l);if(!isNaN(p))return p}throw new Ci(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?Fi.fromString(va(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?ds.fromString(va(this.args[0].evaluate(o))):va(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Za([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new xd(this.args[0]).serialize();const o=[`to-${this.type.kind}`];return this.eachChild(l=>{o.push(l.serialize())}),o}}var gc=pf;const Gs=["Unknown","Point","LineString","Polygon"];var mf=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Gs[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,o=this.featureDistanceData.scale,{x:l,y:h}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*o-a[0])+this.featureDistanceData.bearing[1]*(h*o-a[1])}return 0}parseColor(a){let o=this._parseColorCache[a];return o||(o=this._parseColorCache[a]=oo.parse(a)),o}};class Ml{constructor(o,l,h,p){this.name=o,this.type=l,this._evaluate=h,this.args=p}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(o=>o.serialize()))}static parse(o,l){const h=o[0],p=Ml.definitions[h];if(!p)return l.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);const y=Array.isArray(p)?p[0]:p.type,x=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,C=x.filter(([M])=>!Array.isArray(M)||M.length===o.length-1);let I=null;for(const[M,j]of C){I=new kd(l.registry,l.path,null,l.scope);const V=[];let q=!1;for(let Q=1;Q<o.length;Q++){const te=o[Q],ue=Array.isArray(M)?M[Q-1]:M.type,_e=I.parse(te,1+V.length,ue);if(!_e){q=!0;break}V.push(_e)}if(!q)if(Array.isArray(M)&&M.length!==V.length)I.error(`Expected ${M.length} arguments, but found ${V.length} instead.`);else{for(let Q=0;Q<V.length;Q++){const te=Array.isArray(M)?M[Q]:M.type,ue=V[Q];I.concat(Q+1).checkSubtype(te,ue.type)}if(I.errors.length===0)return new Ml(h,y,j,V)}}if(C.length===1)l.errors.push(...I.errors);else{const M=(C.length?C:x).map(([V])=>{return q=V,Array.isArray(q)?`(${q.map(po).join(", ")})`:`(${po(q.type)}...)`;var q}).join(" | "),j=[];for(let V=1;V<o.length;V++){const q=l.parse(o[V],1+j.length);if(!q)return null;j.push(po(q.type))}l.error(`Expected arguments of type ${M}, but found (${j.join(", ")}) instead.`)}return null}static register(o,l){Ml.definitions=l;for(const h in l)o[h]=Ml}}var Rs=Ml;class yc{constructor(o,l,h){this.type=ns,this.locale=h,this.caseSensitive=o,this.diacriticSensitive=l}static parse(o,l){if(o.length!==2)return l.error("Expected one argument.");const h=o[1];if(typeof h!="object"||Array.isArray(h))return l.error("Collator options argument must be an object.");const p=l.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,cr);if(!p)return null;const y=l.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,cr);if(!y)return null;let x=null;return h.locale&&(x=l.parse(h.locale,1,hr),!x)?null:new yc(p,y,x)}evaluate(o){return new df(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}serialize(){const o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]}}const xa=8192;function bd(a,o){a[0]=Math.min(a[0],o[0]),a[1]=Math.min(a[1],o[1]),a[2]=Math.max(a[2],o[0]),a[3]=Math.max(a[3],o[1])}function vc(a,o){return!(a[0]<=o[0]||a[2]>=o[2]||a[1]<=o[1]||a[3]>=o[3])}function _c(a,o){const l=(180+a[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,p=Math.pow(2,o.z);return[Math.round(l*p*xa),Math.round(h*p*xa)]}function tm(a,o,l){const h=a[0]-o[0],p=a[1]-o[1],y=a[0]-l[0],x=a[1]-l[1];return h*x-y*p==0&&h*y<=0&&p*x<=0}function xc(a,o){let l=!1;for(let x=0,C=o.length;x<C;x++){const I=o[x];for(let M=0,j=I.length;M<j-1;M++){if(tm(a,I[M],I[M+1]))return!1;(p=I[M])[1]>(h=a)[1]!=(y=I[M+1])[1]>h[1]&&h[0]<(y[0]-p[0])*(h[1]-p[1])/(y[1]-p[1])+p[0]&&(l=!l)}}var h,p,y;return l}function wd(a,o){for(let l=0;l<o.length;l++)if(xc(a,o[l]))return!0;return!1}function Cd(a,o,l,h){const p=h[0]-l[0],y=h[1]-l[1],x=(a[0]-l[0])*y-p*(a[1]-l[1]),C=(o[0]-l[0])*y-p*(o[1]-l[1]);return x>0&&C<0||x<0&&C>0}function Ya(a,o,l){for(const M of l)for(let j=0;j<M.length-1;++j)if((C=[(x=M[j+1])[0]-(y=M[j])[0],x[1]-y[1]])[0]*(I=[(p=o)[0]-(h=a)[0],p[1]-h[1]])[1]-C[1]*I[0]!=0&&Cd(h,p,y,x)&&Cd(y,x,h,p))return!0;var h,p,y,x,C,I;return!1}function _r(a,o){for(let l=0;l<a.length;++l)if(!xc(a[l],o))return!1;for(let l=0;l<a.length-1;++l)if(Ya(a[l],a[l+1],o))return!1;return!0}function By(a,o){for(let l=0;l<o.length;l++)if(_r(a,o[l]))return!0;return!1}function Sd(a,o,l){const h=[];for(let p=0;p<a.length;p++){const y=[];for(let x=0;x<a[p].length;x++){const C=_c(a[p][x],l);bd(o,C),y.push(C)}h.push(y)}return h}function gf(a,o,l){const h=[];for(let p=0;p<a.length;p++){const y=Sd(a[p],o,l);h.push(y)}return h}function Td(a,o,l,h){if(a[0]<l[0]||a[0]>l[2]){const p=.5*h;let y=a[0]-l[0]>p?-h:l[0]-a[0]>p?h:0;y===0&&(y=a[0]-l[2]>p?-h:l[2]-a[0]>p?h:0),a[0]+=y}bd(o,a)}function yf(a,o,l,h){const p=Math.pow(2,h.z)*xa,y=[h.x*xa,h.y*xa],x=[];if(!a)return x;for(const C of a)for(const I of C){const M=[I.x+y[0],I.y+y[1]];Td(M,o,l,p),x.push(M)}return x}function Ed(a,o,l,h){const p=Math.pow(2,h.z)*xa,y=[h.x*xa,h.y*xa],x=[];if(!a)return x;for(const I of a){const M=[];for(const j of I){const V=[j.x+y[0],j.y+y[1]];bd(o,V),M.push(V)}x.push(M)}if(o[2]-o[0]<=p/2){(C=o)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(const I of x)for(const M of I)Td(M,o,l,p)}var C;return x}class Al{constructor(o,l){this.type=cr,this.geojson=o,this.geometries=l}static parse(o,l){if(o.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(yu(o[1])){const h=o[1];if(h.type==="FeatureCollection")for(let p=0;p<h.features.length;++p){const y=h.features[p].geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Al(h,h.features[p].geometry)}else if(h.type==="Feature"){const p=h.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new Al(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Al(h,h)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(l,h){const p=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],x=l.canonicalID();if(!x)return!1;if(h.type==="Polygon"){const C=Sd(h.coordinates,y,x),I=yf(l.geometry(),p,y,x);if(!vc(p,y))return!1;for(const M of I)if(!xc(M,C))return!1}if(h.type==="MultiPolygon"){const C=gf(h.coordinates,y,x),I=yf(l.geometry(),p,y,x);if(!vc(p,y))return!1;for(const M of I)if(!wd(M,C))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(l,h){const p=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],x=l.canonicalID();if(!x)return!1;if(h.type==="Polygon"){const C=Sd(h.coordinates,y,x),I=Ed(l.geometry(),p,y,x);if(!vc(p,y))return!1;for(const M of I)if(!_r(M,C))return!1}if(h.type==="MultiPolygon"){const C=gf(h.coordinates,y,x),I=Ed(l.geometry(),p,y,x);if(!vc(p,y))return!1;for(const M of I)if(!By(M,C))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var vu=Al;function Rl(a){if(a instanceof Rs&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof vu)return!1;let o=!0;return a.eachChild(l=>{o&&!Rl(l)&&(o=!1)}),o}function Ws(a){if(a instanceof Rs&&a.name==="feature-state")return!1;let o=!0;return a.eachChild(l=>{o&&!Ws(l)&&(o=!1)}),o}function hs(a,o){if(a instanceof Rs&&o.indexOf(a.name)>=0)return!1;let l=!0;return a.eachChild(h=>{l&&!hs(h,o)&&(l=!1)}),l}class Pd{constructor(o,l){this.type=l.type,this.name=o,this.boundExpression=l}static parse(o,l){if(o.length!==2||typeof o[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const h=o[1];return l.scope.has(h)?new Pd(h,l.scope.get(h)):l.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var nm=Pd;class _u{constructor(o,l=[],h,p=new Qp,y=[]){this.registry=o,this.path=l,this.key=l.map(x=>`[${x}]`).join(""),this.scope=p,this.errors=y,this.expectedType=h}parse(o,l,h,p,y={}){return l?this.concat(l,h,p)._parse(o,y):this._parse(o,y)}_parse(o,l){function h(p,y,x){return x==="assert"?new _a(y,[p]):x==="coerce"?new gc(y,[p]):p}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=o[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const y=this.registry[p];if(y){let x=y.parse(o,this);if(!x)return null;if(this.expectedType){const C=this.expectedType,I=x.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||I.kind!=="value")if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||I.kind!=="value"&&I.kind!=="string"){if(this.checkSubtype(C,I))return null}else x=h(x,C,l.typeAnnotation||"coerce");else x=h(x,C,l.typeAnnotation||"assert")}if(!(x instanceof Il)&&x.type.kind!=="resolvedImage"&&Id(x)){const C=new mf;try{x=new Il(x.type,x.evaluate(C))}catch(I){return this.error(I.message),null}}return x}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,l,h){const p=typeof o=="number"?this.path.concat(o):this.path,y=h?this.scope.concat(h):this.scope;return new _u(this.registry,p,l||null,y,this.errors)}error(o,...l){const h=`${this.key}${l.map(p=>`[${p}]`).join("")}`;this.errors.push(new Hs(h,o))}checkSubtype(o,l){const h=ga(o,l);return h&&this.error(h),h}}var kd=_u;function Id(a){if(a instanceof nm)return Id(a.boundExpression);if(a instanceof Rs&&a.name==="error"||a instanceof yc||a instanceof vu)return!1;const o=a instanceof gc||a instanceof _a;let l=!0;return a.eachChild(h=>{l=o?l&&Id(h):l&&h instanceof Il}),!!l&&Rl(a)&&hs(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function xu(a,o){const l=a.length-1;let h,p,y=0,x=l,C=0;for(;y<=x;)if(C=Math.floor((y+x)/2),h=a[C],p=a[C+1],h<=o){if(C===l||o<p)return C;y=C+1}else{if(!(h>o))throw new Ci("Input is not a number.");x=C-1}return 0}class Md{constructor(o,l,h){this.type=o,this.input=l,this.labels=[],this.outputs=[];for(const[p,y]of h)this.labels.push(p),this.outputs.push(y)}static parse(o,l){if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");const h=l.parse(o[1],1,nn);if(!h)return null;const p=[];let y=null;l.expectedType&&l.expectedType.kind!=="value"&&(y=l.expectedType);for(let x=1;x<o.length;x+=2){const C=x===1?-1/0:o[x],I=o[x+1],M=x,j=x+1;if(typeof C!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(p.length&&p[p.length-1][0]>=C)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const V=l.parse(I,j,y);if(!V)return null;y=y||V.type,p.push([C,V])}return new Md(y,h,p)}evaluate(o){const l=this.labels,h=this.outputs;if(l.length===1)return h[0].evaluate(o);const p=this.input.evaluate(o);if(p<=l[0])return h[0].evaluate(o);const y=l.length;return p>=l[y-1]?h[y-1].evaluate(o):h[xu(l,p)].evaluate(o)}eachChild(o){o(this.input);for(const l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){const o=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&o.push(this.labels[l]),o.push(this.outputs[l].serialize());return o}}var vf=Md;function xr(a,o,l){return a*(1-l)+o*l}var bu=Object.freeze({__proto__:null,array:function(a,o,l){return a.map((h,p)=>xr(h,o[p],l))},color:function(a,o,l){return new oo(xr(a.r,o.r,l),xr(a.g,o.g,l),xr(a.b,o.b,l),xr(a.a,o.a,l))},number:xr});const _f=.95047,xf=1.08883,bf=4/29,Ol=6/29,Ad=3*Ol*Ol,wf=Ol*Ol*Ol,Ny=Math.PI/180,Uy=180/Math.PI;function Cf(a){return a>wf?Math.pow(a,1/3):a/Ad+bf}function Sf(a){return a>Ol?a*a*a:Ad*(a-bf)}function bc(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function Rd(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function rm(a){const o=Rd(a.r),l=Rd(a.g),h=Rd(a.b),p=Cf((.4124564*o+.3575761*l+.1804375*h)/_f),y=Cf((.2126729*o+.7151522*l+.072175*h)/1);return{l:116*y-16,a:500*(p-y),b:200*(y-Cf((.0193339*o+.119192*l+.9503041*h)/xf)),alpha:a.a}}function om(a){let o=(a.l+16)/116,l=isNaN(a.a)?o:o+a.a/500,h=isNaN(a.b)?o:o-a.b/200;return o=1*Sf(o),l=_f*Sf(l),h=xf*Sf(h),new oo(bc(3.2404542*l-1.5371385*o-.4985314*h),bc(-.969266*l+1.8760108*o+.041556*h),bc(.0556434*l-.2040259*o+1.0572252*h),a.alpha)}function Vy(a,o,l){const h=o-a;return a+l*(h>180||h<-180?h-360*Math.round(h/360):h)}const wc={forward:rm,reverse:om,interpolate:function(a,o,l){return{l:xr(a.l,o.l,l),a:xr(a.a,o.a,l),b:xr(a.b,o.b,l),alpha:xr(a.alpha,o.alpha,l)}}},Cc={forward:function(a){const{l:o,a:l,b:h}=rm(a),p=Math.atan2(h,l)*Uy;return{h:p<0?p+360:p,c:Math.sqrt(l*l+h*h),l:o,alpha:a.a}},reverse:function(a){const o=a.h*Ny,l=a.c;return om({l:a.l,a:Math.cos(o)*l,b:Math.sin(o)*l,alpha:a.alpha})},interpolate:function(a,o,l){return{h:Vy(a.h,o.h,l),c:xr(a.c,o.c,l),l:xr(a.l,o.l,l),alpha:xr(a.alpha,o.alpha,l)}}};var Tf=Object.freeze({__proto__:null,hcl:Cc,lab:wc});class wu{constructor(o,l,h,p,y){this.type=o,this.operator=l,this.interpolation=h,this.input=p,this.labels=[],this.outputs=[];for(const[x,C]of y)this.labels.push(x),this.outputs.push(C)}static interpolationFactor(o,l,h,p){let y=0;if(o.name==="exponential")y=Ef(l,o.base,h,p);else if(o.name==="linear")y=Ef(l,1,h,p);else if(o.name==="cubic-bezier"){const x=o.controlPoints;y=new X(x[0],x[1],x[2],x[3]).solve(Ef(l,1,h,p))}return y}static parse(o,l){let[h,p,y,...x]=o;if(!Array.isArray(p)||p.length===0)return l.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const M=p[1];if(typeof M!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:M}}else{if(p[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const M=p.slice(1);if(M.length!==4||M.some(j=>typeof j!="number"||j<0||j>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:M}}}if(o.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(y=l.parse(y,2,nn),!y)return null;const C=[];let I=null;h==="interpolate-hcl"||h==="interpolate-lab"?I=zi:l.expectedType&&l.expectedType.kind!=="value"&&(I=l.expectedType);for(let M=0;M<x.length;M+=2){const j=x[M],V=x[M+1],q=M+3,Q=M+4;if(typeof j!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',q);if(C.length&&C[C.length-1][0]>=j)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',q);const te=l.parse(V,Q,I);if(!te)return null;I=I||te.type,C.push([j,te])}return I.kind==="number"||I.kind==="color"||I.kind==="array"&&I.itemType.kind==="number"&&typeof I.N=="number"?new wu(I,h,p,y,C):l.error(`Type ${po(I)} is not interpolatable.`)}evaluate(o){const l=this.labels,h=this.outputs;if(l.length===1)return h[0].evaluate(o);const p=this.input.evaluate(o);if(p<=l[0])return h[0].evaluate(o);const y=l.length;if(p>=l[y-1])return h[y-1].evaluate(o);const x=xu(l,p),C=wu.interpolationFactor(this.interpolation,p,l[x],l[x+1]),I=h[x].evaluate(o),M=h[x+1].evaluate(o);return this.operator==="interpolate"?bu[this.type.kind.toLowerCase()](I,M,C):this.operator==="interpolate-hcl"?Cc.reverse(Cc.interpolate(Cc.forward(I),Cc.forward(M),C)):wc.reverse(wc.interpolate(wc.forward(I),wc.forward(M),C))}eachChild(o){o(this.input);for(const l of this.outputs)o(l)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){let o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,o,this.input.serialize()];for(let h=0;h<this.labels.length;h++)l.push(this.labels[h],this.outputs[h].serialize());return l}}function Ef(a,o,l,h){const p=h-l,y=a-l;return p===0?0:o===1?y/p:(Math.pow(o,y)-1)/(Math.pow(o,p)-1)}var Os=wu;class Cu{constructor(o,l){this.type=o,this.args=l}static parse(o,l){if(o.length<2)return l.error("Expectected at least one argument.");let h=null;const p=l.expectedType;p&&p.kind!=="value"&&(h=p);const y=[];for(const C of o.slice(1)){const I=l.parse(C,1+y.length,h,void 0,{typeAnnotation:"omit"});if(!I)return null;h=h||I.type,y.push(I)}const x=p&&y.some(C=>ga(p,C.type));return new Cu(x?ur:h,y)}evaluate(o){let l,h=null,p=0;for(const y of this.args){if(p++,h=y.evaluate(o),h&&h instanceof ds&&!h.available&&(l||(l=h),h=null,p===this.args.length))return l;if(h!==null)break}return h}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=["coalesce"];return this.eachChild(l=>{o.push(l.serialize())}),o}}var Pf=Cu;class Od{constructor(o,l){this.type=l.type,this.bindings=[].concat(o),this.result=l}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const l of this.bindings)o(l[1]);o(this.result)}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const h=[];for(let y=1;y<o.length-1;y+=2){const x=o[y];if(typeof x!="string")return l.error(`Expected string, but found ${typeof x} instead.`,y);if(/[^a-zA-Z0-9_]/.test(x))return l.error("Variable names must contain only alphanumeric characters or '_'.",y);const C=l.parse(o[y+1],y+1);if(!C)return null;h.push([x,C])}const p=l.parse(o[o.length-1],o.length-1,l.expectedType,h);return p?new Od(h,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const o=["let"];for(const[l,h]of this.bindings)o.push(l,h.serialize());return o.push(this.result.serialize()),o}}var im=Od;class Dd{constructor(o,l,h){this.type=o,this.index=l,this.input=h}static parse(o,l){if(o.length!==3)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const h=l.parse(o[1],1,nn),p=l.parse(o[2],2,us(l.expectedType||ur));return h&&p?new Dd(p.type.itemType,h,p):null}evaluate(o){const l=this.index.evaluate(o),h=this.input.evaluate(o);if(l<0)throw new Ci(`Array index out of bounds: ${l} < 0.`);if(l>=h.length)throw new Ci(`Array index out of bounds: ${l} > ${h.length-1}.`);if(l!==Math.floor(l))throw new Ci(`Array index must be an integer, but found ${l} instead.`);return h[l]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var kf=Dd;class If{constructor(o,l){this.type=cr,this.needle=o,this.haystack=l}static parse(o,l){if(o.length!==3)return l.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const h=l.parse(o[1],1,ur),p=l.parse(o[2],2,ur);return h&&p?fc(h.type,[cr,hr,nn,dc,ur])?new If(h,p):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${po(h.type)} instead`):null}evaluate(o){const l=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(h==null)return!1;if(!pc(l,["boolean","string","number","null"]))throw new Ci(`Expected first argument to be of type boolean, string, number or null, but found ${po(So(l))} instead.`);if(!pc(h,["string","array"]))throw new Ci(`Expected second argument to be of type array or string, but found ${po(So(h))} instead.`);return h.indexOf(l)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Ld=If;class Su{constructor(o,l,h){this.type=nn,this.needle=o,this.haystack=l,this.fromIndex=h}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const h=l.parse(o[1],1,ur),p=l.parse(o[2],2,ur);if(!h||!p)return null;if(!fc(h.type,[cr,hr,nn,dc,ur]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${po(h.type)} instead`);if(o.length===4){const y=l.parse(o[3],3,nn);return y?new Su(h,p,y):null}return new Su(h,p)}evaluate(o){const l=this.needle.evaluate(o),h=this.haystack.evaluate(o);if(!pc(l,["boolean","string","number","null"]))throw new Ci(`Expected first argument to be of type boolean, string, number or null, but found ${po(So(l))} instead.`);if(!pc(h,["string","array"]))throw new Ci(`Expected second argument to be of type array or string, but found ${po(So(h))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(o);return h.indexOf(l,p)}return h.indexOf(l)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var sm=Su;class zd{constructor(o,l,h,p,y,x){this.inputType=o,this.type=l,this.input=h,this.cases=p,this.outputs=y,this.otherwise=x}static parse(o,l){if(o.length<5)return l.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return l.error("Expected an even number of arguments.");let h,p;l.expectedType&&l.expectedType.kind!=="value"&&(p=l.expectedType);const y={},x=[];for(let M=2;M<o.length-1;M+=2){let j=o[M];const V=o[M+1];Array.isArray(j)||(j=[j]);const q=l.concat(M);if(j.length===0)return q.error("Expected at least one branch label.");for(const te of j){if(typeof te!="number"&&typeof te!="string")return q.error("Branch labels must be numbers or strings.");if(typeof te=="number"&&Math.abs(te)>Number.MAX_SAFE_INTEGER)return q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof te=="number"&&Math.floor(te)!==te)return q.error("Numeric branch labels must be integer values.");if(h){if(q.checkSubtype(h,So(te)))return null}else h=So(te);if(y[String(te)]!==void 0)return q.error("Branch labels must be unique.");y[String(te)]=x.length}const Q=l.parse(V,M,p);if(!Q)return null;p=p||Q.type,x.push(Q)}const C=l.parse(o[1],1,ur);if(!C)return null;const I=l.parse(o[o.length-1],o.length-1,p);return I?C.type.kind!=="value"&&l.concat(1).checkSubtype(h,C.type)?null:new zd(h,p,C,y,x,I):null}evaluate(o){const l=this.input.evaluate(o);return(So(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),h=[],p={};for(const x of l){const C=p[this.cases[x]];C===void 0?(p[this.cases[x]]=h.length,h.push([this.cases[x],[x]])):h[C][1].push(x)}const y=x=>this.inputType.kind==="number"?Number(x):x;for(const[x,C]of h)o.push(C.length===1?y(C[0]):C.map(y)),o.push(this.outputs[x].serialize());return o.push(this.otherwise.serialize()),o}}var Hy=zd;class Mf{constructor(o,l,h){this.type=o,this.branches=l,this.otherwise=h}static parse(o,l){if(o.length<4)return l.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return l.error("Expected an odd number of arguments.");let h;l.expectedType&&l.expectedType.kind!=="value"&&(h=l.expectedType);const p=[];for(let x=1;x<o.length-1;x+=2){const C=l.parse(o[x],x,cr);if(!C)return null;const I=l.parse(o[x+1],x+1,h);if(!I)return null;p.push([C,I]),h=h||I.type}const y=l.parse(o[o.length-1],o.length-1,h);return y?new Mf(h,p,y):null}evaluate(o){for(const[l,h]of this.branches)if(l.evaluate(o))return h.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[l,h]of this.branches)o(l),o(h);o(this.otherwise)}outputDefined(){return this.branches.every(([o,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["case"];return this.eachChild(l=>{o.push(l.serialize())}),o}}var am=Mf;class Tu{constructor(o,l,h,p){this.type=o,this.input=l,this.beginIndex=h,this.endIndex=p}static parse(o,l){if(o.length<=2||o.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const h=l.parse(o[1],1,ur),p=l.parse(o[2],2,nn);if(!h||!p)return null;if(!fc(h.type,[us(ur),hr,ur]))return l.error(`Expected first argument to be of type array or string, but found ${po(h.type)} instead`);if(o.length===4){const y=l.parse(o[3],3,nn);return y?new Tu(h.type,h,p,y):null}return new Tu(h.type,h,p)}evaluate(o){const l=this.input.evaluate(o),h=this.beginIndex.evaluate(o);if(!pc(l,["string","array"]))throw new Ci(`Expected first argument to be of type array or string, but found ${po(So(l))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(o);return l.slice(h,p)}return l.slice(h)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var lm=Tu;function Fd(a,o){return a==="=="||a==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function cm(a,o,l,h){return h.compare(o,l)===0}function Sc(a,o,l){const h=a!=="=="&&a!=="!=";return class MH{constructor(y,x,C){this.type=cr,this.lhs=y,this.rhs=x,this.collator=C,this.hasUntypedArgument=y.type.kind==="value"||x.type.kind==="value"}static parse(y,x){if(y.length!==3&&y.length!==4)return x.error("Expected two or three arguments.");const C=y[0];let I=x.parse(y[1],1,ur);if(!I)return null;if(!Fd(C,I.type))return x.concat(1).error(`"${C}" comparisons are not supported for type '${po(I.type)}'.`);let M=x.parse(y[2],2,ur);if(!M)return null;if(!Fd(C,M.type))return x.concat(2).error(`"${C}" comparisons are not supported for type '${po(M.type)}'.`);if(I.type.kind!==M.type.kind&&I.type.kind!=="value"&&M.type.kind!=="value")return x.error(`Cannot compare types '${po(I.type)}' and '${po(M.type)}'.`);h&&(I.type.kind==="value"&&M.type.kind!=="value"?I=new _a(M.type,[I]):I.type.kind!=="value"&&M.type.kind==="value"&&(M=new _a(I.type,[M])));let j=null;if(y.length===4){if(I.type.kind!=="string"&&M.type.kind!=="string"&&I.type.kind!=="value"&&M.type.kind!=="value")return x.error("Cannot use collator to compare non-string types.");if(j=x.parse(y[3],3,ns),!j)return null}return new MH(I,M,j)}evaluate(y){const x=this.lhs.evaluate(y),C=this.rhs.evaluate(y);if(h&&this.hasUntypedArgument){const I=So(x),M=So(C);if(I.kind!==M.kind||I.kind!=="string"&&I.kind!=="number")throw new Ci(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${I.kind}, ${M.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){const I=So(x),M=So(C);if(I.kind!=="string"||M.kind!=="string")return o(y,x,C)}return this.collator?l(y,x,C,this.collator.evaluate(y)):o(y,x,C)}eachChild(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)}outputDefined(){return!0}serialize(){const y=[a];return this.eachChild(x=>{y.push(x.serialize())}),y}}}const Gy=Sc("==",function(a,o,l){return o===l},cm),Dl=Sc("!=",function(a,o,l){return o!==l},function(a,o,l,h){return!cm(0,o,l,h)}),um=Sc("<",function(a,o,l){return o<l},function(a,o,l,h){return h.compare(o,l)<0}),Wy=Sc(">",function(a,o,l){return o>l},function(a,o,l,h){return h.compare(o,l)>0}),dm=Sc("<=",function(a,o,l){return o<=l},function(a,o,l,h){return h.compare(o,l)<=0}),hm=Sc(">=",function(a,o,l){return o>=l},function(a,o,l,h){return h.compare(o,l)>=0});class jd{constructor(o,l,h,p,y,x){this.type=hr,this.number=o,this.locale=l,this.currency=h,this.unit=p,this.minFractionDigits=y,this.maxFractionDigits=x}static parse(o,l){if(o.length!==3)return l.error("Expected two arguments.");const h=l.parse(o[1],1,nn);if(!h)return null;const p=o[2];if(typeof p!="object"||Array.isArray(p))return l.error("NumberFormat options argument must be an object.");let y=null;if(p.locale&&(y=l.parse(p.locale,1,hr),!y))return null;let x=null;if(p.currency&&(x=l.parse(p.currency,1,hr),!x))return null;let C=null;if(p.unit&&(C=l.parse(p.unit,1,hr),!C))return null;let I=null;if(p["min-fraction-digits"]&&(I=l.parse(p["min-fraction-digits"],1,nn),!I))return null;let M=null;return p["max-fraction-digits"]&&(M=l.parse(p["max-fraction-digits"],1,nn),!M)?null:new jd(h,y,x,C,I,M)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(o):void 0,unit:this.unit?this.unit.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.unit&&o(this.unit),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.unit&&(o.unit=this.unit.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]}}class Tc{constructor(o){this.type=nn,this.input=o}static parse(o,l){if(o.length!==2)return l.error(`Expected 1 argument, but found ${o.length-1} instead.`);const h=l.parse(o[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${po(h.type)} instead.`):new Tc(h):null}evaluate(o){const l=this.input.evaluate(o);if(typeof l=="string"||Array.isArray(l))return l.length;throw new Ci(`Expected value to be of type string or array, but found ${po(So(l))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){const o=["length"];return this.eachChild(l=>{o.push(l.serialize())}),o}}const Af={"==":Gy,"!=":Dl,">":Wy,"<":um,">=":hm,"<=":dm,array:_a,at:kf,boolean:_a,case:am,coalesce:Pf,collator:yc,format:Za,image:xd,in:Ld,"index-of":sm,interpolate:Os,"interpolate-hcl":Os,"interpolate-lab":Os,length:Tc,let:im,literal:Il,match:Hy,number:_a,"number-format":jd,object:_a,slice:lm,step:vf,string:_a,"to-boolean":gc,"to-color":gc,"to-number":gc,"to-string":gc,var:nm,within:vu};function fm(a,[o,l,h,p]){o=o.evaluate(a),l=l.evaluate(a),h=h.evaluate(a);const y=p?p.evaluate(a):1,x=ya(o,l,h,y);if(x)throw new Ci(x);return new oo(o/255*y,l/255*y,h/255*y,y)}function ba(a,o){return a in o}function $d(a,o){const l=o[a];return l===void 0?null:l}function Ro(a){return{type:a}}Rs.register(Af,{error:[{kind:"error"},[hr],(a,[o])=>{throw new Ci(o.evaluate(a))}],typeof:[hr,[ur],(a,[o])=>po(So(o.evaluate(a)))],"to-rgba":[us(nn,4),[zi],(a,[o])=>o.evaluate(a).toArray()],rgb:[zi,[nn,nn,nn],fm],rgba:[zi,[nn,nn,nn,nn],fm],has:{type:cr,overloads:[[[hr],(a,[o])=>ba(o.evaluate(a),a.properties())],[[hr,cs],(a,[o,l])=>ba(o.evaluate(a),l.evaluate(a))]]},get:{type:ur,overloads:[[[hr],(a,[o])=>$d(o.evaluate(a),a.properties())],[[hr,cs],(a,[o,l])=>$d(o.evaluate(a),l.evaluate(a))]]},"feature-state":[ur,[hr],(a,[o])=>$d(o.evaluate(a),a.featureState||{})],properties:[cs,[],a=>a.properties()],"geometry-type":[hr,[],a=>a.geometryType()],id:[ur,[],a=>a.id()],zoom:[nn,[],a=>a.globals.zoom],pitch:[nn,[],a=>a.globals.pitch||0],"distance-from-center":[nn,[],a=>a.distanceFromCenter()],"heatmap-density":[nn,[],a=>a.globals.heatmapDensity||0],"line-progress":[nn,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[nn,[],a=>a.globals.skyRadialProgress||0],accumulated:[ur,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[nn,Ro(nn),(a,o)=>{let l=0;for(const h of o)l+=h.evaluate(a);return l}],"*":[nn,Ro(nn),(a,o)=>{let l=1;for(const h of o)l*=h.evaluate(a);return l}],"-":{type:nn,overloads:[[[nn,nn],(a,[o,l])=>o.evaluate(a)-l.evaluate(a)],[[nn],(a,[o])=>-o.evaluate(a)]]},"/":[nn,[nn,nn],(a,[o,l])=>o.evaluate(a)/l.evaluate(a)],"%":[nn,[nn,nn],(a,[o,l])=>o.evaluate(a)%l.evaluate(a)],ln2:[nn,[],()=>Math.LN2],pi:[nn,[],()=>Math.PI],e:[nn,[],()=>Math.E],"^":[nn,[nn,nn],(a,[o,l])=>Math.pow(o.evaluate(a),l.evaluate(a))],sqrt:[nn,[nn],(a,[o])=>Math.sqrt(o.evaluate(a))],log10:[nn,[nn],(a,[o])=>Math.log(o.evaluate(a))/Math.LN10],ln:[nn,[nn],(a,[o])=>Math.log(o.evaluate(a))],log2:[nn,[nn],(a,[o])=>Math.log(o.evaluate(a))/Math.LN2],sin:[nn,[nn],(a,[o])=>Math.sin(o.evaluate(a))],cos:[nn,[nn],(a,[o])=>Math.cos(o.evaluate(a))],tan:[nn,[nn],(a,[o])=>Math.tan(o.evaluate(a))],asin:[nn,[nn],(a,[o])=>Math.asin(o.evaluate(a))],acos:[nn,[nn],(a,[o])=>Math.acos(o.evaluate(a))],atan:[nn,[nn],(a,[o])=>Math.atan(o.evaluate(a))],min:[nn,Ro(nn),(a,o)=>Math.min(...o.map(l=>l.evaluate(a)))],max:[nn,Ro(nn),(a,o)=>Math.max(...o.map(l=>l.evaluate(a)))],abs:[nn,[nn],(a,[o])=>Math.abs(o.evaluate(a))],round:[nn,[nn],(a,[o])=>{const l=o.evaluate(a);return l<0?-Math.round(-l):Math.round(l)}],floor:[nn,[nn],(a,[o])=>Math.floor(o.evaluate(a))],ceil:[nn,[nn],(a,[o])=>Math.ceil(o.evaluate(a))],"filter-==":[cr,[hr,ur],(a,[o,l])=>a.properties()[o.value]===l.value],"filter-id-==":[cr,[ur],(a,[o])=>a.id()===o.value],"filter-type-==":[cr,[hr],(a,[o])=>a.geometryType()===o.value],"filter-<":[cr,[hr,ur],(a,[o,l])=>{const h=a.properties()[o.value],p=l.value;return typeof h==typeof p&&h<p}],"filter-id-<":[cr,[ur],(a,[o])=>{const l=a.id(),h=o.value;return typeof l==typeof h&&l<h}],"filter->":[cr,[hr,ur],(a,[o,l])=>{const h=a.properties()[o.value],p=l.value;return typeof h==typeof p&&h>p}],"filter-id->":[cr,[ur],(a,[o])=>{const l=a.id(),h=o.value;return typeof l==typeof h&&l>h}],"filter-<=":[cr,[hr,ur],(a,[o,l])=>{const h=a.properties()[o.value],p=l.value;return typeof h==typeof p&&h<=p}],"filter-id-<=":[cr,[ur],(a,[o])=>{const l=a.id(),h=o.value;return typeof l==typeof h&&l<=h}],"filter->=":[cr,[hr,ur],(a,[o,l])=>{const h=a.properties()[o.value],p=l.value;return typeof h==typeof p&&h>=p}],"filter-id->=":[cr,[ur],(a,[o])=>{const l=a.id(),h=o.value;return typeof l==typeof h&&l>=h}],"filter-has":[cr,[ur],(a,[o])=>o.value in a.properties()],"filter-has-id":[cr,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[cr,[us(hr)],(a,[o])=>o.value.indexOf(a.geometryType())>=0],"filter-id-in":[cr,[us(ur)],(a,[o])=>o.value.indexOf(a.id())>=0],"filter-in-small":[cr,[hr,us(ur)],(a,[o,l])=>l.value.indexOf(a.properties()[o.value])>=0],"filter-in-large":[cr,[hr,us(ur)],(a,[o,l])=>function(h,p,y,x){for(;y<=x;){const C=y+x>>1;if(p[C]===h)return!0;p[C]>h?x=C-1:y=C+1}return!1}(a.properties()[o.value],l.value,0,l.value.length-1)],all:{type:cr,overloads:[[[cr,cr],(a,[o,l])=>o.evaluate(a)&&l.evaluate(a)],[Ro(cr),(a,o)=>{for(const l of o)if(!l.evaluate(a))return!1;return!0}]]},any:{type:cr,overloads:[[[cr,cr],(a,[o,l])=>o.evaluate(a)||l.evaluate(a)],[Ro(cr),(a,o)=>{for(const l of o)if(l.evaluate(a))return!0;return!1}]]},"!":[cr,[cr],(a,[o])=>!o.evaluate(a)],"is-supported-script":[cr,[hr],(a,[o])=>{const l=a.globals&&a.globals.isSupportedScript;return!l||l(o.evaluate(a))}],upcase:[hr,[hr],(a,[o])=>o.evaluate(a).toUpperCase()],downcase:[hr,[hr],(a,[o])=>o.evaluate(a).toLowerCase()],concat:[hr,Ro(ur),(a,o)=>o.map(l=>va(l.evaluate(a))).join("")],"resolved-locale":[hr,[ns],(a,[o])=>o.evaluate(a).resolvedLocale()]});var yo=Af;function pm(a){return{result:"success",value:a}}function Ll(a){return{result:"error",value:a}}function Ec(a){return a["property-type"]==="data-driven"}function Bd(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function Nd(a){return!!a.expression&&a.expression.interpolated}function Sr(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function Eu(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function Pu(a){return a}function H(a,o){const l=o.type==="color",h=a.stops&&typeof a.stops[0][0]=="object",p=h||!(h||a.property!==void 0),y=a.type||(Nd(o)?"exponential":"interval");if(l&&((a=ma({},a)).stops&&(a.stops=a.stops.map(M=>[M[0],oo.parse(M[1])])),a.default=oo.parse(a.default?a.default:o.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!Tf[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let x,C,I;if(y==="exponential")x=wt;else if(y==="interval")x=De;else if(y==="categorical"){x=fe,C=Object.create(null);for(const M of a.stops)C[M[0]]=M[1];I=typeof a.stops[0][0]}else{if(y!=="identity")throw new Error(`Unknown function type "${y}"`);x=jn}if(h){const M={},j=[];for(let Q=0;Q<a.stops.length;Q++){const te=a.stops[Q],ue=te[0].zoom;M[ue]===void 0&&(M[ue]={zoom:ue,type:a.type,property:a.property,default:a.default,stops:[]},j.push(ue)),M[ue].stops.push([te[0].value,te[1]])}const V=[];for(const Q of j)V.push([M[Q].zoom,H(M[Q],o)]);const q={name:"linear"};return{kind:"composite",interpolationType:q,interpolationFactor:Os.interpolationFactor.bind(void 0,q),zoomStops:V.map(Q=>Q[0]),evaluate:({zoom:Q},te)=>wt({stops:V,base:a.base},o,Q).evaluate(Q,te)}}if(p){const M=y==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:M,interpolationFactor:Os.interpolationFactor.bind(void 0,M),zoomStops:a.stops.map(j=>j[0]),evaluate:({zoom:j})=>x(a,o,j,C,I)}}return{kind:"source",evaluate(M,j){const V=j&&j.properties?j.properties[a.property]:void 0;return V===void 0?G(a.default,o.default):x(a,o,V,C,I)}}}function G(a,o,l){return a!==void 0?a:o!==void 0?o:l!==void 0?l:void 0}function fe(a,o,l,h,p){return G(typeof l===p?h[l]:void 0,a.default,o.default)}function De(a,o,l){if(Sr(l)!=="number")return G(a.default,o.default);const h=a.stops.length;if(h===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[h-1][0])return a.stops[h-1][1];const p=xu(a.stops.map(y=>y[0]),l);return a.stops[p][1]}function wt(a,o,l){const h=a.base!==void 0?a.base:1;if(Sr(l)!=="number")return G(a.default,o.default);const p=a.stops.length;if(p===1||l<=a.stops[0][0])return a.stops[0][1];if(l>=a.stops[p-1][0])return a.stops[p-1][1];const y=xu(a.stops.map(j=>j[0]),l),x=function(j,V,q,Q){const te=Q-q,ue=j-q;return te===0?0:V===1?ue/te:(Math.pow(V,ue)-1)/(Math.pow(V,te)-1)}(l,h,a.stops[y][0],a.stops[y+1][0]),C=a.stops[y][1],I=a.stops[y+1][1];let M=bu[o.type]||Pu;if(a.colorSpace&&a.colorSpace!=="rgb"){const j=Tf[a.colorSpace];M=(V,q)=>j.reverse(j.interpolate(j.forward(V),j.forward(q),x))}return typeof C.evaluate=="function"?{evaluate(...j){const V=C.evaluate.apply(void 0,j),q=I.evaluate.apply(void 0,j);if(V!==void 0&&q!==void 0)return M(V,q,x)}}:M(C,I,x)}function jn(a,o,l){return o.type==="color"?l=oo.parse(l):o.type==="formatted"?l=Fi.fromString(l.toString()):o.type==="resolvedImage"?l=ds.fromString(l.toString()):Sr(l)===o.type||o.type==="enum"&&o.values[l]||(l=void 0),G(l,a.default,o.default)}class Br{constructor(o,l){this.expression=o,this._warningHistory={},this._evaluator=new mf,this._defaultValue=l?function(h){return h.type==="color"&&(Eu(h.default)||Array.isArray(h.default))?new oo(0,0,0,0):h.type==="color"?oo.parse(h.default)||null:h.default===void 0?null:h.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(o,l,h,p,y,x,C,I){return this._evaluator.globals=o,this._evaluator.feature=l,this._evaluator.featureState=h,this._evaluator.canonical=p||null,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=x,this._evaluator.featureTileCoord=C||null,this._evaluator.featureDistanceData=I||null,this.expression.evaluate(this._evaluator)}evaluate(o,l,h,p,y,x,C,I){this._evaluator.globals=o,this._evaluator.feature=l||null,this._evaluator.featureState=h||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=x||null,this._evaluator.featureTileCoord=C||null,this._evaluator.featureDistanceData=I||null;try{const M=this.expression.evaluate(this._evaluator);if(M==null||typeof M=="number"&&M!=M)return this._defaultValue;if(this._enumValues&&!(M in this._enumValues))throw new Ci(`Expected value to be one of ${Object.keys(this._enumValues).map(j=>JSON.stringify(j)).join(", ")}, but found ${JSON.stringify(M)} instead.`);return M}catch(M){return this._warningHistory[M.message]||(this._warningHistory[M.message]=!0,typeof console<"u"&&console.warn(M.message)),this._defaultValue}}}function To(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in yo}function vo(a,o){const l=new kd(yo,[],o?function(p){const y={color:zi,string:hr,number:nn,enum:hr,boolean:cr,formatted:pu,resolvedImage:kl};return p.type==="array"?us(y[p.value]||ur,p.length):y[p.type]}(o):void 0),h=l.parse(a,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?pm(new Br(h,o)):Ll(l.errors)}class Ka{constructor(o,l){this.kind=o,this._styleExpression=l,this.isStateDependent=o!=="constant"&&!Ws(l.expression)}evaluateWithoutErrorHandling(o,l,h,p,y,x){return this._styleExpression.evaluateWithoutErrorHandling(o,l,h,p,y,x)}evaluate(o,l,h,p,y,x){return this._styleExpression.evaluate(o,l,h,p,y,x)}}class zl{constructor(o,l,h,p){this.kind=o,this.zoomStops=h,this._styleExpression=l,this.isStateDependent=o!=="camera"&&!Ws(l.expression),this.interpolationType=p}evaluateWithoutErrorHandling(o,l,h,p,y,x){return this._styleExpression.evaluateWithoutErrorHandling(o,l,h,p,y,x)}evaluate(o,l,h,p,y,x){return this._styleExpression.evaluate(o,l,h,p,y,x)}interpolationFactor(o,l,h){return this.interpolationType?Os.interpolationFactor(this.interpolationType,o,l,h):0}}function Rf(a,o){if((a=vo(a,o)).result==="error")return a;const l=a.value.expression,h=Rl(l);if(!h&&!Ec(o))return Ll([new Hs("","data expressions not supported")]);const p=hs(l,["zoom","pitch","distance-from-center"]);if(!p&&!Bd(o))return Ll([new Hs("","zoom expressions not supported")]);const y=gm(l);return y||p?y instanceof Hs?Ll([y]):y instanceof Os&&!Nd(o)?Ll([new Hs("",'"interpolate" expressions cannot be used with this property')]):pm(y?new zl(h?"camera":"composite",a.value,y.labels,y instanceof Os?y.interpolation:void 0):new Ka(h?"constant":"source",a.value)):Ll([new Hs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class mm{constructor(o,l){this._parameters=o,this._specification=l,ma(this,H(this._parameters,this._specification))}static deserialize(o){return new mm(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function gm(a){let o=null;if(a instanceof im)o=gm(a.result);else if(a instanceof Pf){for(const l of a.args)if(o=gm(l),o)break}else(a instanceof vf||a instanceof Os)&&a.input instanceof Rs&&a.input.name==="zoom"&&(o=a);return o instanceof Hs||a.eachChild(l=>{const h=gm(l);h instanceof Hs?o=h:!o&&h?o=new Hs("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&h&&o!==h&&(o=new Hs("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),o}class gn{constructor(o,l,h,p){this.message=(o?`${o}: `:"")+h,p&&(this.identifier=p),l!=null&&l.__line__&&(this.line=l.__line__)}}function wa(a){const o=a.key,l=a.value,h=a.valueSpec||{},p=a.objectElementValidators||{},y=a.style,x=a.styleSpec;let C=[];const I=Sr(l);if(I!=="object")return[new gn(o,l,`object expected, ${I} found`)];for(const M in l){const j=M.split(".")[0];let V;p[j]?V=p[j]:h[j]?V=Zi:p["*"]?V=p["*"]:h["*"]&&(V=Zi),V?C=C.concat(V({key:(o&&`${o}.`)+M,value:l[M],valueSpec:h[j]||h["*"],style:y,styleSpec:x,object:l,objectKey:M},l)):C.push(new gn(o,l[M],`unknown property "${M}"`))}for(const M in h)p[M]||h[M].required&&h[M].default===void 0&&l[M]===void 0&&C.push(new gn(o,l,`missing required property "${M}"`));return C}function xx(a){const o=a.value,l=a.valueSpec,h=a.style,p=a.styleSpec,y=a.key,x=a.arrayElementValidator||Zi;if(Sr(o)!=="array")return[new gn(y,o,`array expected, ${Sr(o)} found`)];if(l.length&&o.length!==l.length)return[new gn(y,o,`array length ${l.length} expected, length ${o.length} found`)];if(l["min-length"]&&o.length<l["min-length"])return[new gn(y,o,`array length at least ${l["min-length"]} expected, length ${o.length} found`)];let C={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};p.$version<7&&(C.function=l.function),Sr(l.value)==="object"&&(C=l.value);let I=[];for(let M=0;M<o.length;M++)I=I.concat(x({array:o,arrayIndex:M,value:o[M],valueSpec:C,style:h,styleSpec:p,key:`${y}[${M}]`}));return I}function Of(a){const o=a.key,l=a.value,h=a.valueSpec;let p=Sr(l);if(p==="number"&&l!=l&&(p="NaN"),p!=="number")return[new gn(o,l,`number expected, ${p} found`)];if("minimum"in h){let y=h.minimum;if(Sr(h.minimum)==="array"&&(y=h.minimum[a.arrayIndex]),l<y)return[new gn(o,l,`${l} is less than the minimum value ${y}`)]}if("maximum"in h){let y=h.maximum;if(Sr(h.maximum)==="array"&&(y=h.maximum[a.arrayIndex]),l>y)return[new gn(o,l,`${l} is greater than the maximum value ${y}`)]}return[]}function Df(a){const o=a.valueSpec,l=Fo(a.value.type);let h,p,y,x={};const C=l!=="categorical"&&a.value.property===void 0,I=!C,M=Sr(a.value.stops)==="array"&&Sr(a.value.stops[0])==="array"&&Sr(a.value.stops[0][0])==="object",j=wa({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Q){if(l==="identity")return[new gn(Q.key,Q.value,'identity function may not have a "stops" property')];let te=[];const ue=Q.value;return te=te.concat(xx({key:Q.key,value:ue,valueSpec:Q.valueSpec,style:Q.style,styleSpec:Q.styleSpec,arrayElementValidator:V})),Sr(ue)==="array"&&ue.length===0&&te.push(new gn(Q.key,ue,"array must have at least one stop")),te},default:function(Q){return Zi({key:Q.key,value:Q.value,valueSpec:o,style:Q.style,styleSpec:Q.styleSpec})}}});return l==="identity"&&C&&j.push(new gn(a.key,a.value,'missing required property "property"')),l==="identity"||a.value.stops||j.push(new gn(a.key,a.value,'missing required property "stops"')),l==="exponential"&&a.valueSpec.expression&&!Nd(a.valueSpec)&&j.push(new gn(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(I&&!Ec(a.valueSpec)?j.push(new gn(a.key,a.value,"property functions not supported")):C&&!Bd(a.valueSpec)&&j.push(new gn(a.key,a.value,"zoom functions not supported"))),l!=="categorical"&&!M||a.value.property!==void 0||j.push(new gn(a.key,a.value,'"property" property is required')),j;function V(Q){let te=[];const ue=Q.value,_e=Q.key;if(Sr(ue)!=="array")return[new gn(_e,ue,`array expected, ${Sr(ue)} found`)];if(ue.length!==2)return[new gn(_e,ue,`array length 2 expected, length ${ue.length} found`)];if(M){if(Sr(ue[0])!=="object")return[new gn(_e,ue,`object expected, ${Sr(ue[0])} found`)];if(ue[0].zoom===void 0)return[new gn(_e,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new gn(_e,ue,"object stop key must have value")];const Pe=Fo(ue[0].zoom);if(typeof Pe!="number")return[new gn(_e,ue[0].zoom,"stop zoom values must be numbers")];if(y&&y>Pe)return[new gn(_e,ue[0].zoom,"stop zoom values must appear in ascending order")];Pe!==y&&(y=Pe,p=void 0,x={}),te=te.concat(wa({key:`${_e}[0]`,value:ue[0],valueSpec:{zoom:{}},style:Q.style,styleSpec:Q.styleSpec,objectElementValidators:{zoom:Of,value:q}}))}else te=te.concat(q({key:`${_e}[0]`,value:ue[0],valueSpec:{},style:Q.style,styleSpec:Q.styleSpec},ue));return To(yi(ue[1]))?te.concat([new gn(`${_e}[1]`,ue[1],"expressions are not allowed in function stops.")]):te.concat(Zi({key:`${_e}[1]`,value:ue[1],valueSpec:o,style:Q.style,styleSpec:Q.styleSpec}))}function q(Q,te){const ue=Sr(Q.value),_e=Fo(Q.value),Pe=Q.value!==null?Q.value:te;if(h){if(ue!==h)return[new gn(Q.key,Pe,`${ue} stop domain type must match previous stop domain type ${h}`)]}else h=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean"&&typeof _e!="number"&&typeof _e!="string"&&typeof _e!="boolean")return[new gn(Q.key,Pe,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&l!=="categorical"){let Le=`number expected, ${ue} found`;return Ec(o)&&l===void 0&&(Le+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new gn(Q.key,Pe,Le)]}return l!=="categorical"||ue!=="number"||typeof _e=="number"&&isFinite(_e)&&Math.floor(_e)===_e?l!=="categorical"&&ue==="number"&&typeof _e=="number"&&typeof p=="number"&&p!==void 0&&_e<p?[new gn(Q.key,Pe,"stop domain values must appear in ascending order")]:(p=_e,l==="categorical"&&_e in x?[new gn(Q.key,Pe,"stop domain values must be unique")]:(x[_e]=!0,[])):[new gn(Q.key,Pe,`integer expected, found ${String(_e)}`)]}}function Ii(a){const o=(a.expressionContext==="property"?Rf:vo)(yi(a.value),a.valueSpec);if(o.result==="error")return o.value.map(h=>new gn(`${a.key}${h.key}`,a.value,h.message));const l=o.value.expression||o.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!l.outputDefined())return[new gn(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!Ws(l))return[new gn(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter")return Lf(l,a);if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!hs(l,["zoom","feature-state"]))return[new gn(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!Rl(l))return[new gn(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Lf(a,o){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(o.valueSpec&&o.valueSpec.expression)for(const p of o.valueSpec.expression.parameters)l.delete(p);if(l.size===0)return[];const h=[];return a instanceof Rs&&l.has(a.name)?[new gn(o.key,o.value,`["${a.name}"] expression is not supported in a filter for a ${o.object.type} layer with id: ${o.object.id}`)]:(a.eachChild(p=>{h.push(...Lf(p,o))}),h)}function ym(a){const o=a.key,l=a.value,h=a.valueSpec,p=[];return Array.isArray(h.values)?h.values.indexOf(Fo(l))===-1&&p.push(new gn(o,l,`expected one of [${h.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(h.values).indexOf(Fo(l))===-1&&p.push(new gn(o,l,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(l)} found`)),p}function qy(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const o of a.slice(1))if(!qy(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}function vm(a,o="fill"){if(a==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};qy(a)||(a=Vd(a));const l=a;let h=!0;try{h=function(M){if(!Ud(M))return M;let j=yi(M);return _m(j),j=bx(j),j}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(l,null,2)}
        `)}const p=_t[`filter_${o}`],y=vo(h,p);let x=null;if(y.result==="error")throw new Error(y.value.map(M=>`${M.key}: ${M.message}`).join(", "));x=(M,j,V)=>y.value.evaluate(M,j,{},V);let C=null,I=null;if(h!==l){const M=vo(l,p);if(M.result==="error")throw new Error(M.value.map(j=>`${j.key}: ${j.message}`).join(", "));C=(j,V,q,Q,te)=>M.value.evaluate(j,V,{},q,void 0,void 0,Q,te),I=!Rl(M.value.expression)}return{filter:x,dynamicFilter:C||void 0,needGeometry:wx(h),needFeature:!!I}}function bx(a){if(!Array.isArray(a))return a;const o=function(l){if(Zy.has(l[0])){for(let h=1;h<l.length;h++)if(Ud(l[h]))return!0}return l}(a);return o===!0?o:o.map(l=>bx(l))}function _m(a){let o=!1;const l=[];if(a[0]==="case"){for(let h=1;h<a.length-1;h+=2)o=o||Ud(a[h]),l.push(a[h+1]);l.push(a[a.length-1])}else if(a[0]==="match"){o=o||Ud(a[1]);for(let h=2;h<a.length-1;h+=2)l.push(a[h+1]);l.push(a[a.length-1])}else if(a[0]==="step"){o=o||Ud(a[1]);for(let h=1;h<a.length-1;h+=2)l.push(a[h+1])}o&&(a.length=0,a.push("any",...l));for(let h=1;h<a.length;h++)_m(a[h])}function Ud(a){if(!Array.isArray(a))return!1;if((o=a[0])==="pitch"||o==="distance-from-center")return!0;var o;for(let l=1;l<a.length;l++)if(Ud(a[l]))return!0;return!1}const Zy=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function n2(a,o){return a<o?-1:a>o?1:0}function wx(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let o=1;o<a.length;o++)if(wx(a[o]))return!0;return!1}function Vd(a){if(!a)return!0;const o=a[0];return a.length<=1?o!=="any":o==="=="?Yy(a[1],a[2],"=="):o==="!="?xm(Yy(a[1],a[2],"==")):o==="<"||o===">"||o==="<="||o===">="?Yy(a[1],a[2],o):o==="any"?(l=a.slice(1),["any"].concat(l.map(Vd))):o==="all"?["all"].concat(a.slice(1).map(Vd)):o==="none"?["all"].concat(a.slice(1).map(Vd).map(xm)):o==="in"?Ky(a[1],a.slice(2)):o==="!in"?xm(Ky(a[1],a.slice(2))):o==="has"?Xy(a[1]):o==="!has"?xm(Xy(a[1])):o!=="within"||a;var l}function Yy(a,o,l){switch(a){case"$type":return[`filter-type-${l}`,o];case"$id":return[`filter-id-${l}`,o];default:return[`filter-${l}`,a,o]}}function Ky(a,o){if(o.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(l=>typeof l!=typeof o[0])?["filter-in-large",a,["literal",o.sort(n2)]]:["filter-in-small",a,["literal",o]]}}function Xy(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function xm(a){return["!",a]}function zf(a){return qy(yi(a.value))?Ii(ma({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):Ff(a)}function Ff(a){const o=a.value,l=a.key;if(Sr(o)!=="array")return[new gn(l,o,`array expected, ${Sr(o)} found`)];const h=a.styleSpec;let p,y=[];if(o.length<1)return[new gn(l,o,"filter array must have at least 1 element")];switch(y=y.concat(ym({key:`${l}[0]`,value:o[0],valueSpec:h.filter_operator,style:a.style,styleSpec:a.styleSpec})),Fo(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&Fo(o[1])==="$type"&&y.push(new gn(l,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":o.length!==3&&y.push(new gn(l,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(p=Sr(o[1]),p!=="string"&&y.push(new gn(`${l}[1]`,o[1],`string expected, ${p} found`)));for(let x=2;x<o.length;x++)p=Sr(o[x]),Fo(o[1])==="$type"?y=y.concat(ym({key:`${l}[${x}]`,value:o[x],valueSpec:h.geometry_type,style:a.style,styleSpec:a.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&y.push(new gn(`${l}[${x}]`,o[x],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let x=1;x<o.length;x++)y=y.concat(Ff({key:`${l}[${x}]`,value:o[x],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":p=Sr(o[1]),o.length!==2?y.push(new gn(l,o,`filter array for "${o[0]}" operator must have 2 elements`)):p!=="string"&&y.push(new gn(`${l}[1]`,o[1],`string expected, ${p} found`));break;case"within":p=Sr(o[1]),o.length!==2?y.push(new gn(l,o,`filter array for "${o[0]}" operator must have 2 elements`)):p!=="object"&&y.push(new gn(`${l}[1]`,o[1],`object expected, ${p} found`))}return y}function Jy(a,o){const l=a.key,h=a.style,p=a.styleSpec,y=a.value,x=a.objectKey,C=p[`${o}_${a.layerType}`];if(!C)return[];const I=x.match(/^(.*)-transition$/);if(o==="paint"&&I&&C[I[1]]&&C[I[1]].transition)return Zi({key:l,value:y,valueSpec:p.transition,style:h,styleSpec:p});const M=a.valueSpec||C[x];if(!M)return[new gn(l,y,`unknown property "${x}"`)];let j;if(Sr(y)==="string"&&Ec(M)&&!M.tokens&&(j=/^{([^}]+)}$/.exec(y))){const q=`\`{ "type": "identity", "property": ${j?JSON.stringify(j[1]):'"_"'} }\``;return[new gn(l,y,`"${x}" does not support interpolation syntax
Use an identity property function instead: ${q}.`)]}const V=[];return a.layerType==="symbol"&&(x==="text-field"&&h&&!h.glyphs&&V.push(new gn(l,y,'use of "text-field" requires a style "glyphs" property')),x==="text-font"&&Eu(yi(y))&&Fo(y.type)==="identity"&&V.push(new gn(l,y,'"text-font" does not support identity functions'))),V.concat(Zi({key:a.key,value:y,valueSpec:M,style:h,styleSpec:p,expressionContext:"property",propertyType:o,propertyKey:x}))}function Cx(a){return Jy(a,"paint")}function Qy(a){return Jy(a,"layout")}function Sx(a){let o=[];const l=a.value,h=a.key,p=a.style,y=a.styleSpec;l.type||l.ref||o.push(new gn(h,l,'either "type" or "ref" is required'));let x=Fo(l.type);const C=Fo(l.ref);if(l.id){const I=Fo(l.id);for(let M=0;M<a.arrayIndex;M++){const j=p.layers[M];Fo(j.id)===I&&o.push(new gn(h,l.id,`duplicate layer id "${l.id}", previously used at line ${j.id.__line__}`))}}if("ref"in l){let I;["type","source","source-layer","filter","layout"].forEach(M=>{M in l&&o.push(new gn(h,l[M],`"${M}" is prohibited for ref layers`))}),p.layers.forEach(M=>{Fo(M.id)===C&&(I=M)}),I?I.ref?o.push(new gn(h,l.ref,"ref cannot reference another ref layer")):x=Fo(I.type):typeof C=="string"&&o.push(new gn(h,l.ref,`ref layer "${C}" not found`))}else if(x!=="background"&&x!=="sky")if(l.source){const I=p.sources&&p.sources[l.source],M=I&&Fo(I.type);I?M==="vector"&&x==="raster"?o.push(new gn(h,l.source,`layer "${l.id}" requires a raster source`)):M==="raster"&&x!=="raster"?o.push(new gn(h,l.source,`layer "${l.id}" requires a vector source`)):M!=="vector"||l["source-layer"]?M==="raster-dem"&&x!=="hillshade"?o.push(new gn(h,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):x!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||M==="geojson"&&I.lineMetrics||o.push(new gn(h,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new gn(h,l,`layer "${l.id}" must specify a "source-layer"`)):o.push(new gn(h,l.source,`source "${l.source}" not found`))}else o.push(new gn(h,l,'missing required property "source"'));return o=o.concat(wa({key:h,value:l,valueSpec:y.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Zi({key:`${h}.type`,value:l.type,valueSpec:y.layer.type,style:a.style,styleSpec:a.styleSpec,object:l,objectKey:"type"}),filter:I=>zf(ma({layerType:x},I)),layout:I=>wa({layer:l,key:I.key,value:I.value,valueSpec:{},style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":M=>Qy(ma({layerType:x},M))}}),paint:I=>wa({layer:l,key:I.key,value:I.value,valueSpec:{},style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":M=>Cx(ma({layerType:x},M))}})}})),o}function Pc(a){const o=a.value,l=a.key,h=Sr(o);return h!=="string"?[new gn(l,o,`string expected, ${h} found`)]:[]}const Tx={promoteId:function({key:a,value:o}){if(Sr(o)==="string")return Pc({key:a,value:o});{const l=[];for(const h in o)l.push(...Pc({key:`${a}.${h}`,value:o[h]}));return l}}};function Ex(a){const o=a.value,l=a.key,h=a.styleSpec,p=a.style;if(!o.type)return[new gn(l,o,'"type" is required')];const y=Fo(o.type);let x;switch(y){case"vector":case"raster":case"raster-dem":return x=wa({key:l,value:o,valueSpec:h[`source_${y.replace("-","_")}`],style:a.style,styleSpec:h,objectElementValidators:Tx}),x;case"geojson":if(x=wa({key:l,value:o,valueSpec:h.source_geojson,style:p,styleSpec:h,objectElementValidators:Tx}),o.cluster)for(const C in o.clusterProperties){const[I,M]=o.clusterProperties[C],j=typeof I=="string"?[I,["accumulated"],["get",C]]:I;x.push(...Ii({key:`${l}.${C}.map`,value:M,expressionContext:"cluster-map"})),x.push(...Ii({key:`${l}.${C}.reduce`,value:j,expressionContext:"cluster-reduce"}))}return x;case"video":return wa({key:l,value:o,valueSpec:h.source_video,style:p,styleSpec:h});case"image":return wa({key:l,value:o,valueSpec:h.source_image,style:p,styleSpec:h});case"canvas":return[new gn(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ym({key:`${l}.type`,value:o.type,valueSpec:{values:r2(h)},style:p,styleSpec:h})}}function r2(a){return a.source.reduce((o,l)=>{const h=a[l];return h.type.type==="enum"&&(o=o.concat(Object.keys(h.type.values))),o},[])}function Px(a){const o=a.value,l=a.styleSpec,h=l.light,p=a.style;let y=[];const x=Sr(o);if(o===void 0)return y;if(x!=="object")return y=y.concat([new gn("light",o,`object expected, ${x} found`)]),y;for(const C in o){const I=C.match(/^(.*)-transition$/);y=y.concat(I&&h[I[1]]&&h[I[1]].transition?Zi({key:C,value:o[C],valueSpec:l.transition,style:p,styleSpec:l}):h[C]?Zi({key:C,value:o[C],valueSpec:h[C],style:p,styleSpec:l}):[new gn(C,o[C],`unknown property "${C}"`)])}return y}function ev(a){const o=a.value,l=a.key,h=a.style,p=a.styleSpec,y=p.terrain;let x=[];const C=Sr(o);if(o===void 0)return x;if(C!=="object")return x=x.concat([new gn("terrain",o,`object expected, ${C} found`)]),x;for(const I in o){const M=I.match(/^(.*)-transition$/);x=x.concat(M&&y[M[1]]&&y[M[1]].transition?Zi({key:I,value:o[I],valueSpec:p.transition,style:h,styleSpec:p}):y[I]?Zi({key:I,value:o[I],valueSpec:y[I],style:h,styleSpec:p}):[new gn(I,o[I],`unknown property "${I}"`)])}if(o.source){const I=h.sources&&h.sources[o.source],M=I&&Fo(I.type);I?M!=="raster-dem"&&x.push(new gn(l,o.source,`terrain cannot be used with a source of type ${String(M)}, it only be used with a "raster-dem" source type`)):x.push(new gn(l,o.source,`source "${o.source}" not found`))}else x.push(new gn(l,o,'terrain is missing required property "source"'));return x}function kx(a){const o=a.value,l=a.style,h=a.styleSpec,p=h.fog;let y=[];const x=Sr(o);if(o===void 0)return y;if(x!=="object")return y=y.concat([new gn("fog",o,`object expected, ${x} found`)]),y;for(const C in o){const I=C.match(/^(.*)-transition$/);y=y.concat(I&&p[I[1]]&&p[I[1]].transition?Zi({key:C,value:o[C],valueSpec:h.transition,style:l,styleSpec:h}):p[C]?Zi({key:C,value:o[C],valueSpec:p[C],style:l,styleSpec:h}):[new gn(C,o[C],`unknown property "${C}"`)])}return y}const Ix={"*":()=>[],array:xx,boolean:function(a){const o=a.value,l=a.key,h=Sr(o);return h!=="boolean"?[new gn(l,o,`boolean expected, ${h} found`)]:[]},number:Of,color:function(a){const o=a.key,l=a.value,h=Sr(l);return h!=="string"?[new gn(o,l,`color expected, ${h} found`)]:uf(l)===null?[new gn(o,l,`color expected, "${l}" found`)]:[]},enum:ym,filter:zf,function:Df,layer:Sx,object:wa,source:Ex,light:Px,terrain:ev,fog:kx,string:Pc,formatted:function(a){return Pc(a).length===0?[]:Ii(a)},resolvedImage:function(a){return Pc(a).length===0?[]:Ii(a)},projection:function(a){const o=a.value,l=a.styleSpec,h=l.projection,p=a.style;let y=[];const x=Sr(o);if(x==="object")for(const C in o)y=y.concat(Zi({key:C,value:o[C],valueSpec:h[C],style:p,styleSpec:l}));else x!=="string"&&(y=y.concat([new gn("projection",o,`object or string expected, ${x} found`)]));return y}};function Zi(a){const o=a.value,l=a.valueSpec,h=a.styleSpec;return l.expression&&Eu(Fo(o))?Df(a):l.expression&&To(yi(o))?Ii(a):l.type&&Ix[l.type]?Ix[l.type](a):wa(ma({},a,{valueSpec:l.type?h[l.type]:l}))}function o2(a){const o=a.value,l=a.key,h=Pc(a);return h.length||(o.indexOf("{fontstack}")===-1&&h.push(new gn(l,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&h.push(new gn(l,o,'"glyphs" url must include a "{range}" token'))),h}function Mx(a,o=_t){return qs(Zi({key:"",value:a,valueSpec:o.$root,styleSpec:o,style:a,objectElementValidators:{glyphs:o2,"*":()=>[]}}))}const i2=a=>qs(Cx(a)),s2=a=>qs(Qy(a));function qs(a){return a.slice().sort((o,l)=>o.line&&l.line?o.line-l.line:0)}function Ax(a,o){let l=!1;if(o&&o.length)for(const h of o)a.fire(new pa(new Error(h.message))),l=!0;return l}var a2=Xa,Ca=3;function Xa(a,o,l){var h=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var p=new Int32Array(this.arrayBuffer);a=p[0],this.d=(o=p[1])+2*(l=p[2]);for(var y=0;y<this.d*this.d;y++){var x=p[Ca+y],C=p[Ca+y+1];h.push(x===C?null:p.subarray(x,C))}var I=p[Ca+h.length+1];this.keys=p.subarray(p[Ca+h.length],I),this.bboxes=p.subarray(I),this.insert=this._insertReadonly}else{this.d=o+2*l;for(var M=0;M<this.d*this.d;M++)h.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=a,this.padding=l,this.scale=o/a,this.uid=0;var j=l/o*a;this.min=-j,this.max=a+j}Xa.prototype.insert=function(a,o,l,h,p){this._forEachCell(o,l,h,p,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(o),this.bboxes.push(l),this.bboxes.push(h),this.bboxes.push(p)},Xa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Xa.prototype._insertCell=function(a,o,l,h,p,y){this.cells[p].push(y)},Xa.prototype.query=function(a,o,l,h,p){var y=this.min,x=this.max;if(a<=y&&o<=y&&x<=l&&x<=h&&!p)return Array.prototype.slice.call(this.keys);var C=[];return this._forEachCell(a,o,l,h,this._queryCell,C,{},p),C},Xa.prototype._queryCell=function(a,o,l,h,p,y,x,C){var I=this.cells[p];if(I!==null)for(var M=this.keys,j=this.bboxes,V=0;V<I.length;V++){var q=I[V];if(x[q]===void 0){var Q=4*q;(C?C(j[Q+0],j[Q+1],j[Q+2],j[Q+3]):a<=j[Q+2]&&o<=j[Q+3]&&l>=j[Q+0]&&h>=j[Q+1])?(x[q]=!0,y.push(M[q])):x[q]=!1}}},Xa.prototype._forEachCell=function(a,o,l,h,p,y,x,C){for(var I=this._convertToCellCoord(a),M=this._convertToCellCoord(o),j=this._convertToCellCoord(l),V=this._convertToCellCoord(h),q=I;q<=j;q++)for(var Q=M;Q<=V;Q++){var te=this.d*Q+q;if((!C||C(this._convertFromCellCoord(q),this._convertFromCellCoord(Q),this._convertFromCellCoord(q+1),this._convertFromCellCoord(Q+1)))&&p.call(this,a,o,l,h,te,y,x,C))return}},Xa.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},Xa.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},Xa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,o=Ca+this.cells.length+1+1,l=0,h=0;h<this.cells.length;h++)l+=this.cells[h].length;var p=new Int32Array(o+l+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var y=o,x=0;x<a.length;x++){var C=a[x];p[Ca+x]=y,p.set(C,y),y+=C.length}return p[Ca+a.length]=y,p.set(this.keys,y),p[Ca+a.length+1]=y+=this.keys.length,p.set(this.bboxes,y),y+=this.bboxes.length,p.buffer};var ku=B(a2);const bm={};function _n(a,o,l={}){Object.defineProperty(a,"_classRegistryKey",{value:o,writeable:!1}),bm[o]={klass:a,omit:l.omit||[]}}_n(Object,"Object"),ku.serialize=function(a,o){const l=a.toArrayBuffer();return o&&o.push(l),{buffer:l}},ku.deserialize=function(a){return new ku(a.buffer)},Object.defineProperty(ku,"name",{value:"Grid"}),_n(ku,"Grid"),_n(oo,"Color"),_n(Error,"Error"),_n(vr,"AJAXError"),_n(ds,"ResolvedImage"),_n(mm,"StylePropertyFunction"),_n(Br,"StyleExpression",{omit:["_evaluator"]}),_n(zl,"ZoomDependentExpression"),_n(Ka,"ZoomConstantExpression"),_n(Rs,"CompoundExpression",{omit:["_evaluate"]});for(const a in yo)bm[yo[a]._classRegistryKey]||_n(yo[a],`Expression${a}`);function tv(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function nv(a){return m.ImageBitmap&&a instanceof m.ImageBitmap}function Hd(a,o){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(tv(a)||nv(a))return o&&o.push(a),a;if(ArrayBuffer.isView(a)){const l=a;return o&&o.push(l.buffer),l}if(a instanceof m.ImageData)return o&&o.push(a.data.buffer),a;if(Array.isArray(a)){const l=[];for(const h of a)l.push(Hd(h,o));return l}if(typeof a=="object"){const l=a.constructor,h=l._classRegistryKey;if(!h)throw new Error(`can't serialize object of unregistered class ${h}`);const p=l.serialize?l.serialize(a,o):{};if(!l.serialize){for(const y in a)a.hasOwnProperty(y)&&(bm[h].omit.indexOf(y)>=0||(p[y]=Hd(a[y],o)));a instanceof Error&&(p.message=a.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(p.$name=h),p}throw new Error("can't serialize object of type "+typeof a)}function Iu(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||tv(a)||nv(a)||ArrayBuffer.isView(a)||a instanceof m.ImageData)return a;if(Array.isArray(a))return a.map(Iu);if(typeof a=="object"){const o=a.$name||"Object",{klass:l}=bm[o];if(!l)throw new Error(`can't deserialize unregistered class ${o}`);if(l.deserialize)return l.deserialize(a);const h=Object.create(l.prototype);for(const p of Object.keys(a))p!=="$name"&&(h[p]=Iu(a[p]));return h}throw new Error("can't deserialize object of type "+typeof a)}const mn={"Latin-1 Supplement":a=>a>=128&&a<=255,Arabic:a=>a>=1536&&a<=1791,"Arabic Supplement":a=>a>=1872&&a<=1919,"Arabic Extended-A":a=>a>=2208&&a<=2303,"Hangul Jamo":a=>a>=4352&&a<=4607,"Unified Canadian Aboriginal Syllabics":a=>a>=5120&&a<=5759,Khmer:a=>a>=6016&&a<=6143,"Unified Canadian Aboriginal Syllabics Extended":a=>a>=6320&&a<=6399,"General Punctuation":a=>a>=8192&&a<=8303,"Letterlike Symbols":a=>a>=8448&&a<=8527,"Number Forms":a=>a>=8528&&a<=8591,"Miscellaneous Technical":a=>a>=8960&&a<=9215,"Control Pictures":a=>a>=9216&&a<=9279,"Optical Character Recognition":a=>a>=9280&&a<=9311,"Enclosed Alphanumerics":a=>a>=9312&&a<=9471,"Geometric Shapes":a=>a>=9632&&a<=9727,"Miscellaneous Symbols":a=>a>=9728&&a<=9983,"Miscellaneous Symbols and Arrows":a=>a>=11008&&a<=11263,"CJK Radicals Supplement":a=>a>=11904&&a<=12031,"Kangxi Radicals":a=>a>=12032&&a<=12255,"Ideographic Description Characters":a=>a>=12272&&a<=12287,"CJK Symbols and Punctuation":a=>a>=12288&&a<=12351,Hiragana:a=>a>=12352&&a<=12447,Katakana:a=>a>=12448&&a<=12543,Bopomofo:a=>a>=12544&&a<=12591,"Hangul Compatibility Jamo":a=>a>=12592&&a<=12687,Kanbun:a=>a>=12688&&a<=12703,"Bopomofo Extended":a=>a>=12704&&a<=12735,"CJK Strokes":a=>a>=12736&&a<=12783,"Katakana Phonetic Extensions":a=>a>=12784&&a<=12799,"Enclosed CJK Letters and Months":a=>a>=12800&&a<=13055,"CJK Compatibility":a=>a>=13056&&a<=13311,"CJK Unified Ideographs Extension A":a=>a>=13312&&a<=19903,"Yijing Hexagram Symbols":a=>a>=19904&&a<=19967,"CJK Unified Ideographs":a=>a>=19968&&a<=40959,"Yi Syllables":a=>a>=40960&&a<=42127,"Yi Radicals":a=>a>=42128&&a<=42191,"Hangul Jamo Extended-A":a=>a>=43360&&a<=43391,"Hangul Syllables":a=>a>=44032&&a<=55215,"Hangul Jamo Extended-B":a=>a>=55216&&a<=55295,"Private Use Area":a=>a>=57344&&a<=63743,"CJK Compatibility Ideographs":a=>a>=63744&&a<=64255,"Arabic Presentation Forms-A":a=>a>=64336&&a<=65023,"Vertical Forms":a=>a>=65040&&a<=65055,"CJK Compatibility Forms":a=>a>=65072&&a<=65103,"Small Form Variants":a=>a>=65104&&a<=65135,"Arabic Presentation Forms-B":a=>a>=65136&&a<=65279,"Halfwidth and Fullwidth Forms":a=>a>=65280&&a<=65519};function rv(a){for(const o of a)if(ov(o.charCodeAt(0)))return!0;return!1}function l2(a){for(const o of a)if(!Rx(o.charCodeAt(0)))return!1;return!0}function Rx(a){return!(mn.Arabic(a)||mn["Arabic Supplement"](a)||mn["Arabic Extended-A"](a)||mn["Arabic Presentation Forms-A"](a)||mn["Arabic Presentation Forms-B"](a))}function ov(a){return!(a!==746&&a!==747&&(a<4352||!(mn["Bopomofo Extended"](a)||mn.Bopomofo(a)||mn["CJK Compatibility Forms"](a)&&!(a>=65097&&a<=65103)||mn["CJK Compatibility Ideographs"](a)||mn["CJK Compatibility"](a)||mn["CJK Radicals Supplement"](a)||mn["CJK Strokes"](a)||!(!mn["CJK Symbols and Punctuation"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||mn["CJK Unified Ideographs Extension A"](a)||mn["CJK Unified Ideographs"](a)||mn["Enclosed CJK Letters and Months"](a)||mn["Hangul Compatibility Jamo"](a)||mn["Hangul Jamo Extended-A"](a)||mn["Hangul Jamo Extended-B"](a)||mn["Hangul Jamo"](a)||mn["Hangul Syllables"](a)||mn.Hiragana(a)||mn["Ideographic Description Characters"](a)||mn.Kanbun(a)||mn["Kangxi Radicals"](a)||mn["Katakana Phonetic Extensions"](a)||mn.Katakana(a)&&a!==12540||!(!mn["Halfwidth and Fullwidth Forms"](a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!mn["Small Form Variants"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||mn["Unified Canadian Aboriginal Syllabics"](a)||mn["Unified Canadian Aboriginal Syllabics Extended"](a)||mn["Vertical Forms"](a)||mn["Yijing Hexagram Symbols"](a)||mn["Yi Syllables"](a)||mn["Yi Radicals"](a))))}function Ox(a){return!(ov(a)||function(o){return!!(mn["Latin-1 Supplement"](o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||mn["General Punctuation"](o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||mn["Letterlike Symbols"](o)||mn["Number Forms"](o)||mn["Miscellaneous Technical"](o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||mn["Control Pictures"](o)&&o!==9251||mn["Optical Character Recognition"](o)||mn["Enclosed Alphanumerics"](o)||mn["Geometric Shapes"](o)||mn["Miscellaneous Symbols"](o)&&!(o>=9754&&o<=9759)||mn["Miscellaneous Symbols and Arrows"](o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||mn["CJK Symbols and Punctuation"](o)||mn.Katakana(o)||mn["Private Use Area"](o)||mn["CJK Compatibility Forms"](o)||mn["Small Form Variants"](o)||mn["Halfwidth and Fullwidth Forms"](o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(a))}function Dx(a){return a>=1424&&a<=2303||mn["Arabic Presentation Forms-A"](a)||mn["Arabic Presentation Forms-B"](a)}function c2(a,o){return!(!o&&Dx(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||mn.Khmer(a))}function u2(a){for(const o of a)if(Dx(o.charCodeAt(0)))return!0;return!1}const iv="deferred",sv="loading",av="loaded";let Gd=null,g="unavailable",u=null;const f=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(g="error"),Gd&&Gd(a)};function v(){b.fire(new Pl("pluginStateChange",{pluginStatus:g,pluginURL:u}))}const b=new fu,S=function(){return g},A=function(){if(g!==iv||!u)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");g=sv,v(),u&&gi({url:u},a=>{a?f(a):(g=av,v())})},D={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>g===av||D.applyArabicShaping!=null,isLoading:()=>g===sv,setState(a){g=a.pluginStatus,u=a.pluginURL},isParsed:()=>D.applyArabicShaping!=null&&D.processBidirectionalText!=null&&D.processStyledBidirectionalText!=null,getPluginURL:()=>u};class N{constructor(o,l){this.zoom=o,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(o){return function(l,h){for(const p of l)if(!c2(p.charCodeAt(0),h))return!1;return!0}(o,D.isLoaded())}}class K{constructor(o,l){this.property=o,this.value=l,this.expression=function(h,p){if(Eu(h))return new mm(h,p);if(To(h)){const y=Rf(h,p);if(y.result==="error")throw new Error(y.value.map(x=>`${x.key}: ${x.message}`).join(", "));return y.value}{let y=h;return typeof h=="string"&&p.type==="color"&&(y=oo.parse(h)),{kind:"constant",evaluate:()=>y}}}(l===void 0?o.specification.default:l,o.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,l,h){return this.property.possiblyEvaluate(this,o,l,h)}}class Y{constructor(o){this.property=o,this.value=new K(o,void 0)}transitioned(o,l){return new ve(this.property,this.value,l,Ye({},o.transition,this.transition),o.now)}untransitioned(){return new ve(this.property,this.value,null,{},0)}}class ie{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)}getValue(o){return Ot(this._values[o].value.value)}setValue(o,l){this._values.hasOwnProperty(o)||(this._values[o]=new Y(this._values[o].property)),this._values[o].value=new K(this._values[o].property,l===null?void 0:Ot(l))}getTransition(o){return Ot(this._values[o].transition)}setTransition(o,l){this._values.hasOwnProperty(o)||(this._values[o]=new Y(this._values[o].property)),this._values[o].transition=Ot(l)||void 0}serialize(){const o={};for(const l of Object.keys(this._values)){const h=this.getValue(l);h!==void 0&&(o[l]=h);const p=this.getTransition(l);p!==void 0&&(o[`${l}-transition`]=p)}return o}transitioned(o,l){const h=new we(this._properties);for(const p of Object.keys(this._values))h._values[p]=this._values[p].transitioned(o,l._values[p]);return h}untransitioned(){const o=new we(this._properties);for(const l of Object.keys(this._values))o._values[l]=this._values[l].untransitioned();return o}}class ve{constructor(o,l,h,p,y){const x=p.delay||0,C=p.duration||0;y=y||0,this.property=o,this.value=l,this.begin=y+x,this.end=this.begin+C,o.specification.transition&&(p.delay||p.duration)&&(this.prior=h)}possiblyEvaluate(o,l,h){const p=o.now||0,y=this.value.possiblyEvaluate(o,l,h),x=this.prior;if(x){if(p>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(p<this.begin)return x.possiblyEvaluate(o,l,h);{const C=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(x.possiblyEvaluate(o,l,h),y,oe(C))}}return y}}class we{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,l,h){const p=new Ee(this._properties);for(const y of Object.keys(this._values))p._values[y]=this._values[y].possiblyEvaluate(o,l,h);return p}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class Se{constructor(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)}getValue(o){return Ot(this._values[o].value)}setValue(o,l){this._values[o]=new K(this._values[o].property,l===null?void 0:Ot(l))}serialize(){const o={};for(const l of Object.keys(this._values)){const h=this.getValue(l);h!==void 0&&(o[l]=h)}return o}possiblyEvaluate(o,l,h){const p=new Ee(this._properties);for(const y of Object.keys(this._values))p._values[y]=this._values[y].possiblyEvaluate(o,l,h);return p}}class Ce{constructor(o,l,h){this.property=o,this.value=l,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,l,h,p){return this.property.evaluate(this.value,this.parameters,o,l,h,p)}}class Ee{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class le{constructor(o){this.specification=o}possiblyEvaluate(o,l){return o.expression.evaluate(l)}interpolate(o,l,h){const p=bu[this.specification.type];return p?p(o,l,h):o}}class be{constructor(o,l){this.specification=o,this.overrides=l}possiblyEvaluate(o,l,h,p){return new Ce(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(l,null,{},h,p)}:o.expression,l)}interpolate(o,l,h){if(o.value.kind!=="constant"||l.value.kind!=="constant")return o;if(o.value.value===void 0||l.value.value===void 0)return new Ce(this,{kind:"constant",value:void 0},o.parameters);const p=bu[this.specification.type];return p?new Ce(this,{kind:"constant",value:p(o.value.value,l.value.value,h)},o.parameters):o}evaluate(o,l,h,p,y,x){return o.kind==="constant"?o.value:o.evaluate(l,h,p,y,x)}}class Me{constructor(o){this.specification=o}possiblyEvaluate(o,l,h,p){return!!o.expression.evaluate(l,null,{},h,p)}interpolate(){return!1}}class Ae{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new N(0,{});for(const h in o){const p=o[h];p.specification.overridable&&this.overridableProperties.push(h);const y=this.defaultPropertyValues[h]=new K(p,void 0),x=this.defaultTransitionablePropertyValues[h]=new Y(p);this.defaultTransitioningPropertyValues[h]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=y.possiblyEvaluate(l)}}}function $e(a,o){return 256*(a=ce(Math.floor(a),0,255))+ce(Math.floor(o),0,255)}_n(be,"DataDrivenProperty"),_n(le,"DataConstantProperty"),_n(Me,"ColorRampProperty");const Ne={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Be{constructor(o,l){this._structArray=o,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Je{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,l){return o._trim(),l&&(o.isTransferred=!0,l.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const l=Object.create(this.prototype);return l.arrayBuffer=o.arrayBuffer,l.length=o.length,l.capacity=o.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ze(a,o=1){let l=0,h=0;return{members:a.map(p=>{const y=Ne[p.type].BYTES_PER_ELEMENT,x=l=at(l,Math.max(o,y)),C=p.components||1;return h=Math.max(h,y),l+=y*C,{name:p.name,type:p.type,components:C,offset:x}}),size:at(l,Math.max(h,o)),alignment:o}}function at(a,o){return Math.ceil(a/o)*o}class Vt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l){const h=this.length;return this.resize(h+1),this.emplace(h,o,l)}emplace(o,l,h){const p=2*o;return this.int16[p+0]=l,this.int16[p+1]=h,o}}Vt.prototype.bytesPerElement=4,_n(Vt,"StructArrayLayout2i4");class nt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,o,l,h)}emplace(o,l,h,p){const y=3*o;return this.int16[y+0]=l,this.int16[y+1]=h,this.int16[y+2]=p,o}}nt.prototype.bytesPerElement=6,_n(nt,"StructArrayLayout3i6");class Tt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,o,l,h,p)}emplace(o,l,h,p,y){const x=4*o;return this.int16[x+0]=l,this.int16[x+1]=h,this.int16[x+2]=p,this.int16[x+3]=y,o}}Tt.prototype.bytesPerElement=8,_n(Tt,"StructArrayLayout4i8");class ct extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x,C){const I=this.length;return this.resize(I+1),this.emplace(I,o,l,h,p,y,x,C)}emplace(o,l,h,p,y,x,C,I){const M=6*o,j=12*o,V=3*o;return this.int16[M+0]=l,this.int16[M+1]=h,this.uint8[j+4]=p,this.uint8[j+5]=y,this.uint8[j+6]=x,this.uint8[j+7]=C,this.float32[V+2]=I,o}}ct.prototype.bytesPerElement=12,_n(ct,"StructArrayLayout2i4ub1f12");class Nt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,o,l,h,p)}emplace(o,l,h,p,y){const x=4*o;return this.float32[x+0]=l,this.float32[x+1]=h,this.float32[x+2]=p,this.float32[x+3]=y,o}}Nt.prototype.bytesPerElement=16,_n(Nt,"StructArrayLayout4f16");class it extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,l,h,p,y)}emplace(o,l,h,p,y,x){const C=6*o,I=3*o;return this.uint16[C+0]=l,this.uint16[C+1]=h,this.uint16[C+2]=p,this.uint16[C+3]=y,this.float32[I+2]=x,o}}it.prototype.bytesPerElement=12,_n(it,"StructArrayLayout4ui1f12");class St extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,o,l,h,p)}emplace(o,l,h,p,y){const x=4*o;return this.uint16[x+0]=l,this.uint16[x+1]=h,this.uint16[x+2]=p,this.uint16[x+3]=y,o}}St.prototype.bytesPerElement=8,_n(St,"StructArrayLayout4ui8");class Gt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x){const C=this.length;return this.resize(C+1),this.emplace(C,o,l,h,p,y,x)}emplace(o,l,h,p,y,x,C){const I=6*o;return this.int16[I+0]=l,this.int16[I+1]=h,this.int16[I+2]=p,this.int16[I+3]=y,this.int16[I+4]=x,this.int16[I+5]=C,o}}Gt.prototype.bytesPerElement=12,_n(Gt,"StructArrayLayout6i12");class At extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x,C,I,M,j,V,q){const Q=this.length;return this.resize(Q+1),this.emplace(Q,o,l,h,p,y,x,C,I,M,j,V,q)}emplace(o,l,h,p,y,x,C,I,M,j,V,q,Q){const te=12*o;return this.int16[te+0]=l,this.int16[te+1]=h,this.int16[te+2]=p,this.int16[te+3]=y,this.uint16[te+4]=x,this.uint16[te+5]=C,this.uint16[te+6]=I,this.uint16[te+7]=M,this.int16[te+8]=j,this.int16[te+9]=V,this.int16[te+10]=q,this.int16[te+11]=Q,o}}At.prototype.bytesPerElement=24,_n(At,"StructArrayLayout4i4ui4i24");class Zt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x){const C=this.length;return this.resize(C+1),this.emplace(C,o,l,h,p,y,x)}emplace(o,l,h,p,y,x,C){const I=10*o,M=5*o;return this.int16[I+0]=l,this.int16[I+1]=h,this.int16[I+2]=p,this.float32[M+2]=y,this.float32[M+3]=x,this.float32[M+4]=C,o}}Zt.prototype.bytesPerElement=20,_n(Zt,"StructArrayLayout3i3f20");class Mn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint32[1*o+0]=l,o}}Mn.prototype.bytesPerElement=4,_n(Mn,"StructArrayLayout1ul4");class Kn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x,C,I,M,j,V,q,Q){const te=this.length;return this.resize(te+1),this.emplace(te,o,l,h,p,y,x,C,I,M,j,V,q,Q)}emplace(o,l,h,p,y,x,C,I,M,j,V,q,Q,te){const ue=20*o,_e=10*o;return this.int16[ue+0]=l,this.int16[ue+1]=h,this.int16[ue+2]=p,this.int16[ue+3]=y,this.int16[ue+4]=x,this.float32[_e+3]=C,this.float32[_e+4]=I,this.float32[_e+5]=M,this.float32[_e+6]=j,this.int16[ue+14]=V,this.uint32[_e+8]=q,this.uint16[ue+18]=Q,this.uint16[ue+19]=te,o}}Kn.prototype.bytesPerElement=40,_n(Kn,"StructArrayLayout5i4f1i1ul2ui40");class xn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x,C){const I=this.length;return this.resize(I+1),this.emplace(I,o,l,h,p,y,x,C)}emplace(o,l,h,p,y,x,C,I){const M=8*o;return this.int16[M+0]=l,this.int16[M+1]=h,this.int16[M+2]=p,this.int16[M+4]=y,this.int16[M+5]=x,this.int16[M+6]=C,this.int16[M+7]=I,o}}xn.prototype.bytesPerElement=16,_n(xn,"StructArrayLayout3i2i2i16");class zn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,l,h,p,y)}emplace(o,l,h,p,y,x){const C=4*o,I=8*o;return this.float32[C+0]=l,this.float32[C+1]=h,this.float32[C+2]=p,this.int16[I+6]=y,this.int16[I+7]=x,o}}zn.prototype.bytesPerElement=16,_n(zn,"StructArrayLayout2f1f2i16");class pr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,o,l,h,p)}emplace(o,l,h,p,y){const x=12*o,C=3*o;return this.uint8[x+0]=l,this.uint8[x+1]=h,this.float32[C+1]=p,this.float32[C+2]=y,o}}pr.prototype.bytesPerElement=12,_n(pr,"StructArrayLayout2ub2f12");class fr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,o,l,h)}emplace(o,l,h,p){const y=3*o;return this.float32[y+0]=l,this.float32[y+1]=h,this.float32[y+2]=p,o}}fr.prototype.bytesPerElement=12,_n(fr,"StructArrayLayout3f12");class Pn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,h){const p=this.length;return this.resize(p+1),this.emplace(p,o,l,h)}emplace(o,l,h,p){const y=3*o;return this.uint16[y+0]=l,this.uint16[y+1]=h,this.uint16[y+2]=p,o}}Pn.prototype.bytesPerElement=6,_n(Pn,"StructArrayLayout3ui6");class Ur extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x,C,I,M,j,V,q,Q,te,ue,_e,Pe,Le,ke,Oe,je){const Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,o,l,h,p,y,x,C,I,M,j,V,q,Q,te,ue,_e,Pe,Le,ke,Oe,je)}emplace(o,l,h,p,y,x,C,I,M,j,V,q,Q,te,ue,_e,Pe,Le,ke,Oe,je,Fe){const lt=30*o,rt=15*o,bt=60*o;return this.int16[lt+0]=l,this.int16[lt+1]=h,this.int16[lt+2]=p,this.float32[rt+2]=y,this.float32[rt+3]=x,this.uint16[lt+8]=C,this.uint16[lt+9]=I,this.uint32[rt+5]=M,this.uint32[rt+6]=j,this.uint32[rt+7]=V,this.uint16[lt+16]=q,this.uint16[lt+17]=Q,this.uint16[lt+18]=te,this.float32[rt+10]=ue,this.float32[rt+11]=_e,this.uint8[bt+48]=Pe,this.uint8[bt+49]=Le,this.uint8[bt+50]=ke,this.uint32[rt+13]=Oe,this.int16[lt+28]=je,this.uint8[bt+58]=Fe,o}}Ur.prototype.bytesPerElement=60,_n(Ur,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Wr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y,x,C,I,M,j,V,q,Q,te,ue,_e,Pe,Le,ke,Oe,je,Fe,lt,rt,bt,Ht,ut,kt,It,Lt){const Xt=this.length;return this.resize(Xt+1),this.emplace(Xt,o,l,h,p,y,x,C,I,M,j,V,q,Q,te,ue,_e,Pe,Le,ke,Oe,je,Fe,lt,rt,bt,Ht,ut,kt,It,Lt)}emplace(o,l,h,p,y,x,C,I,M,j,V,q,Q,te,ue,_e,Pe,Le,ke,Oe,je,Fe,lt,rt,bt,Ht,ut,kt,It,Lt,Xt){const yt=38*o,ln=19*o;return this.int16[yt+0]=l,this.int16[yt+1]=h,this.int16[yt+2]=p,this.float32[ln+2]=y,this.float32[ln+3]=x,this.int16[yt+8]=C,this.int16[yt+9]=I,this.int16[yt+10]=M,this.int16[yt+11]=j,this.int16[yt+12]=V,this.int16[yt+13]=q,this.uint16[yt+14]=Q,this.uint16[yt+15]=te,this.uint16[yt+16]=ue,this.uint16[yt+17]=_e,this.uint16[yt+18]=Pe,this.uint16[yt+19]=Le,this.uint16[yt+20]=ke,this.uint16[yt+21]=Oe,this.uint16[yt+22]=je,this.uint16[yt+23]=Fe,this.uint16[yt+24]=lt,this.uint16[yt+25]=rt,this.uint16[yt+26]=bt,this.uint16[yt+27]=Ht,this.uint16[yt+28]=ut,this.uint32[ln+15]=kt,this.float32[ln+16]=It,this.float32[ln+17]=Lt,this.float32[ln+18]=Xt,o}}Wr.prototype.bytesPerElement=76,_n(Wr,"StructArrayLayout3i2f6i15ui1ul3f76");class qr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.float32[1*o+0]=l,o}}qr.prototype.bytesPerElement=4,_n(qr,"StructArrayLayout1f4");class Zr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l,h,p,y){const x=this.length;return this.resize(x+1),this.emplace(x,o,l,h,p,y)}emplace(o,l,h,p,y,x){const C=5*o;return this.float32[C+0]=l,this.float32[C+1]=h,this.float32[C+2]=p,this.float32[C+3]=y,this.float32[C+4]=x,o}}Zr.prototype.bytesPerElement=20,_n(Zr,"StructArrayLayout5f20");class Yi extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l,h,p){const y=this.length;return this.resize(y+1),this.emplace(y,o,l,h,p)}emplace(o,l,h,p,y){const x=6*o;return this.uint32[3*o+0]=l,this.uint16[x+2]=h,this.uint16[x+3]=p,this.uint16[x+4]=y,o}}Yi.prototype.bytesPerElement=12,_n(Yi,"StructArrayLayout1ul3ui12");class Mi extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,l){const h=this.length;return this.resize(h+1),this.emplace(h,o,l)}emplace(o,l,h){const p=2*o;return this.uint16[p+0]=l,this.uint16[p+1]=h,o}}Mi.prototype.bytesPerElement=4,_n(Mi,"StructArrayLayout2ui4");class Zs extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const l=this.length;return this.resize(l+1),this.emplace(l,o)}emplace(o,l){return this.uint16[1*o+0]=l,o}}Zs.prototype.bytesPerElement=2,_n(Zs,"StructArrayLayout1ui2");class Ja extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,l){const h=this.length;return this.resize(h+1),this.emplace(h,o,l)}emplace(o,l,h){const p=2*o;return this.float32[p+0]=l,this.float32[p+1]=h,o}}Ja.prototype.bytesPerElement=8,_n(Ja,"StructArrayLayout2f8");class Eo extends Be{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Eo.prototype.size=40;class Yr extends Kn{get(o){return new Eo(this,o)}}_n(Yr,"CollisionBoxArray");class Or extends Be{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(o){this._structArray.uint8[this._pos1+49]=o}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(o){this._structArray.uint8[this._pos1+50]=o}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(o){this._structArray.uint32[this._pos4+13]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(o){this._structArray.uint8[this._pos1+58]=o}}Or.prototype.size=60;class ni extends Ur{get(o){return new Or(this,o)}}_n(ni,"PlacedSymbolArray");class rs extends Be{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(o){this._structArray.uint32[this._pos4+15]=o}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}rs.prototype.size=76;class _o extends Wr{get(o){return new rs(this,o)}}_n(_o,"SymbolInstanceArray");class fs extends qr{getoffsetX(o){return this.float32[1*o+0]}}_n(fs,"GlyphOffsetArray");class wm extends Vt{getx(o){return this.int16[2*o+0]}gety(o){return this.int16[2*o+1]}}_n(wm,"SymbolLineVertexArray");class Mu extends Be{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Mu.prototype.size=12;class jf extends Yi{get(o){return new Mu(this,o)}}_n(jf,"FeatureIndexArray");class Fl extends Mi{geta_centroid_pos0(o){return this.uint16[2*o+0]}geta_centroid_pos1(o){return this.uint16[2*o+1]}}_n(Fl,"FillExtrusionCentroidArray");const kc=Ze([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Au=Ze([{name:"a_dash",components:4,type:"Uint16"}]);var Cm={exports:{}},$f={exports:{}};$f.exports=function(a,o){var l,h,p,y,x,C,I,M;for(h=a.length-(l=3&a.length),p=o,x=3432918353,C=461845907,M=0;M<h;)I=255&a.charCodeAt(M)|(255&a.charCodeAt(++M))<<8|(255&a.charCodeAt(++M))<<16|(255&a.charCodeAt(++M))<<24,++M,p=27492+(65535&(y=5*(65535&(p=(p^=I=(65535&(I=(I=(65535&I)*x+(((I>>>16)*x&65535)<<16)&4294967295)<<15|I>>>17))*C+(((I>>>16)*C&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(y>>>16)&65535)<<16);switch(I=0,l){case 3:I^=(255&a.charCodeAt(M+2))<<16;case 2:I^=(255&a.charCodeAt(M+1))<<8;case 1:p^=I=(65535&(I=(I=(65535&(I^=255&a.charCodeAt(M)))*x+(((I>>>16)*x&65535)<<16)&4294967295)<<15|I>>>17))*C+(((I>>>16)*C&65535)<<16)&4294967295}return p^=a.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var lv=$f.exports,TR={exports:{}};TR.exports=function(a,o){for(var l,h=a.length,p=o^h,y=0;h>=4;)l=1540483477*(65535&(l=255&a.charCodeAt(y)|(255&a.charCodeAt(++y))<<8|(255&a.charCodeAt(++y))<<16|(255&a.charCodeAt(++y))<<24))+((1540483477*(l>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),h-=4,++y;switch(h){case 3:p^=(255&a.charCodeAt(y+2))<<16;case 2:p^=(255&a.charCodeAt(y+1))<<8;case 1:p=1540483477*(65535&(p^=255&a.charCodeAt(y)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var ER=lv,tG=TR.exports;Cm.exports=ER,Cm.exports.murmur3=ER,Cm.exports.murmur2=tG;var d2=B(Cm.exports);class Lx{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,l,h,p){this.ids.push(PR(o)),this.positions.push(l,h,p)}getPositions(o){const l=PR(o);let h=0,p=this.ids.length-1;for(;h<p;){const x=h+p>>1;this.ids[x]>=l?p=x:h=x+1}const y=[];for(;this.ids[h]===l;)y.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return y}static serialize(o,l){const h=new Float64Array(o.ids),p=new Uint32Array(o.positions);return h2(h,p,0,h.length-1),l&&l.push(h.buffer,p.buffer),{ids:h,positions:p}}static deserialize(o){const l=new Lx;return l.ids=o.ids,l.positions=o.positions,l.indexed=!0,l}}function PR(a){const o=+a;return!isNaN(o)&&Number.MIN_SAFE_INTEGER<=o&&o<=Number.MAX_SAFE_INTEGER?o:d2(String(a))}function h2(a,o,l,h){for(;l<h;){const p=a[l+h>>1];let y=l-1,x=h+1;for(;;){do y++;while(a[y]<p);do x--;while(a[x]>p);if(y>=x)break;zx(a,y,x),zx(o,3*y,3*x),zx(o,3*y+1,3*x+1),zx(o,3*y+2,3*x+2)}x-l<h-x?(h2(a,o,l,x),l=x+1):(h2(a,o,x+1,h),h=x)}}function zx(a,o,l){const h=a[o];a[o]=a[l],a[l]=h}_n(Lx,"FeaturePositionMap");class Ru{constructor(o){this.gl=o.gl,this.initialized=!1}fetchUniformLocation(o,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(o,l),this.initialized=!0),!!this.location}}class Fx extends Ru{constructor(o){super(o),this.current=0}set(o,l,h){this.fetchUniformLocation(o,l)&&this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class kR extends Ru{constructor(o){super(o),this.current=[0,0,0,0]}set(o,l,h){this.fetchUniformLocation(o,l)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3])))}}class IR extends Ru{constructor(o){super(o),this.current=oo.transparent}set(o,l,h){this.fetchUniformLocation(o,l)&&(h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a)))}}const nG=new Float32Array(16),rG=new Float32Array(9),oG=new Float32Array(4);function f2(a){return[$e(255*a.r,255*a.g),$e(255*a.b,255*a.a)]}class cv{constructor(o,l,h){this.value=o,this.uniformNames=l.map(p=>`u_${p}`),this.type=h}setUniform(o,l,h,p,y){l.set(o,y,p.constantOr(this.value))}getBinding(o,l){return this.type==="color"?new IR(o):new Fx(o)}}class Sm{constructor(o,l){this.uniformNames=l.map(h=>`u_${h}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(o){this.pixelRatio=o.pixelRatio||1,this.pattern=o.tl.concat(o.br)}setUniform(o,l,h,p,y){const x=y==="u_pattern"||y==="u_dash"?this.pattern:y==="u_pixel_ratio"?this.pixelRatio:null;x&&l.set(o,y,x)}getBinding(o,l){return l==="u_pattern"||l==="u_dash"?new kR(o):new Fx(o)}}class Ou{constructor(o,l,h,p){this.expression=o,this.type=h,this.maxValue=0,this.paintVertexAttributes=l.map(y=>({name:`a_${y}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(o,l,h,p,y,x){const C=this.paintVertexArray.length,I=this.expression.evaluate(new N(0),l,{},y,p,x);this.paintVertexArray.resize(o),this._setPaintValue(C,o,I)}updatePaintArray(o,l,h,p,y){const x=this.expression.evaluate({zoom:0},h,p,void 0,y);this._setPaintValue(o,l,x)}_setPaintValue(o,l,h){if(this.type==="color"){const p=f2(h);for(let y=o;y<l;y++)this.paintVertexArray.emplace(y,p[0],p[1])}else{for(let p=o;p<l;p++)this.paintVertexArray.emplace(p,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class jl{constructor(o,l,h,p,y,x){this.expression=o,this.uniformNames=l.map(C=>`u_${C}_t`),this.type=h,this.useIntegerZoom=p,this.zoom=y,this.maxValue=0,this.paintVertexAttributes=l.map(C=>({name:`a_${C}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new x}populatePaintArray(o,l,h,p,y,x){const C=this.expression.evaluate(new N(this.zoom),l,{},y,p,x),I=this.expression.evaluate(new N(this.zoom+1),l,{},y,p,x),M=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(M,o,C,I)}updatePaintArray(o,l,h,p,y){const x=this.expression.evaluate({zoom:this.zoom},h,p,void 0,y),C=this.expression.evaluate({zoom:this.zoom+1},h,p,void 0,y);this._setPaintValue(o,l,x,C)}_setPaintValue(o,l,h,p){if(this.type==="color"){const y=f2(h),x=f2(p);for(let C=o;C<l;C++)this.paintVertexArray.emplace(C,y[0],y[1],x[0],x[1])}else{for(let y=o;y<l;y++)this.paintVertexArray.emplace(y,h,p);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(p))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,l,h,p,y){const x=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,C=ce(this.expression.interpolationFactor(x,this.zoom,this.zoom+1),0,1);l.set(o,y,C)}getBinding(o,l){return new Fx(o)}}class Wd{constructor(o,l,h,p,y){this.expression=o,this.layerId=y,this.paintVertexAttributes=(h==="array"?Au:kc).members;for(let x=0;x<l.length;++x);this.paintVertexArray=new p}populatePaintArray(o,l,h){const p=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValues(p,o,l.patterns&&l.patterns[this.layerId],h)}updatePaintArray(o,l,h,p,y,x){this._setPaintValues(o,l,h.patterns&&h.patterns[this.layerId],x)}_setPaintValues(o,l,h,p){if(!p||!h)return;const y=p[h];if(!y)return;const{tl:x,br:C,pixelRatio:I}=y;for(let M=o;M<l;M++)this.paintVertexArray.emplace(M,x[0],x[1],C[0],C[1],I)}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class qd{constructor(o,l,h=()=>!0){this.binders={},this._buffers=[];const p=[];for(const y in o.paint._values){if(!h(y))continue;const x=o.paint.get(y);if(!(x instanceof Ce&&Ec(x.property.specification)))continue;const C=sG(y,o.type),I=x.value,M=x.property.specification.type,j=!!x.property.useIntegerZoom,V=y==="line-dasharray"||y.endsWith("pattern"),q=y==="line-dasharray"&&o.layout.get("line-cap").value.kind!=="constant";if(I.kind!=="constant"||q)if(I.kind==="source"||q||V){const Q=MR(y,M,"source");this.binders[y]=V?new Wd(I,C,M,Q,o.id):new Ou(I,C,M,Q),p.push(`/a_${y}`)}else{const Q=MR(y,M,"composite");this.binders[y]=new jl(I,C,M,j,l,Q),p.push(`/z_${y}`)}else this.binders[y]=V?new Sm(I.value,C):new cv(I.value,C,M),p.push(`/u_${y}`)}this.cacheKey=p.sort().join("")}getMaxValue(o){const l=this.binders[o];return l instanceof Ou||l instanceof jl?l.maxValue:0}populatePaintArrays(o,l,h,p,y,x){for(const C in this.binders){const I=this.binders[C];(I instanceof Ou||I instanceof jl||I instanceof Wd)&&I.populatePaintArray(o,l,h,p,y,x)}}setConstantPatternPositions(o){for(const l in this.binders){const h=this.binders[l];h instanceof Sm&&h.setConstantPatternPositions(o)}}updatePaintArrays(o,l,h,p,y,x){let C=!1;for(const I in o){const M=l.getPositions(I);for(const j of M){const V=h.feature(j.index);for(const q in this.binders){const Q=this.binders[q];if((Q instanceof Ou||Q instanceof jl||Q instanceof Wd)&&Q.expression.isStateDependent===!0){const te=p.paint.get(q);Q.expression=te.value,Q.updatePaintArray(j.start,j.end,V,o[I],y,x),C=!0}}}}return C}defines(){const o=[];for(const l in this.binders){const h=this.binders[l];(h instanceof cv||h instanceof Sm)&&o.push(...h.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return o}getBinderAttributes(){const o=[];for(const l in this.binders){const h=this.binders[l];if(h instanceof Ou||h instanceof jl||h instanceof Wd)for(let p=0;p<h.paintVertexAttributes.length;p++)o.push(h.paintVertexAttributes[p].name)}return o}getBinderUniforms(){const o=[];for(const l in this.binders){const h=this.binders[l];if(h instanceof cv||h instanceof Sm||h instanceof jl)for(const p of h.uniformNames)o.push(p)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o){const l=[];for(const h in this.binders){const p=this.binders[h];if(p instanceof cv||p instanceof Sm||p instanceof jl)for(const y of p.uniformNames)l.push({name:y,property:h,binding:p.getBinding(o,y)})}return l}setUniforms(o,l,h,p,y){for(const{name:x,property:C,binding:I}of h)this.binders[C].setUniform(o,I,y,p.get(C),x)}updatePaintBuffers(){this._buffers=[];for(const o in this.binders){const l=this.binders[o];(l instanceof Ou||l instanceof jl||l instanceof Wd)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(o){for(const l in this.binders){const h=this.binders[l];(h instanceof Ou||h instanceof jl||h instanceof Wd)&&h.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const l=this.binders[o];(l instanceof Ou||l instanceof jl||l instanceof Wd)&&l.destroy()}}}class Bf{constructor(o,l,h=()=>!0){this.programConfigurations={};for(const p of o)this.programConfigurations[p.id]=new qd(p,l,h);this.needsUpload=!1,this._featureMap=new Lx,this._bufferOffset=0}populatePaintArrays(o,l,h,p,y,x,C){for(const I in this.programConfigurations)this.programConfigurations[I].populatePaintArrays(o,l,p,y,x,C);l.id!==void 0&&this._featureMap.add(l.id,h,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,l,h,p,y){for(const x of h)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(o,this._featureMap,l,x,p,y)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}const iG={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function sG(a,o){return iG[a]||[a.replace(`${o}-`,"").replace(/-/g,"_")]}const aG={"line-pattern":{source:it,composite:it},"fill-pattern":{source:it,composite:it},"fill-extrusion-pattern":{source:it,composite:it},"line-dasharray":{source:St,composite:St}},lG={color:{source:Ja,composite:Nt},number:{source:qr,composite:Ja}};function MR(a,o,l){const h=aG[a];return h&&h[l]||lG[o][l]}_n(cv,"ConstantBinder"),_n(Sm,"PatternConstantBinder"),_n(Ou,"SourceExpressionBinder"),_n(Wd,"PatternCompositeBinder"),_n(jl,"CompositeExpressionBinder"),_n(qd,"ProgramConfiguration",{omit:["_buffers"]}),_n(Bf,"ProgramConfigurationSet");const AR="-transition";class $l extends fu{constructor(o,l){if(super(),this.id=o.id,this.type=o.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&o.type!=="sky"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),l.layout&&(this._unevaluatedLayout=new Se(l.layout)),l.paint)){this._transitionablePaint=new ie(l.paint);for(const h in o.paint)this.setPaintProperty(h,o.paint[h],{validate:!1});for(const h in o.layout)this.setLayoutProperty(h,o.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ee(l.paint)}}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,l,h={}){l!=null&&this._validate(s2,`layers.${this.id}.layout.${o}`,o,l,h)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,l):this.visibility=l)}getPaintProperty(o){return rn(o,AR)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,l,h={}){if(l!=null&&this._validate(i2,`layers.${this.id}.paint.${o}`,o,l,h))return!1;if(rn(o,AR))return this._transitionablePaint.setTransition(o.slice(0,-11),l||void 0),!1;{const p=this._transitionablePaint._values[o],y=p.value.isDataDriven(),x=p.value;this._transitionablePaint.setValue(o,l),this._handleSpecialPaintPropertyUpdate(o);const C=this._transitionablePaint._values[o].value,I=C.isDataDriven(),M=rn(o,"pattern")||o==="line-dasharray";return I||y||M||this._handleOverridablePaintPropertyUpdate(o,x,C)}}_handleSpecialPaintPropertyUpdate(o){}getProgramIds(){return null}getProgramConfiguration(o){return null}_handleOverridablePaintPropertyUpdate(o,l,h){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,l)}serialize(){const o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),Pt(o,(l,h)=>!(l===void 0||h==="layout"&&!Object.keys(l).length||h==="paint"&&!Object.keys(l).length))}_validate(o,l,h,p,y={}){return(!y||y.validate!==!1)&&Ax(this,o.call(Mx,{key:l,layerType:this.type,objectKey:h,value:p,styleSpec:_t,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const o in this.paint._values){const l=this.paint.get(o);if(l instanceof Ce&&Ec(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=vm(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const cG=Ze([{name:"a_pos",components:2,type:"Int16"}],4),uG=Ze([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ri{constructor(o=[]){this.segments=o}prepareSegment(o,l,h,p){let y=this.segments[this.segments.length-1];return o>ri.MAX_VERTEX_ARRAY_LENGTH&&st(`Max vertices per segment is ${ri.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!y||y.vertexLength+o>ri.MAX_VERTEX_ARRAY_LENGTH||y.sortKey!==p)&&(y={vertexOffset:l.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},p!==void 0&&(y.sortKey=p),this.segments.push(y)),y}get(){return this.segments}destroy(){for(const o of this.segments)for(const l in o.vaos)o.vaos[l].destroy()}static simpleSegment(o,l,h,p){return new ri([{vertexOffset:o,primitiveOffset:l,vertexLength:h,primitiveLength:p,vaos:{},sortKey:0}])}}ri.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,_n(ri,"SegmentVector");var Ln=8192;class Zd{constructor(o,l){o&&(l?this.setSouthWest(o).setNorthEast(l):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof Kr?new Kr(o.lng,o.lat):Kr.convert(o),this}setSouthWest(o){return this._sw=o instanceof Kr?new Kr(o.lng,o.lat):Kr.convert(o),this}extend(o){const l=this._sw,h=this._ne;let p,y;if(o instanceof Kr)p=o,y=o;else{if(!(o instanceof Zd))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(Zd.convert(o)):this.extend(Kr.convert(o)):typeof o=="object"&&o!==null&&o.hasOwnProperty("lat")&&(o.hasOwnProperty("lon")||o.hasOwnProperty("lng"))?this.extend(Kr.convert(o)):this;if(p=o._sw,y=o._ne,!p||!y)return this}return l||h?(l.lng=Math.min(p.lng,l.lng),l.lat=Math.min(p.lat,l.lat),h.lng=Math.max(y.lng,h.lng),h.lat=Math.max(y.lat,h.lat)):(this._sw=new Kr(p.lng,p.lat),this._ne=new Kr(y.lng,y.lat)),this}getCenter(){return new Kr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Kr(this.getWest(),this.getNorth())}getSouthEast(){return new Kr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:l,lat:h}=Kr.convert(o);let p=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&p}static convert(o){return!o||o instanceof Zd?o:new Zd(o)}}var jx=1e-6,Ys=typeof Float32Array<"u"?Float32Array:Array;function RR(){var a=new Ys(9);return Ys!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function OR(a,o,l){var h=o[0],p=o[1],y=o[2],x=o[3],C=o[4],I=o[5],M=o[6],j=o[7],V=o[8],q=l[0],Q=l[1],te=l[2],ue=l[3],_e=l[4],Pe=l[5],Le=l[6],ke=l[7],Oe=l[8];return a[0]=q*h+Q*x+te*M,a[1]=q*p+Q*C+te*j,a[2]=q*y+Q*I+te*V,a[3]=ue*h+_e*x+Pe*M,a[4]=ue*p+_e*C+Pe*j,a[5]=ue*y+_e*I+Pe*V,a[6]=Le*h+ke*x+Oe*M,a[7]=Le*p+ke*C+Oe*j,a[8]=Le*y+ke*I+Oe*V,a}function Bl(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function p2(a,o){var l=o[0],h=o[1],p=o[2],y=o[3],x=o[4],C=o[5],I=o[6],M=o[7],j=o[8],V=o[9],q=o[10],Q=o[11],te=o[12],ue=o[13],_e=o[14],Pe=o[15],Le=l*C-h*x,ke=l*I-p*x,Oe=l*M-y*x,je=h*I-p*C,Fe=h*M-y*C,lt=p*M-y*I,rt=j*ue-V*te,bt=j*_e-q*te,Ht=j*Pe-Q*te,ut=V*_e-q*ue,kt=V*Pe-Q*ue,It=q*Pe-Q*_e,Lt=Le*It-ke*kt+Oe*ut+je*Ht-Fe*bt+lt*rt;return Lt?(a[0]=(C*It-I*kt+M*ut)*(Lt=1/Lt),a[1]=(p*kt-h*It-y*ut)*Lt,a[2]=(ue*lt-_e*Fe+Pe*je)*Lt,a[3]=(q*Fe-V*lt-Q*je)*Lt,a[4]=(I*Ht-x*It-M*bt)*Lt,a[5]=(l*It-p*Ht+y*bt)*Lt,a[6]=(_e*Oe-te*lt-Pe*ke)*Lt,a[7]=(j*lt-q*Oe+Q*ke)*Lt,a[8]=(x*kt-C*Ht+M*rt)*Lt,a[9]=(h*Ht-l*kt-y*rt)*Lt,a[10]=(te*Fe-ue*Oe+Pe*Le)*Lt,a[11]=(V*Oe-j*Fe-Q*Le)*Lt,a[12]=(C*bt-x*ut-I*rt)*Lt,a[13]=(l*ut-h*bt+p*rt)*Lt,a[14]=(ue*ke-te*je-_e*Le)*Lt,a[15]=(j*je-V*ke+q*Le)*Lt,a):null}function Nf(a,o,l){var h=o[0],p=o[1],y=o[2],x=o[3],C=o[4],I=o[5],M=o[6],j=o[7],V=o[8],q=o[9],Q=o[10],te=o[11],ue=o[12],_e=o[13],Pe=o[14],Le=o[15],ke=l[0],Oe=l[1],je=l[2],Fe=l[3];return a[0]=ke*h+Oe*C+je*V+Fe*ue,a[1]=ke*p+Oe*I+je*q+Fe*_e,a[2]=ke*y+Oe*M+je*Q+Fe*Pe,a[3]=ke*x+Oe*j+je*te+Fe*Le,a[4]=(ke=l[4])*h+(Oe=l[5])*C+(je=l[6])*V+(Fe=l[7])*ue,a[5]=ke*p+Oe*I+je*q+Fe*_e,a[6]=ke*y+Oe*M+je*Q+Fe*Pe,a[7]=ke*x+Oe*j+je*te+Fe*Le,a[8]=(ke=l[8])*h+(Oe=l[9])*C+(je=l[10])*V+(Fe=l[11])*ue,a[9]=ke*p+Oe*I+je*q+Fe*_e,a[10]=ke*y+Oe*M+je*Q+Fe*Pe,a[11]=ke*x+Oe*j+je*te+Fe*Le,a[12]=(ke=l[12])*h+(Oe=l[13])*C+(je=l[14])*V+(Fe=l[15])*ue,a[13]=ke*p+Oe*I+je*q+Fe*_e,a[14]=ke*y+Oe*M+je*Q+Fe*Pe,a[15]=ke*x+Oe*j+je*te+Fe*Le,a}function uv(a,o,l){var h,p,y,x,C,I,M,j,V,q,Q,te,ue=l[0],_e=l[1],Pe=l[2];return o===a?(a[12]=o[0]*ue+o[4]*_e+o[8]*Pe+o[12],a[13]=o[1]*ue+o[5]*_e+o[9]*Pe+o[13],a[14]=o[2]*ue+o[6]*_e+o[10]*Pe+o[14],a[15]=o[3]*ue+o[7]*_e+o[11]*Pe+o[15]):(p=o[1],y=o[2],x=o[3],C=o[4],I=o[5],M=o[6],j=o[7],V=o[8],q=o[9],Q=o[10],te=o[11],a[0]=h=o[0],a[1]=p,a[2]=y,a[3]=x,a[4]=C,a[5]=I,a[6]=M,a[7]=j,a[8]=V,a[9]=q,a[10]=Q,a[11]=te,a[12]=h*ue+C*_e+V*Pe+o[12],a[13]=p*ue+I*_e+q*Pe+o[13],a[14]=y*ue+M*_e+Q*Pe+o[14],a[15]=x*ue+j*_e+te*Pe+o[15]),a}function Uf(a,o,l){var h=l[0],p=l[1],y=l[2];return a[0]=o[0]*h,a[1]=o[1]*h,a[2]=o[2]*h,a[3]=o[3]*h,a[4]=o[4]*p,a[5]=o[5]*p,a[6]=o[6]*p,a[7]=o[7]*p,a[8]=o[8]*y,a[9]=o[9]*y,a[10]=o[10]*y,a[11]=o[11]*y,a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],a}function m2(a,o,l){var h=Math.sin(l),p=Math.cos(l),y=o[4],x=o[5],C=o[6],I=o[7],M=o[8],j=o[9],V=o[10],q=o[11];return o!==a&&(a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[4]=y*p+M*h,a[5]=x*p+j*h,a[6]=C*p+V*h,a[7]=I*p+q*h,a[8]=M*p-y*h,a[9]=j*p-x*h,a[10]=V*p-C*h,a[11]=q*p-I*h,a}function $x(a,o,l){var h=Math.sin(l),p=Math.cos(l),y=o[0],x=o[1],C=o[2],I=o[3],M=o[8],j=o[9],V=o[10],q=o[11];return o!==a&&(a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[0]=y*p-M*h,a[1]=x*p-j*h,a[2]=C*p-V*h,a[3]=I*p-q*h,a[8]=y*h+M*p,a[9]=x*h+j*p,a[10]=C*h+V*p,a[11]=I*h+q*p,a}function DR(a,o){return a[0]=o[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=o[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function LR(a,o,l){var h,p,y,x=l[0],C=l[1],I=l[2],M=Math.hypot(x,C,I);return M<jx?null:(x*=M=1/M,C*=M,I*=M,h=Math.sin(o),p=Math.cos(o),a[0]=x*x*(y=1-p)+p,a[1]=C*x*y+I*h,a[2]=I*x*y-C*h,a[3]=0,a[4]=x*C*y-I*h,a[5]=C*C*y+p,a[6]=I*C*y+x*h,a[7]=0,a[8]=x*I*y+C*h,a[9]=C*I*y-x*h,a[10]=I*I*y+p,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,o=arguments.length;o--;)a+=arguments[o]*arguments[o];return Math.sqrt(a)});var dG=Nf;function g2(){var a=new Ys(3);return Ys!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function zR(a){var o=new Ys(3);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o}function dv(a){return Math.hypot(a[0],a[1],a[2])}function Tm(a,o,l){var h=new Ys(3);return h[0]=a,h[1]=o,h[2]=l,h}function Du(a,o,l){return a[0]=o[0]+l[0],a[1]=o[1]+l[1],a[2]=o[2]+l[2],a}function y2(a,o,l){return a[0]=o[0]-l[0],a[1]=o[1]-l[1],a[2]=o[2]-l[2],a}function FR(a,o,l){return a[0]=o[0]*l[0],a[1]=o[1]*l[1],a[2]=o[2]*l[2],a}function hv(a,o,l){return a[0]=Math.min(o[0],l[0]),a[1]=Math.min(o[1],l[1]),a[2]=Math.min(o[2],l[2]),a}function fv(a,o,l){return a[0]=Math.max(o[0],l[0]),a[1]=Math.max(o[1],l[1]),a[2]=Math.max(o[2],l[2]),a}function Sa(a,o,l){return a[0]=o[0]*l,a[1]=o[1]*l,a[2]=o[2]*l,a}function pv(a,o,l,h){return a[0]=o[0]+l[0]*h,a[1]=o[1]+l[1]*h,a[2]=o[2]+l[2]*h,a}function ps(a,o){var l=o[0],h=o[1],p=o[2],y=l*l+h*h+p*p;return y>0&&(y=1/Math.sqrt(y)),a[0]=o[0]*y,a[1]=o[1]*y,a[2]=o[2]*y,a}function Qa(a,o){return a[0]*o[0]+a[1]*o[1]+a[2]*o[2]}function v2(a,o,l){var h=o[0],p=o[1],y=o[2],x=l[0],C=l[1],I=l[2];return a[0]=p*I-y*C,a[1]=y*x-h*I,a[2]=h*C-p*x,a}function Zo(a,o,l){var h=o[0],p=o[1],y=o[2],x=l[3]*h+l[7]*p+l[11]*y+l[15];return a[0]=(l[0]*h+l[4]*p+l[8]*y+l[12])/(x=x||1),a[1]=(l[1]*h+l[5]*p+l[9]*y+l[13])/x,a[2]=(l[2]*h+l[6]*p+l[10]*y+l[14])/x,a}function jR(a,o,l){var h=l[0],p=l[1],y=l[2],x=o[0],C=o[1],I=o[2],M=p*I-y*C,j=y*x-h*I,V=h*C-p*x,q=p*V-y*j,Q=y*M-h*V,te=h*j-p*M,ue=2*l[3];return j*=ue,V*=ue,Q*=2,te*=2,a[0]=x+(M*=ue)+(q*=2),a[1]=C+j+Q,a[2]=I+V+te,a}var mv,Nl=y2,hG=FR,fG=dv;function $R(a,o,l){return a[0]=o[0]*l,a[1]=o[1]*l,a[2]=o[2]*l,a[3]=o[3]*l,a}function BR(a,o){var l=o[0],h=o[1],p=o[2],y=o[3],x=l*l+h*h+p*p+y*y;return x>0&&(x=1/Math.sqrt(x)),a[0]=l*x,a[1]=h*x,a[2]=p*x,a[3]=y*x,a}function Vf(a,o,l){var h=o[0],p=o[1],y=o[2],x=o[3];return a[0]=l[0]*h+l[4]*p+l[8]*y+l[12]*x,a[1]=l[1]*h+l[5]*p+l[9]*y+l[13]*x,a[2]=l[2]*h+l[6]*p+l[10]*y+l[14]*x,a[3]=l[3]*h+l[7]*p+l[11]*y+l[15]*x,a}function NR(){var a=new Ys(4);return Ys!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function UR(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function VR(a,o,l){l*=.5;var h=o[0],p=o[1],y=o[2],x=o[3],C=Math.sin(l),I=Math.cos(l);return a[0]=h*I+x*C,a[1]=p*I+y*C,a[2]=y*I-p*C,a[3]=x*I-h*C,a}function HR(a,o,l){l*=.5;var h=o[0],p=o[1],y=o[2],x=o[3],C=Math.sin(l),I=Math.cos(l);return a[0]=h*I-y*C,a[1]=p*I+x*C,a[2]=y*I+h*C,a[3]=x*I-p*C,a}g2(),mv=new Ys(4),Ys!=Float32Array&&(mv[0]=0,mv[1]=0,mv[2]=0,mv[3]=0);var pG=BR;g2(),Tm(1,0,0),Tm(0,1,0),NR(),NR(),RR();const mG=Ze([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:GR}=mG,WR=Ze([{name:"a_pos_3",components:3,type:"Int16"}]);var gv=Ze([{name:"a_pos",type:"Int16",components:2}]);class _2{constructor(o,l){this.pos=o,this.dir=l}intersectsPlane(o,l,h){const p=Qa(l,this.dir);if(Math.abs(p)<1e-6)return!1;const y=((o[0]-this.pos[0])*l[0]+(o[1]-this.pos[1])*l[1]+(o[2]-this.pos[2])*l[2])/p;return h[0]=this.pos[0]+this.dir[0]*y,h[1]=this.pos[1]+this.dir[1]*y,h[2]=this.pos[2]+this.dir[2]*y,!0}closestPointOnSphere(o,l,h){if(function(Q,te){var ue=Q[0],_e=Q[1],Pe=Q[2],Le=te[0],ke=te[1],Oe=te[2];return Math.abs(ue-Le)<=jx*Math.max(1,Math.abs(ue),Math.abs(Le))&&Math.abs(_e-ke)<=jx*Math.max(1,Math.abs(_e),Math.abs(ke))&&Math.abs(Pe-Oe)<=jx*Math.max(1,Math.abs(Pe),Math.abs(Oe))}(this.pos,o)||l===0)return h[0]=h[1]=h[2]=0,!1;const[p,y,x]=this.dir,C=this.pos[0]-o[0],I=this.pos[1]-o[1],M=this.pos[2]-o[2],j=p*p+y*y+x*x,V=2*(C*p+I*y+M*x),q=V*V-4*j*(C*C+I*I+M*M-l*l);if(q<0){const Q=Math.max(-V/2,0),te=C+p*Q,ue=I+y*Q,_e=M+x*Q,Pe=Math.hypot(te,ue,_e);return h[0]=te*l/Pe,h[1]=ue*l/Pe,h[2]=_e*l/Pe,!1}{const Q=(-V-Math.sqrt(q))/(2*j);if(Q<0){const te=Math.hypot(C,I,M);return h[0]=C*l/te,h[1]=I*l/te,h[2]=M*l/te,!1}return h[0]=C+p*Q,h[1]=I+y*Q,h[2]=M+x*Q,!0}}}class x2{constructor(o,l,h,p,y){this.TL=o,this.TR=l,this.BR=h,this.BL=p,this.horizon=y}static fromInvProjectionMatrix(o,l,h){const p=[-1,1,1],y=[1,1,1],x=[1,-1,1],C=[-1,-1,1],I=Zo(p,p,o),M=Zo(y,y,o),j=Zo(x,x,o),V=Zo(C,C,o);return new x2(I,M,j,V,l/h)}}class b2{constructor(o,l){this.points=o,this.planes=l}static fromInvProjectionMatrix(o,l,h,p){const y=Math.pow(2,h),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(I=>{const M=Vf([],I,o),j=1/M[3]/l*y;return function(V,q,Q){return V[0]=q[0]*Q[0],V[1]=q[1]*Q[1],V[2]=q[2]*Q[2],V[3]=q[3]*Q[3],V}(M,M,[j,j,p?1/M[3]:j,j])}),C=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(I=>{const M=ps([],v2([],Nl([],x[I[0]],x[I[1]]),Nl([],x[I[2]],x[I[1]]))),j=-Qa(M,x[I[1]]);return M.concat(j)});return new b2(x,C)}}class ms{static fromPoints(o){const l=[1/0,1/0,1/0],h=[-1/0,-1/0,-1/0];for(const p of o)hv(l,l,p),fv(h,h,p);return new ms(l,h)}static applyTransform(o,l){const h=o.getCorners();for(let p=0;p<h.length;++p)Zo(h[p],h[p],l);return ms.fromPoints(h)}constructor(o,l){this.min=o,this.max=l,this.center=Sa([],Du([],this.min,this.max),.5)}quadrant(o){const l=[o%2==0,o<2],h=zR(this.min),p=zR(this.max);for(let y=0;y<l.length;y++)h[y]=l[y]?this.min[y]:this.center[y],p[y]=l[y]?this.center[y]:this.max[y];return p[2]=this.max[2],new ms(h,p)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}distanceZ(o){return Math.max(Math.min(this.max[2],o[2]),this.min[2])-o[2]}getCorners(){const o=this.min,l=this.max;return[[o[0],o[1],o[2]],[l[0],o[1],o[2]],[l[0],l[1],o[2]],[o[0],l[1],o[2]],[o[0],o[1],l[2]],[l[0],o[1],l[2]],[l[0],l[1],l[2]],[o[0],l[1],l[2]]]}intersects(o){const l=this.getCorners();let h=!0;for(let p=0;p<o.planes.length;p++){const y=o.planes[p];let x=0;for(let C=0;C<l.length;C++)x+=Qa(y,l[C])+y[3]>=0;if(x===0)return 0;x!==l.length&&(h=!1)}if(h)return 2;for(let p=0;p<3;p++){let y=Number.MAX_VALUE,x=-Number.MAX_VALUE;for(let C=0;C<o.points.length;C++){const I=o.points[C][p]-this.min[p];y=Math.min(y,I),x=Math.max(x,I)}if(x<0||y>this.max[p]-this.min[p])return 0}return 1}}const w2=5,qR=6,Ic=Ln/Math.PI/2,gG=16383,Hf=64,yv=[Hf,32,16],el=-Ic,tl=Ic,yG=[new ms([el,el,el],[tl,tl,tl]),new ms([el,el,el],[0,0,tl]),new ms([0,el,el],[tl,0,tl]),new ms([el,0,el],[0,tl,tl]),new ms([0,0,el],[tl,tl,tl])];function Bx(a){return a*Ic/xv}function ZR(a,o,l,h=!0){const p=Sa([],a._camera.position,a.worldSize),y=[o,l,1,1];Vf(y,y,a.pixelMatrixInverse),$R(y,y,1/y[3]);const x=ps([],Nl([],y,p)),C=a.globeMatrix,I=[C[12],C[13],C[14]],M=Nl([],I,p),j=dv(M),V=ps([],M),q=a.worldSize/(2*Math.PI),Q=Qa(V,x),te=Math.asin(q/j);if(te<Math.acos(Q)){if(!h)return null;const Ht=[],ut=[];Sa(Ht,x,j/Q),ps(ut,Nl(ut,Ht,M)),ps(x,Du(x,M,Sa(x,ut,Math.tan(te)*j)))}const ue=[];new _2(p,x).closestPointOnSphere(I,q,ue);const _e=ps([],ft(C,0)),Pe=ps([],ft(C,1)),Le=ps([],ft(C,2)),ke=Qa(_e,ue),Oe=Qa(Pe,ue),je=Qa(Le,ue),Fe=pe(Math.asin(-Oe/q));let lt=pe(Math.atan2(ke,je));lt=a.center.lng+function(Ht,ut){const kt=(ut-Ht+180)%360-180;return kt<-180?kt+360:kt}(a.center.lng,lt);const rt=Ac(lt),bt=ce(Rc(Fe),0,1);return new Im(rt,bt)}class vG{constructor(o,l,h){this.a=Nl([],o,h),this.b=Nl([],l,h),this.center=h;const p=ps([],this.a),y=ps([],this.b);this.angle=Math.acos(Qa(p,y))}}function C2(a,o){if(a.angle===0)return null;let l;return l=a.a[o]===0?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[o]/a.a[o]/Math.sin(a.angle)-1/Math.tan(a.angle)),l<0||l>1?null:function(h,p,y,x){const C=Math.sin(y);return h*(Math.sin((1-x)*y)/C)+p*(Math.sin(x*y)/C)}(a.a[o],a.b[o],a.angle,ce(l,0,1))+a.center[o]}function Mc(a){if(a.z<=1)return yG[a.z+2*a.y+a.x];const o=S2(Nx(a));return ms.fromPoints(o)}function Gf(a,o,l){return Sa(a,a,1-l),pv(a,a,o,l)}function YR(a,o){const l=km(o.zoom);if(l===0)return Mc(a);const h=Nx(a),p=S2(h),y=Ac(h.getWest())*o.worldSize,x=Ac(h.getEast())*o.worldSize,C=Rc(h.getNorth())*o.worldSize,I=Rc(h.getSouth())*o.worldSize,M=[y,C,0],j=[x,C,0],V=[y,I,0],q=[x,I,0],Q=p2([],o.globeMatrix);return Zo(M,M,Q),Zo(j,j,Q),Zo(V,V,Q),Zo(q,q,Q),p[0]=Gf(p[0],V,l),p[1]=Gf(p[1],q,l),p[2]=Gf(p[2],j,l),p[3]=Gf(p[3],M,l),ms.fromPoints(p)}function KR(a,o,l){for(const h of a)Zo(h,h,o),Sa(h,h,l)}function _G(a,o,l){const h=o/a.worldSize,p=a.globeMatrix;if(l.z<=1){const rt=Mc(l).getCorners();return KR(rt,p,h),ms.fromPoints(rt)}const y=Nx(l),x=S2(y);KR(x,p,h);const C=Number.MAX_VALUE,I=[-C,-C,-C],M=[C,C,C];if(y.contains(a.center)){for(const Ht of x)hv(M,M,Ht),fv(I,I,Ht);I[2]=0;const rt=a.point,bt=[rt.x*h,rt.y*h,0];return hv(M,M,bt),fv(I,I,bt),new ms(M,I)}const j=[p[12]*h,p[13]*h,p[14]*h],V=y.getCenter(),q=ce(a.center.lat,-Xi,Xi),Q=ce(V.lat,-Xi,Xi),te=Ac(a.center.lng),ue=Rc(q);let _e=te-Ac(V.lng);const Pe=ue-Rc(Q);_e>.5?_e-=1:_e<-.5&&(_e+=1);let Le=0;Math.abs(_e)>Math.abs(Pe)?Le=_e>=0?1:3:(Le=Pe>=0?0:2,pv(j,j,[p[4]*h,p[5]*h,p[6]*h],-Math.sin(de(Pe>=0?y.getSouth():y.getNorth()))*Ic));const ke=x[Le],Oe=x[(Le+1)%4],je=new vG(ke,Oe,j),Fe=[C2(je,0)||ke[0],C2(je,1)||ke[1],C2(je,2)||ke[2]],lt=km(a.zoom);if(lt>0){const rt=function({x:Ht,y:ut,z:kt},It,Lt,Xt,yt){const ln=1/(1<<kt);let bn=Ht*ln,fn=bn+ln,Qn=ut*ln,Jt=Qn+ln,An=0;const er=(bn+fn)/2-Xt;return er>.5?An=-1:er<-.5&&(An=1),bn=((bn+An)*It-(Xt*=It))*Lt+Xt,fn=((fn+An)*It-Xt)*Lt+Xt,Qn=(Qn*It-(yt*=It))*Lt+yt,Jt=(Jt*It-yt)*Lt+yt,[[bn,Jt,0],[fn,Jt,0],[fn,Qn,0],[bn,Qn,0]]}(l,o,a._pixelsPerMercatorPixel,te,ue);for(let Ht=0;Ht<x.length;Ht++)Gf(x[Ht],rt[Ht],lt);const bt=Du([],rt[Le],rt[(Le+1)%4]);Sa(bt,bt,.5),Gf(Fe,bt,lt)}for(const rt of x)hv(M,M,rt),fv(I,I,rt);return M[2]=Math.min(ke[2],Oe[2]),hv(M,M,Fe),fv(I,I,Fe),new ms(M,I)}function Nx({x:a,y:o,z:l}){const h=1/(1<<l),p=new Kr(Ta(a*h),Ki((o+1)*h)),y=new Kr(Ta((a+1)*h),Ki(o*h));return new Zd(p,y)}function S2(a){const o=de(a.getNorth()),l=de(a.getSouth()),h=Math.cos(o),p=Math.cos(l),y=Math.sin(o),x=Math.sin(l),C=a.getWest(),I=a.getEast();return[Em(p,x,C),Em(p,x,I),Em(h,y,I),Em(h,y,C)]}function Em(a,o,l,h=Ic){return l=de(l),[a*Math.sin(l)*h,-o*h,a*Math.cos(l)*h]}function Pm(a,o,l){return Em(Math.cos(de(a)),Math.sin(de(a)),o,l)}function vv(a,o,l,h){const p=1<<l.z,y=(a/Ln+l.x)/p;return Pm(Ki((o/Ln+l.y)/p),Ta(y),h)}function Ux({min:a,max:o}){return gG/Math.max(o[0]-a[0],o[1]-a[1],o[2]-a[2])}const XR=new Float64Array(16);function _v(a){const o=Ux(a),l=DR(XR,[o,o,o]);return uv(l,l,((h=[])[0]=-(p=a.min)[0],h[1]=-p[1],h[2]=-p[2],h));var h,p}function T2(a){const o=(h=a.min,(l=XR)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=h[0],l[13]=h[1],l[14]=h[2],l[15]=1,l);var l,h;const p=1/Ux(a);return Uf(o,o,[p,p,p])}function JR(a,o,l,h,p){const y=function(I){const M=Ln/(2*Math.PI);return I/(2*Math.PI)/M}(l),x=[a,o,-l/(2*Math.PI)],C=Bl(new Float64Array(16));return uv(C,C,x),Uf(C,C,[y,y,y]),m2(C,C,de(-p)),$x(C,C,de(-h)),C}function km(a){return ge(w2,qR,a)}function QR(a,o){const l=Pm(o.lat,o.lng),h=function(te){const ue=Pm(te._center.lat,te._center.lng);let _e=v2([],Tm(0,1,0),ue);const Pe=LR([],-te.angle,ue);_e=Zo(_e,_e,Pe),LR(Pe,-te._pitch,_e);const Le=ps([],ue);return Sa(Le,Le,Bx(te.cameraToCenterDistance/te.pixelsPerMeter)),Zo(Le,Le,Pe),Du([],ue,Le)}(a);return x=(p=y2([],h,l))[0],C=p[1],I=p[2],M=(y=l)[0],j=y[1],V=y[2],Q=(q=Math.sqrt(x*x+C*C+I*I)*Math.sqrt(M*M+j*j+V*V))&&Qa(p,y)/q,Math.acos(Math.min(Math.max(Q,-1),1));var p,y,x,C,I,M,j,V,q,Q}function E2(a,o){return QR(a,o)>Math.PI/2*1.01}const eO=de(85),xG=Math.cos(eO),bG=Math.sin(eO),xv=63710088e-1,tO=2*Math.PI*xv;class Yd{constructor(o,l){if(isNaN(o)||isNaN(l))throw new Error(`Invalid LngLat object: (${o}, ${l})`);if(this.lng=+o,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Yd(Te(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const l=Math.PI/180,h=this.lat*l,p=o.lat*l,y=Math.sin(h)*Math.sin(p)+Math.cos(h)*Math.cos(p)*Math.cos((o.lng-this.lng)*l);return xv*Math.acos(Math.min(y,1))}toBounds(o=0){const l=360*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return new Zd(new Yd(this.lng-h,this.lat-l),new Yd(this.lng+h,this.lat+l))}toEcef(o){const l=Bx(o);return Pm(this.lat,this.lng,Ic+l)}static convert(o){if(o instanceof Yd)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Yd(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Yd(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Kr=Yd;function P2(a){return tO*Math.cos(a*Math.PI/180)}function Ac(a){return(180+a)/360}function Rc(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function Ul(a,o){return a/P2(o)}function Ta(a){return 360*a-180}function Ki(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function nO(a,o){return a*P2(Ki(o))}const Xi=85.051129;function rO(a){return 1/Math.cos(a*Math.PI/180)}class Im{constructor(o,l,h=0){this.x=+o,this.y=+l,this.z=+h}static fromLngLat(o,l=0){const h=Kr.convert(o);return new Im(Ac(h.lng),Rc(h.lat),Ul(l,h.lat))}toLngLat(){return new Kr(Ta(this.x),Ki(this.y))}toAltitude(){return nO(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/tO*rO(Ki(this.y))}}function k2(a,o,l,h,p,y,x,C,I){const M=(o+h)/2,j=(l+p)/2,V=new J(M,j);C(V),function(q,Q,te,ue,_e,Pe){const Le=te-_e,ke=ue-Pe;return Math.abs((ue-Q)*Le-(te-q)*ke)/Math.hypot(Le,ke)}(V.x,V.y,y.x,y.y,x.x,x.y)>=I?(k2(a,o,l,M,j,y,V,C,I),k2(a,M,j,h,p,V,x,C,I)):a.push(x)}function oO(a,o,l){let h=a[0],p=h.x,y=h.y;o(h);const x=[h];for(let C=1;C<a.length;C++){const I=a[C],{x:M,y:j}=I;o(I),k2(x,p,y,M,j,h,I,o,l),p=M,y=j,h=I}return x}function I2(a,o,l,h){if(h(o,l)){const p=o.add(l)._mult(.5);I2(a,o,p,h),I2(a,p,l,h)}else a.push(l)}function wG(a,o){let l=a[0];const h=[l];for(let p=1;p<a.length;p++){const y=a[p];I2(h,l,y,o),l=y}return h}const M2=Math.pow(2,14)-1,iO=-M2-1;function CG(a,o){const l=Math.round(a.x*o),h=Math.round(a.y*o);return a.x=ce(l,iO,M2),a.y=ce(h,iO,M2),(l<a.x||l>a.x+1||h<a.y||h>a.y+1)&&st("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function Lu(a,o,l){const h=a.loadGeometry(),p=a.extent,y=Ln/p;if(o&&l&&l.projection.isReprojectedInTileSpace){const x=1<<o.z,{scale:C,x:I,y:M,projection:j}=l,V=q=>{const Q=Ta((o.x+q.x/p)/x),te=Ki((o.y+q.y/p)/x),ue=j.project(Q,te);q.x=(ue.x*C-I)*p,q.y=(ue.y*C-M)*p};for(let q=0;q<h.length;q++)if(a.type!==1)h[q]=oO(h[q],V,1);else{const Q=[];for(const te of h[q])te.x<0||te.x>=p||te.y<0||te.y>=p||(V(te),Q.push(te));h[q]=Q}}for(const x of h)for(const C of x)CG(C,y);return h}function Wf(a,o){return{type:a.type,id:a.id,properties:a.properties,geometry:o?Lu(a):[]}}function Vx(a,o,l,h,p){a.emplaceBack(2*o+(h+1)/2,2*l+(p+1)/2)}function Hx(a,o,l){a.emplaceBack(o.x,o.y,o.z,l[0]*16384,l[1]*16384,l[2]*16384)}class A2{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasPattern=!1,this.projection=o.projection,this.layoutVertexArray=new Vt,this.indexArray=new Pn,this.segments=new ri,this.programConfigurations=new Bf(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,h,p){const y=this.layers[0],x=[];let C=null;y.type==="circle"&&(C=y.layout.get("circle-sort-key"));for(const{feature:M,id:j,index:V,sourceLayerIndex:q}of o){const Q=this.layers[0]._featureFilter.needGeometry,te=Wf(M,Q);if(!this.layers[0]._featureFilter.filter(new N(this.zoom),te,h))continue;const ue=C?C.evaluate(te,{},h):void 0,_e={id:j,properties:M.properties,type:M.type,sourceLayerIndex:q,index:V,geometry:Q?te.geometry:Lu(M,h,p),patterns:{},sortKey:ue};x.push(_e)}C&&x.sort((M,j)=>M.sortKey-j.sortKey);let I=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new Gt,I=p.projection);for(const M of x){const{geometry:j,index:V,sourceLayerIndex:q}=M,Q=o[V].feature;this.addFeature(M,j,V,l.availableImages,h,I),l.featureIndex.insert(Q,j,V,q,this.index)}}update(o,l,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,cG.members),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,uG.members))),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(o,l,h,p,y,x){for(const C of l)for(const I of C){const M=I.x,j=I.y;if(M<0||M>=Ln||j<0||j>=Ln)continue;if(x){const Q=x.projectTilePoint(M,j,y),te=x.upVector(y,M,j),ue=this.globeExtVertexArray;Hx(ue,Q,te),Hx(ue,Q,te),Hx(ue,Q,te),Hx(ue,Q,te)}const V=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),q=V.vertexLength;Vx(this.layoutVertexArray,M,j,-1,-1),Vx(this.layoutVertexArray,M,j,1,-1),Vx(this.layoutVertexArray,M,j,1,1),Vx(this.layoutVertexArray,M,j,-1,1),this.indexArray.emplaceBack(q,q+1,q+2),this.indexArray.emplaceBack(q,q+2,q+3),V.vertexLength+=4,V.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,{},p,y)}}function sO(a,o){for(let l=0;l<a.length;l++)if(qf(o,a[l]))return!0;for(let l=0;l<o.length;l++)if(qf(a,o[l]))return!0;return!!R2(a,o)}function SG(a,o,l){return!!qf(a,o)||!!O2(o,a,l)}function aO(a,o){if(a.length===1)return cO(o,a[0]);for(let l=0;l<o.length;l++){const h=o[l];for(let p=0;p<h.length;p++)if(qf(a,h[p]))return!0}for(let l=0;l<a.length;l++)if(cO(o,a[l]))return!0;for(let l=0;l<o.length;l++)if(R2(a,o[l]))return!0;return!1}function TG(a,o,l){if(a.length>1){if(R2(a,o))return!0;for(let h=0;h<o.length;h++)if(O2(o[h],a,l))return!0}for(let h=0;h<a.length;h++)if(O2(a[h],o,l))return!0;return!1}function R2(a,o){if(a.length===0||o.length===0)return!1;for(let l=0;l<a.length-1;l++){const h=a[l],p=a[l+1];for(let y=0;y<o.length-1;y++)if(EG(h,p,o[y],o[y+1]))return!0}return!1}function EG(a,o,l,h){return Ct(a,l,h)!==Ct(o,l,h)&&Ct(a,o,l)!==Ct(a,o,h)}function O2(a,o,l){const h=l*l;if(o.length===1)return a.distSqr(o[0])<h;for(let p=1;p<o.length;p++)if(lO(a,o[p-1],o[p])<h)return!0;return!1}function lO(a,o,l){const h=o.distSqr(l);if(h===0)return a.distSqr(o);const p=((a.x-o.x)*(l.x-o.x)+(a.y-o.y)*(l.y-o.y))/h;return a.distSqr(p<0?o:p>1?l:l.sub(o)._mult(p)._add(o))}function cO(a,o){let l,h,p,y=!1;for(let x=0;x<a.length;x++){l=a[x];for(let C=0,I=l.length-1;C<l.length;I=C++)h=l[C],p=l[I],h.y>o.y!=p.y>o.y&&o.x<(p.x-h.x)*(o.y-h.y)/(p.y-h.y)+h.x&&(y=!y)}return y}function qf(a,o){let l=!1;for(let h=0,p=a.length-1;h<a.length;p=h++){const y=a[h],x=a[p];y.y>o.y!=x.y>o.y&&o.x<(x.x-y.x)*(o.y-y.y)/(x.y-y.y)+y.x&&(l=!l)}return l}function uO(a,o,l,h,p){for(const x of a)if(o<=x.x&&l<=x.y&&h>=x.x&&p>=x.y)return!0;const y=[new J(o,l),new J(o,p),new J(h,p),new J(h,l)];if(a.length>2){for(const x of y)if(qf(a,x))return!0}for(let x=0;x<a.length-1;x++)if(PG(a[x],a[x+1],y))return!0;return!1}function PG(a,o,l){const h=l[0],p=l[2];if(a.x<h.x&&o.x<h.x||a.x>p.x&&o.x>p.x||a.y<h.y&&o.y<h.y||a.y>p.y&&o.y>p.y)return!1;const y=Ct(a,o,l[0]);return y!==Ct(a,o,l[1])||y!==Ct(a,o,l[2])||y!==Ct(a,o,l[3])}function Mm(a,o,l){const h=o.paint.get(a).value;return h.kind==="constant"?h.value:l.programConfigurations.get(o.id).getMaxValue(a)}function Gx(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function dO(a,o,l,h,p){if(!o[0]&&!o[1])return a;const y=J.convert(o)._mult(p);l==="viewport"&&y._rotate(-h);const x=[];for(let C=0;C<a.length;C++)x.push(a[C].sub(y));return x}function hO(a,o,l,h){const p=J.convert(a)._mult(h);return o==="viewport"&&p._rotate(-l),p}_n(A2,"CircleBucket",{omit:["layers"]});const kG=new Ae({"circle-sort-key":new be(_t.layout_circle["circle-sort-key"])});var IG={paint:new Ae({"circle-radius":new be(_t.paint_circle["circle-radius"]),"circle-color":new be(_t.paint_circle["circle-color"]),"circle-blur":new be(_t.paint_circle["circle-blur"]),"circle-opacity":new be(_t.paint_circle["circle-opacity"]),"circle-translate":new le(_t.paint_circle["circle-translate"]),"circle-translate-anchor":new le(_t.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new le(_t.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new le(_t.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new be(_t.paint_circle["circle-stroke-width"]),"circle-stroke-color":new be(_t.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new be(_t.paint_circle["circle-stroke-opacity"])}),layout:kG};function fO(a,o,l,h,p,y,x,C,I){if(y&&a.queryGeometry.isAboveHorizon)return!1;y&&(I*=a.pixelToTileUnitsFactor);const M=a.tileID.canonical,j=l.projection.upVectorScale(M,l.center.lat,l.worldSize).metersToTile;for(const V of o)for(const q of V){const Q=q.add(C),te=p&&l.elevation?l.elevation.exaggeration()*p.getElevationAt(Q.x,Q.y,!0):0,ue=l.projection.projectTilePoint(Q.x,Q.y,M);if(te>0){const ke=l.projection.upVector(M,Q.x,Q.y);ue.x+=ke[0]*j*te,ue.y+=ke[1]*j*te,ue.z+=ke[2]*j*te}const _e=y?Q:MG(ue.x,ue.y,ue.z,h),Pe=y?a.tilespaceRays.map(ke=>RG(ke,te)):a.queryGeometry.screenGeometry,Le=Vf([],[ue.x,ue.y,ue.z,1],h);if(!x&&y?I*=Le[3]/l.cameraToCenterDistance:x&&!y&&(I*=l.cameraToCenterDistance/Le[3]),y){const ke=Ki((q.y/Ln+M.y)/(1<<M.z));I/=l.projection.pixelsPerMeter(ke,1)/Ul(1,ke)}if(SG(Pe,_e,I))return!0}return!1}function MG(a,o,l,h){const p=Vf([],[a,o,l,1],h);return new J(p[0]/p[3],p[1]/p[3])}const pO=Tm(0,0,0),AG=Tm(0,0,1);function RG(a,o){const l=g2();return pO[2]=o,a.intersectsPlane(pO,AG,l),new J(l[0],l[1])}class mO extends A2{}function gO(a,{width:o,height:l},h,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==o*l*h)throw new RangeError("mismatched image size")}else p=new Uint8Array(o*l*h);return a.width=o,a.height=l,a.data=p,a}function yO(a,o,l){const{width:h,height:p}=o;h===a.width&&p===a.height||(D2(a,o,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,h),height:Math.min(a.height,p)},l),a.width=h,a.height=p,a.data=o.data)}function D2(a,o,l,h,p,y){if(p.width===0||p.height===0)return o;if(p.width>a.width||p.height>a.height||l.x>a.width-p.width||l.y>a.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>o.width||p.height>o.height||h.x>o.width-p.width||h.y>o.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const x=a.data,C=o.data;for(let I=0;I<p.height;I++){const M=((l.y+I)*a.width+l.x)*y,j=((h.y+I)*o.width+h.x)*y;for(let V=0;V<p.width*y;V++)C[j+V]=x[M+V]}return o}_n(mO,"HeatmapBucket",{omit:["layers"]});class zu{constructor(o,l){gO(this,o,1,l)}resize(o){yO(this,new zu(o),1)}clone(){return new zu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,h,p,y){D2(o,l,h,p,y,1)}}class Ks{constructor(o,l){gO(this,o,4,l)}resize(o){yO(this,new Ks(o),4)}replace(o,l){l?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new Ks({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,l,h,p,y){D2(o,l,h,p,y,4)}}_n(zu,"AlphaImage"),_n(Ks,"RGBAImage");var OG={paint:new Ae({"heatmap-radius":new be(_t.paint_heatmap["heatmap-radius"]),"heatmap-weight":new be(_t.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new le(_t.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Me(_t.paint_heatmap["heatmap-color"]),"heatmap-opacity":new le(_t.paint_heatmap["heatmap-opacity"])})};function L2(a){const o={},l=a.resolution||256,h=a.clips?a.clips.length:1,p=a.image||new Ks({width:l,height:h}),y=(x,C,I)=>{o[a.evaluationKey]=I;const M=a.expression.evaluate(o);p.data[x+C+0]=Math.floor(255*M.r/M.a),p.data[x+C+1]=Math.floor(255*M.g/M.a),p.data[x+C+2]=Math.floor(255*M.b/M.a),p.data[x+C+3]=Math.floor(255*M.a)};if(a.clips)for(let x=0,C=0;x<h;++x,C+=4*l)for(let I=0,M=0;I<l;I++,M+=4){const j=I/(l-1),{start:V,end:q}=a.clips[x];y(C,M,V*(1-j)+q*j)}else for(let x=0,C=0;x<l;x++,C+=4)y(0,C,x/(l-1));return p}var DG={paint:new Ae({"hillshade-illumination-direction":new le(_t.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new le(_t.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new le(_t.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new le(_t.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new le(_t.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new le(_t.paint_hillshade["hillshade-accent-color"])})};const LG=Ze([{name:"a_pos",components:2,type:"Int16"}],4),{members:zG}=LG;var z2={exports:{}};function Wx(a,o,l){l=l||2;var h,p,y,x,C,I,M,j=o&&o.length,V=j?o[0]*l:a.length,q=vO(a,0,V,l,!0),Q=[];if(!q||q.next===q.prev)return Q;if(j&&(q=function(ue,_e,Pe,Le){var ke,Oe,je,Fe=[];for(ke=0,Oe=_e.length;ke<Oe;ke++)(je=vO(ue,_e[ke]*Le,ke<Oe-1?_e[ke+1]*Le:ue.length,Le,!1))===je.next&&(je.steiner=!0),Fe.push(HG(je));for(Fe.sort(NG),ke=0;ke<Fe.length;ke++)Pe=UG(Fe[ke],Pe);return Pe}(a,o,q,l)),a.length>80*l){h=y=a[0],p=x=a[1];for(var te=l;te<V;te+=l)(C=a[te])<h&&(h=C),(I=a[te+1])<p&&(p=I),C>y&&(y=C),I>x&&(x=I);M=(M=Math.max(y-h,x-p))!==0?32767/M:0}return bv(q,Q,l,h,p,M,0),Q}function vO(a,o,l,h,p){var y,x;if(p===$2(a,o,l,h)>0)for(y=o;y<l;y+=h)x=bO(y,a[y],a[y+1],x);else for(y=l-h;y>=o;y-=h)x=bO(y,a[y],a[y+1],x);return x&&qx(x,x.next)&&(Cv(x),x=x.next),x}function Zf(a,o){if(!a)return a;o||(o=a);var l,h=a;do if(l=!1,h.steiner||!qx(h,h.next)&&oi(h.prev,h,h.next)!==0)h=h.next;else{if(Cv(h),(h=o=h.prev)===h.next)break;l=!0}while(l||h!==o);return o}function bv(a,o,l,h,p,y,x){if(a){!x&&y&&function(j,V,q,Q){var te=j;do te.z===0&&(te.z=F2(te.x,te.y,V,q,Q)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next;while(te!==j);te.prevZ.nextZ=null,te.prevZ=null,function(ue){var _e,Pe,Le,ke,Oe,je,Fe,lt,rt=1;do{for(Pe=ue,ue=null,Oe=null,je=0;Pe;){for(je++,Le=Pe,Fe=0,_e=0;_e<rt&&(Fe++,Le=Le.nextZ);_e++);for(lt=rt;Fe>0||lt>0&&Le;)Fe!==0&&(lt===0||!Le||Pe.z<=Le.z)?(ke=Pe,Pe=Pe.nextZ,Fe--):(ke=Le,Le=Le.nextZ,lt--),Oe?Oe.nextZ=ke:ue=ke,ke.prevZ=Oe,Oe=ke;Pe=Le}Oe.nextZ=null,rt*=2}while(je>1)}(te)}(a,h,p,y);for(var C,I,M=a;a.prev!==a.next;)if(C=a.prev,I=a.next,y?jG(a,h,p,y):FG(a))o.push(C.i/l|0),o.push(a.i/l|0),o.push(I.i/l|0),Cv(a),a=I.next,M=I.next;else if((a=I)===M){x?x===1?bv(a=$G(Zf(a),o,l),o,l,h,p,y,2):x===2&&BG(a,o,l,h,p,y):bv(Zf(a),o,l,h,p,y,1);break}}}function FG(a){var o=a.prev,l=a,h=a.next;if(oi(o,l,h)>=0)return!1;for(var p=o.x,y=l.x,x=h.x,C=o.y,I=l.y,M=h.y,j=p<y?p<x?p:x:y<x?y:x,V=C<I?C<M?C:M:I<M?I:M,q=p>y?p>x?p:x:y>x?y:x,Q=C>I?C>M?C:M:I>M?I:M,te=h.next;te!==o;){if(te.x>=j&&te.x<=q&&te.y>=V&&te.y<=Q&&Am(p,C,y,I,x,M,te.x,te.y)&&oi(te.prev,te,te.next)>=0)return!1;te=te.next}return!0}function jG(a,o,l,h){var p=a.prev,y=a,x=a.next;if(oi(p,y,x)>=0)return!1;for(var C=p.x,I=y.x,M=x.x,j=p.y,V=y.y,q=x.y,Q=C<I?C<M?C:M:I<M?I:M,te=j<V?j<q?j:q:V<q?V:q,ue=C>I?C>M?C:M:I>M?I:M,_e=j>V?j>q?j:q:V>q?V:q,Pe=F2(Q,te,o,l,h),Le=F2(ue,_e,o,l,h),ke=a.prevZ,Oe=a.nextZ;ke&&ke.z>=Pe&&Oe&&Oe.z<=Le;){if(ke.x>=Q&&ke.x<=ue&&ke.y>=te&&ke.y<=_e&&ke!==p&&ke!==x&&Am(C,j,I,V,M,q,ke.x,ke.y)&&oi(ke.prev,ke,ke.next)>=0||(ke=ke.prevZ,Oe.x>=Q&&Oe.x<=ue&&Oe.y>=te&&Oe.y<=_e&&Oe!==p&&Oe!==x&&Am(C,j,I,V,M,q,Oe.x,Oe.y)&&oi(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;ke&&ke.z>=Pe;){if(ke.x>=Q&&ke.x<=ue&&ke.y>=te&&ke.y<=_e&&ke!==p&&ke!==x&&Am(C,j,I,V,M,q,ke.x,ke.y)&&oi(ke.prev,ke,ke.next)>=0)return!1;ke=ke.prevZ}for(;Oe&&Oe.z<=Le;){if(Oe.x>=Q&&Oe.x<=ue&&Oe.y>=te&&Oe.y<=_e&&Oe!==p&&Oe!==x&&Am(C,j,I,V,M,q,Oe.x,Oe.y)&&oi(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function $G(a,o,l){var h=a;do{var p=h.prev,y=h.next.next;!qx(p,y)&&_O(p,h,h.next,y)&&wv(p,y)&&wv(y,p)&&(o.push(p.i/l|0),o.push(h.i/l|0),o.push(y.i/l|0),Cv(h),Cv(h.next),h=a=y),h=h.next}while(h!==a);return Zf(h)}function BG(a,o,l,h,p,y){var x=a;do{for(var C=x.next.next;C!==x.prev;){if(x.i!==C.i&&GG(x,C)){var I=xO(x,C);return x=Zf(x,x.next),I=Zf(I,I.next),bv(x,o,l,h,p,y,0),void bv(I,o,l,h,p,y,0)}C=C.next}x=x.next}while(x!==a)}function NG(a,o){return a.x-o.x}function UG(a,o){var l=function(p,y){var x,C=y,I=p.x,M=p.y,j=-1/0;do{if(M<=C.y&&M>=C.next.y&&C.next.y!==C.y){var V=C.x+(M-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(V<=I&&V>j&&(j=V,x=C.x<C.next.x?C:C.next,V===I))return x}C=C.next}while(C!==y);if(!x)return null;var q,Q=x,te=x.x,ue=x.y,_e=1/0;C=x;do I>=C.x&&C.x>=te&&I!==C.x&&Am(M<ue?I:j,M,te,ue,M<ue?j:I,M,C.x,C.y)&&(q=Math.abs(M-C.y)/(I-C.x),wv(C,p)&&(q<_e||q===_e&&(C.x>x.x||C.x===x.x&&VG(x,C)))&&(x=C,_e=q)),C=C.next;while(C!==Q);return x}(a,o);if(!l)return o;var h=xO(l,a);return Zf(h,h.next),Zf(l,l.next)}function VG(a,o){return oi(a.prev,a,o.prev)<0&&oi(o.next,a,a.next)<0}function F2(a,o,l,h,p){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-l)*p|0)|a<<8))|a<<4))|a<<2))|a<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-h)*p|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function HG(a){var o=a,l=a;do(o.x<l.x||o.x===l.x&&o.y<l.y)&&(l=o),o=o.next;while(o!==a);return l}function Am(a,o,l,h,p,y,x,C){return(p-x)*(o-C)>=(a-x)*(y-C)&&(a-x)*(h-C)>=(l-x)*(o-C)&&(l-x)*(y-C)>=(p-x)*(h-C)}function GG(a,o){return a.next.i!==o.i&&a.prev.i!==o.i&&!function(l,h){var p=l;do{if(p.i!==l.i&&p.next.i!==l.i&&p.i!==h.i&&p.next.i!==h.i&&_O(p,p.next,l,h))return!0;p=p.next}while(p!==l);return!1}(a,o)&&(wv(a,o)&&wv(o,a)&&function(l,h){var p=l,y=!1,x=(l.x+h.x)/2,C=(l.y+h.y)/2;do p.y>C!=p.next.y>C&&p.next.y!==p.y&&x<(p.next.x-p.x)*(C-p.y)/(p.next.y-p.y)+p.x&&(y=!y),p=p.next;while(p!==l);return y}(a,o)&&(oi(a.prev,a,o.prev)||oi(a,o.prev,o))||qx(a,o)&&oi(a.prev,a,a.next)>0&&oi(o.prev,o,o.next)>0)}function oi(a,o,l){return(o.y-a.y)*(l.x-o.x)-(o.x-a.x)*(l.y-o.y)}function qx(a,o){return a.x===o.x&&a.y===o.y}function _O(a,o,l,h){var p=Yx(oi(a,o,l)),y=Yx(oi(a,o,h)),x=Yx(oi(l,h,a)),C=Yx(oi(l,h,o));return p!==y&&x!==C||!(p!==0||!Zx(a,l,o))||!(y!==0||!Zx(a,h,o))||!(x!==0||!Zx(l,a,h))||!(C!==0||!Zx(l,o,h))}function Zx(a,o,l){return o.x<=Math.max(a.x,l.x)&&o.x>=Math.min(a.x,l.x)&&o.y<=Math.max(a.y,l.y)&&o.y>=Math.min(a.y,l.y)}function Yx(a){return a>0?1:a<0?-1:0}function wv(a,o){return oi(a.prev,a,a.next)<0?oi(a,o,a.next)>=0&&oi(a,a.prev,o)>=0:oi(a,o,a.prev)<0||oi(a,a.next,o)<0}function xO(a,o){var l=new j2(a.i,a.x,a.y),h=new j2(o.i,o.x,o.y),p=a.next,y=o.prev;return a.next=o,o.prev=a,l.next=p,p.prev=l,h.next=l,l.prev=h,y.next=h,h.prev=y,h}function bO(a,o,l,h){var p=new j2(a,o,l);return h?(p.next=h.next,p.prev=h,h.next.prev=p,h.next=p):(p.prev=p,p.next=p),p}function Cv(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function j2(a,o,l){this.i=a,this.x=o,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $2(a,o,l,h){for(var p=0,y=o,x=l-h;y<l;y+=h)p+=(a[x]-a[y])*(a[y+1]+a[x+1]),x=y;return p}z2.exports=Wx,z2.exports.default=Wx,Wx.deviation=function(a,o,l,h){var p=o&&o.length,y=Math.abs($2(a,0,p?o[0]*l:a.length,l));if(p)for(var x=0,C=o.length;x<C;x++)y-=Math.abs($2(a,o[x]*l,x<C-1?o[x+1]*l:a.length,l));var I=0;for(x=0;x<h.length;x+=3){var M=h[x]*l,j=h[x+1]*l,V=h[x+2]*l;I+=Math.abs((a[M]-a[V])*(a[j+1]-a[M+1])-(a[M]-a[j])*(a[V+1]-a[M+1]))}return y===0&&I===0?0:Math.abs((I-y)/y)},Wx.flatten=function(a){for(var o=a[0][0].length,l={vertices:[],holes:[],dimensions:o},h=0,p=0;p<a.length;p++){for(var y=0;y<a[p].length;y++)for(var x=0;x<o;x++)l.vertices.push(a[p][y][x]);p>0&&l.holes.push(h+=a[p-1].length)}return l};var B2=B(z2.exports);function WG(a,o,l,h,p){wO(a,o,l||0,h||a.length-1,p||qG)}function wO(a,o,l,h,p){for(;h>l;){if(h-l>600){var y=h-l+1,x=o-l+1,C=Math.log(y),I=.5*Math.exp(2*C/3),M=.5*Math.sqrt(C*I*(y-I)/y)*(x-y/2<0?-1:1);wO(a,o,Math.max(l,Math.floor(o-x*I/y+M)),Math.min(h,Math.floor(o+(y-x)*I/y+M)),p)}var j=a[o],V=l,q=h;for(Sv(a,l,o),p(a[h],j)>0&&Sv(a,l,h);V<q;){for(Sv(a,V,q),V++,q--;p(a[V],j)<0;)V++;for(;p(a[q],j)>0;)q--}p(a[l],j)===0?Sv(a,l,q):Sv(a,++q,h),q<=o&&(l=q+1),o<=q&&(h=q-1)}}function Sv(a,o,l){var h=a[o];a[o]=a[l],a[l]=h}function qG(a,o){return a<o?-1:a>o?1:0}function N2(a,o){const l=a.length;if(l<=1)return[a];const h=[];let p,y;for(let x=0;x<l;x++){const C=ht(a[x]);C!==0&&(a[x].area=Math.abs(C),y===void 0&&(y=C<0),y===C<0?(p&&h.push(p),p=[a[x]]):p.push(a[x]))}if(p&&h.push(p),o>1)for(let x=0;x<h.length;x++)h[x].length<=o||(WG(h[x],o,1,h[x].length-1,ZG),h[x]=h[x].slice(0,o));return h}function ZG(a,o){return o.area-a.area}function U2(a,o,l){const h=l.patternDependencies;let p=!1;for(const y of o){const x=y.paint.get(`${a}-pattern`);x.isConstant()||(p=!0);const C=x.constantOr(null);C&&(p=!0,h[C]=!0)}return p}function V2(a,o,l,h,p){const y=p.patternDependencies;for(const x of o){const C=x.paint.get(`${a}-pattern`).value;if(C.kind!=="constant"){let I=C.evaluate({zoom:h},l,{},p.availableImages);I=I&&I.name?I.name:I,y[I]=!0,l.patterns[x.id]=I}}return l}class Kx{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Vt,this.indexArray=new Pn,this.indexArray2=new Mi,this.programConfigurations=new Bf(o.layers,o.zoom),this.segments=new ri,this.segments2=new ri,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=o.projection}populate(o,l,h,p){this.hasPattern=U2("fill",this.layers,l);const y=this.layers[0].layout.get("fill-sort-key"),x=[];for(const{feature:C,id:I,index:M,sourceLayerIndex:j}of o){const V=this.layers[0]._featureFilter.needGeometry,q=Wf(C,V);if(!this.layers[0]._featureFilter.filter(new N(this.zoom),q,h))continue;const Q=y?y.evaluate(q,{},h,l.availableImages):void 0,te={id:I,properties:C.properties,type:C.type,sourceLayerIndex:j,index:M,geometry:V?q.geometry:Lu(C,h,p),patterns:{},sortKey:Q};x.push(te)}y&&x.sort((C,I)=>C.sortKey-I.sortKey);for(const C of x){const{geometry:I,index:M,sourceLayerIndex:j}=C;if(this.hasPattern){const V=V2("fill",this.layers,C,this.zoom,l);this.patternFeatures.push(V)}else this.addFeature(C,I,M,h,{},l.availableImages);l.featureIndex.insert(o[M].feature,I,M,j,this.index)}}update(o,l,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,h,p)}addFeatures(o,l,h,p,y){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,l,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,zG),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,l,h,p,y,x=[]){for(const C of N2(l,500)){let I=0;for(const te of C)I+=te.length;const M=this.segments.prepareSegment(I,this.layoutVertexArray,this.indexArray),j=M.vertexLength,V=[],q=[];for(const te of C){if(te.length===0)continue;te!==C[0]&&q.push(V.length/2);const ue=this.segments2.prepareSegment(te.length,this.layoutVertexArray,this.indexArray2),_e=ue.vertexLength;this.layoutVertexArray.emplaceBack(te[0].x,te[0].y),this.indexArray2.emplaceBack(_e+te.length-1,_e),V.push(te[0].x),V.push(te[0].y);for(let Pe=1;Pe<te.length;Pe++)this.layoutVertexArray.emplaceBack(te[Pe].x,te[Pe].y),this.indexArray2.emplaceBack(_e+Pe-1,_e+Pe),V.push(te[Pe].x),V.push(te[Pe].y);ue.vertexLength+=te.length,ue.primitiveLength+=te.length}const Q=B2(V,q);for(let te=0;te<Q.length;te+=3)this.indexArray.emplaceBack(j+Q[te],j+Q[te+1],j+Q[te+2]);M.vertexLength+=I,M.primitiveLength+=Q.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,y,x,p)}}_n(Kx,"FillBucket",{omit:["layers","patternFeatures"]});const YG=new Ae({"fill-sort-key":new be(_t.layout_fill["fill-sort-key"])});var KG={paint:new Ae({"fill-antialias":new le(_t.paint_fill["fill-antialias"]),"fill-opacity":new be(_t.paint_fill["fill-opacity"]),"fill-color":new be(_t.paint_fill["fill-color"]),"fill-outline-color":new be(_t.paint_fill["fill-outline-color"]),"fill-translate":new le(_t.paint_fill["fill-translate"]),"fill-translate-anchor":new le(_t.paint_fill["fill-translate-anchor"]),"fill-pattern":new be(_t.paint_fill["fill-pattern"])}),layout:YG};const XG=Ze([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),JG=Ze([{name:"a_centroid_pos",components:2,type:"Uint16"}]),QG=Ze([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:e8}=XG;var Xx={},t8=W,CO=Rm;function Rm(a,o,l,h,p){this.properties={},this.extent=l,this.type=0,this._pbf=a,this._geometry=-1,this._keys=h,this._values=p,a.readFields(n8,this,o)}function n8(a,o,l){a==1?o.id=l.readVarint():a==2?function(h,p){for(var y=h.readVarint()+h.pos;h.pos<y;){var x=p._keys[h.readVarint()],C=p._values[h.readVarint()];p.properties[x]=C}}(l,o):a==3?o.type=l.readVarint():a==4&&(o._geometry=l.pos)}function r8(a){for(var o,l,h=0,p=0,y=a.length,x=y-1;p<y;x=p++)h+=((l=a[x]).x-(o=a[p]).x)*(o.y+l.y);return h}Rm.types=["Unknown","Point","LineString","Polygon"],Rm.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var o,l=a.readVarint()+a.pos,h=1,p=0,y=0,x=0,C=[];a.pos<l;){if(p<=0){var I=a.readVarint();h=7&I,p=I>>3}if(p--,h===1||h===2)y+=a.readSVarint(),x+=a.readSVarint(),h===1&&(o&&C.push(o),o=[]),o.push(new t8(y,x));else{if(h!==7)throw new Error("unknown command "+h);o&&o.push(o[0].clone())}}return o&&C.push(o),C},Rm.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var o=a.readVarint()+a.pos,l=1,h=0,p=0,y=0,x=1/0,C=-1/0,I=1/0,M=-1/0;a.pos<o;){if(h<=0){var j=a.readVarint();l=7&j,h=j>>3}if(h--,l===1||l===2)(p+=a.readSVarint())<x&&(x=p),p>C&&(C=p),(y+=a.readSVarint())<I&&(I=y),y>M&&(M=y);else if(l!==7)throw new Error("unknown command "+l)}return[x,I,C,M]},Rm.prototype.toGeoJSON=function(a,o,l){var h,p,y=this.extent*Math.pow(2,l),x=this.extent*a,C=this.extent*o,I=this.loadGeometry(),M=Rm.types[this.type];function j(Q){for(var te=0;te<Q.length;te++){var ue=Q[te];Q[te]=[360*(ue.x+x)/y-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+C)/y)*Math.PI/180))-90]}}switch(this.type){case 1:var V=[];for(h=0;h<I.length;h++)V[h]=I[h][0];j(I=V);break;case 2:for(h=0;h<I.length;h++)j(I[h]);break;case 3:for(I=function(Q){var te=Q.length;if(te<=1)return[Q];for(var ue,_e,Pe=[],Le=0;Le<te;Le++){var ke=r8(Q[Le]);ke!==0&&(_e===void 0&&(_e=ke<0),_e===ke<0?(ue&&Pe.push(ue),ue=[Q[Le]]):ue.push(Q[Le]))}return ue&&Pe.push(ue),Pe}(I),h=0;h<I.length;h++)for(p=0;p<I[h].length;p++)j(I[h][p])}I.length===1?I=I[0]:M="Multi"+M;var q={type:"Feature",geometry:{type:M,coordinates:I},properties:this.properties};return"id"in this&&(q.id=this.id),q};var o8=CO,SO=TO;function TO(a,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(i8,this,o),this.length=this._features.length}function i8(a,o,l){a===15?o.version=l.readVarint():a===1?o.name=l.readString():a===5?o.extent=l.readVarint():a===2?o._features.push(l.pos):a===3?o._keys.push(l.readString()):a===4&&o._values.push(function(h){for(var p=null,y=h.readVarint()+h.pos;h.pos<y;){var x=h.readVarint()>>3;p=x===1?h.readString():x===2?h.readFloat():x===3?h.readDouble():x===4?h.readVarint64():x===5?h.readVarint():x===6?h.readSVarint():x===7?h.readBoolean():null}return p}(l))}TO.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var o=this._pbf.readVarint()+this._pbf.pos;return new o8(this._pbf,o,this.extent,this._keys,this._values)};var s8=SO;function a8(a,o,l){if(a===3){var h=new s8(l,l.readVarint()+l.pos);h.length&&(o[h.name]=h)}}var H2=Xx.VectorTile=function(a,o){this.layers=a.readFields(a8,{},o)},Jx=Xx.VectorTileFeature=CO;function Qx(a,o,l,h){const p=[],y=h===0?(x,C,I,M,j,V)=>{x.push(new J(V,I+(V-C)/(M-C)*(j-I)))}:(x,C,I,M,j,V)=>{x.push(new J(C+(V-I)/(j-I)*(M-C),V))};for(const x of a){const C=[];for(const I of x){if(I.length<=2)continue;const M=[];for(let q=0;q<I.length-1;q++){const Q=I[q].x,te=I[q].y,ue=I[q+1].x,_e=I[q+1].y,Pe=h===0?Q:te,Le=h===0?ue:_e;Pe<o?Le>o&&y(M,Q,te,ue,_e,o):Pe>l?Le<l&&y(M,Q,te,ue,_e,l):M.push(I[q]),Le<o&&Pe>=o&&y(M,Q,te,ue,_e,o),Le>l&&Pe<=l&&y(M,Q,te,ue,_e,l)}let j=I[I.length-1];const V=h===0?j.x:j.y;V>=o&&V<=l&&M.push(j),M.length&&(j=M[M.length-1],M[0].x===j.x&&M[0].y===j.y||M.push(M[0]),C.push(M))}C.length&&p.push(C)}return p}Xx.VectorTileLayer=SO;const l8=Jx.types,c8=Math.pow(2,13);function Tv(a,o,l,h,p,y,x,C){a.emplaceBack((o<<1)+x,(l<<1)+y,(Math.floor(h*c8)<<1)+p,Math.round(C))}function Ev(a,o,l){a.emplaceBack(o.x,o.y,o.z,l[0]*16384,l[1]*16384,l[2]*16384)}class EO{constructor(){this.acc=new J(0,0),this.polyCount=[]}startRing(o){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new J(o.x,o.y),this.max=new J(o.x,o.y))}append(o,l){this.currentPolyCount.edges++,this.acc._add(o);const h=this.min,p=this.max;o.x<h.x?h.x=o.x:o.x>p.x&&(p.x=o.x),o.y<h.y?h.y=o.y:o.y>p.y&&(p.y=o.y),((o.x===0||o.x===Ln)&&o.x===l.x)!=((o.y===0||o.y===Ln)&&o.y===l.y)&&this.processBorderOverlap(o,l),l.x<0!=o.x<0&&this.addBorderIntersection(0,xr(l.y,o.y,(0-l.x)/(o.x-l.x))),l.x>Ln!=o.x>Ln&&this.addBorderIntersection(1,xr(l.y,o.y,(Ln-l.x)/(o.x-l.x))),l.y<0!=o.y<0&&this.addBorderIntersection(2,xr(l.x,o.x,(0-l.y)/(o.y-l.y))),l.y>Ln!=o.y>Ln&&this.addBorderIntersection(3,xr(l.x,o.x,(Ln-l.y)/(o.y-l.y)))}addBorderIntersection(o,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const h=this.borders[o];l<h[0]&&(h[0]=l),l>h[1]&&(h[1]=l)}processBorderOverlap(o,l){if(o.x===l.x){if(o.y===l.y)return;const h=o.x===0?0:1;this.addBorderIntersection(h,l.y),this.addBorderIntersection(h,o.y)}else{const h=o.y===0?2:3;this.addBorderIntersection(h,l.x),this.addBorderIntersection(h,o.x)}}centroid(){const o=this.polyCount.reduce((l,h)=>l+h.edges,0);return o!==0?this.acc.div(o)._round():new J(0,0)}span(){return new J(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((o,l)=>o+ +(l[0]!==Number.MAX_VALUE),0)}}class Pv{constructor(o){this.zoom=o.zoom,this.canonical=o.canonical,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=o.projection,this.layoutVertexArray=new Tt,this.centroidVertexArray=new Fl,this.indexArray=new Pn,this.programConfigurations=new Bf(o.layers,o.zoom),this.segments=new ri,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=o.enableTerrain}populate(o,l,h,p){this.features=[],this.hasPattern=U2("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(y){const x=Math.exp(Math.PI*(1-y.y/(1<<y.z)*2));return 80150034*x/(x*x+1)/Ln/(1<<y.z)}(h),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:y,id:x,index:C,sourceLayerIndex:I}of o){const M=this.layers[0]._featureFilter.needGeometry,j=Wf(y,M);if(!this.layers[0]._featureFilter.filter(new N(this.zoom),j,h))continue;const V={id:x,sourceLayerIndex:I,index:C,geometry:M?j.geometry:Lu(y,h,p),properties:y.properties,type:y.type,patterns:{}},q=this.layoutVertexArray.length;this.hasPattern?this.features.push(V2("fill-extrusion",this.layers,V,this.zoom,l)):this.addFeature(V,V.geometry,C,h,{},l.availableImages,p),l.featureIndex.insert(y,V.geometry,C,I,this.index,q)}this.sortBorders()}addFeatures(o,l,h,p,y){for(const x of this.features){const{geometry:C}=x;this.addFeature(x,C,x.index,l,h,p,y)}this.sortBorders()}update(o,l,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,e8),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=o.createVertexBuffer(this.layoutVertexExtArray,QG.members,!0))),this.programConfigurations.upload(o),this.uploaded=!0}uploadCentroid(o){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,JG.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,l,h,p,y,x,C){const I=[new J(0,0),new J(Ln,Ln)],M=C.projection,j=M.name==="globe",V=this.enableTerrain&&!j?new EO:null,q=l8[o.type]==="Polygon";j&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Gt);const Q=N2(l,500);for(let Pe=Q.length-1;Pe>=0;Pe--){const Le=Q[Pe];(Le.length===0||(te=Le[0]).every(ke=>ke.x<=0)||te.every(ke=>ke.x>=Ln)||te.every(ke=>ke.y<=0)||te.every(ke=>ke.y>=Ln))&&Q.splice(Pe,1)}var te;let ue;if(j)ue=OO(Q,I,p);else{ue=[];for(const Pe of Q)ue.push({polygon:Pe,bounds:I})}const _e=q?this.edgeRadius:0;for(const{polygon:Pe,bounds:Le}of ue){let ke=0,Oe=0;for(const Fe of Pe)q&&!Fe[0].equals(Fe[Fe.length-1])&&Fe.push(Fe[0]),Oe+=q?Fe.length-1:Fe.length;const je=this.segments.prepareSegment((q?5:4)*Oe,this.layoutVertexArray,this.indexArray);if(q){const Fe=[],lt=[];ke=je.vertexLength;for(const bt of Pe){let Ht,ut;bt.length&&bt!==Pe[0]&&lt.push(Fe.length/2),Ht=bt[1].sub(bt[0])._perp()._unit();for(let kt=1;kt<bt.length;kt++){const It=bt[kt],Lt=bt[kt===bt.length-1?1:kt+1];let{x:Xt,y:yt}=It;if(_e){ut=Lt.sub(It)._perp()._unit();const ln=Ht.add(ut)._unit(),bn=_e*Math.min(4,1/(Ht.x*ln.x+Ht.y*ln.y));Xt+=bn*ln.x,yt+=bn*ln.y,Ht=ut}Tv(this.layoutVertexArray,Xt,yt,0,0,1,1,0),je.vertexLength++,Fe.push(It.x,It.y),j&&Ev(this.layoutVertexExtArray,M.projectTilePoint(Xt,yt,p),M.upVector(p,Xt,yt))}}const rt=B2(Fe,lt);for(let bt=0;bt<rt.length;bt+=3)this.indexArray.emplaceBack(ke+rt[bt],ke+rt[bt+2],ke+rt[bt+1]),je.primitiveLength++}for(const Fe of Pe){V&&Fe.length&&V.startRing(Fe[0]);let lt,rt,bt,Ht=Fe.length>4&&MO(Fe[Fe.length-2],Fe[0],Fe[1]),ut=_e?u8(Fe[Fe.length-2],Fe[0],Fe[1],_e):0;rt=Fe[1].sub(Fe[0])._perp()._unit();let kt=!0;for(let It=1,Lt=0;It<Fe.length;It++){let Xt=Fe[It-1],yt=Fe[It];const ln=Fe[It===Fe.length-1?1:It+1];if(V&&q&&V.currentPolyCount.top++,IO(yt,Xt,Le)){_e&&(rt=ln.sub(yt)._perp()._unit(),kt=!kt);continue}V&&V.append(yt,Xt);const bn=yt.sub(Xt)._perp(),fn=bn.x/(Math.abs(bn.x)+Math.abs(bn.y)),Qn=bn.y>0?1:0,Jt=Xt.dist(yt);if(Lt+Jt>32768&&(Lt=0),_e){bt=ln.sub(yt)._perp()._unit();let tr=kO(Xt,yt,ln,PO(rt,bt),_e);isNaN(tr)&&(tr=0);const Bn=yt.sub(Xt)._unit();Xt=Xt.add(Bn.mult(ut))._round(),yt=yt.add(Bn.mult(-tr))._round(),ut=tr,rt=bt}const An=je.vertexLength,er=Fe.length>4&&MO(Xt,yt,ln);let Ir=AO(Lt,Ht,kt);if(Tv(this.layoutVertexArray,Xt.x,Xt.y,fn,Qn,0,0,Ir),Tv(this.layoutVertexArray,Xt.x,Xt.y,fn,Qn,0,1,Ir),Lt+=Jt,Ir=AO(Lt,er,!kt),Ht=er,Tv(this.layoutVertexArray,yt.x,yt.y,fn,Qn,0,0,Ir),Tv(this.layoutVertexArray,yt.x,yt.y,fn,Qn,0,1,Ir),je.vertexLength+=4,this.indexArray.emplaceBack(An+0,An+1,An+2),this.indexArray.emplaceBack(An+1,An+3,An+2),je.primitiveLength+=2,_e){const tr=ke+(It===1?Fe.length-2:It-2),Bn=It===1?ke:tr+1;if(this.indexArray.emplaceBack(An+1,tr,An+3),this.indexArray.emplaceBack(tr,Bn,An+3),je.primitiveLength+=2,lt===void 0&&(lt=An),!IO(ln,Fe[It],Le)){const mo=It===Fe.length-1?lt:je.vertexLength;this.indexArray.emplaceBack(An+2,An+3,mo),this.indexArray.emplaceBack(An+3,mo+1,mo),this.indexArray.emplaceBack(An+3,Bn,mo+1),je.primitiveLength+=3}kt=!kt}if(j){const tr=this.layoutVertexExtArray,Bn=M.projectTilePoint(Xt.x,Xt.y,p),mo=M.projectTilePoint(yt.x,yt.y,p),rr=M.upVector(p,Xt.x,Xt.y),or=M.upVector(p,yt.x,yt.y);Ev(tr,Bn,rr),Ev(tr,Bn,rr),Ev(tr,mo,or),Ev(tr,mo,or)}}q&&(ke+=Fe.length-1)}}if(V&&V.polyCount.length>0){if(V.borders){V.vertexArrayOffset=this.centroidVertexArray.length;const Pe=V.borders,Le=this.featuresOnBorder.push(V)-1;for(let ke=0;ke<4;ke++)Pe[ke][0]!==Number.MAX_VALUE&&this.borders[ke].push(Le)}this.encodeCentroid(V.borders?void 0:V.centroid(),V)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,y,x,p)}sortBorders(){for(let o=0;o<4;o++)this.borders[o].sort((l,h)=>this.featuresOnBorder[l].borders[o][0]-this.featuresOnBorder[h].borders[o][0])}encodeCentroid(o,l,h=!0){let p,y;if(o)if(o.y!==0){const C=l.span()._mult(this.tileToMeter);p=(Math.max(o.x,1)<<3)+Math.min(7,Math.round(C.x/10)),y=(Math.max(o.y,1)<<3)+Math.min(7,Math.round(C.y/10))}else p=Math.ceil(7*(o.x+450)),y=0;else p=0,y=+h;let x=h?this.centroidVertexArray.length:l.vertexArrayOffset;for(const C of l.polyCount){h&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*C.edges+C.top);for(let I=0;I<C.top;I++)this.centroidVertexArray.emplace(x++,p,y);for(let I=0;I<2*C.edges;I++)this.centroidVertexArray.emplace(x++,0,y),this.centroidVertexArray.emplace(x++,p,y)}}}function PO(a,o){const l=a.add(o)._unit();return a.x*l.x+a.y*l.y}function u8(a,o,l,h){const p=o.sub(a)._perp()._unit(),y=l.sub(o)._perp()._unit();return kO(a,o,l,PO(p,y),h)}function kO(a,o,l,h,p){const y=Math.sqrt(1-h*h);return Math.min(a.dist(o)/3,o.dist(l)/3,p*y/h)}function IO(a,o,l){return a.x<l[0].x&&o.x<l[0].x||a.x>l[1].x&&o.x>l[1].x||a.y<l[0].y&&o.y<l[0].y||a.y>l[1].y&&o.y>l[1].y}function MO(a,o,l){if(a.x<0||a.x>=Ln||o.x<0||o.x>=Ln||l.x<0||l.x>=Ln)return!1;const h=l.sub(o),p=h.perp(),y=a.sub(o);return(h.x*y.x+h.y*y.y)/Math.sqrt((h.x*h.x+h.y*h.y)*(y.x*y.x+y.y*y.y))>-.866&&p.x*y.x+p.y*y.y<0}function AO(a,o,l){const h=o?2|a:-3&a;return l?1|h:-2&h}function RO(){const a=Math.PI/32,o=Math.tan(a),l=xv;return l*Math.sqrt(1+2*o*o)-l}function OO(a,o,l){const h=1<<l.z,p=Ta(l.x/h),y=Ta((l.x+1)/h),x=Ki(l.y/h),C=Ki((l.y+1)/h);return function(I,M,j,V,q=0,Q){const te=[];if(!I.length||!j||!V)return te;const ue=(Fe,lt)=>{for(const rt of Fe)te.push({polygon:rt,bounds:lt})},_e=Math.ceil(Math.log2(j)),Pe=Math.ceil(Math.log2(V)),Le=_e-Pe,ke=[];for(let Fe=0;Fe<Math.abs(Le);Fe++)ke.push(Le>0?0:1);for(let Fe=0;Fe<Math.min(_e,Pe);Fe++)ke.push(0),ke.push(1);let Oe=I;if(Oe=Qx(Oe,M[0].y-q,M[1].y+q,1),Oe=Qx(Oe,M[0].x-q,M[1].x+q,0),!Oe.length)return te;const je=[];for(ke.length?je.push({polygons:Oe,bounds:M,depth:0}):ue(Oe,M);je.length;){const Fe=je.pop(),lt=Fe.depth,rt=ke[lt],bt=Fe.bounds[0],Ht=Fe.bounds[1],ut=rt===0?bt.x:bt.y,kt=rt===0?Ht.x:Ht.y,It=Q?Q(rt,ut,kt):.5*(ut+kt),Lt=Qx(Fe.polygons,ut-q,It+q,rt),Xt=Qx(Fe.polygons,It-q,kt+q,rt);if(Lt.length){const yt=[bt,new J(rt===0?It:Ht.x,rt===1?It:Ht.y)];ke.length>lt+1?je.push({polygons:Lt,bounds:yt,depth:lt+1}):ue(Lt,yt)}if(Xt.length){const yt=[new J(rt===0?It:bt.x,rt===1?It:bt.y),Ht];ke.length>lt+1?je.push({polygons:Xt,bounds:yt,depth:lt+1}):ue(Xt,yt)}}return te}(a,o,Math.ceil((y-p)/11.25),Math.ceil((x-C)/11.25),1,(I,M,j)=>{if(I===0)return .5*(M+j);{const V=Ki((l.y+M/Ln)/h);return(Rc(.5*(Ki((l.y+j/Ln)/h)+V))*h-l.y)*Ln}})}_n(Pv,"FillExtrusionBucket",{omit:["layers","features"]}),_n(EO,"PartMetadata");const d8=new Ae({"fill-extrusion-edge-radius":new le(_t["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var h8={paint:new Ae({"fill-extrusion-opacity":new le(_t["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new be(_t["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new le(_t["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new le(_t["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new be(_t["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new be(_t["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new be(_t["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new le(_t["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new le(_t["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new le(_t["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new le(_t["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:d8};function DO(a,o,l){var h=2*Math.PI*6378137/256/Math.pow(2,l);return[a*h-2*Math.PI*6378137/2,o*h-2*Math.PI*6378137/2]}class eb{constructor(o,l,h){this.z=o,this.x=l,this.y=h,this.key=kv(0,o,o,l,h)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,l){const h=function(y,x,C){var I=DO(256*y,256*(x=Math.pow(2,C)-x-1),C),M=DO(256*(y+1),256*(x+1),C);return I[0]+","+I[1]+","+M[0]+","+M[1]}(this.x,this.y,this.z),p=function(y,x,C){let I,M="";for(let j=y;j>0;j--)I=1<<j-1,M+=(x&I?1:0)+(C&I?2:0);return M}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",h)}toString(){return`${this.z}/${this.x}/${this.y}`}}class LO{constructor(o,l){this.wrap=o,this.canonical=l,this.key=kv(o,l.z,l.z,l.x,l.y)}}class gs{constructor(o,l,h,p,y){this.overscaledZ=o,this.wrap=l,this.canonical=new eb(h,+p,+y),this.key=l===0&&o===h?this.canonical.key:kv(l,o,h,p,y)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){const l=this.canonical.z-o;return o>this.canonical.z?new gs(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new gs(o,this.wrap,o,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(o,l=!0){if(this.overscaledZ===o&&l)return this.key;if(o>this.canonical.z)return kv(this.wrap*+l,o,this.canonical.z,this.canonical.x,this.canonical.y);{const h=this.canonical.z-o;return kv(this.wrap*+l,o,o,this.canonical.x>>h,this.canonical.y>>h)}}isChildOf(o){if(o.wrap!==this.wrap)return!1;const l=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>l&&o.canonical.y===this.canonical.y>>l}children(o){if(this.overscaledZ>=o)return[new gs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,h=2*this.canonical.x,p=2*this.canonical.y;return[new gs(l,this.wrap,l,h,p),new gs(l,this.wrap,l,h+1,p),new gs(l,this.wrap,l,h,p+1),new gs(l,this.wrap,l,h+1,p+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new gs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new gs(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new LO(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function kv(a,o,l,h,p){const y=1<<Math.min(l,22);let x=y*(p%y)+h%y;return a&&l<22&&(x+=y*y*((a<0?-2*a-1:2*a)%(1<<2*(22-l)))),16*(32*x+l)+(o-l)}_n(eb,"CanonicalTileID"),_n(gs,"OverscaledTileID",{omit:["projMatrix"]});class Om extends J{constructor(o,l,h){super(o,l),this.z=h}}function Iv(a,o){return a.x*o.x+a.y*o.y}function zO(a,o){if(a.length===1){let l=0;const h=o[l++];let p;for(;!p||h.equals(p);)if(p=o[l++],!p)return 1/0;for(;l<o.length;l++){const y=o[l],x=a[0],C=p.sub(h),I=y.sub(h),M=x.sub(h),j=Iv(C,C),V=Iv(C,I),q=Iv(I,I),Q=Iv(M,C),te=Iv(M,I),ue=j*q-V*V,_e=(q*Q-V*te)/ue,Pe=(j*te-V*Q)/ue,Le=h.z*(1-_e-Pe)+p.z*_e+y.z*Pe;if(isFinite(Le))return Le}return 1/0}{let l=1/0;for(const h of o)l=Math.min(l,h.z);return l}}function FO(a,o,l,h,p,y,x,C){const I=x*p.getElevationAt(a,o,!0,!0),M=y[0]!==0,j=M?y[1]===0?x*(y[0]/7-450):x*function(V,q,Q){const te=Math.floor(q[0]/8),ue=Math.floor(q[1]/8),_e=10*(q[0]-8*te),Pe=10*(q[1]-8*ue),Le=V.getElevationAt(te,ue,!0,!0),ke=V.getMeterToDEM(Q),Oe=Math.floor(.5*(_e*ke-1)),je=Math.floor(.5*(Pe*ke-1)),Fe=V.tileCoordToPixel(te,ue),lt=2*Oe+1,rt=2*je+1,bt=function(Xt,yt,ln,bn,fn){return[Xt.getElevationAtPixel(yt,ln,!0),Xt.getElevationAtPixel(yt+fn,ln,!0),Xt.getElevationAtPixel(yt,ln+fn,!0),Xt.getElevationAtPixel(yt+bn,ln+fn,!0)]}(V,Fe.x-Oe,Fe.y-je,lt,rt),Ht=Math.abs(bt[0]-bt[1]),ut=Math.abs(bt[2]-bt[3]),kt=Math.abs(bt[0]-bt[2])+Math.abs(bt[1]-bt[3]),It=Math.min(.25,.5*ke*(Ht+ut)/lt),Lt=Math.min(.25,.5*ke*kt/rt);return Le+Math.max(It*_e,Lt*Pe)}(p,y,C):I;return{base:I+(l===0)?-1:l,top:M?Math.max(j+h,I+l+2):I+h}}const f8=Ze([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:p8}=f8,m8=Ze([{name:"a_packed",components:4,type:"Float32"}]),{members:g8}=m8,y8=Jx.types,v8=Math.cos(Math.PI/180*37.5);class tb{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(l=>l.id),this.index=o.index,this.projection=o.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new ct,this.layoutVertexArray2=new Nt,this.indexArray=new Pn,this.programConfigurations=new Bf(o.layers,o.zoom),this.segments=new ri,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(o,l,h,p){this.hasPattern=U2("line",this.layers,l);const y=this.layers[0].layout.get("line-sort-key"),x=[];for(const{feature:j,id:V,index:q,sourceLayerIndex:Q}of o){const te=this.layers[0]._featureFilter.needGeometry,ue=Wf(j,te);if(!this.layers[0]._featureFilter.filter(new N(this.zoom),ue,h))continue;const _e=y?y.evaluate(ue,{},h):void 0,Pe={id:V,properties:j.properties,type:j.type,sourceLayerIndex:Q,index:q,geometry:te?ue.geometry:Lu(j,h,p),patterns:{},sortKey:_e};x.push(Pe)}y&&x.sort((j,V)=>j.sortKey-V.sortKey);const{lineAtlas:C,featureIndex:I}=l,M=this.addConstantDashes(C);for(const j of x){const{geometry:V,index:q,sourceLayerIndex:Q}=j;if(M&&this.addFeatureDashes(j,C),this.hasPattern){const te=V2("line",this.layers,j,this.zoom,l);this.patternFeatures.push(te)}else this.addFeature(j,V,q,h,C.positions,l.availableImages);I.insert(o[q].feature,V,q,Q,this.index)}}addConstantDashes(o){let l=!1;for(const h of this.layers){const p=h.paint.get("line-dasharray").value,y=h.layout.get("line-cap").value;if(p.kind!=="constant"||y.kind!=="constant")l=!0;else{const x=y.value,C=p.value;if(!C)continue;o.addDash(C,x)}}return l}addFeatureDashes(o,l){const h=this.zoom;for(const p of this.layers){const y=p.paint.get("line-dasharray").value,x=p.layout.get("line-cap").value;if(y.kind==="constant"&&x.kind==="constant")continue;let C,I;if(y.kind==="constant"){if(C=y.value,!C)continue}else C=y.evaluate({zoom:h},o);I=x.kind==="constant"?x.value:x.evaluate({zoom:h},o),l.addDash(C,I),o.patterns[p.id]=l.getKey(C,I)}}update(o,l,h,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,l,this.stateDependentLayers,h,p)}addFeatures(o,l,h,p,y){for(const x of this.patternFeatures)this.addFeature(x,x.geometry,x.index,l,h,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,g8)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,p8),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,l,h,p,y,x){const C=this.layers[0].layout,I=C.get("line-join").evaluate(o,{}),M=C.get("line-cap").evaluate(o,{}),j=C.get("line-miter-limit"),V=C.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const q of l)this.addLine(q,o,I,M,j,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,h,y,x,p)}addLine(o,l,h,p,y,x){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Pe=0;Pe<o.length-1;Pe++)this.totalDistance+=o[Pe].dist(o[Pe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const C=y8[l.type]==="Polygon";let I=o.length;for(;I>=2&&o[I-1].equals(o[I-2]);)I--;let M=0;for(;M<I-1&&o[M].equals(o[M+1]);)M++;if(I<(C?3:2))return;h==="bevel"&&(y=1.05);const j=this.overscaling<=16?15*Ln/(512*this.overscaling):0,V=this.segments.prepareSegment(10*I,this.layoutVertexArray,this.indexArray);let q,Q,te,ue,_e;this.e1=this.e2=-1,C&&(q=o[I-2],_e=o[M].sub(q)._unit()._perp());for(let Pe=M;Pe<I;Pe++){if(te=Pe===I-1?C?o[M+1]:void 0:o[Pe+1],te&&o[Pe].equals(te))continue;_e&&(ue=_e),q&&(Q=q),q=o[Pe],_e=te?te.sub(q)._unit()._perp():ue,ue=ue||_e;let Le=ue.add(_e);Le.x===0&&Le.y===0||Le._unit();const ke=ue.x*_e.x+ue.y*_e.y,Oe=Le.x*_e.x+Le.y*_e.y,je=Oe!==0?1/Oe:1/0,Fe=2*Math.sqrt(2-2*Oe),lt=Oe<v8&&Q&&te,rt=ue.x*_e.y-ue.y*_e.x>0;if(lt&&Pe>M){const ut=q.dist(Q);if(ut>2*j){const kt=q.sub(q.sub(Q)._mult(j/ut)._round());this.updateDistance(Q,kt),this.addCurrentVertex(kt,ue,0,0,V),Q=kt}}const bt=Q&&te;let Ht=bt?h:C?"butt":p;if(bt&&Ht==="round"&&(je<x?Ht="miter":je<=2&&(Ht="fakeround")),Ht==="miter"&&je>y&&(Ht="bevel"),Ht==="bevel"&&(je>2&&(Ht="flipbevel"),je<y&&(Ht="miter")),Q&&this.updateDistance(Q,q),Ht==="miter")Le._mult(je),this.addCurrentVertex(q,Le,0,0,V);else if(Ht==="flipbevel"){if(je>100)Le=_e.mult(-1);else{const ut=je*ue.add(_e).mag()/ue.sub(_e).mag();Le._perp()._mult(ut*(rt?-1:1))}this.addCurrentVertex(q,Le,0,0,V),this.addCurrentVertex(q,Le.mult(-1),0,0,V)}else if(Ht==="bevel"||Ht==="fakeround"){const ut=-Math.sqrt(je*je-1),kt=rt?ut:0,It=rt?0:ut;if(Q&&this.addCurrentVertex(q,ue,kt,It,V),Ht==="fakeround"){const Lt=Math.round(180*Fe/Math.PI/20);for(let Xt=1;Xt<Lt;Xt++){let yt=Xt/Lt;if(yt!==.5){const bn=yt-.5;yt+=yt*bn*(yt-1)*((1.0904+ke*(ke*(3.55645-1.43519*ke)-3.2452))*bn*bn+(.848013+ke*(.215638*ke-1.06021)))}const ln=_e.sub(ue)._mult(yt)._add(ue)._unit()._mult(rt?-1:1);this.addHalfVertex(q,ln.x,ln.y,!1,rt,0,V)}}te&&this.addCurrentVertex(q,_e,-kt,-It,V)}else if(Ht==="butt")this.addCurrentVertex(q,Le,0,0,V);else if(Ht==="square"){const ut=Q?1:-1;Q||this.addCurrentVertex(q,Le,ut,ut,V),this.addCurrentVertex(q,Le,0,0,V),Q&&this.addCurrentVertex(q,Le,ut,ut,V)}else Ht==="round"&&(Q&&(this.addCurrentVertex(q,ue,0,0,V),this.addCurrentVertex(q,ue,1,1,V,!0)),te&&(this.addCurrentVertex(q,_e,-1,-1,V,!0),this.addCurrentVertex(q,_e,0,0,V)));if(lt&&Pe<I-1){const ut=q.dist(te);if(ut>2*j){const kt=q.add(te.sub(q)._mult(j/ut)._round());this.updateDistance(q,kt),this.addCurrentVertex(kt,_e,0,0,V),q=kt}}}}addCurrentVertex(o,l,h,p,y,x=!1){const C=l.y*p-l.x,I=-l.y-l.x*p;this.addHalfVertex(o,l.x+l.y*h,l.y-l.x*h,x,!1,h,y),this.addHalfVertex(o,C,I,x,!0,-p,y)}addHalfVertex({x:o,y:l},h,p,y,x,C,I){this.layoutVertexArray.emplaceBack((o<<1)+(y?1:0),(l<<1)+(x?1:0),Math.round(63*h)+128,Math.round(63*p)+128,1+(C===0?0:C<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const M=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,M),I.primitiveLength++),x?this.e2=M:this.e1=M}updateScaledDistance(){if(this.lineClips){const o=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=o*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(o,l){this.distance+=o.dist(l),this.updateScaledDistance()}}_n(tb,"LineBucket",{omit:["layers","patternFeatures"]});const _8=new Ae({"line-cap":new be(_t.layout_line["line-cap"]),"line-join":new be(_t.layout_line["line-join"]),"line-miter-limit":new le(_t.layout_line["line-miter-limit"]),"line-round-limit":new le(_t.layout_line["line-round-limit"]),"line-sort-key":new be(_t.layout_line["line-sort-key"])});var jO={paint:new Ae({"line-opacity":new be(_t.paint_line["line-opacity"]),"line-color":new be(_t.paint_line["line-color"]),"line-translate":new le(_t.paint_line["line-translate"]),"line-translate-anchor":new le(_t.paint_line["line-translate-anchor"]),"line-width":new be(_t.paint_line["line-width"]),"line-gap-width":new be(_t.paint_line["line-gap-width"]),"line-offset":new be(_t.paint_line["line-offset"]),"line-blur":new be(_t.paint_line["line-blur"]),"line-dasharray":new be(_t.paint_line["line-dasharray"]),"line-pattern":new be(_t.paint_line["line-pattern"]),"line-gradient":new Me(_t.paint_line["line-gradient"]),"line-trim-offset":new le(_t.paint_line["line-trim-offset"])}),layout:_8};const $O=new class extends be{possiblyEvaluate(a,o){return o=new N(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,transition:o.transition}),super.possiblyEvaluate(a,o)}evaluate(a,o,l,h){return o=Ye({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(a,o,l,h)}}(jO.paint.properties["line-width"].specification);function BO(a,o){return o>0?o+2*a:a}$O.useIntegerZoom=!0;const x8=Ze([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),b8=Ze([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),w8=Ze([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ze([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const C8=Ze([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),S8=Ze([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ze([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const NO=Ze([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),T8=Ze([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ze([{name:"triangle",components:3,type:"Uint16"}]),Ze([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ze([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ze([{type:"Float32",name:"offsetX"}]),Ze([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var ji=24;const Vl=128;function G2(a,o){const{expression:l}=o;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new N(a+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:h,interpolationType:p}=l;let y=0;for(;y<h.length&&h[y]<=a;)y++;y=Math.max(0,y-1);let x=y;for(;x<h.length&&h[x]<a+1;)x++;x=Math.min(h.length-1,x);const C=h[y],I=h[x];return l.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:I,interpolationType:p}:{kind:"camera",minZoom:C,maxZoom:I,minSize:l.evaluate(new N(C)),maxSize:l.evaluate(new N(I)),interpolationType:p}}}function nb(a,{uSize:o,uSizeT:l},{lowerSize:h,upperSize:p}){return a.kind==="source"?h/Vl:a.kind==="composite"?xr(h/Vl,p/Vl,l):o}function Dm(a,o){let l=0,h=0;if(a.kind==="constant")h=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:p,minZoom:y,maxZoom:x}=a,C=p?ce(Os.interpolationFactor(p,o,y,x),0,1):0;a.kind==="camera"?h=xr(a.minSize,a.maxSize,C):l=C}return{uSizeT:l,uSize:h}}var E8=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Vl,evaluateSizeForFeature:nb,evaluateSizeForZoom:Dm,getSizeData:G2});function P8(a,o,l){return a.sections.forEach(h=>{h.text=function(p,y,x){const C=y.layout.get("text-transform").evaluate(x,{});return C==="uppercase"?p=p.toLocaleUpperCase():C==="lowercase"&&(p=p.toLocaleLowerCase()),D.applyArabicShaping&&(p=D.applyArabicShaping(p)),p}(h.text,o,l)}),a}const Mv={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function k8(a){return a==="︶"||a==="﹈"||a==="︸"||a==="﹄"||a==="﹂"||a==="︾"||a==="︼"||a==="︺"||a==="︘"||a==="﹀"||a==="︐"||a==="︓"||a==="︔"||a==="｀"||a==="￣"||a==="︑"||a==="︒"}function I8(a){return a==="︵"||a==="﹇"||a==="︷"||a==="﹃"||a==="﹁"||a==="︽"||a==="︻"||a==="︹"||a==="︗"||a==="︿"}var UO=io,VO=function(a,o,l,h,p){var y,x,C=8*p-h-1,I=(1<<C)-1,M=I>>1,j=-7,V=l?p-1:0,q=l?-1:1,Q=a[o+V];for(V+=q,y=Q&(1<<-j)-1,Q>>=-j,j+=C;j>0;y=256*y+a[o+V],V+=q,j-=8);for(x=y&(1<<-j)-1,y>>=-j,j+=h;j>0;x=256*x+a[o+V],V+=q,j-=8);if(y===0)y=1-M;else{if(y===I)return x?NaN:1/0*(Q?-1:1);x+=Math.pow(2,h),y-=M}return(Q?-1:1)*x*Math.pow(2,y-h)},HO=function(a,o,l,h,p,y){var x,C,I,M=8*y-p-1,j=(1<<M)-1,V=j>>1,q=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,Q=h?0:y-1,te=h?1:-1,ue=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(C=isNaN(o)?1:0,x=j):(x=Math.floor(Math.log(o)/Math.LN2),o*(I=Math.pow(2,-x))<1&&(x--,I*=2),(o+=x+V>=1?q/I:q*Math.pow(2,1-V))*I>=2&&(x++,I/=2),x+V>=j?(C=0,x=j):x+V>=1?(C=(o*I-1)*Math.pow(2,p),x+=V):(C=o*Math.pow(2,V-1)*Math.pow(2,p),x=0));p>=8;a[l+Q]=255&C,Q+=te,C/=256,p-=8);for(x=x<<p|C,M+=p;M>0;a[l+Q]=255&x,Q+=te,x/=256,M-=8);a[l+Q-te]|=128*ue};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function io(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}io.Varint=0,io.Fixed64=1,io.Bytes=2,io.Fixed32=5;var W2=4294967296,GO=1/W2,WO=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Fu(a){return a.type===io.Bytes?a.readVarint()+a.pos:a.pos+1}function Lm(a,o,l){return l?4294967296*o+(a>>>0):4294967296*(o>>>0)+(a>>>0)}function qO(a,o,l){var h=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));l.realloc(h);for(var p=l.pos-1;p>=a;p--)l.buf[p+h]=l.buf[p]}function M8(a,o){for(var l=0;l<a.length;l++)o.writeVarint(a[l])}function A8(a,o){for(var l=0;l<a.length;l++)o.writeSVarint(a[l])}function R8(a,o){for(var l=0;l<a.length;l++)o.writeFloat(a[l])}function O8(a,o){for(var l=0;l<a.length;l++)o.writeDouble(a[l])}function D8(a,o){for(var l=0;l<a.length;l++)o.writeBoolean(a[l])}function L8(a,o){for(var l=0;l<a.length;l++)o.writeFixed32(a[l])}function z8(a,o){for(var l=0;l<a.length;l++)o.writeSFixed32(a[l])}function F8(a,o){for(var l=0;l<a.length;l++)o.writeFixed64(a[l])}function j8(a,o){for(var l=0;l<a.length;l++)o.writeSFixed64(a[l])}function rb(a,o){return(a[o]|a[o+1]<<8|a[o+2]<<16)+16777216*a[o+3]}function zm(a,o,l){a[l]=o,a[l+1]=o>>>8,a[l+2]=o>>>16,a[l+3]=o>>>24}function ZO(a,o){return(a[o]|a[o+1]<<8|a[o+2]<<16)+(a[o+3]<<24)}io.prototype={destroy:function(){this.buf=null},readFields:function(a,o,l){for(l=l||this.length;this.pos<l;){var h=this.readVarint(),p=h>>3,y=this.pos;this.type=7&h,a(p,o,this),this.pos===y&&this.skip(h)}return o},readMessage:function(a,o){return this.readFields(a,o,this.readVarint()+this.pos)},readFixed32:function(){var a=rb(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=ZO(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=rb(this.buf,this.pos)+rb(this.buf,this.pos+4)*W2;return this.pos+=8,a},readSFixed64:function(){var a=rb(this.buf,this.pos)+ZO(this.buf,this.pos+4)*W2;return this.pos+=8,a},readFloat:function(){var a=VO(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=VO(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var o,l,h=this.buf;return o=127&(l=h[this.pos++]),l<128?o:(o|=(127&(l=h[this.pos++]))<<7,l<128?o:(o|=(127&(l=h[this.pos++]))<<14,l<128?o:(o|=(127&(l=h[this.pos++]))<<21,l<128?o:function(p,y,x){var C,I,M=x.buf;if(C=(112&(I=M[x.pos++]))>>4,I<128||(C|=(127&(I=M[x.pos++]))<<3,I<128)||(C|=(127&(I=M[x.pos++]))<<10,I<128)||(C|=(127&(I=M[x.pos++]))<<17,I<128)||(C|=(127&(I=M[x.pos++]))<<24,I<128)||(C|=(1&(I=M[x.pos++]))<<31,I<128))return Lm(p,C,y);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(l=h[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,o=this.pos;return this.pos=a,a-o>=12&&WO?function(l,h,p){return WO.decode(l.subarray(h,p))}(this.buf,o,a):function(l,h,p){for(var y="",x=h;x<p;){var C,I,M,j=l[x],V=null,q=j>239?4:j>223?3:j>191?2:1;if(x+q>p)break;q===1?j<128&&(V=j):q===2?(192&(C=l[x+1]))==128&&(V=(31&j)<<6|63&C)<=127&&(V=null):q===3?(I=l[x+2],(192&(C=l[x+1]))==128&&(192&I)==128&&((V=(15&j)<<12|(63&C)<<6|63&I)<=2047||V>=55296&&V<=57343)&&(V=null)):q===4&&(I=l[x+2],M=l[x+3],(192&(C=l[x+1]))==128&&(192&I)==128&&(192&M)==128&&((V=(15&j)<<18|(63&C)<<12|(63&I)<<6|63&M)<=65535||V>=1114112)&&(V=null)),V===null?(V=65533,q=1):V>65535&&(V-=65536,y+=String.fromCharCode(V>>>10&1023|55296),V=56320|1023&V),y+=String.fromCharCode(V),x+=q}return y}(this.buf,o,a)},readBytes:function(){var a=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,a);return this.pos=a,o},readPackedVarint:function(a,o){if(this.type!==io.Bytes)return a.push(this.readVarint(o));var l=Fu(this);for(a=a||[];this.pos<l;)a.push(this.readVarint(o));return a},readPackedSVarint:function(a){if(this.type!==io.Bytes)return a.push(this.readSVarint());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==io.Bytes)return a.push(this.readBoolean());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==io.Bytes)return a.push(this.readFloat());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==io.Bytes)return a.push(this.readDouble());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==io.Bytes)return a.push(this.readFixed32());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==io.Bytes)return a.push(this.readSFixed32());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==io.Bytes)return a.push(this.readFixed64());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==io.Bytes)return a.push(this.readSFixed64());var o=Fu(this);for(a=a||[];this.pos<o;)a.push(this.readSFixed64());return a},skip:function(a){var o=7&a;if(o===io.Varint)for(;this.buf[this.pos++]>127;);else if(o===io.Bytes)this.pos=this.readVarint()+this.pos;else if(o===io.Fixed32)this.pos+=4;else{if(o!==io.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(a,o){this.writeVarint(a<<3|o)},realloc:function(a){for(var o=this.length||16;o<this.pos+a;)o*=2;if(o!==this.length){var l=new Uint8Array(o);l.set(this.buf),this.buf=l,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),zm(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),zm(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),zm(this.buf,-1&a,this.pos),zm(this.buf,Math.floor(a*GO),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),zm(this.buf,-1&a,this.pos),zm(this.buf,Math.floor(a*GO),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(o,l){var h,p;if(o>=0?(h=o%4294967296|0,p=o/4294967296|0):(p=~(-o/4294967296),4294967295^(h=~(-o%4294967296))?h=h+1|0:(h=0,p=p+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(y,x,C){C.buf[C.pos++]=127&y|128,y>>>=7,C.buf[C.pos++]=127&y|128,y>>>=7,C.buf[C.pos++]=127&y|128,y>>>=7,C.buf[C.pos++]=127&y|128,C.buf[C.pos]=127&(y>>>=7)}(h,0,l),function(y,x){var C=(7&y)<<4;x.buf[x.pos++]|=C|((y>>>=3)?128:0),y&&(x.buf[x.pos++]=127&y|((y>>>=7)?128:0),y&&(x.buf[x.pos++]=127&y|((y>>>=7)?128:0),y&&(x.buf[x.pos++]=127&y|((y>>>=7)?128:0),y&&(x.buf[x.pos++]=127&y|((y>>>=7)?128:0),y&&(x.buf[x.pos++]=127&y)))))}(p,l)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var o=this.pos;this.pos=function(h,p,y){for(var x,C,I=0;I<p.length;I++){if((x=p.charCodeAt(I))>55295&&x<57344){if(!C){x>56319||I+1===p.length?(h[y++]=239,h[y++]=191,h[y++]=189):C=x;continue}if(x<56320){h[y++]=239,h[y++]=191,h[y++]=189,C=x;continue}x=C-55296<<10|x-56320|65536,C=null}else C&&(h[y++]=239,h[y++]=191,h[y++]=189,C=null);x<128?h[y++]=x:(x<2048?h[y++]=x>>6|192:(x<65536?h[y++]=x>>12|224:(h[y++]=x>>18|240,h[y++]=x>>12&63|128),h[y++]=x>>6&63|128),h[y++]=63&x|128)}return y}(this.buf,a,this.pos);var l=this.pos-o;l>=128&&qO(o,l,this),this.pos=o-1,this.writeVarint(l),this.pos+=l},writeFloat:function(a){this.realloc(4),HO(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),HO(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var o=a.length;this.writeVarint(o),this.realloc(o);for(var l=0;l<o;l++)this.buf[this.pos++]=a[l]},writeRawMessage:function(a,o){this.pos++;var l=this.pos;a(o,this);var h=this.pos-l;h>=128&&qO(l,h,this),this.pos=l-1,this.writeVarint(h),this.pos+=h},writeMessage:function(a,o,l){this.writeTag(a,io.Bytes),this.writeRawMessage(o,l)},writePackedVarint:function(a,o){o.length&&this.writeMessage(a,M8,o)},writePackedSVarint:function(a,o){o.length&&this.writeMessage(a,A8,o)},writePackedBoolean:function(a,o){o.length&&this.writeMessage(a,D8,o)},writePackedFloat:function(a,o){o.length&&this.writeMessage(a,R8,o)},writePackedDouble:function(a,o){o.length&&this.writeMessage(a,O8,o)},writePackedFixed32:function(a,o){o.length&&this.writeMessage(a,L8,o)},writePackedSFixed32:function(a,o){o.length&&this.writeMessage(a,z8,o)},writePackedFixed64:function(a,o){o.length&&this.writeMessage(a,F8,o)},writePackedSFixed64:function(a,o){o.length&&this.writeMessage(a,j8,o)},writeBytesField:function(a,o){this.writeTag(a,io.Bytes),this.writeBytes(o)},writeFixed32Field:function(a,o){this.writeTag(a,io.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(a,o){this.writeTag(a,io.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(a,o){this.writeTag(a,io.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(a,o){this.writeTag(a,io.Fixed64),this.writeSFixed64(o)},writeVarintField:function(a,o){this.writeTag(a,io.Varint),this.writeVarint(o)},writeSVarintField:function(a,o){this.writeTag(a,io.Varint),this.writeSVarint(o)},writeStringField:function(a,o){this.writeTag(a,io.Bytes),this.writeString(o)},writeFloatField:function(a,o){this.writeTag(a,io.Fixed32),this.writeFloat(o)},writeDoubleField:function(a,o){this.writeTag(a,io.Fixed64),this.writeDouble(o)},writeBooleanField:function(a,o){this.writeVarintField(a,!!o)}};var ob=B(UO);const q2=3;function $8(a,o,l){o.glyphs=[],a===1&&l.readMessage(B8,o)}function B8(a,o,l){if(a===3){const{id:h,bitmap:p,width:y,height:x,left:C,top:I,advance:M}=l.readMessage(N8,{});o.glyphs.push({id:h,bitmap:new zu({width:y+2*q2,height:x+2*q2},p),metrics:{width:y,height:x,left:C,top:I,advance:M}})}else a===4?o.ascender=l.readSVarint():a===5&&(o.descender=l.readSVarint())}function N8(a,o,l){a===1?o.id=l.readVarint():a===2?o.bitmap=l.readBytes():a===3?o.width=l.readVarint():a===4?o.height=l.readVarint():a===5?o.left=l.readSVarint():a===6?o.top=l.readSVarint():a===7&&(o.advance=l.readVarint())}const YO=q2;function Z2(a){let o=0,l=0;for(const x of a)o+=x.w*x.h,l=Math.max(l,x.w);a.sort((x,C)=>C.h-x.h);const h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),l),h:1/0}];let p=0,y=0;for(const x of a)for(let C=h.length-1;C>=0;C--){const I=h[C];if(!(x.w>I.w||x.h>I.h)){if(x.x=I.x,x.y=I.y,y=Math.max(y,x.y+x.h),p=Math.max(p,x.x+x.w),x.w===I.w&&x.h===I.h){const M=h.pop();C<h.length&&(h[C]=M)}else x.h===I.h?(I.x+=x.w,I.w-=x.w):x.w===I.w?(I.y+=x.h,I.h-=x.h):(h.push({x:I.x+x.w,y:I.y,w:I.w-x.w,h:x.h}),I.y+=x.h,I.h-=x.h);break}}return{w:p,h:y,fill:o/(p*y)||0}}const Ds=1;class Y2{constructor(o,{pixelRatio:l,version:h,stretchX:p,stretchY:y,content:x}){this.paddedRect=o,this.pixelRatio=l,this.stretchX=p,this.stretchY=y,this.content=x,this.version=h}get tl(){return[this.paddedRect.x+Ds,this.paddedRect.y+Ds]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ds,this.paddedRect.y+this.paddedRect.h-Ds]}get displaySize(){return[(this.paddedRect.w-2*Ds)/this.pixelRatio,(this.paddedRect.h-2*Ds)/this.pixelRatio]}}class KO{constructor(o,l){const h={},p={};this.haveRenderCallbacks=[];const y=[];this.addImages(o,h,y),this.addImages(l,p,y);const{w:x,h:C}=Z2(y),I=new Ks({width:x||1,height:C||1});for(const M in o){const j=o[M],V=h[M].paddedRect;Ks.copy(j.data,I,{x:0,y:0},{x:V.x+Ds,y:V.y+Ds},j.data)}for(const M in l){const j=l[M],V=p[M].paddedRect,q=V.x+Ds,Q=V.y+Ds,te=j.data.width,ue=j.data.height;Ks.copy(j.data,I,{x:0,y:0},{x:q,y:Q},j.data),Ks.copy(j.data,I,{x:0,y:ue-1},{x:q,y:Q-1},{width:te,height:1}),Ks.copy(j.data,I,{x:0,y:0},{x:q,y:Q+ue},{width:te,height:1}),Ks.copy(j.data,I,{x:te-1,y:0},{x:q-1,y:Q},{width:1,height:ue}),Ks.copy(j.data,I,{x:0,y:0},{x:q+te,y:Q},{width:1,height:ue})}this.image=I,this.iconPositions=h,this.patternPositions=p}addImages(o,l,h){for(const p in o){const y=o[p],x={x:0,y:0,w:y.data.width+2*Ds,h:y.data.height+2*Ds};h.push(x),l[p]=new Y2(x,y),y.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(o,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(h=>o.hasImage(h)),o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const h in o.updatedImages)this.patchUpdatedImage(this.iconPositions[h],o.getImage(h),l),this.patchUpdatedImage(this.patternPositions[h],o.getImage(h),l)}patchUpdatedImage(o,l,h){if(!o||!l||o.version===l.version)return;o.version=l.version;const[p,y]=o.tl;h.update(l.data,void 0,{x:p,y})}}_n(Y2,"ImagePosition"),_n(KO,"ImageAtlas");const Ea={horizontal:1,vertical:2,horizontalOnly:3},XO=-17;class Av{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,l){const h=new Av;return h.scale=o||1,h.fontStack=l,h}static forImage(o){const l=new Av;return l.imageName=o,l}}class Fm{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,l){const h=new Fm;for(let p=0;p<o.sections.length;p++){const y=o.sections[p];y.image?h.addImageSection(y):h.addTextSection(y,l)}return h}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSections(){return this.sections}getSectionIndex(o){return this.sectionIndex[o]}getCharCode(o){return this.text.charCodeAt(o)}verticalizePunctuation(o){this.text=function(l,h){let p="";for(let y=0;y<l.length;y++){const x=l.charCodeAt(y+1)||null,C=l.charCodeAt(y-1)||null;p+=!h&&(x&&Ox(x)&&!Mv[l[y+1]]||C&&Ox(C)&&!Mv[l[y-1]])||!Mv[l[y]]?l[y]:Mv[l[y]]}return p}(this.text,o)}trim(){let o=0;for(let h=0;h<this.text.length&&ib[this.text.charCodeAt(h)];h++)o++;let l=this.text.length;for(let h=this.text.length-1;h>=0&&h>=o&&ib[this.text.charCodeAt(h)];h--)l--;this.text=this.text.substring(o,l),this.sectionIndex=this.sectionIndex.slice(o,l)}substring(o,l){const h=new Fm;return h.text=this.text.substring(o,l),h.sectionIndex=this.sectionIndex.slice(o,l),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,l)=>Math.max(o,this.sections[l].scale),0)}addTextSection(o,l){this.text+=o.text,this.sections.push(Av.forText(o.scale,o.fontStack||l));const h=this.sections.length-1;for(let p=0;p<o.text.length;++p)this.sectionIndex.push(h)}addImageSection(o){const l=o.image?o.image.name:"";if(l.length===0)return void st("Can't add FormattedSection with an empty image.");const h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Av.forImage(l)),this.sectionIndex.push(this.sections.length-1)):st("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function K2(a,o,l,h,p,y,x,C,I,M,j,V,q,Q,te){const ue=Fm.fromFeature(a,p);V===Ea.vertical&&ue.verticalizePunctuation(q);let _e=[];const Pe=function(Fe,lt,rt,bt,Ht,ut){if(!Fe)return[];const kt=[],It=function(ln,bn,fn,Qn,Jt,An){let er=0;for(let Ir=0;Ir<ln.length();Ir++){const tr=ln.getSection(Ir);er+=JO(ln.getCharCode(Ir),tr,Qn,Jt,bn,An)}return er/Math.max(1,Math.ceil(er/fn))}(Fe,lt,rt,bt,Ht,ut),Lt=Fe.text.indexOf("​")>=0;let Xt=0;for(let ln=0;ln<Fe.length();ln++){const bn=Fe.getSection(ln),fn=Fe.getCharCode(ln);if(ib[fn]||(Xt+=JO(fn,bn,bt,Ht,lt,ut)),ln<Fe.length()-1){const Qn=!((yt=fn)<11904||!(mn["Bopomofo Extended"](yt)||mn.Bopomofo(yt)||mn["CJK Compatibility Forms"](yt)||mn["CJK Compatibility Ideographs"](yt)||mn["CJK Compatibility"](yt)||mn["CJK Radicals Supplement"](yt)||mn["CJK Strokes"](yt)||mn["CJK Symbols and Punctuation"](yt)||mn["CJK Unified Ideographs Extension A"](yt)||mn["CJK Unified Ideographs"](yt)||mn["Enclosed CJK Letters and Months"](yt)||mn["Halfwidth and Fullwidth Forms"](yt)||mn.Hiragana(yt)||mn["Ideographic Description Characters"](yt)||mn["Kangxi Radicals"](yt)||mn["Katakana Phonetic Extensions"](yt)||mn.Katakana(yt)||mn["Vertical Forms"](yt)||mn["Yi Radicals"](yt)||mn["Yi Syllables"](yt)));(U8[fn]||Qn||bn.imageName)&&kt.push(eD(ln+1,Xt,It,kt,V8(fn,Fe.getCharCode(ln+1),Qn&&Lt),!1))}}var yt;return tD(eD(Fe.length(),Xt,It,kt,0,!0))}(ue,M,y,o,h,Q),{processBidirectionalText:Le,processStyledBidirectionalText:ke}=D;if(Le&&ue.sections.length===1){const Fe=Le(ue.toString(),Pe);for(const lt of Fe){const rt=new Fm;rt.text=lt,rt.sections=ue.sections;for(let bt=0;bt<lt.length;bt++)rt.sectionIndex.push(0);_e.push(rt)}}else if(ke){const Fe=ke(ue.text,ue.sectionIndex,Pe);for(const lt of Fe){const rt=new Fm;rt.text=lt[0],rt.sectionIndex=lt[1],rt.sections=ue.sections,_e.push(rt)}}else _e=function(Fe,lt){const rt=[],bt=Fe.text;let Ht=0;for(const ut of lt)rt.push(Fe.substring(Ht,ut)),Ht=ut;return Ht<bt.length&&rt.push(Fe.substring(Ht,bt.length)),rt}(ue,Pe);const Oe=[],je={positionedLines:Oe,text:ue.toString(),top:j[1],bottom:j[1],left:j[0],right:j[0],writingMode:V,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Fe,lt,rt,bt,Ht,ut,kt,It,Lt,Xt,yt,ln){let bn=0,fn=0,Qn=0;const Jt=It==="right"?1:It==="left"?0:.5;let An=!1;for(const rr of Ht){const or=rr.getSections();for(const Xr of or){if(Xr.imageName)continue;const so=lt[Xr.fontStack];if(so&&(An=so.ascender!==void 0&&so.descender!==void 0,!An))break}if(!An)break}let er=0;for(const rr of Ht){rr.trim();const or=rr.getMaxScale(),Xr=(or-1)*ji,so={positionedGlyphs:[],lineOffset:0};Fe.positionedLines[er]=so;const ao=so.positionedGlyphs;let Jr=0;if(!rr.length()){fn+=ut,++er;continue}let Mo=0,jo=0;for(let Qr=0;Qr<rr.length();Qr++){const vi=rr.getSection(Qr),si=rr.getSectionIndex(Qr),Oo=rr.getCharCode(Qr);let Dr=vi.scale,ai=null,lo=null,ys=null,li=ji,$i=0;const Ai=!(Lt===Ea.horizontal||!yt&&!ov(Oo)||yt&&(ib[Oo]||(Ir=Oo,mn.Arabic(Ir)||mn["Arabic Supplement"](Ir)||mn["Arabic Extended-A"](Ir)||mn["Arabic Presentation Forms-A"](Ir)||mn["Arabic Presentation Forms-B"](Ir))));if(vi.imageName){const vs=bt[vi.imageName];if(!vs)continue;ys=vi.imageName,Fe.iconsInText=Fe.iconsInText||!0,lo=vs.paddedRect;const Ri=vs.displaySize;Dr=Dr*ji/ln,ai={width:Ri[0],height:Ri[1],left:Ds,top:-YO,advance:Ai?Ri[1]:Ri[0],localGlyph:!1},$i=An?-ai.height*Dr:XO+or*ji-Ri[1]*Dr,li=ai.advance;const Wl=(Ai?Ri[0]:Ri[1])*Dr-ji*or;Wl>0&&Wl>Jr&&(Jr=Wl)}else{const vs=rt[vi.fontStack];if(!vs)continue;vs[Oo]&&(lo=vs[Oo]);const Ri=lt[vi.fontStack];if(!Ri)continue;const Wl=Ri.glyphs[Oo];if(!Wl)continue;if(ai=Wl.metrics,li=Oo!==8203?ji:0,An){const Hm=Ri.ascender!==void 0?Math.abs(Ri.ascender):0,Nv=Ri.descender!==void 0?Math.abs(Ri.descender):0,Uv=(Hm+Nv)*Dr;Mo<Uv&&(Mo=Uv,jo=(Hm-Nv)/2*Dr),$i=-Hm*Dr}else $i=XO+(or-Dr)*ji}Ai?(Fe.verticalizable=!0,ao.push({glyph:Oo,imageName:ys,x:bn,y:fn+$i,vertical:Ai,scale:Dr,localGlyph:ai.localGlyph,fontStack:vi.fontStack,sectionIndex:si,metrics:ai,rect:lo}),bn+=li*Dr+Xt):(ao.push({glyph:Oo,imageName:ys,x:bn,y:fn+$i,vertical:Ai,scale:Dr,localGlyph:ai.localGlyph,fontStack:vi.fontStack,sectionIndex:si,metrics:ai,rect:lo}),bn+=ai.advance*Dr+Xt)}ao.length!==0&&(Qn=Math.max(bn-Xt,Qn),An?nD(ao,Jt,Jr,jo,ut*or/2):nD(ao,Jt,Jr,0,ut/2)),bn=0;const ii=ut*or+Jr;so.lineOffset=Math.max(Jr,Xr),fn+=ii,++er}var Ir;const tr=fn,{horizontalAlign:Bn,verticalAlign:mo}=X2(kt);(function(rr,or,Xr,so,ao,Jr){const Mo=(or-Xr)*ao,jo=-Jr*so;for(const ii of rr)for(const Qr of ii.positionedGlyphs)Qr.x+=Mo,Qr.y+=jo})(Fe.positionedLines,Jt,Bn,mo,Qn,tr),Fe.top+=-mo*tr,Fe.bottom=Fe.top+tr,Fe.left+=-Bn*Qn,Fe.right=Fe.left+Qn,Fe.hasBaseline=An}(je,o,l,h,_e,x,C,I,V,M,q,te),!function(Fe){for(const lt of Fe)if(lt.positionedGlyphs.length!==0)return!1;return!0}(Oe)&&je}const ib={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},U8={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function JO(a,o,l,h,p,y){if(o.imageName){const x=h[o.imageName];return x?x.displaySize[0]*o.scale*ji/y+p:0}{const x=l[o.fontStack],C=x&&x.glyphs[a];return C?C.metrics.advance*o.scale+p:0}}function QO(a,o,l,h){const p=Math.pow(a-o,2);return h?a<o?p/2:2*p:p+Math.abs(l)*l}function V8(a,o,l){let h=0;return a===10&&(h-=1e4),l&&(h+=150),a!==40&&a!==65288||(h+=50),o!==41&&o!==65289||(h+=50),h}function eD(a,o,l,h,p,y){let x=null,C=QO(o,l,p,y);for(const I of h){const M=QO(o-I.x,l,p,y)+I.badness;M<=C&&(x=I,C=M)}return{index:a,x:o,priorBreak:x,badness:C}}function tD(a){return a?tD(a.priorBreak).concat(a.index):[]}function X2(a){let o=.5,l=.5;switch(a){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:o,verticalAlign:l}}function nD(a,o,l,h,p){if(!(o||l||h||p))return;const y=a.length-1,x=a[y],C=(x.x+x.metrics.advance*x.scale)*o;for(let I=0;I<=y;I++)a[I].x-=C,a[I].y+=l+h+p}function H8(a,o,l){const{horizontalAlign:h,verticalAlign:p}=X2(l),y=o[0]-a.displaySize[0]*h,x=o[1]-a.displaySize[1]*p;return{image:a,top:x,bottom:x+a.displaySize[1],left:y,right:y+a.displaySize[0]}}function rD(a,o,l,h,p,y){const x=a.image;let C;if(x.content){const _e=x.content,Pe=x.pixelRatio||1;C=[_e[0]/Pe,_e[1]/Pe,x.displaySize[0]-_e[2]/Pe,x.displaySize[1]-_e[3]/Pe]}const I=o.left*y,M=o.right*y;let j,V,q,Q;l==="width"||l==="both"?(Q=p[0]+I-h[3],V=p[0]+M+h[1]):(Q=p[0]+(I+M-x.displaySize[0])/2,V=Q+x.displaySize[0]);const te=o.top*y,ue=o.bottom*y;return l==="height"||l==="both"?(j=p[1]+te-h[0],q=p[1]+ue+h[2]):(j=p[1]+(te+ue-x.displaySize[1])/2,q=j+x.displaySize[1]),{image:x,top:j,right:V,bottom:q,left:Q,collisionPadding:C}}class ju extends J{constructor(o,l,h,p,y){super(o,l),this.angle=p,this.z=h,y!==void 0&&(this.segment=y)}clone(){return new ju(this.x,this.y,this.z,this.angle,this.segment)}}function oD(a,o,l,h,p){if(o.segment===void 0)return!0;let y=o,x=o.segment+1,C=0;for(;C>-l/2;){if(x--,x<0)return!1;C-=a[x].dist(y),y=a[x]}C+=a[x].dist(a[x+1]),x++;const I=[];let M=0;for(;C<l/2;){const j=a[x],V=a[x+1];if(!V)return!1;let q=a[x-1].angleTo(j)-j.angleTo(V);for(q=Math.abs((q+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:C,angleDelta:q}),M+=q;C-I[0].distance>h;)M-=I.shift().angleDelta;if(M>p)return!1;x++,C+=j.dist(V)}return!0}function iD(a){let o=0;for(let l=0;l<a.length-1;l++)o+=a[l].dist(a[l+1]);return o}function sD(a,o,l){return a?.6*o*l:0}function aD(a,o){return Math.max(a?a.right-a.left:0,o?o.right-o.left:0)}function G8(a,o,l,h,p,y){const x=sD(l,p,y),C=aD(l,h)*y;let I=0;const M=iD(a)/2;for(let j=0;j<a.length-1;j++){const V=a[j],q=a[j+1],Q=V.dist(q);if(I+Q>M){const te=(M-I)/Q,ue=xr(V.x,q.x,te),_e=xr(V.y,q.y,te),Pe=new ju(ue,_e,0,q.angleTo(V),j);return!x||oD(a,Pe,C,x,o)?Pe:void 0}I+=Q}}function W8(a,o,l,h,p,y,x,C,I){const M=sD(h,y,x),j=aD(h,p),V=j*x,q=a[0].x===0||a[0].x===I||a[0].y===0||a[0].y===I;return o-V<o/4&&(o=V+o/4),lD(a,q?o/2*C%o:(j/2+2*y)*x*C%o,o,M,l,V,q,!1,I)}function lD(a,o,l,h,p,y,x,C,I){const M=y/2,j=iD(a);let V=0,q=o-l,Q=[];for(let te=0;te<a.length-1;te++){const ue=a[te],_e=a[te+1],Pe=ue.dist(_e),Le=_e.angleTo(ue);for(;q+l<V+Pe;){q+=l;const ke=(q-V)/Pe,Oe=xr(ue.x,_e.x,ke),je=xr(ue.y,_e.y,ke);if(Oe>=0&&Oe<I&&je>=0&&je<I&&q-M>=0&&q+M<=j){const Fe=new ju(Oe,je,0,Le,te);Fe._round(),h&&!oD(a,Fe,y,h,p)||Q.push(Fe)}}V+=Pe}return C||Q.length||x||(Q=lD(a,V/2,l,h,p,y,x,!0,I)),Q}function cD(a,o,l,h,p){const y=[];for(let x=0;x<a.length;x++){const C=a[x];let I;for(let M=0;M<C.length-1;M++){let j=C[M],V=C[M+1];j.x<o&&V.x<o||(j.x<o?j=new J(o,j.y+(o-j.x)/(V.x-j.x)*(V.y-j.y))._round():V.x<o&&(V=new J(o,j.y+(o-j.x)/(V.x-j.x)*(V.y-j.y))._round()),j.y<l&&V.y<l||(j.y<l?j=new J(j.x+(l-j.y)/(V.y-j.y)*(V.x-j.x),l)._round():V.y<l&&(V=new J(j.x+(l-j.y)/(V.y-j.y)*(V.x-j.x),l)._round()),j.x>=h&&V.x>=h||(j.x>=h?j=new J(h,j.y+(h-j.x)/(V.x-j.x)*(V.y-j.y))._round():V.x>=h&&(V=new J(h,j.y+(h-j.x)/(V.x-j.x)*(V.y-j.y))._round()),j.y>=p&&V.y>=p||(j.y>=p?j=new J(j.x+(p-j.y)/(V.y-j.y)*(V.x-j.x),p)._round():V.y>=p&&(V=new J(j.x+(p-j.y)/(V.y-j.y)*(V.x-j.x),p)._round()),I&&j.equals(I[I.length-1])||(I=[j],y.push(I)),I.push(V)))))}}return y}_n(ju,"Anchor");const Rv=1e20;function uD(a,o,l,h,p,y,x,C,I){for(let M=o;M<o+h;M++)dD(a,l*y+M,y,p,x,C,I);for(let M=l;M<l+p;M++)dD(a,M*y+o,1,h,x,C,I)}function dD(a,o,l,h,p,y,x){y[0]=0,x[0]=-Rv,x[1]=Rv,p[0]=a[o];for(let C=1,I=0,M=0;C<h;C++){p[C]=a[o+C*l];const j=C*C;do{const V=y[I];M=(p[C]-p[V]+j-V*V)/(C-V)/2}while(M<=x[I]&&--I>-1);I++,y[I]=C,x[I]=M,x[I+1]=Rv}for(let C=0,I=0;C<h;C++){for(;x[I+1]<C;)I++;const M=y[I],j=C-M;a[o+C*l]=p[M]+j*j}}const Hl=2,J2={none:0,ideographs:1,all:2};class jm{constructor(o,l,h){this.requestManager=o,this.localGlyphMode=l,this.localFontFamily=h,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(o){this.url=o}getGlyphs(o,l){const h=[];for(const p in o)for(const y of o[p])h.push({stack:p,id:y});Ue(h,({stack:p,id:y},x)=>{let C=this.entries[p];C||(C=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let I=C.glyphs[y];if(I!==void 0)return void x(null,{stack:p,id:y,glyph:I});if(I=this._tinySDF(C,p,y),I)return C.glyphs[y]=I,void x(null,{stack:p,id:y,glyph:I});const M=Math.floor(y/256);if(256*M>65535)return void x(new Error("glyphs > 65535 not supported"));if(C.ranges[M])return void x(null,{stack:p,id:y,glyph:I});let j=C.requests[M];j||(j=C.requests[M]=[],jm.loadGlyphRange(p,M,this.url,this.requestManager,(V,q)=>{if(q){C.ascender=q.ascender,C.descender=q.descender;for(const Q in q.glyphs)this._doesCharSupportLocalGlyph(+Q)||(C.glyphs[+Q]=q.glyphs[+Q]);C.ranges[M]=!0}for(const Q of j)Q(V,q);delete C.requests[M]})),j.push((V,q)=>{V?x(V):q&&x(null,{stack:p,id:y,glyph:q.glyphs[y]||null})})},(p,y)=>{if(p)l(p);else if(y){const x={};for(const{stack:C,id:I,glyph:M}of y)x[C]===void 0&&(x[C]={}),x[C].glyphs===void 0&&(x[C].glyphs={}),x[C].glyphs[I]=M&&{id:M.id,bitmap:M.bitmap.clone(),metrics:M.metrics},x[C].ascender=this.entries[C].ascender,x[C].descender=this.entries[C].descender;l(null,x)}})}_doesCharSupportLocalGlyph(o){return this.localGlyphMode!==J2.none&&(this.localGlyphMode===J2.all?!!this.localFontFamily:!!this.localFontFamily&&(mn["CJK Unified Ideographs"](o)||mn["Hangul Syllables"](o)||mn.Hiragana(o)||mn.Katakana(o)||mn["CJK Symbols and Punctuation"](o)))}_tinySDF(o,l,h){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(h))return;let y=o.tinySDF;if(!y){let ue="400";/bold/i.test(l)?ue="900":/medium/i.test(l)?ue="500":/light/i.test(l)&&(ue="200"),y=o.tinySDF=new jm.TinySDF({fontFamily:p,fontWeight:ue,fontSize:24*Hl,buffer:3*Hl,radius:8*Hl}),y.fontWeight=ue}if(this.localGlyphs[y.fontWeight][h])return this.localGlyphs[y.fontWeight][h];const x=String.fromCharCode(h),{data:C,width:I,height:M,glyphWidth:j,glyphHeight:V,glyphLeft:q,glyphTop:Q,glyphAdvance:te}=y.draw(x);return this.localGlyphs[y.fontWeight][h]={id:h,bitmap:new zu({width:I,height:M},C),metrics:{width:j/Hl,height:V/Hl,left:q/Hl,top:Q/Hl-27,advance:te/Hl,localGlyph:!0}}}}jm.loadGlyphRange=function(a,o,l,h,p){const y=256*o,x=y+255,C=h.transformRequest(h.normalizeGlyphsURL(l).replace("{fontstack}",a).replace("{range}",`${y}-${x}`),ar.Glyphs);gi(C,(I,M)=>{if(I)p(I);else if(M){const j={},V=function(q){return new ob(q).readFields($8,{})}(M);for(const q of V.glyphs)j[q.id]=q;p(null,{glyphs:j,ascender:V.ascender,descender:V.descender})}})},jm.TinySDF=class{constructor({fontSize:a=24,buffer:o=3,radius:l=8,cutoff:h=.25,fontFamily:p="sans-serif",fontWeight:y="normal",fontStyle:x="normal"}={}){this.buffer=o,this.cutoff=h,this.radius=l;const C=this.size=a+4*o,I=this._createCanvas(C),M=this.ctx=I.getContext("2d",{willReadFrequently:!0});M.font=`${x} ${y} ${a}px ${p}`,M.textBaseline="alphabetic",M.textAlign="left",M.fillStyle="black",this.gridOuter=new Float64Array(C*C),this.gridInner=new Float64Array(C*C),this.f=new Float64Array(C),this.z=new Float64Array(C+1),this.v=new Uint16Array(C)}_createCanvas(a){const o=document.createElement("canvas");return o.width=o.height=a,o}draw(a){const{width:o,actualBoundingBoxAscent:l,actualBoundingBoxDescent:h,actualBoundingBoxLeft:p,actualBoundingBoxRight:y}=this.ctx.measureText(a),x=Math.ceil(l),C=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(y-p))),I=Math.min(this.size-this.buffer,x+Math.ceil(h)),M=C+2*this.buffer,j=I+2*this.buffer,V=Math.max(M*j,0),q=new Uint8ClampedArray(V),Q={data:q,width:M,height:j,glyphWidth:C,glyphHeight:I,glyphTop:x,glyphLeft:0,glyphAdvance:o};if(C===0||I===0)return Q;const{ctx:te,buffer:ue,gridInner:_e,gridOuter:Pe}=this;te.clearRect(ue,ue,C,I),te.fillText(a,ue,ue+x);const Le=te.getImageData(ue,ue,C,I);Pe.fill(Rv,0,V),_e.fill(0,0,V);for(let ke=0;ke<I;ke++)for(let Oe=0;Oe<C;Oe++){const je=Le.data[4*(ke*C+Oe)+3]/255;if(je===0)continue;const Fe=(ke+ue)*M+Oe+ue;if(je===1)Pe[Fe]=0,_e[Fe]=Rv;else{const lt=.5-je;Pe[Fe]=lt>0?lt*lt:0,_e[Fe]=lt<0?lt*lt:0}}uD(Pe,0,0,M,j,M,this.f,this.v,this.z),uD(_e,ue,ue,C,I,M,this.f,this.v,this.z);for(let ke=0;ke<V;ke++){const Oe=Math.sqrt(Pe[ke])-Math.sqrt(_e[ke]);q[ke]=Math.round(255-255*(Oe/this.radius+this.cutoff))}return Q}};const $m=Ds;function hD(a,o,l,h){const p=[],y=a.image,x=y.pixelRatio,C=y.paddedRect.w-2*$m,I=y.paddedRect.h-2*$m,M=a.right-a.left,j=a.bottom-a.top,V=y.stretchX||[[0,C]],q=y.stretchY||[[0,I]],Q=(ut,kt)=>ut+kt[1]-kt[0],te=V.reduce(Q,0),ue=q.reduce(Q,0),_e=C-te,Pe=I-ue;let Le=0,ke=te,Oe=0,je=ue,Fe=0,lt=_e,rt=0,bt=Pe;if(y.content&&h){const ut=y.content;Le=sb(V,0,ut[0]),Oe=sb(q,0,ut[1]),ke=sb(V,ut[0],ut[2]),je=sb(q,ut[1],ut[3]),Fe=ut[0]-Le,rt=ut[1]-Oe,lt=ut[2]-ut[0]-ke,bt=ut[3]-ut[1]-je}const Ht=(ut,kt,It,Lt)=>{const Xt=ab(ut.stretch-Le,ke,M,a.left),yt=lb(ut.fixed-Fe,lt,ut.stretch,te),ln=ab(kt.stretch-Oe,je,j,a.top),bn=lb(kt.fixed-rt,bt,kt.stretch,ue),fn=ab(It.stretch-Le,ke,M,a.left),Qn=lb(It.fixed-Fe,lt,It.stretch,te),Jt=ab(Lt.stretch-Oe,je,j,a.top),An=lb(Lt.fixed-rt,bt,Lt.stretch,ue),er=new J(Xt,ln),Ir=new J(fn,ln),tr=new J(fn,Jt),Bn=new J(Xt,Jt),mo=new J(yt/x,bn/x),rr=new J(Qn/x,An/x),or=o*Math.PI/180;if(or){const ao=Math.sin(or),Jr=Math.cos(or),Mo=[Jr,-ao,ao,Jr];er._matMult(Mo),Ir._matMult(Mo),Bn._matMult(Mo),tr._matMult(Mo)}const Xr=ut.stretch+ut.fixed,so=kt.stretch+kt.fixed;return{tl:er,tr:Ir,bl:Bn,br:tr,tex:{x:y.paddedRect.x+$m+Xr,y:y.paddedRect.y+$m+so,w:It.stretch+It.fixed-Xr,h:Lt.stretch+Lt.fixed-so},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:mo,pixelOffsetBR:rr,minFontScaleX:lt/x/M,minFontScaleY:bt/x/j,isSDF:l}};if(h&&(y.stretchX||y.stretchY)){const ut=fD(V,_e,te),kt=fD(q,Pe,ue);for(let It=0;It<ut.length-1;It++){const Lt=ut[It],Xt=ut[It+1];for(let yt=0;yt<kt.length-1;yt++)p.push(Ht(Lt,kt[yt],Xt,kt[yt+1]))}}else p.push(Ht({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:I+1}));return p}function sb(a,o,l){let h=0;for(const p of a)h+=Math.max(o,Math.min(l,p[1]))-Math.max(o,Math.min(l,p[0]));return h}function fD(a,o,l){const h=[{fixed:-$m,stretch:0}];for(const[p,y]of a){const x=h[h.length-1];h.push({fixed:p-x.stretch,stretch:x.stretch}),h.push({fixed:p-x.stretch,stretch:x.stretch+(y-p)})}return h.push({fixed:o+$m,stretch:l}),h}function ab(a,o,l,h){return a/o*l+h}function lb(a,o,l,h){return a-o*l/h}function q8(a,o,l,h){const p=o+a.positionedLines[h].lineOffset;return h===0?l+p/2:l+(p+(o+a.positionedLines[h-1].lineOffset))/2}class Z8{constructor(o=[],l=Y8){if(this.data=o,this.length=this.data.length,this.compare=l,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:l,compare:h}=this,p=l[o];for(;o>0;){const y=o-1>>1,x=l[y];if(h(p,x)>=0)break;l[o]=x,o=y}l[o]=p}_down(o){const{data:l,compare:h}=this,p=this.length>>1,y=l[o];for(;o<p;){let x=1+(o<<1),C=l[x];const I=x+1;if(I<this.length&&h(l[I],C)<0&&(x=I,C=l[I]),h(C,y)>=0)break;l[o]=C,o=x}l[o]=y}}function Y8(a,o){return a<o?-1:a>o?1:0}function K8(a,o=1,l=!1){let h=1/0,p=1/0,y=-1/0,x=-1/0;const C=a[0];for(let Q=0;Q<C.length;Q++){const te=C[Q];(!Q||te.x<h)&&(h=te.x),(!Q||te.y<p)&&(p=te.y),(!Q||te.x>y)&&(y=te.x),(!Q||te.y>x)&&(x=te.y)}const I=Math.min(y-h,x-p);let M=I/2;const j=new Z8([],X8);if(I===0)return new J(h,p);for(let Q=h;Q<y;Q+=I)for(let te=p;te<x;te+=I)j.push(new Bm(Q+M,te+M,M,a));let V=function(Q){let te=0,ue=0,_e=0;const Pe=Q[0];for(let Le=0,ke=Pe.length,Oe=ke-1;Le<ke;Oe=Le++){const je=Pe[Le],Fe=Pe[Oe],lt=je.x*Fe.y-Fe.x*je.y;ue+=(je.x+Fe.x)*lt,_e+=(je.y+Fe.y)*lt,te+=3*lt}return new Bm(ue/te,_e/te,0,Q)}(a),q=j.length;for(;j.length;){const Q=j.pop();(Q.d>V.d||!V.d)&&(V=Q,l&&console.log("found best %d after %d probes",Math.round(1e4*Q.d)/1e4,q)),Q.max-V.d<=o||(M=Q.h/2,j.push(new Bm(Q.p.x-M,Q.p.y-M,M,a)),j.push(new Bm(Q.p.x+M,Q.p.y-M,M,a)),j.push(new Bm(Q.p.x-M,Q.p.y+M,M,a)),j.push(new Bm(Q.p.x+M,Q.p.y+M,M,a)),q+=4)}return l&&(console.log(`num probes: ${q}`),console.log(`best distance: ${V.d}`)),V.p}function X8(a,o){return o.max-a.max}class Bm{constructor(o,l,h,p){this.p=new J(o,l),this.h=h,this.d=function(y,x){let C=!1,I=1/0;for(let M=0;M<x.length;M++){const j=x[M];for(let V=0,q=j.length,Q=q-1;V<q;Q=V++){const te=j[V],ue=j[Q];te.y>y.y!=ue.y>y.y&&y.x<(ue.x-te.x)*(y.y-te.y)/(ue.y-te.y)+te.x&&(C=!C),I=Math.min(I,lO(y,te,ue))}}return(C?1:-1)*Math.sqrt(I)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}}const Nm=7,Q2=Number.POSITIVE_INFINITY,J8=Math.sqrt(2);function pD(a,[o,l]){let h=0,p=0;if(l===Q2){o<0&&(o=0);const y=o/J8;switch(a){case"top-right":case"top-left":p=y-Nm;break;case"bottom-right":case"bottom-left":p=-y+Nm;break;case"bottom":p=-o+Nm;break;case"top":p=o-Nm}switch(a){case"top-right":case"bottom-right":h=-y;break;case"top-left":case"bottom-left":h=y;break;case"left":h=o;break;case"right":h=-o}}else{switch(o=Math.abs(o),l=Math.abs(l),a){case"top-right":case"top-left":case"top":p=l-Nm;break;case"bottom-right":case"bottom-left":case"bottom":p=-l+Nm}switch(a){case"top-right":case"bottom-right":case"right":h=-o;break;case"top-left":case"bottom-left":case"left":h=o}}return[h,p]}function Q8(a,o,l,h,p,y,x,C,I,M){a.createArrays(),a.tilePixelRatio=Ln/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const j=a.layers[0].layout,V=a.layers[0]._unevaluatedLayout._values,q={};if(a.textSizeData.kind==="composite"){const{minZoom:ue,maxZoom:_e}=a.textSizeData;q.compositeTextSizes=[V["text-size"].possiblyEvaluate(new N(ue),C),V["text-size"].possiblyEvaluate(new N(_e),C)]}if(a.iconSizeData.kind==="composite"){const{minZoom:ue,maxZoom:_e}=a.iconSizeData;q.compositeIconSizes=[V["icon-size"].possiblyEvaluate(new N(ue),C),V["icon-size"].possiblyEvaluate(new N(_e),C)]}q.layoutTextSize=V["text-size"].possiblyEvaluate(new N(I+1),C),q.layoutIconSize=V["icon-size"].possiblyEvaluate(new N(I+1),C),q.textMaxSize=V["text-size"].possiblyEvaluate(new N(18),C);const Q=j.get("text-rotation-alignment")==="map"&&j.get("symbol-placement")!=="point",te=j.get("text-size");for(const ue of a.features){const _e=j.get("text-font").evaluate(ue,{},C).join(","),Pe=te.evaluate(ue,{},C),Le=q.layoutTextSize.evaluate(ue,{},C),ke=(q.layoutIconSize.evaluate(ue,{},C),{horizontal:{},vertical:void 0}),Oe=ue.text;let je,Fe=[0,0];if(Oe){const bt=Oe.toString(),Ht=j.get("text-letter-spacing").evaluate(ue,{},C)*ji,ut=j.get("text-line-height").evaluate(ue,{},C)*ji,kt=l2(bt)?Ht:0,It=j.get("text-anchor").evaluate(ue,{},C),Lt=j.get("text-variable-anchor");if(!Lt){const fn=j.get("text-radial-offset").evaluate(ue,{},C);Fe=fn?pD(It,[fn*ji,Q2]):j.get("text-offset").evaluate(ue,{},C).map(Qn=>Qn*ji)}let Xt=Q?"center":j.get("text-justify").evaluate(ue,{},C);const yt=j.get("symbol-placement")==="point",ln=yt?j.get("text-max-width").evaluate(ue,{},C)*ji:1/0,bn=fn=>{a.allowVerticalPlacement&&rv(bt)&&(ke.vertical=K2(Oe,o,l,p,_e,ln,ut,It,fn,kt,Fe,Ea.vertical,!0,Le,Pe))};if(!Q&&Lt){const fn=Xt==="auto"?Lt.map(Jt=>eT(Jt)):[Xt];let Qn=!1;for(let Jt=0;Jt<fn.length;Jt++){const An=fn[Jt];if(!ke.horizontal[An])if(Qn)ke.horizontal[An]=ke.horizontal[0];else{const er=K2(Oe,o,l,p,_e,ln,ut,"center",An,kt,Fe,Ea.horizontal,!1,Le,Pe);er&&(ke.horizontal[An]=er,Qn=er.positionedLines.length===1)}}bn("left")}else{if(Xt==="auto"&&(Xt=eT(It)),yt||j.get("text-writing-mode").indexOf("horizontal")>=0||!rv(bt)){const fn=K2(Oe,o,l,p,_e,ln,ut,It,Xt,kt,Fe,Ea.horizontal,!1,Le,Pe);fn&&(ke.horizontal[Xt]=fn)}bn(yt?"left":Xt)}}let lt=!1;if(ue.icon&&ue.icon.name){const bt=h[ue.icon.name];bt&&(je=H8(p[ue.icon.name],j.get("icon-offset").evaluate(ue,{},C),j.get("icon-anchor").evaluate(ue,{},C)),lt=bt.sdf,a.sdfIcons===void 0?a.sdfIcons=bt.sdf:a.sdfIcons!==bt.sdf&&st("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(bt.pixelRatio!==a.pixelRatio||j.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const rt=gD(ke.horizontal)||ke.vertical;a.iconsInText||(a.iconsInText=!!rt&&rt.iconsInText),(rt||je)&&eW(a,ue,ke,je,h,q,Le,0,Fe,lt,x,C,M)}y&&a.generateCollisionDebugBuffers(I,a.collisionBoxArray)}function eT(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function eW(a,o,l,h,p,y,x,C,I,M,j,V,q){let Q=y.textMaxSize.evaluate(o,{},V);Q===void 0&&(Q=x);const te=a.layers[0].layout,ue=te.get("icon-offset").evaluate(o,{},V),_e=gD(l.horizontal)||l.vertical,Pe=q.name==="globe",Le=ji,ke=x/Le,Oe=a.tilePixelRatio*Q/Le,je=(It=a.overscaling,a.zoom>18&&It>2&&(It>>=1),Math.max(Ln/(512*It),1)*te.get("symbol-spacing")),Fe=te.get("text-padding")*a.tilePixelRatio,lt=te.get("icon-padding")*a.tilePixelRatio,rt=de(te.get("text-max-angle")),bt=te.get("text-rotation-alignment")==="map"&&te.get("symbol-placement")!=="point",Ht=te.get("icon-rotation-alignment")==="map"&&te.get("symbol-placement")!=="point",ut=te.get("symbol-placement"),kt=je/2;var It;const Lt=te.get("icon-text-fit");let Xt;h&&Lt!=="none"&&(a.allowVerticalPlacement&&l.vertical&&(Xt=rD(h,l.vertical,Lt,te.get("icon-text-fit-padding"),ue,ke)),_e&&(h=rD(h,_e,Lt,te.get("icon-text-fit-padding"),ue,ke)));const yt=(ln,bn,fn)=>{if(bn.x<0||bn.x>=Ln||bn.y<0||bn.y>=Ln)return;let Qn=null;if(Pe){const{x:Jt,y:An,z:er}=q.projectTilePoint(bn.x,bn.y,fn);Qn={anchor:new ju(Jt,An,er,0,void 0),up:q.upVector(fn,bn.x,bn.y)}}(function(Jt,An,er,Ir,tr,Bn,mo,rr,or,Xr,so,ao,Jr,Mo,jo,ii,Qr,vi,si,Oo,Dr,ai,lo,ys,li){const $i=Jt.addToLineVertexArray(An,Ir);let Ai,vs,Ri,Wl,Hm,Nv,Uv,YD=0,KD=0,XD=0,JD=0,mT=-1,gT=-1;const zc={};let QD=d2("");const Xf=er?er.anchor:An;let yT=0,vT=0;if(or._unevaluatedLayout.getValue("text-radial-offset")===void 0?[yT,vT]=or.layout.get("text-offset").evaluate(Dr,{},li).map(Xs=>Xs*ji):(yT=or.layout.get("text-radial-offset").evaluate(Dr,{},li)*ji,vT=Q2),Jt.allowVerticalPlacement&&tr.vertical){const Xs=tr.vertical;if(jo)Nv=tT(Xs),rr&&(Uv=tT(rr));else{const Js=or.layout.get("text-rotate").evaluate(Dr,{},li)+90;Ri=cb(Xr,Xf,An,so,ao,Jr,Xs,Mo,Js,ii),rr&&(Wl=cb(Xr,Xf,An,so,ao,Jr,rr,vi,Js))}}if(Bn){const Xs=or.layout.get("icon-rotate").evaluate(Dr,{},li),Js=or.layout.get("icon-text-fit")!=="none",Vv=hD(Bn,Xs,lo,Js),xT=rr?hD(rr,Xs,lo,Js):void 0;vs=cb(Xr,Xf,An,so,ao,Jr,Bn,vi,Xs),YD=4*Vv.length;const eL=Jt.iconSizeData;let Jf=null;eL.kind==="source"?(Jf=[Vl*or.layout.get("icon-size").evaluate(Dr,{},li)],Jf[0]>Kd&&st(`${Jt.layerIds[0]}: Value for "icon-size" is >= ${Ov}. Reduce your "icon-size".`)):eL.kind==="composite"&&(Jf=[Vl*ai.compositeIconSizes[0].evaluate(Dr,{},li),Vl*ai.compositeIconSizes[1].evaluate(Dr,{},li)],(Jf[0]>Kd||Jf[1]>Kd)&&st(`${Jt.layerIds[0]}: Value for "icon-size" is >= ${Ov}. Reduce your "icon-size".`)),Jt.addSymbols(Jt.icon,Vv,Jf,Oo,si,Dr,!1,er,An,$i.lineStartIndex,$i.lineLength,-1,ys,li),mT=Jt.icon.placedSymbolArray.length-1,xT&&(KD=4*xT.length,Jt.addSymbols(Jt.icon,xT,Jf,Oo,si,Dr,Ea.vertical,er,An,$i.lineStartIndex,$i.lineLength,-1,ys,li),gT=Jt.icon.placedSymbolArray.length-1)}for(const Xs in tr.horizontal){const Js=tr.horizontal[Xs];Ai||(QD=d2(Js.text),jo?Hm=tT(Js):Ai=cb(Xr,Xf,An,so,ao,Jr,Js,Mo,or.layout.get("text-rotate").evaluate(Dr,{},li),ii));const Vv=Js.positionedLines.length===1;if(XD+=mD(Jt,er,An,Js,mo,or,jo,Dr,ii,$i,tr.vertical?Ea.horizontal:Ea.horizontalOnly,Vv?Object.keys(tr.horizontal):[Xs],zc,mT,ai,ys,li),Vv)break}tr.vertical&&(JD+=mD(Jt,er,An,tr.vertical,mo,or,jo,Dr,ii,$i,Ea.vertical,["vertical"],zc,gT,ai,ys,li));let nh=-1;const _T=(Xs,Js)=>Xs?Math.max(Xs,Js):Js;nh=_T(Hm,nh),nh=_T(Nv,nh),nh=_T(Uv,nh);const kW=nh>-1?1:0;Jt.glyphOffsetArray.length>=Jd.MAX_GLYPHS&&st("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Dr.sortKey!==void 0&&Jt.addToSortKeyRanges(Jt.symbolInstances.length,Dr.sortKey),Jt.symbolInstances.emplaceBack(Xf.x,Xf.y,Xf.z,An.x,An.y,zc.right>=0?zc.right:-1,zc.center>=0?zc.center:-1,zc.left>=0?zc.left:-1,zc.vertical>=0?zc.vertical:-1,mT,gT,QD,Ai!==void 0?Ai:Jt.collisionBoxArray.length,Ai!==void 0?Ai+1:Jt.collisionBoxArray.length,Ri!==void 0?Ri:Jt.collisionBoxArray.length,Ri!==void 0?Ri+1:Jt.collisionBoxArray.length,vs!==void 0?vs:Jt.collisionBoxArray.length,vs!==void 0?vs+1:Jt.collisionBoxArray.length,Wl||Jt.collisionBoxArray.length,Wl?Wl+1:Jt.collisionBoxArray.length,so,XD,JD,YD,KD,kW,0,yT,vT,nh)})(a,bn,Qn,ln,l,h,p,Xt,a.layers[0],a.collisionBoxArray,o.index,o.sourceLayerIndex,a.index,Fe,bt,I,0,lt,Ht,ue,o,y,M,j,V)};if(ut==="line")for(const ln of cD(o.geometry,0,0,Ln,Ln)){const bn=W8(ln,je,rt,l.vertical||_e,h,Le,Oe,a.overscaling,Ln);for(const fn of bn)_e&&tW(a,_e.text,kt,fn)||yt(ln,fn,V)}else if(ut==="line-center"){for(const ln of o.geometry)if(ln.length>1){const bn=G8(ln,rt,l.vertical||_e,h,Le,Oe);bn&&yt(ln,bn,V)}}else if(o.type==="Polygon")for(const ln of N2(o.geometry,0)){const bn=K8(ln,16);yt(ln[0],new ju(bn.x,bn.y,0,0,void 0),V)}else if(o.type==="LineString")for(const ln of o.geometry)yt(ln,new ju(ln[0].x,ln[0].y,0,0,void 0),V);else if(o.type==="Point")for(const ln of o.geometry)for(const bn of ln)yt([bn],new ju(bn.x,bn.y,0,0,void 0),V)}const Ov=255,Kd=Ov*Vl;function mD(a,o,l,h,p,y,x,C,I,M,j,V,q,Q,te,ue,_e){const Pe=function(Oe,je,Fe,lt,rt,bt,Ht,ut){const kt=[];if(je.positionedLines.length===0)return kt;const It=lt.layout.get("text-rotate").evaluate(bt,{})*Math.PI/180,Lt=function(fn){const Qn=fn[0],Jt=fn[1],An=Qn*Jt;return An>0?[Qn,-Jt]:An<0?[-Qn,Jt]:Qn===0?[Jt,Qn]:[Jt,-Qn]}(Fe);let Xt=Math.abs(je.top-je.bottom);for(const fn of je.positionedLines)Xt-=fn.lineOffset;const yt=je.positionedLines.length,ln=Xt/yt;let bn=je.top-Fe[1];for(let fn=0;fn<yt;++fn){const Qn=je.positionedLines[fn];bn=q8(je,ln,bn,fn);for(const Jt of Qn.positionedGlyphs){if(!Jt.rect)continue;const An=Jt.rect||{};let er=YO+1,Ir=!0,tr=1,Bn=0;if(Jt.imageName){const lo=Ht[Jt.imageName];if(!lo)continue;if(lo.sdf){st("SDF images are not supported in formatted text and will be ignored.");continue}Ir=!1,tr=lo.pixelRatio,er=Ds/tr}const mo=(rt||ut)&&Jt.vertical,rr=Jt.metrics.advance*Jt.scale/2,or=Jt.metrics,Xr=Jt.rect;if(Xr===null)continue;ut&&je.verticalizable&&(Bn=Jt.imageName?rr-Jt.metrics.width*Jt.scale/2:0);const so=rt?[Jt.x+rr,Jt.y]:[0,0];let ao=[0,0],Jr=[0,0],Mo=!1;rt||(mo?(Jr=[Jt.x+rr+Lt[0],Jt.y+Lt[1]-Bn],Mo=!0):ao=[Jt.x+rr+Fe[0],Jt.y+Fe[1]-Bn]);const jo=Xr.w*Jt.scale/(tr*(Jt.localGlyph?Hl:1)),ii=Xr.h*Jt.scale/(tr*(Jt.localGlyph?Hl:1));let Qr,vi,si,Oo;if(mo){const lo=Jt.y-bn,ys=new J(-rr,rr-lo),li=-Math.PI/2,$i=new J(...Jr);Qr=new J(-rr+ao[0],ao[1]),Qr._rotateAround(li,ys)._add($i),Qr.x+=-lo+rr,Qr.y-=(or.left-er)*Jt.scale;const Ai=Jt.imageName?or.advance*Jt.scale:ji*Jt.scale,vs=String.fromCharCode(Jt.glyph);k8(vs)?Qr.x+=(1-er)*Jt.scale:I8(vs)?Qr.x+=Ai-or.height*Jt.scale+(-er-1)*Jt.scale:Qr.x+=Jt.imageName||or.width+2*er===Xr.w&&or.height+2*er===Xr.h?(Ai-ii)/2:(Ai-(or.height+2*er)*Jt.scale)/2,vi=new J(Qr.x,Qr.y-jo),si=new J(Qr.x+ii,Qr.y),Oo=new J(Qr.x+ii,Qr.y-jo)}else{const lo=(or.left-er)*Jt.scale-rr+ao[0],ys=(-or.top-er)*Jt.scale+ao[1],li=lo+jo,$i=ys+ii;Qr=new J(lo,ys),vi=new J(li,ys),si=new J(lo,$i),Oo=new J(li,$i)}if(It){let lo;lo=rt?new J(0,0):Mo?new J(Lt[0],Lt[1]):new J(Fe[0],Fe[1]),Qr._rotateAround(It,lo),vi._rotateAround(It,lo),si._rotateAround(It,lo),Oo._rotateAround(It,lo)}const Dr=new J(0,0),ai=new J(0,0);kt.push({tl:Qr,tr:vi,bl:si,br:Oo,tex:An,writingMode:je.writingMode,glyphOffset:so,sectionIndex:Jt.sectionIndex,isSDF:Ir,pixelOffsetTL:Dr,pixelOffsetBR:ai,minFontScaleX:0,minFontScaleY:0})}}return kt}(0,h,I,y,x,C,p,a.allowVerticalPlacement),Le=a.textSizeData;let ke=null;Le.kind==="source"?(ke=[Vl*y.layout.get("text-size").evaluate(C,{},_e)],ke[0]>Kd&&st(`${a.layerIds[0]}: Value for "text-size" is >= ${Ov}. Reduce your "text-size".`)):Le.kind==="composite"&&(ke=[Vl*te.compositeTextSizes[0].evaluate(C,{},_e),Vl*te.compositeTextSizes[1].evaluate(C,{},_e)],(ke[0]>Kd||ke[1]>Kd)&&st(`${a.layerIds[0]}: Value for "text-size" is >= ${Ov}. Reduce your "text-size".`)),a.addSymbols(a.text,Pe,ke,I,x,C,j,o,l,M.lineStartIndex,M.lineLength,Q,ue,_e);for(const Oe of V)q[Oe]=a.text.placedSymbolArray.length-1;return 4*Pe.length}function gD(a){for(const o in a)return a[o];return null}function cb(a,o,l,h,p,y,x,C,I,M){let j=x.top,V=x.bottom,q=x.left,Q=x.right;const te=x.collisionPadding;if(te&&(q-=te[0],j-=te[1],Q+=te[2],V+=te[3]),I){const ue=new J(q,j),_e=new J(Q,j),Pe=new J(q,V),Le=new J(Q,V),ke=de(I);let Oe=new J(0,0);M&&(Oe=new J(M[0],M[1])),ue._rotateAround(ke,Oe),_e._rotateAround(ke,Oe),Pe._rotateAround(ke,Oe),Le._rotateAround(ke,Oe),q=Math.min(ue.x,_e.x,Pe.x,Le.x),Q=Math.max(ue.x,_e.x,Pe.x,Le.x),j=Math.min(ue.y,_e.y,Pe.y,Le.y),V=Math.max(ue.y,_e.y,Pe.y,Le.y)}return a.emplaceBack(o.x,o.y,o.z,l.x,l.y,q,j,Q,V,C,h,p,y),a.length-1}function tT(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const o=a.bottom-a.top;return o>0?Math.max(10,o):null}function tW(a,o,l,h){const p=a.compareText;if(o in p){const y=p[o];for(let x=y.length-1;x>=0;x--)if(h.dist(y[x])<l)return!0}else p[o]=[];return p[o].push(h),!1}function yD(a,o){const l=a.fovAboveCenter,h=a.elevation?a.elevation.getMinElevationBelowMSL()*o:0,p=(a._camera.position[2]*a.worldSize-h)/Math.cos(a._pitch),y=Math.sin(l)*p/Math.sin(Math.max(Math.PI/2-a._pitch-l,.01)),x=Math.sin(a._pitch)*y+p;return Math.min(1.01*x,p*(1/a._horizonShift))}function Yf(a,o){if(!o.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:o};const l=Math.pow(2,-a.z),h=a.x*l,p=(a.x+1)*l,y=a.y*l,x=(a.y+1)*l,C=Ta(h),I=Ta(p),M=Ki(y),j=Ki(x),V=o.project(C,M),q=o.project(I,M),Q=o.project(I,j),te=o.project(C,j);let ue=Math.min(V.x,q.x,Q.x,te.x),_e=Math.min(V.y,q.y,Q.y,te.y),Pe=Math.max(V.x,q.x,Q.x,te.x),Le=Math.max(V.y,q.y,Q.y,te.y);const ke=l/16;function Oe(Fe,lt,rt,bt,Ht,ut){const kt=(rt+Ht)/2,It=(bt+ut)/2,Lt=o.project(Ta(kt),Ki(It)),Xt=Math.max(0,ue-Lt.x,_e-Lt.y,Lt.x-Pe,Lt.y-Le);ue=Math.min(ue,Lt.x),Pe=Math.max(Pe,Lt.x),_e=Math.min(_e,Lt.y),Le=Math.max(Le,Lt.y),Xt>ke&&(Oe(Fe,Lt,rt,bt,kt,It),Oe(Lt,lt,kt,It,Ht,ut))}Oe(V,q,h,y,p,y),Oe(q,Q,p,y,p,x),Oe(Q,te,p,x,h,x),Oe(te,V,h,x,h,y),ue-=ke,_e-=ke,Pe+=ke,Le+=ke;const je=1/Math.max(Pe-ue,Le-_e);return{scale:je,x:ue*je,y:_e*je,x2:Pe*je,y2:Le*je,projection:o}}const nW=Bl(new Float32Array(16));class Xd{constructor(o){this.spec=o,this.name=o.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(o,l){return{x:0,y:0,z:0}}unproject(o,l){return new Kr(0,0)}projectTilePoint(o,l,h){return{x:o,y:l,z:0}}locationPoint(o,l,h=!0){return o._coordinatePoint(o.locationCoordinate(l),h)}pixelsPerMeter(o,l){return Ul(1,o)*l}pixelSpaceConversion(o,l,h){return 1}farthestPixelDistance(o){return yD(o,o.pixelsPerMeter)}pointCoordinate(o,l,h,p){const y=o.horizonLineFromTop(!1),x=new J(l,Math.max(y,h));return o.rayIntersectionCoordinate(o.pointRayIntersection(x,p))}pointCoordinate3D(o,l,h){const p=new J(l,h);if(o.elevation)return o.elevation.pointCoordinate(p);{const y=this.pointCoordinate(o,p.x,p.y,0);return[y.x,y.y,y.z]}}isPointAboveHorizon(o,l){if(o.elevation)return!this.pointCoordinate3D(o,l.x,l.y);const h=o.horizonLineFromTop();return l.y<h}createInversionMatrix(o,l){return nW}createTileMatrix(o,l,h){let p,y,x;const C=h.canonical,I=Bl(new Float64Array(16));if(this.isReprojectedInTileSpace){const M=Yf(C,this);p=1,y=M.x+h.wrap*M.scale,x=M.y,Uf(I,I,[p/M.scale,p/M.scale,o.pixelsPerMeter/l])}else p=l/o.zoomScale(C.z),y=(C.x+Math.pow(2,C.z)*h.wrap)*p,x=C.y*p;return uv(I,I,[y,x,0]),Uf(I,I,[p/Ln,p/Ln,1]),I}upVector(o,l,h){return[0,0,1]}upVectorScale(o,l,h){return{metersToTile:1}}}class rW extends Xd{constructor(o){super(o),this.range=[4,7],this.center=o.center||[-96,37.5];const[l,h]=this.parallels=o.parallels||[29.5,45.5],p=Math.sin(de(l));this.n=(p+Math.sin(de(h)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(o,l){const{n:h,c:p,r0:y}=this,x=de(o-this.center[0]),C=de(l),I=Math.sqrt(p-2*h*Math.sin(C))/h;return{x:I*Math.sin(x*h),y:I*Math.cos(x*h)-y,z:0}}unproject(o,l){const{n:h,c:p,r0:y}=this,x=y+l;let C=Math.atan2(o,Math.abs(x))*Math.sign(x);x*h<0&&(C-=Math.PI*Math.sign(o)*Math.sign(x));const I=de(this.center[0])*h;C=Te(C,-Math.PI-I,Math.PI-I);const M=ce(pe(C/h)+this.center[0],-180,180),j=Math.asin(ce((p-(o*o+x*x)*h*h)/(2*h),-1,1)),V=ce(pe(j),-Xi,Xi);return new Kr(M,V)}}const Dv=1.340264,Lv=-.081106,zv=893e-6,Fv=.003796,ub=Math.sqrt(3)/2;class oW extends Xd{project(o,l){l=l/180*Math.PI,o=o/180*Math.PI;const h=Math.asin(ub*Math.sin(l)),p=h*h,y=p*p*p;return{x:.5*(o*Math.cos(h)/(ub*(Dv+3*Lv*p+y*(7*zv+9*Fv*p)))/Math.PI+.5),y:1-.5*(h*(Dv+Lv*p+y*(zv+Fv*p))/Math.PI+1),z:0}}unproject(o,l){o=(2*o-.5)*Math.PI;let h=l=(2*(1-l)-1)*Math.PI,p=h*h,y=p*p*p;for(let j,V,q,Q=0;Q<12&&(V=h*(Dv+Lv*p+y*(zv+Fv*p))-l,q=Dv+3*Lv*p+y*(7*zv+9*Fv*p),j=V/q,h=ce(h-j,-Math.PI/3,Math.PI/3),p=h*h,y=p*p*p,!(Math.abs(j)<1e-12));++Q);const x=ub*o*(Dv+3*Lv*p+y*(7*zv+9*Fv*p))/Math.cos(h),C=Math.asin(Math.sin(h)/ub),I=ce(180*x/Math.PI,-180,180),M=ce(180*C/Math.PI,-Xi,Xi);return new Kr(I,M)}}class iW extends Xd{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0}project(o,l){return{x:.5+o/360,y:.5-l/360,z:0}}unproject(o,l){const h=360*(o-.5),p=ce(360*(.5-l),-Xi,Xi);return new Kr(h,p)}}const Um=Math.PI/2;function db(a){return Math.tan((Um+a)/2)}class sW extends Xd{constructor(o){super(o),this.center=o.center||[0,30];const[l,h]=this.parallels=o.parallels||[30,30];let p=de(l),y=de(h);this.southernCenter=p+y<0,this.southernCenter&&(p=-p,y=-y);const x=Math.cos(p),C=db(p);this.n=p===y?Math.sin(p):Math.log(x/Math.cos(y))/Math.log(db(y)/C),this.f=x*Math.pow(db(p),this.n)/this.n}project(o,l){l=de(l),this.southernCenter&&(l=-l),o=de(o-this.center[0]);const h=1e-6,{n:p,f:y}=this;y>0?l<-Um+h&&(l=-Um+h):l>Um-h&&(l=Um-h);const x=y/Math.pow(db(l),p);let C=x*Math.sin(p*o),I=y-x*Math.cos(p*o);return C=.5*(C/Math.PI+.5),I=.5*(I/Math.PI+.5),{x:C,y:this.southernCenter?I:1-I,z:0}}unproject(o,l){o=(2*o-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:h,f:p}=this,y=p-l,x=Math.sign(y),C=Math.sign(h)*Math.sqrt(o*o+y*y);let I=Math.atan2(o,Math.abs(y))*x;y*h<0&&(I-=Math.PI*Math.sign(o)*x);const M=ce(pe(I/h)+this.center[0],-180,180),j=ce(pe(2*Math.atan(Math.pow(p/C,1/h))-Um),-Xi,Xi);return new Kr(M,this.southernCenter?-j:j)}}class vD extends Xd{constructor(o){super(o),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(o,l){return{x:Ac(o),y:Rc(l),z:0}}unproject(o,l){const h=Ta(o),p=Ki(l);return new Kr(h,p)}}const _D=de(Xi);class aW extends Xd{project(o,l){const h=(l=de(l))*l,p=h*h;return{x:.5*((o=de(o))*(.8707-.131979*h+p*(p*(.003971*h-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+h*(.015085+p*(.028874*h-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(o,l){o=(2*o-.5)*Math.PI;let h=l=(2*(1-l)-1)*Math.PI,p=25,y=0,x=h*h;do{x=h*h;const M=x*x;y=(h*(1.007226+x*(.015085+M*(.028874*x-.044475-.005916*M)))-l)/(1.007226+x*(.045255+M*(.259866*x-.311325-.005916*11*M))),h=ce(h-y,-_D,_D)}while(Math.abs(y)>1e-6&&--p>0);x=h*h;const C=ce(pe(o/(.8707+x*(x*(x*x*x*(.003971-.001529*x)-.013791)-.131979))),-180,180),I=pe(h);return new Kr(C,I)}}const xD=de(Xi);class lW extends Xd{project(o,l){l=de(l),o=de(o);const h=Math.cos(l),p=2/Math.PI,y=Math.acos(h*Math.cos(o/2)),x=Math.sin(y)/y,C=.5*(o*p+2*h*Math.sin(o/2)/x)||0,I=.5*(l+Math.sin(l)/x)||0;return{x:.5*(C/Math.PI+.5),y:1-.5*(I/Math.PI+1),z:0}}unproject(o,l){let h=o=(2*o-.5)*Math.PI,p=l=(2*(1-l)-1)*Math.PI,y=25;const x=1e-6;let C=0,I=0;do{const M=Math.cos(p),j=Math.sin(p),V=2*j*M,q=j*j,Q=M*M,te=Math.cos(h/2),ue=Math.sin(h/2),_e=2*te*ue,Pe=ue*ue,Le=1-Q*te*te,ke=Le?1/Le:0,Oe=Le?Math.acos(M*te)*Math.sqrt(1/Le):0,je=.5*(2*Oe*M*ue+2*h/Math.PI)-o,Fe=.5*(Oe*j+p)-l,lt=.5*ke*(Q*Pe+Oe*M*te*q)+1/Math.PI,rt=ke*(_e*V/4-Oe*j*ue),bt=.125*ke*(V*ue-Oe*j*Q*_e),Ht=.5*ke*(q*te+Oe*Pe*M)+.5,ut=rt*bt-Ht*lt;C=(Fe*rt-je*Ht)/ut,I=(je*bt-Fe*lt)/ut,h=ce(h-C,-Math.PI,Math.PI),p=ce(p-I,-xD,xD)}while((Math.abs(C)>x||Math.abs(I)>x)&&--y>0);return new Kr(pe(h),pe(p))}}class bD extends Xd{constructor(o){super(o),this.center=o.center||[0,0],this.parallels=o.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(de(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(o,l){const{scale:h,cosPhi:p}=this;return{x:de(o)*p*h+.5,y:-Math.sin(de(l))/p*h+.5,z:0}}unproject(o,l){const{scale:h,cosPhi:p}=this,y=-(l-.5)/h,x=ce(pe((o-.5)/h)/p,-180,180),C=Math.asin(ce(y*p,-1,1)),I=ce(pe(C),-Xi,Xi);return new Kr(x,I)}}class cW extends vD{constructor(o){super(o),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(o,l,h){const p=vv(o,l,h);return Zo(p,p,_v(Mc(h))),{x:p[0],y:p[1],z:p[2]}}locationPoint(o,l){const h=Pm(l.lat,l.lng),p=ps([],h),y=o.elevation?o.elevation.getAtPointOrZero(o.locationCoordinate(l),o._centerAltitude):o._centerAltitude;pv(h,h,p,Ul(1,0)*Ln*y);const x=Bl(new Float64Array(16));return Nf(x,o.pixelMatrix,o.globeMatrix),Zo(h,h,x),new J(h[0],h[1])}pixelsPerMeter(o,l){return Ul(1,0)*l}pixelSpaceConversion(o,l,h){const p=Ul(1,o)*l,y=xr(Ul(1,45)*l,p,h);return this.pixelsPerMeter(o,l)/y}createTileMatrix(o,l,h){const p=T2(Mc(h.canonical));return Nf(new Float64Array(16),o.globeMatrix,p)}createInversionMatrix(o,l){const{center:h}=o,p=_v(Mc(l));return $x(p,p,de(h.lng)),m2(p,p,de(h.lat)),Uf(p,p,[o._pixelsPerMercatorPixel,o._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(o,l,h,p){return ZR(o,l,h,!0)||new Im(0,0)}pointCoordinate3D(o,l,h){const p=this.pointCoordinate(o,l,h,0);return[p.x,p.y,p.z]}isPointAboveHorizon(o,l){return!ZR(o,l.x,l.y,!1)}farthestPixelDistance(o){const l=function(p,y){const x=p.cameraToCenterDistance,C=p._centerAltitude*y,I=p._camera,M=p._camera.forward(),j=Du([],Sa([],M,-x),[0,0,C]),V=p.worldSize/(2*Math.PI),q=[0,0,-V],Q=p.width/p.height,te=Math.tan(p.fovAboveCenter),ue=Sa([],I.up(),te),_e=Sa([],I.right(),te*Q),Pe=ps([],Du([],Du([],M,ue),_e)),Le=[];let ke;if(new _2(j,Pe).closestPointOnSphere(q,V,Le)){const Oe=Du([],Le,q),je=Nl([],Oe,j);ke=Math.cos(p.fovAboveCenter)*dv(je)}else{const Oe=Nl([],j,q),je=Nl([],q,j);ps(je,je);const Fe=dv(Oe)-V;ke=Math.sqrt(Fe*(Fe+2*V));const lt=Math.acos(ke/(V+Fe))-Math.acos(Qa(M,je));ke*=Math.cos(lt)}return 1.01*ke}(o,this.pixelsPerMeter(o.center.lat,o.worldSize)),h=km(o.zoom);if(h>0){const p=yD(o,Ul(1,o.center.lat)*o.worldSize),y=o.worldSize/(2*Math.PI),x=Math.max(o.width,o.height)/o.worldSize*Math.PI;return xr(l,p+y*(1-Math.cos(x)),Math.pow(h,10))}return l}upVector(o,l,h){return vv(l,h,o,1)}upVectorScale(o){return{metersToTile:Bx(Ux(Mc(o)))}}}function wD(a){const o=a.parallels,l=!!o&&Math.abs(o[0]+o[1])<.01;switch(a.name){case"mercator":return new vD(a);case"equirectangular":return new iW(a);case"naturalEarth":return new aW(a);case"equalEarth":return new oW(a);case"winkelTripel":return new lW(a);case"albers":return l?new bD(a):new rW(a);case"lambertConformalConic":return l?new bD(a):new sW(a);case"globe":return new cW(a)}throw new Error(`Invalid projection name: ${a.name}`)}const uW=Jx.types,dW=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function hb(a,o,l,h,p,y,x,C,I,M,j,V,q){const Q=C?Math.min(Kd,Math.round(C[0])):0,te=C?Math.min(Kd,Math.round(C[1])):0;a.emplaceBack(o,l,Math.round(32*h),Math.round(32*p),y,x,(Q<<1)+(I?1:0),te,16*M,16*j,256*V,256*q)}function fb(a,o,l,h,p,y,x){a.emplaceBack(o,l,h,p,y,x)}function pb(a,o,l,h,p){a.emplaceBack(o,l,h,p),a.emplaceBack(o,l,h,p),a.emplaceBack(o,l,h,p),a.emplaceBack(o,l,h,p)}function hW(a){for(const o of a.sections)if(u2(o.text))return!0;return!1}class nT{constructor(o){this.layoutVertexArray=new At,this.indexArray=new Pn,this.programConfigurations=o,this.segments=new ri,this.dynamicLayoutVertexArray=new Nt,this.opacityVertexArray=new Mn,this.placedSymbolArray=new ni,this.globeExtVertexArray=new Zt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,l,h,p){this.isEmpty()||(h&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,x8.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,w8.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,dW,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=o.createVertexBuffer(this.globeExtVertexArray,b8.members,!0)),this.opacityVertexBuffer.itemSize=1),(h||p)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}_n(nT,"SymbolBuffers");class rT{constructor(o,l,h){this.layoutVertexArray=new o,this.layoutAttributes=l,this.indexArray=new h,this.segments=new ri,this.collisionVertexArray=new pr,this.collisionVertexArrayExt=new fr}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,C8.members,!0),this.collisionVertexBufferExt=o.createVertexBuffer(this.collisionVertexArrayExt,S8.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}_n(rT,"CollisionBuffers");class Jd{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(x=>x.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Bl([]),this.placementViewportMatrix=Bl([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=G2(this.zoom,l["text-size"]),this.iconSizeData=G2(this.zoom,l["icon-size"]);const h=this.layers[0].layout,p=h.get("symbol-sort-key"),y=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=y!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(y==="viewport-y"||y==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=h.get("text-writing-mode").map(x=>Ea[x]),this.stateDependentLayerIds=this.layers.filter(x=>x.isStateDependent()).map(x=>x.id),this.sourceID=o.sourceID,this.projection=o.projection}createArrays(){this.text=new nT(new Bf(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new nT(new Bf(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new fs,this.lineVertexArray=new wm,this.symbolInstances=new _o}calculateGlyphDependencies(o,l,h,p,y){for(let x=0;x<o.length;x++)if(l[o.charCodeAt(x)]=!0,p&&y){const C=Mv[o.charAt(x)];C&&(l[C.charCodeAt(0)]=!0)}}populate(o,l,h,p){const y=this.layers[0],x=y.layout,C=this.projection.name==="globe",I=x.get("text-font"),M=x.get("text-field"),j=x.get("icon-image"),V=(M.value.kind!=="constant"||M.value.value instanceof Fi&&!M.value.value.isEmpty()||M.value.value.toString().length>0)&&(I.value.kind!=="constant"||I.value.value.length>0),q=j.value.kind!=="constant"||!!j.value.value||Object.keys(j.parameters).length>0,Q=x.get("symbol-sort-key");if(this.features=[],!V&&!q)return;const te=l.iconDependencies,ue=l.glyphDependencies,_e=l.availableImages,Pe=new N(this.zoom);for(const{feature:Le,id:ke,index:Oe,sourceLayerIndex:je}of o){const Fe=y._featureFilter.needGeometry,lt=Wf(Le,Fe);if(!y._featureFilter.filter(Pe,lt,h))continue;if(Fe||(lt.geometry=Lu(Le,h,p)),C&&Le.type!==1&&h.z<=5){const ut=lt.geometry,kt=.98078528056,It=(Lt,Xt)=>Qa(vv(Lt.x,Lt.y,h,1),vv(Xt.x,Xt.y,h,1))<kt;for(let Lt=0;Lt<ut.length;Lt++)ut[Lt]=wG(ut[Lt],It)}let rt,bt;if(V){const ut=y.getValueAndResolveTokens("text-field",lt,h,_e),kt=Fi.factory(ut);hW(kt)&&(this.hasRTLText=!0),(!this.hasRTLText||S()==="unavailable"||this.hasRTLText&&D.isParsed())&&(rt=P8(kt,y,lt))}if(q){const ut=y.getValueAndResolveTokens("icon-image",lt,h,_e);bt=ut instanceof ds?ut:ds.fromString(ut)}if(!rt&&!bt)continue;const Ht=this.sortFeaturesByKey?Q.evaluate(lt,{},h):void 0;if(this.features.push({id:ke,text:rt,icon:bt,index:Oe,sourceLayerIndex:je,geometry:lt.geometry,properties:Le.properties,type:uW[Le.type],sortKey:Ht}),bt&&(te[bt.name]=!0),rt){const ut=I.evaluate(lt,{},h).join(","),kt=x.get("text-rotation-alignment")==="map"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ea.vertical)>=0;for(const It of rt.sections)if(It.image)te[It.image.name]=!0;else{const Lt=rv(rt.toString()),Xt=It.fontStack||ut,yt=ue[Xt]=ue[Xt]||{};this.calculateGlyphDependencies(It.text,yt,kt,this.allowVerticalPlacement,Lt)}}}x.get("symbol-placement")==="line"&&(this.features=function(Le){const ke={},Oe={},je=[];let Fe=0;function lt(ut){je.push(Le[ut]),Fe++}function rt(ut,kt,It){const Lt=Oe[ut];return delete Oe[ut],Oe[kt]=Lt,je[Lt].geometry[0].pop(),je[Lt].geometry[0]=je[Lt].geometry[0].concat(It[0]),Lt}function bt(ut,kt,It){const Lt=ke[kt];return delete ke[kt],ke[ut]=Lt,je[Lt].geometry[0].shift(),je[Lt].geometry[0]=It[0].concat(je[Lt].geometry[0]),Lt}function Ht(ut,kt,It){const Lt=It?kt[0][kt[0].length-1]:kt[0][0];return`${ut}:${Lt.x}:${Lt.y}`}for(let ut=0;ut<Le.length;ut++){const kt=Le[ut],It=kt.geometry,Lt=kt.text?kt.text.toString():null;if(!Lt){lt(ut);continue}const Xt=Ht(Lt,It),yt=Ht(Lt,It,!0);if(Xt in Oe&&yt in ke&&Oe[Xt]!==ke[yt]){const ln=bt(Xt,yt,It),bn=rt(Xt,yt,je[ln].geometry);delete ke[Xt],delete Oe[yt],Oe[Ht(Lt,je[bn].geometry,!0)]=bn,je[ln].geometry=null}else Xt in Oe?rt(Xt,yt,It):yt in ke?bt(Xt,yt,It):(lt(ut),ke[Xt]=Fe-1,Oe[yt]=Fe-1)}return je.filter(ut=>ut.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Le,ke)=>Le.sortKey-ke.sortKey)}update(o,l,h,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,l,this.layers,h,p),this.icon.programConfigurations.updatePaintArrays(o,l,this.layers,h,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=wD(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,l){const h=this.lineVertexArray.length;if(o.segment!==void 0)for(const{x:p,y}of l)this.lineVertexArray.emplaceBack(p,y);return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(o,l,h,p,y,x,C,I,M,j,V,q,Q,te){const ue=o.indexArray,_e=o.layoutVertexArray,Pe=o.globeExtVertexArray,Le=o.segments.prepareSegment(4*l.length,_e,ue,this.canOverlap?x.sortKey:void 0),ke=this.glyphOffsetArray.length,Oe=Le.vertexLength,je=this.allowVerticalPlacement&&C===Ea.vertical?Math.PI/2:0,Fe=x.text&&x.text.sections;for(let rt=0;rt<l.length;rt++){const{tl:bt,tr:Ht,bl:ut,br:kt,tex:It,pixelOffsetTL:Lt,pixelOffsetBR:Xt,minFontScaleX:yt,minFontScaleY:ln,glyphOffset:bn,isSDF:fn,sectionIndex:Qn}=l[rt],Jt=Le.vertexLength,An=bn[1];if(hb(_e,M.x,M.y,bt.x,An+bt.y,It.x,It.y,h,fn,Lt.x,Lt.y,yt,ln),hb(_e,M.x,M.y,Ht.x,An+Ht.y,It.x+It.w,It.y,h,fn,Xt.x,Lt.y,yt,ln),hb(_e,M.x,M.y,ut.x,An+ut.y,It.x,It.y+It.h,h,fn,Lt.x,Xt.y,yt,ln),hb(_e,M.x,M.y,kt.x,An+kt.y,It.x+It.w,It.y+It.h,h,fn,Xt.x,Xt.y,yt,ln),I){const{x:er,y:Ir,z:tr}=I.anchor,[Bn,mo,rr]=I.up;fb(Pe,er,Ir,tr,Bn,mo,rr),fb(Pe,er,Ir,tr,Bn,mo,rr),fb(Pe,er,Ir,tr,Bn,mo,rr),fb(Pe,er,Ir,tr,Bn,mo,rr),pb(o.dynamicLayoutVertexArray,er,Ir,tr,je)}else pb(o.dynamicLayoutVertexArray,M.x,M.y,M.z,je);ue.emplaceBack(Jt,Jt+1,Jt+2),ue.emplaceBack(Jt+1,Jt+2,Jt+3),Le.vertexLength+=4,Le.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(bn[0]),rt!==l.length-1&&Qn===l[rt+1].sectionIndex||o.programConfigurations.populatePaintArrays(_e.length,x,x.index,{},Q,te,Fe&&Fe[Qn])}const lt=I?I.anchor:M;o.placedSymbolArray.emplaceBack(lt.x,lt.y,lt.z,M.x,M.y,ke,this.glyphOffsetArray.length-ke,Oe,j,V,M.segment,h?h[0]:0,h?h[1]:0,p[0],p[1],C,0,!1,0,q,0)}_commitLayoutVertex(o,l,h,p,y,x,C){o.emplaceBack(l,h,p,y,x,Math.round(C.x),Math.round(C.y))}_addCollisionDebugVertices(o,l,h,p,y,x,C){const I=h.segments.prepareSegment(4,h.layoutVertexArray,h.indexArray),M=I.vertexLength,j=C.tileAnchorX,V=C.tileAnchorY;for(let Q=0;Q<4;Q++)h.collisionVertexArray.emplaceBack(0,0,0,0);h.collisionVertexArrayExt.emplaceBack(l,-o.padding,-o.padding),h.collisionVertexArrayExt.emplaceBack(l,o.padding,-o.padding),h.collisionVertexArrayExt.emplaceBack(l,o.padding,o.padding),h.collisionVertexArrayExt.emplaceBack(l,-o.padding,o.padding),this._commitLayoutVertex(h.layoutVertexArray,p,y,x,j,V,new J(o.x1,o.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,y,x,j,V,new J(o.x2,o.y1)),this._commitLayoutVertex(h.layoutVertexArray,p,y,x,j,V,new J(o.x2,o.y2)),this._commitLayoutVertex(h.layoutVertexArray,p,y,x,j,V,new J(o.x1,o.y2)),I.vertexLength+=4;const q=h.indexArray;q.emplaceBack(M,M+1),q.emplaceBack(M+1,M+2),q.emplaceBack(M+2,M+3),q.emplaceBack(M+3,M),I.primitiveLength+=4}_addTextDebugCollisionBoxes(o,l,h,p,y,x){for(let C=p;C<y;C++){const I=h.get(C),M=this.getSymbolInstanceTextSize(o,x,l,C);this._addCollisionDebugVertices(I,M,this.textCollisionBox,I.projectedAnchorX,I.projectedAnchorY,I.projectedAnchorZ,x)}}_addIconDebugCollisionBoxes(o,l,h,p,y,x){for(let C=p;C<y;C++){const I=h.get(C),M=this.getSymbolInstanceIconSize(o,l,x.placedIconSymbolIndex);this._addCollisionDebugVertices(I,M,this.iconCollisionBox,I.projectedAnchorX,I.projectedAnchorY,I.projectedAnchorZ,x)}}generateCollisionDebugBuffers(o,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new rT(xn,NO.members,Mi),this.iconCollisionBox=new rT(xn,NO.members,Mi);const h=Dm(this.iconSizeData,o),p=Dm(this.textSizeData,o);for(let y=0;y<this.symbolInstances.length;y++){const x=this.symbolInstances.get(y);this._addTextDebugCollisionBoxes(p,o,l,x.textBoxStartIndex,x.textBoxEndIndex,x),this._addTextDebugCollisionBoxes(p,o,l,x.verticalTextBoxStartIndex,x.verticalTextBoxEndIndex,x),this._addIconDebugCollisionBoxes(h,o,l,x.iconBoxStartIndex,x.iconBoxEndIndex,x),this._addIconDebugCollisionBoxes(h,o,l,x.verticalIconBoxStartIndex,x.verticalIconBoxEndIndex,x)}}getSymbolInstanceTextSize(o,l,h,p){const y=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:p),x=nb(this.textSizeData,o,y)/ji;return this.tilePixelRatio*x}getSymbolInstanceIconSize(o,l,h){const p=this.icon.placedSymbolArray.get(h),y=nb(this.iconSizeData,o,p);return this.tilePixelRatio*y}_commitDebugCollisionVertexUpdate(o,l,h){o.emplaceBack(l,-h,-h),o.emplaceBack(l,h,-h),o.emplaceBack(l,h,h),o.emplaceBack(l,-h,h)}_updateTextDebugCollisionBoxes(o,l,h,p,y,x){for(let C=p;C<y;C++){const I=h.get(C),M=this.getSymbolInstanceTextSize(o,x,l,C);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,M,I.padding)}}_updateIconDebugCollisionBoxes(o,l,h,p,y,x){for(let C=p;C<y;C++){const I=h.get(C),M=this.getSymbolInstanceIconSize(o,l,x);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,M,I.padding)}}updateCollisionDebugBuffers(o,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Dm(this.iconSizeData,o),p=Dm(this.textSizeData,o);for(let y=0;y<this.symbolInstances.length;y++){const x=this.symbolInstances.get(y);this._updateTextDebugCollisionBoxes(p,o,l,x.textBoxStartIndex,x.textBoxEndIndex,x),this._updateTextDebugCollisionBoxes(p,o,l,x.verticalTextBoxStartIndex,x.verticalTextBoxEndIndex,x),this._updateIconDebugCollisionBoxes(h,o,l,x.iconBoxStartIndex,x.iconBoxEndIndex,x.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(h,o,l,x.verticalIconBoxStartIndex,x.verticalIconBoxEndIndex,x.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(o,l,h,p,y,x,C,I,M){const j={};if(l<h){const{x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe,featureIndex:je}=o.get(l);j.textBox={x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe},j.textFeatureIndex=je}if(p<y){const{x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe,featureIndex:je}=o.get(p);j.verticalTextBox={x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe},j.verticalTextFeatureIndex=je}if(x<C){const{x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe,featureIndex:je}=o.get(x);j.iconBox={x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe},j.iconFeatureIndex=je}if(I<M){const{x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe,featureIndex:je}=o.get(I);j.verticalIconBox={x1:V,y1:q,x2:Q,y2:te,padding:ue,projectedAnchorX:_e,projectedAnchorY:Pe,projectedAnchorZ:Le,tileAnchorX:ke,tileAnchorY:Oe},j.verticalIconFeatureIndex=je}return j}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const h=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,l){const h=o.placedSymbolArray.get(l),p=h.vertexStartIndex+4*h.numGlyphs;for(let y=h.vertexStartIndex;y<p;y+=4)o.indexArray.emplaceBack(y,y+1,y+2),o.indexArray.emplaceBack(y+1,y+2,y+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(o),h=Math.cos(o),p=[],y=[],x=[];for(let C=0;C<this.symbolInstances.length;++C){x.push(C);const I=this.symbolInstances.get(C);p.push(0|Math.round(l*I.tileAnchorX+h*I.tileAnchorY)),y.push(I.featureIndex)}return x.sort((C,I)=>p[C]-p[I]||y[I]-y[C]),x}addToSortKeyRanges(o,l){const h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===l?h.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const h=this.symbolInstances.get(l);this.featureSortOrder.push(h.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:y,leftJustifiedTextSymbolIndex:x,verticalPlacedTextSymbolIndex:C,placedIconSymbolIndex:I,verticalPlacedIconSymbolIndex:M}=h;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),y>=0&&y!==p&&this.addIndicesForPlacedSymbol(this.text,y),x>=0&&x!==y&&x!==p&&this.addIndicesForPlacedSymbol(this.text,x),C>=0&&this.addIndicesForPlacedSymbol(this.text,C),I>=0&&this.addIndicesForPlacedSymbol(this.icon,I),M>=0&&this.addIndicesForPlacedSymbol(this.icon,M)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}_n(Jd,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Jd.MAX_GLYPHS=65535,Jd.addDynamicAttributes=pb;const fW=new Ae({"symbol-placement":new le(_t.layout_symbol["symbol-placement"]),"symbol-spacing":new le(_t.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new le(_t.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new be(_t.layout_symbol["symbol-sort-key"]),"symbol-z-order":new le(_t.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new le(_t.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new le(_t.layout_symbol["icon-ignore-placement"]),"icon-optional":new le(_t.layout_symbol["icon-optional"]),"icon-rotation-alignment":new le(_t.layout_symbol["icon-rotation-alignment"]),"icon-size":new be(_t.layout_symbol["icon-size"]),"icon-text-fit":new le(_t.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new le(_t.layout_symbol["icon-text-fit-padding"]),"icon-image":new be(_t.layout_symbol["icon-image"]),"icon-rotate":new be(_t.layout_symbol["icon-rotate"]),"icon-padding":new le(_t.layout_symbol["icon-padding"]),"icon-keep-upright":new le(_t.layout_symbol["icon-keep-upright"]),"icon-offset":new be(_t.layout_symbol["icon-offset"]),"icon-anchor":new be(_t.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new le(_t.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new le(_t.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new le(_t.layout_symbol["text-rotation-alignment"]),"text-field":new be(_t.layout_symbol["text-field"]),"text-font":new be(_t.layout_symbol["text-font"]),"text-size":new be(_t.layout_symbol["text-size"]),"text-max-width":new be(_t.layout_symbol["text-max-width"]),"text-line-height":new be(_t.layout_symbol["text-line-height"]),"text-letter-spacing":new be(_t.layout_symbol["text-letter-spacing"]),"text-justify":new be(_t.layout_symbol["text-justify"]),"text-radial-offset":new be(_t.layout_symbol["text-radial-offset"]),"text-variable-anchor":new le(_t.layout_symbol["text-variable-anchor"]),"text-anchor":new be(_t.layout_symbol["text-anchor"]),"text-max-angle":new le(_t.layout_symbol["text-max-angle"]),"text-writing-mode":new le(_t.layout_symbol["text-writing-mode"]),"text-rotate":new be(_t.layout_symbol["text-rotate"]),"text-padding":new le(_t.layout_symbol["text-padding"]),"text-keep-upright":new le(_t.layout_symbol["text-keep-upright"]),"text-transform":new be(_t.layout_symbol["text-transform"]),"text-offset":new be(_t.layout_symbol["text-offset"]),"text-allow-overlap":new le(_t.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new le(_t.layout_symbol["text-ignore-placement"]),"text-optional":new le(_t.layout_symbol["text-optional"])});var oT={paint:new Ae({"icon-opacity":new be(_t.paint_symbol["icon-opacity"]),"icon-color":new be(_t.paint_symbol["icon-color"]),"icon-halo-color":new be(_t.paint_symbol["icon-halo-color"]),"icon-halo-width":new be(_t.paint_symbol["icon-halo-width"]),"icon-halo-blur":new be(_t.paint_symbol["icon-halo-blur"]),"icon-translate":new le(_t.paint_symbol["icon-translate"]),"icon-translate-anchor":new le(_t.paint_symbol["icon-translate-anchor"]),"text-opacity":new be(_t.paint_symbol["text-opacity"]),"text-color":new be(_t.paint_symbol["text-color"],{runtimeType:zi,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new be(_t.paint_symbol["text-halo-color"]),"text-halo-width":new be(_t.paint_symbol["text-halo-width"]),"text-halo-blur":new be(_t.paint_symbol["text-halo-blur"]),"text-translate":new le(_t.paint_symbol["text-translate"]),"text-translate-anchor":new le(_t.paint_symbol["text-translate-anchor"])}),layout:fW};class CD{constructor(o){this.type=o.property.overrides?o.property.overrides.runtimeType:dc,this.defaultValue=o}evaluate(o){if(o.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(o.formattedSection))return l.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}_n(CD,"FormatSectionOverride",{omit:["defaultValue"]});class mb extends $l{constructor(o){super(o,oT)}recalculate(o,l){super.recalculate(o,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const h=this.layout.get("text-writing-mode");if(h){const p=[];for(const y of h)p.indexOf(y)<0&&p.push(y);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(o,l,h,p){const y=this.layout.get(o).evaluate(l,{},h,p),x=this._unevaluatedLayout._values[o];return x.isDataDriven()||To(x.value)||!y?y:function(C,I){return I.replace(/{([^{}]+)}/g,(M,j)=>j in C?String(C[j]):"")}(l.properties,y)}createBucket(o){return new Jd(o)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const o of oT.paint.overridableProperties){if(!mb.hasPaintOverride(this.layout,o))continue;const l=this.paint.get(o),h=new CD(l),p=new Br(h,l.property.specification);let y=null;y=l.value.kind==="constant"||l.value.kind==="source"?new Ka("source",p):new zl("composite",p,l.value.zoomStops,l.value._interpolationType),this.paint._values[o]=new Ce(l.property,y,l.parameters)}}_handleOverridablePaintPropertyUpdate(o,l,h){return!(!this.layout||l.isDataDriven()||h.isDataDriven())&&mb.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,l){const h=o.get("text-field"),p=oT.paint.properties[l];let y=!1;const x=C=>{for(const I of C)if(p.overrides&&p.overrides.hasOverride(I))return void(y=!0)};if(h.value.kind==="constant"&&h.value.value instanceof Fi)x(h.value.value.sections);else if(h.value.kind==="source"){const C=M=>{y||(M instanceof Il&&So(M.value)===pu?x(M.value.sections):M instanceof Za?x(M.sections):M.eachChild(C))},I=h.value;I._styleExpression&&C(I._styleExpression.expression)}return y}getProgramConfiguration(o){return new qd(this,o)}}var pW={paint:new Ae({"background-color":new le(_t.paint_background["background-color"]),"background-pattern":new le(_t.paint_background["background-pattern"]),"background-opacity":new le(_t.paint_background["background-opacity"])})},mW={paint:new Ae({"raster-opacity":new le(_t.paint_raster["raster-opacity"]),"raster-hue-rotate":new le(_t.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new le(_t.paint_raster["raster-brightness-min"]),"raster-brightness-max":new le(_t.paint_raster["raster-brightness-max"]),"raster-saturation":new le(_t.paint_raster["raster-saturation"]),"raster-contrast":new le(_t.paint_raster["raster-contrast"]),"raster-resampling":new le(_t.paint_raster["raster-resampling"]),"raster-fade-duration":new le(_t.paint_raster["raster-fade-duration"])})};class gW extends $l{constructor(o){super(o,{}),this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)}onRemove(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)}}var yW={paint:new Ae({"sky-type":new le(_t.paint_sky["sky-type"]),"sky-atmosphere-sun":new le(_t.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new le(_t.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new le(_t.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new le(_t.paint_sky["sky-gradient-radius"]),"sky-gradient":new Me(_t.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new le(_t.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new le(_t.paint_sky["sky-atmosphere-color"]),"sky-opacity":new le(_t.paint_sky["sky-opacity"])})};function iT(a,o,l){const h=[0,0,1],p=UR([]);return HR(p,p,l?-de(a)+Math.PI:de(a)),VR(p,p,-de(o)),jR(h,h,p),ps(h,h)}const vW={circle:class extends $l{constructor(a){super(a,IG)}createBucket(a){return new A2(a)}queryRadius(a){const o=a;return Mm("circle-radius",this,o)+Mm("circle-stroke-width",this,o)+Gx(this.paint.get("circle-translate"))}queryIntersectsFeature(a,o,l,h,p,y,x,C){const I=hO(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),y.angle,a.pixelToTileUnitsFactor),M=this.paint.get("circle-radius").evaluate(o,l)+this.paint.get("circle-stroke-width").evaluate(o,l);return fO(a,h,y,x,C,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",I,M)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new qd(this,a)}},heatmap:class extends $l{createBucket(a){return new mO(a)}constructor(a){super(a,OG),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=L2({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return Mm("heatmap-radius",this,a)}queryIntersectsFeature(a,o,l,h,p,y,x,C){const I=this.paint.get("heatmap-radius").evaluate(o,l);return fO(a,h,y,x,C,!0,!0,new J(0,0),I)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new qd(this,a)}},hillshade:class extends $l{constructor(a){super(a,DG)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends $l{constructor(a){super(a,KG)}getProgramIds(){const a=this.paint.get("fill-pattern"),o=a&&a.constantOr(1),l=[o?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(o&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(a){return new qd(this,a)}recalculate(a,o){super.recalculate(a,o);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Kx(a)}queryRadius(){return Gx(this.paint.get("fill-translate"))}queryIntersectsFeature(a,o,l,h,p,y){return!a.queryGeometry.isAboveHorizon&&aO(dO(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),y.angle,a.pixelToTileUnitsFactor),h)}isTileClipped(){return!0}},"fill-extrusion":class extends $l{constructor(a){super(a,h8)}createBucket(a){return new Pv(a)}queryRadius(){return Gx(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new qd(this,a)}queryIntersectsFeature(a,o,l,h,p,y,x,C,I){const M=hO(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),y.angle,a.pixelToTileUnitsFactor),j=this.paint.get("fill-extrusion-height").evaluate(o,l),V=this.paint.get("fill-extrusion-base").evaluate(o,l),q=[0,0],Q=C&&y.elevation,te=y.elevation?y.elevation.exaggeration():1,ue=a.tile.getBucket(this);if(Q&&ue instanceof Pv){const Oe=ue.centroidVertexArray,je=I+1;je<Oe.length&&(q[0]=Oe.geta_centroid_pos0(je),q[1]=Oe.geta_centroid_pos1(je))}if(q[0]===0&&q[1]===1)return!1;y.projection.name==="globe"&&(h=OO([h],[new J(0,0),new J(Ln,Ln)],a.tileID.canonical).map(Oe=>Oe.polygon).flat());const _e=Q?C:null,[Pe,Le]=function(Oe,je,Fe,lt,rt,bt,Ht,ut,kt,It,Lt){return Oe.projection.name==="globe"?function(Xt,yt,ln,bn,fn,Qn,Jt,An,er,Ir,tr){const Bn=[],mo=[],rr=Xt.projection.upVectorScale(tr,Xt.center.lat,Xt.worldSize).metersToTile,or=[0,0,0,1],Xr=[0,0,0,1],so=(Jr,Mo,jo,ii)=>{Jr[0]=Mo,Jr[1]=jo,Jr[2]=ii,Jr[3]=1},ao=RO();ln>0&&(ln+=ao),bn+=ao;for(const Jr of yt){const Mo=[],jo=[];for(const ii of Jr){const Qr=ii.x+fn.x,vi=ii.y+fn.y,si=Xt.projection.projectTilePoint(Qr,vi,tr),Oo=Xt.projection.upVector(tr,ii.x,ii.y);let Dr=ln,ai=bn;if(Jt){const lo=FO(Qr,vi,ln,bn,Jt,An,er,Ir);Dr+=lo.base,ai+=lo.top}ln!==0?so(or,si.x+Oo[0]*rr*Dr,si.y+Oo[1]*rr*Dr,si.z+Oo[2]*rr*Dr):so(or,si.x,si.y,si.z),so(Xr,si.x+Oo[0]*rr*ai,si.y+Oo[1]*rr*ai,si.z+Oo[2]*rr*ai),Zo(or,or,Qn),Zo(Xr,Xr,Qn),Mo.push(new Om(or[0],or[1],or[2])),jo.push(new Om(Xr[0],Xr[1],Xr[2]))}Bn.push(Mo),mo.push(jo)}return[Bn,mo]}(Oe,je,Fe,lt,rt,bt,Ht,ut,kt,It,Lt):Ht?function(Xt,yt,ln,bn,fn,Qn,Jt,An,er){const Ir=[],tr=[],Bn=[0,0,0,1];for(const mo of Xt){const rr=[],or=[];for(const Xr of mo){const so=Xr.x+bn.x,ao=Xr.y+bn.y,Jr=FO(so,ao,yt,ln,Qn,Jt,An,er);Bn[0]=so,Bn[1]=ao,Bn[2]=Jr.base,Bn[3]=1,Vf(Bn,Bn,fn),Bn[3]=Math.max(Bn[3],1e-5);const Mo=new Om(Bn[0]/Bn[3],Bn[1]/Bn[3],Bn[2]/Bn[3]);Bn[0]=so,Bn[1]=ao,Bn[2]=Jr.top,Bn[3]=1,Vf(Bn,Bn,fn),Bn[3]=Math.max(Bn[3],1e-5);const jo=new Om(Bn[0]/Bn[3],Bn[1]/Bn[3],Bn[2]/Bn[3]);rr.push(Mo),or.push(jo)}Ir.push(rr),tr.push(or)}return[Ir,tr]}(je,Fe,lt,rt,bt,Ht,ut,kt,It):function(Xt,yt,ln,bn,fn){const Qn=[],Jt=[],An=fn[8]*yt,er=fn[9]*yt,Ir=fn[10]*yt,tr=fn[11]*yt,Bn=fn[8]*ln,mo=fn[9]*ln,rr=fn[10]*ln,or=fn[11]*ln;for(const Xr of Xt){const so=[],ao=[];for(const Jr of Xr){const Mo=Jr.x+bn.x,jo=Jr.y+bn.y,ii=fn[0]*Mo+fn[4]*jo+fn[12],Qr=fn[1]*Mo+fn[5]*jo+fn[13],vi=fn[2]*Mo+fn[6]*jo+fn[14],si=fn[3]*Mo+fn[7]*jo+fn[15],Oo=ii+An,Dr=Qr+er,ai=vi+Ir,lo=Math.max(si+tr,1e-5),ys=ii+Bn,li=Qr+mo,$i=vi+rr,Ai=Math.max(si+or,1e-5);so.push(new Om(Oo/lo,Dr/lo,ai/lo)),ao.push(new Om(ys/Ai,li/Ai,$i/Ai))}Qn.push(so),Jt.push(ao)}return[Qn,Jt]}(je,Fe,lt,rt,bt)}(y,h,V,j,M,x,_e,q,te,y.center.lat,a.tileID.canonical),ke=a.queryGeometry;return function(Oe,je,Fe){let lt=1/0;aO(Fe,je)&&(lt=zO(Fe,je[0]));for(let rt=0;rt<je.length;rt++){const bt=je[rt],Ht=Oe[rt];for(let ut=0;ut<bt.length-1;ut++){const kt=bt[ut],It=[kt,bt[ut+1],Ht[ut+1],Ht[ut],kt];sO(Fe,It)&&(lt=Math.min(lt,zO(Fe,It)))}}return lt!==1/0&&lt}(Pe,Le,ke.isPointQuery()?ke.screenBounds:ke.screenGeometry)}},line:class extends $l{constructor(a){super(a,jO),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const o=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=o._styleExpression&&o._styleExpression.expression instanceof vf,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(a,o){super.recalculate(a,o),this.paint._values["line-floorwidth"]=$O.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new tb(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new qd(this,a)}queryRadius(a){const o=a,l=BO(Mm("line-width",this,o),Mm("line-gap-width",this,o)),h=Mm("line-offset",this,o);return l/2+Math.abs(h)+Gx(this.paint.get("line-translate"))}queryIntersectsFeature(a,o,l,h,p,y){if(a.queryGeometry.isAboveHorizon)return!1;const x=dO(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),y.angle,a.pixelToTileUnitsFactor),C=a.pixelToTileUnitsFactor/2*BO(this.paint.get("line-width").evaluate(o,l),this.paint.get("line-gap-width").evaluate(o,l)),I=this.paint.get("line-offset").evaluate(o,l);return I&&(h=function(M,j){const V=[],q=new J(0,0);for(let Q=0;Q<M.length;Q++){const te=M[Q],ue=[];for(let _e=0;_e<te.length;_e++){const Pe=te[_e],Le=te[_e+1],ke=_e===0?q:Pe.sub(te[_e-1])._unit()._perp(),Oe=_e===te.length-1?q:Le.sub(Pe)._unit()._perp(),je=ke._add(Oe)._unit();je._mult(1/(je.x*Oe.x+je.y*Oe.y)),ue.push(je._mult(j)._add(Pe))}V.push(ue)}return V}(h,I*a.pixelToTileUnitsFactor)),function(M,j,V){for(let q=0;q<j.length;q++){const Q=j[q];if(M.length>=3){for(let te=0;te<Q.length;te++)if(qf(M,Q[te]))return!0}if(TG(M,Q,V))return!0}return!1}(x,h,C)}isTileClipped(){return!0}},symbol:mb,background:class extends $l{constructor(a){super(a,pW)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends $l{constructor(a){super(a,mW)}getProgramIds(){return["raster"]}},sky:class extends $l{constructor(a){super(a,yW),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="sky-gradient"?this._updateColorRamp():a!=="sky-atmosphere-sun"&&a!=="sky-atmosphere-halo-color"&&a!=="sky-atmosphere-color"&&a!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=L2({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const o=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==o.azimuthal||this._lightPosition.polar!==o.polar}return!1}getCenter(a,o){if(this.paint.get("sky-type")==="atmosphere"){const h=this.paint.get("sky-atmosphere-sun"),p=!h,y=a.style.light,x=y.properties.get("position");return p&&y.properties.get("anchor")==="viewport"&&st("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?iT(x.azimuthal,90-x.polar,o):iT(h[0],90-h[1],o)}const l=this.paint.get("sky-gradient-center");return iT(l[0],90-l[1],o)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return a==="atmosphere"?["skyboxCapture","skybox"]:a==="gradient"?["skyboxGradient"]:null}}};class jv{constructor(o,l,h,p){this.context=o,this.format=h,this.texture=o.gl.createTexture(),this.update(l,p)}update(o,l,h){const{width:p,height:y}=o,{context:x}=this,{gl:C}=x,{HTMLImageElement:I,HTMLCanvasElement:M,HTMLVideoElement:j,ImageData:V,ImageBitmap:q}=m;if(C.bindTexture(C.TEXTURE_2D,this.texture),x.pixelStoreUnpackFlipY.set(!1),x.pixelStoreUnpack.set(1),x.pixelStoreUnpackPremultiplyAlpha.set(this.format===C.RGBA&&(!l||l.premultiply!==!1)),h||this.size&&this.size[0]===p&&this.size[1]===y){const{x:Q,y:te}=h||{x:0,y:0};o instanceof I||o instanceof M||o instanceof j||o instanceof V||q&&o instanceof q?C.texSubImage2D(C.TEXTURE_2D,0,Q,te,C.RGBA,C.UNSIGNED_BYTE,o):C.texSubImage2D(C.TEXTURE_2D,0,Q,te,p,y,C.RGBA,C.UNSIGNED_BYTE,o.data)}else this.size=[p,y],o instanceof I||o instanceof M||o instanceof j||o instanceof V||q&&o instanceof q?C.texImage2D(C.TEXTURE_2D,0,this.format,this.format,C.UNSIGNED_BYTE,o):C.texImage2D(C.TEXTURE_2D,0,this.format,p,y,0,this.format,C.UNSIGNED_BYTE,o.data);this.useMipmap=!!(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&C.generateMipmap(C.TEXTURE_2D)}bind(o,l){const{context:h}=this,{gl:p}=h;p.bindTexture(p.TEXTURE_2D,this.texture),o!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,o),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?o===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:o),this.filter=o),l!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,l),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class _W{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class xW{constructor(){this.tasks={},this.taskQueue=[],Ut(["process"],this),this.invoker=new _W(this.process),this.nextId=0}add(o,l){const h=this.nextId++,p=function({type:y,isSymbolTile:x,zoom:C}){return C=C||0,y==="message"?0:y!=="maybePrepare"||x?y!=="parseTile"||x?y==="parseTile"&&x?300-C:y==="maybePrepare"&&x?400-C:500:200-C:100-C}(l);if(p===0){en();try{o()}finally{}return{cancel:()=>{}}}return this.tasks[h]={fn:o,metadata:l,priority:p,id:h},this.taskQueue.push(h),this.invoker.trigger(),{cancel:()=>{delete this.tasks[h]}}}process(){en();try{if(this.taskQueue=this.taskQueue.filter(h=>!!this.tasks[h]),!this.taskQueue.length)return;const o=this.pick();if(o===null)return;const l=this.tasks[o];if(delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let o=null,l=1/0;for(let p=0;p<this.taskQueue.length;p++){const y=this.tasks[this.taskQueue[p]];y.priority<l&&(l=y.priority,o=p)}if(o===null)return null;const h=this.taskQueue[o];return this.taskQueue.splice(o,1),h}remove(){this.invoker.remove()}}class SD{constructor(o){this._stringToNumber={},this._numberToString=[];for(let l=0;l<o.length;l++){const h=o[l];this._stringToNumber[h]=l,this._numberToString[l]=h}}encode(o){return this._stringToNumber[o]}decode(o){return this._numberToString[o]}}const bW=["tile","layer","source","sourceLayer","state"];class TD{constructor(o,l,h,p,y){this.type="Feature",this._vectorTileFeature=o,this._z=l,this._x=h,this._y=p,this.properties=o.properties,this.id=y}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(o.id=this.id);for(const l of bW)this[l]!==void 0&&(o[l]=this[l]);return o}}const nl=32,Oc=33,Qd=new Uint16Array(8184);for(let a=0;a<2046;a++){let o=a+2,l=0,h=0,p=0,y=0,x=0,C=0;for(1&o?p=y=x=nl:l=h=C=nl;(o>>=1)>1;){const M=l+p>>1,j=h+y>>1;1&o?(p=l,y=h,l=x,h=C):(l=p,h=y,p=x,y=C),x=M,C=j}const I=4*a;Qd[I+0]=l,Qd[I+1]=h,Qd[I+2]=p,Qd[I+3]=y}const Dc=new Uint16Array(2178),eh=new Uint8Array(1089),gb=new Uint16Array(1089);function ED(a){return a===0?-.03125:a===32?.03125:0}var PD=Ze([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const kD={type:2,extent:Ln,loadGeometry:()=>[[new J(0,0),new J(Ln+1,0),new J(Ln+1,Ln+1),new J(0,Ln+1),new J(0,0)]]};class sT{constructor(o,l,h,p,y){this.tileID=o,this.uid=vt(),this.uses=0,this.tileSize=l,this.tileZoom=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=y,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(o){const l=o+this.timeAdded;l<Vs.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Yf(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(o,l,h){if(this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(p,y){const x={};if(!y)return x;for(const C of p){const I=C.layerIds.map(M=>y.getLayer(M)).filter(Boolean);if(I.length!==0){C.layers=I,C.stateDependentLayerIds&&(C.stateDependentLayers=C.stateDependentLayerIds.map(M=>I.filter(j=>j.id===M)[0]));for(const M of I)x[M.id]=C}}return x}(o.buckets,l.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const y=this.buckets[p];if(y instanceof Jd){if(this.hasSymbolBuckets=!0,!h)break;y.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const y=this.buckets[p];if(y instanceof Jd&&y.hasRTLText){this.hasRTLText=!0,D.isLoading()||D.isLoaded()||S()!=="deferred"||A();break}}this.queryPadding=0;for(const p in this.buckets){const y=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(p).queryRadius(y))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage),o.lineAtlas&&(this.lineAtlas=o.lineAtlas)}else this.collisionBoxArray=new Yr}unloadVectorData(){if(this.hasData()){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(o){return this.buckets[o.id]}upload(o){for(const h in this.buckets){const p=this.buckets[h];p.uploadPending()&&p.upload(o)}const l=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new jv(o,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new jv(o,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new jv(o,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,l,h,p,y,x,C,I){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:C,transform:x,params:y,tileTransform:this.tileTransform},o,l,h):{}}querySourceFeatures(o,l){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const p=h.loadVTLayers(),y=l?l.sourceLayer:"",x=p._geojsonTileLayer||p[y];if(!x)return;const C=vm(l&&l.filter),{z:I,x:M,y:j}=this.tileID.canonical,V={z:I,x:M,y:j};for(let q=0;q<x.length;q++){const Q=x.feature(q);if(C.needGeometry){const _e=Wf(Q,!0);if(!C.filter(new N(this.tileID.overscaledZ),_e,this.tileID.canonical))continue}else if(!C.filter(new N(this.tileID.overscaledZ),Q))continue;const te=h.getId(Q,y),ue=new TD(Q,I,M,j,te);ue.tile=V,o.push(ue)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const l=this.expirationTime;if(o.cacheControl){const h=Kt(o.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const h=Date.now();let p=!1;if(this.expirationTime>h)p=!1;else if(l)if(this.expirationTime<l)p=!0;else{const y=this.expirationTime-l;y?this.expirationTime=h+Math.max(y,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(o,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(o).length===0||!l)return;const h=this.latestFeatureIndex.loadVTLayers(),p=l.style.listImages();for(const y in this.buckets){if(!l.style.hasLayer(y))continue;const x=this.buckets[y],C=x.layers[0].sourceLayer||"_geojsonTileLayer",I=h[C],M=o[C];if(!I||!M||Object.keys(M).length===0)continue;if(x.update(M,I,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),x instanceof tb||x instanceof Kx){const V=l.style._getSourceCache(x.layers[0].source);l._terrain&&l._terrain.enabled&&V&&x.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(V.id,this.tileID)}const j=l&&l.style&&l.style.getLayer(y);j&&(this.queryPadding=Math.max(this.queryPadding,j.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Vs.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=Vs.now()+o}setTexture(o,l){const h=l.context,p=h.gl;this.texture=this.texture||l.getTileTexture(o.width),this.texture?this.texture.update(o,{useMipmap:!0}):(this.texture=new jv(h,o,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE))}setDependencies(o,l){const h={};for(const p of l)h[p]=!0;this.dependencies[o]=h}hasDependency(o,l){for(const h of o){const p=this.dependencies[h];if(p){for(const y of l)if(p[y])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(o,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const h=Lu(kD,this.tileID.canonical,this.tileTransform)[0],p=new Vt,y=new Zs;for(let x=0;x<h.length;x++){const{x:C,y:I}=h[x];p.emplaceBack(C,I),y.emplaceBack(x)}y.emplaceBack(0),this._tileDebugIndexBuffer=o.createIndexBuffer(y),this._tileDebugBuffer=o.createVertexBuffer(p,gv.members),this._tileDebugSegments=ri.simpleSegment(0,0,p.length,y.length)}_makeTileBoundsBuffers(o,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const h=Lu(kD,this.tileID.canonical,this.tileTransform)[0];let p,y;if(this.isRaster){const x=function(C,I){const M=Yf(C,I),j=Math.pow(2,C.z);for(let _e=0;_e<Oc;_e++)for(let Pe=0;Pe<Oc;Pe++){const Le=Ta((C.x+(Pe+ED(Pe))/nl)/j),ke=Ki((C.y+(_e+ED(_e))/nl)/j),Oe=I.project(Le,ke),je=_e*Oc+Pe;Dc[2*je+0]=Math.round((Oe.x*M.scale-M.x)*Ln),Dc[2*je+1]=Math.round((Oe.y*M.scale-M.y)*Ln)}eh.fill(0),gb.fill(0);for(let _e=2045;_e>=0;_e--){const Pe=4*_e,Le=Qd[Pe+0],ke=Qd[Pe+1],Oe=Qd[Pe+2],je=Qd[Pe+3],Fe=Le+Oe>>1,lt=ke+je>>1,rt=Fe+lt-ke,bt=lt+Le-Fe,Ht=ke*Oc+Le,ut=je*Oc+Oe,kt=lt*Oc+Fe,It=Math.hypot((Dc[2*Ht+0]+Dc[2*ut+0])/2-Dc[2*kt+0],(Dc[2*Ht+1]+Dc[2*ut+1])/2-Dc[2*kt+1])>=16;eh[kt]=eh[kt]||(It?1:0),_e<1022&&(eh[kt]=eh[kt]||eh[(ke+bt>>1)*Oc+(Le+rt>>1)]||eh[(je+bt>>1)*Oc+(Oe+rt>>1)])}const V=new Tt,q=new Pn;let Q=0;function te(_e,Pe){const Le=Pe*Oc+_e;return gb[Le]===0&&(V.emplaceBack(Dc[2*Le+0],Dc[2*Le+1],_e*Ln/nl,Pe*Ln/nl),gb[Le]=++Q),gb[Le]-1}function ue(_e,Pe,Le,ke,Oe,je){const Fe=_e+Le>>1,lt=Pe+ke>>1;if(Math.abs(_e-Oe)+Math.abs(Pe-je)>1&&eh[lt*Oc+Fe])ue(Oe,je,_e,Pe,Fe,lt),ue(Le,ke,Oe,je,Fe,lt);else{const rt=te(_e,Pe),bt=te(Le,ke),Ht=te(Oe,je);q.emplaceBack(rt,bt,Ht)}}return ue(0,0,nl,nl,nl,0),ue(nl,nl,0,0,0,nl),{vertices:V,indices:q}}(this.tileID.canonical,l);p=x.vertices,y=x.indices}else{p=new Tt,y=new Pn;for(const{x:C,y:I}of h)p.emplaceBack(C,I,0,0);const x=B2(p.int16,void 0,4);for(let C=0;C<x.length;C+=3)y.emplaceBack(x[C],x[C+1],x[C+2])}this._tileBoundsBuffer=o.createVertexBuffer(p,PD.members),this._tileBoundsIndexBuffer=o.createIndexBuffer(y),this._tileBoundsSegments=ri.simpleSegment(0,0,p.length,y.length)}_makeGlobeTileDebugBuffers(o,l){const h=l.projection;if(!h||h.name!=="globe"||l.freezeTileCoverage)return;const p=this.tileID.canonical,y=_v(YR(p,l)),x=km(l.zoom);let C;x>0&&(C=p2(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(o,p,l,y,C,x),this._makeGlobeTileDebugTextBuffer(o,p,l,y,C,x)}_globePoint(o,l,h,p,y,x,C){let I=vv(o,l,h);if(x){const M=1<<h.z,j=Ac(p.center.lng),V=Rc(p.center.lat),q=(h.x+.5)/M-j;let Q=0;q>.5?Q=-1:q<-.5&&(Q=1);let te=(o/Ln+h.x)/M+Q,ue=(l/Ln+h.y)/M;te=(te-j)*p._pixelsPerMercatorPixel+j,ue=(ue-V)*p._pixelsPerMercatorPixel+V;const _e=[te*p.worldSize,ue*p.worldSize,0];Zo(_e,_e,x),I=Gf(I,_e,C)}return Zo(I,I,y)}_makeGlobeTileDebugBorderBuffer(o,l,h,p,y,x){const C=new Vt,I=new Zs,M=new nt,j=(q,Q,te,ue,_e)=>{const Pe=(te-q)/(_e-1),Le=(ue-Q)/(_e-1),ke=C.length;for(let Oe=0;Oe<_e;Oe++){const je=q+Oe*Pe,Fe=Q+Oe*Le;C.emplaceBack(je,Fe);const lt=this._globePoint(je,Fe,l,h,p,y,x);M.emplaceBack(lt[0],lt[1],lt[2]),I.emplaceBack(ke+Oe)}},V=Ln;j(0,0,V,0,16),j(V,0,V,V,16),j(V,V,0,V,16),j(0,V,0,0,16),this._tileDebugIndexBuffer=o.createIndexBuffer(I),this._tileDebugBuffer=o.createVertexBuffer(C,gv.members),this._globeTileDebugBorderBuffer=o.createVertexBuffer(M,WR.members),this._tileDebugSegments=ri.simpleSegment(0,0,C.length,I.length)}_makeGlobeTileDebugTextBuffer(o,l,h,p,y,x){const C=Ln/4,I=new Vt,M=new Pn,j=new nt,V=25;M.reserve(32),I.reserve(V),j.reserve(V);const q=(Q,te)=>V*Q+te;for(let Q=0;Q<V;Q++){const te=Q*C;for(let ue=0;ue<V;ue++){const _e=ue*C;I.emplaceBack(_e,te);const Pe=this._globePoint(_e,te,l,h,p,y,x);j.emplaceBack(Pe[0],Pe[1],Pe[2])}}for(let Q=0;Q<4;Q++)for(let te=0;te<4;te++){const ue=q(Q,te),_e=q(Q,te+1),Pe=q(Q+1,te),Le=q(Q+1,te+1);M.emplaceBack(ue,_e,Pe),M.emplaceBack(Pe,_e,Le)}this._tileDebugTextIndexBuffer=o.createIndexBuffer(M),this._tileDebugTextBuffer=o.createVertexBuffer(I,gv.members),this._globeTileDebugTextBuffer=o.createVertexBuffer(j,WR.members),this._tileDebugTextSegments=ri.simpleSegment(0,0,V,32)}}class wW{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,l,h){const p=String(l);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][p]=this.stateChanges[o][p]||{},Ye(this.stateChanges[o][p],h),this.deletedStates[o]===null){this.deletedStates[o]={};for(const y in this.state[o])y!==p&&(this.deletedStates[o][y]=null)}else if(this.deletedStates[o]&&this.deletedStates[o][p]===null){this.deletedStates[o][p]={};for(const y in this.state[o][p])h[y]||(this.deletedStates[o][p][y]=null)}else for(const y in h)this.deletedStates[o]&&this.deletedStates[o][p]&&this.deletedStates[o][p][y]===null&&delete this.deletedStates[o][p][y]}removeFeatureState(o,l,h){if(this.deletedStates[o]===null)return;const p=String(l);if(this.deletedStates[o]=this.deletedStates[o]||{},h&&l!==void 0)this.deletedStates[o][p]!==null&&(this.deletedStates[o][p]=this.deletedStates[o][p]||{},this.deletedStates[o][p][h]=null);else if(l!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][p])for(h in this.deletedStates[o][p]={},this.stateChanges[o][p])this.deletedStates[o][p][h]=null;else this.deletedStates[o][p]=null;else this.deletedStates[o]=null}getState(o,l){const h=String(l),p=Ye({},(this.state[o]||{})[h],(this.stateChanges[o]||{})[h]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){const y=this.deletedStates[o][l];if(y===null)return{};for(const x in y)delete p[x]}return p}initializeTileState(o,l){o.setFeatureState(this.state,l)}coalesceChanges(o,l){const h={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const y={};for(const x in this.stateChanges[p])this.state[p][x]||(this.state[p][x]={}),Ye(this.state[p][x],this.stateChanges[p][x]),y[x]=this.state[p][x];h[p]=y}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const y={};if(this.deletedStates[p]===null)for(const x in this.state[p])y[x]={},this.state[p][x]={};else for(const x in this.deletedStates[p]){if(this.deletedStates[p][x]===null)this.state[p][x]={};else if(this.state[p][x])for(const C of Object.keys(this.deletedStates[p][x]))delete this.state[p][x][C];y[x]=this.state[p][x]}h[p]=h[p]||{},Ye(h[p],y)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const p in o)o[p].setFeatureState(h,l)}}class ID{constructor(o){this.size=o,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(o,l){const h=this.toIdx(o,l);return{min:this.minimums[h],max:this.maximums[h]}}isLeaf(o,l){return this.leaves[this.toIdx(o,l)]}toIdx(o,l){return l*this.size+o}}function MD(a,o,l,h){let p=0,y=Number.MAX_VALUE;for(let x=0;x<3;x++)if(Math.abs(h[x])<1e-15){if(l[x]<a[x]||l[x]>o[x])return null}else{const C=1/h[x];let I=(a[x]-l[x])*C,M=(o[x]-l[x])*C;if(I>M){const j=I;I=M,M=j}if(I>p&&(p=I),M<y&&(y=M),p>y)return null}return p}function AD(a,o,l,h,p,y,x,C,I,M,j){const V=h-a,q=p-o,Q=y-l,te=x-a,ue=C-o,_e=I-l,Pe=j[1]*_e-j[2]*ue,Le=j[2]*te-j[0]*_e,ke=j[0]*ue-j[1]*te,Oe=V*Pe+q*Le+Q*ke;if(Math.abs(Oe)<1e-15)return null;const je=1/Oe,Fe=M[0]-a,lt=M[1]-o,rt=M[2]-l,bt=(Fe*Pe+lt*Le+rt*ke)*je;if(bt<0||bt>1)return null;const Ht=lt*Q-rt*q,ut=rt*V-Fe*Q,kt=Fe*q-lt*V,It=(j[0]*Ht+j[1]*ut+j[2]*kt)*je;return It<0||bt+It>1?null:(te*Ht+ue*ut+_e*kt)*je}function RD(a,o,l){return(a-o)/(l-o)}function OD(a,o,l,h,p,y,x,C,I){const M=1<<l,j=y-h,V=x-p,q=(a+1)/M*j+h,Q=(o+0)/M*V+p,te=(o+1)/M*V+p;C[0]=(a+0)/M*j+h,C[1]=Q,I[0]=q,I[1]=te}class DD{constructor(o){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=o,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(y){const x=Math.ceil(Math.log2(y.dim/8)),C=[];let I=Math.ceil(Math.pow(2,x));const M=1/I,j=(Q,te,ue,_e,Pe)=>{const Le=_e?1:0,ke=(Q+1)*ue-Le,Oe=te*ue,je=(te+1)*ue-Le;Pe[0]=Q*ue,Pe[1]=Oe,Pe[2]=ke,Pe[3]=je};let V=new ID(I);const q=[];for(let Q=0;Q<I*I;Q++){j(Q%I,Math.floor(Q/I),M,!1,q);const te=th(q[0],q[1],y),ue=th(q[2],q[1],y),_e=th(q[2],q[3],y),Pe=th(q[0],q[3],y);V.minimums.push(Math.min(te,ue,_e,Pe)),V.maximums.push(Math.max(te,ue,_e,Pe)),V.leaves.push(1)}for(C.push(V),I/=2;I>=1;I/=2){const Q=C[C.length-1];V=new ID(I);for(let te=0;te<I*I;te++){j(te%I,Math.floor(te/I),2,!0,q);const ue=Q.getElevation(q[0],q[1]),_e=Q.getElevation(q[2],q[1]),Pe=Q.getElevation(q[2],q[3]),Le=Q.getElevation(q[0],q[3]),ke=Q.isLeaf(q[0],q[1]),Oe=Q.isLeaf(q[2],q[1]),je=Q.isLeaf(q[2],q[3]),Fe=Q.isLeaf(q[0],q[3]),lt=Math.min(ue.min,_e.min,Pe.min,Le.min),rt=Math.max(ue.max,_e.max,Pe.max,Le.max),bt=ke&&Oe&&je&&Fe;V.maximums.push(rt),V.minimums.push(lt),V.leaves.push(rt-lt<=5&&bt?1:0)}C.push(V)}return C}(this.dem),h=l.length-1,p=l[h];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(l,0,0,h,0)}raycastRoot(o,l,h,p,y,x,C=1){return MD([o,l,-100],[h,p,this.maximums[0]*C],y,x)}raycast(o,l,h,p,y,x,C=1){if(!this.nodeCount)return null;const I=this.raycastRoot(o,l,h,p,y,x,C);if(I==null)return null;const M=[],j=[],V=[],q=[],Q=[{idx:0,t:I,nodex:0,nodey:0,depth:0}];for(;Q.length>0;){const{idx:te,t:ue,nodex:_e,nodey:Pe,depth:Le}=Q.pop();if(this.leaves[te]){OD(_e,Pe,Le,o,l,h,p,V,q);const Oe=1<<Le,je=(_e+0)/Oe,Fe=(_e+1)/Oe,lt=(Pe+0)/Oe,rt=(Pe+1)/Oe,bt=th(je,lt,this.dem)*C,Ht=th(Fe,lt,this.dem)*C,ut=th(Fe,rt,this.dem)*C,kt=th(je,rt,this.dem)*C,It=AD(V[0],V[1],bt,q[0],V[1],Ht,q[0],q[1],ut,y,x),Lt=AD(q[0],q[1],ut,V[0],q[1],kt,V[0],V[1],bt,y,x),Xt=Math.min(It!==null?It:Number.MAX_VALUE,Lt!==null?Lt:Number.MAX_VALUE);if(Xt!==Number.MAX_VALUE)return Xt;{const yt=pv([],y,x,ue);if(LD(bt,Ht,kt,ut,RD(yt[0],V[0],q[0]),RD(yt[1],V[1],q[1]))>=yt[2])return ue}continue}let ke=0;for(let Oe=0;Oe<this._siblingOffset.length;Oe++){OD((_e<<1)+this._siblingOffset[Oe][0],(Pe<<1)+this._siblingOffset[Oe][1],Le+1,o,l,h,p,V,q),V[2]=-100,q[2]=this.maximums[this.childOffsets[te]+Oe]*C;const je=MD(V,q,y,x);if(je!=null){const Fe=je;M[Oe]=Fe;let lt=!1;for(let rt=0;rt<ke&&!lt;rt++)Fe>=M[j[rt]]&&(j.splice(rt,0,Oe),lt=!0);lt||(j[ke]=Oe),ke++}}for(let Oe=0;Oe<ke;Oe++){const je=j[Oe];Q.push({idx:this.childOffsets[te]+je,t:M[je],nodex:(_e<<1)+this._siblingOffset[je][0],nodey:(Pe<<1)+this._siblingOffset[je][1],depth:Le+1})}}return null}_addNode(o,l,h){return this.minimums.push(o),this.maximums.push(l),this.leaves.push(h),this.childOffsets.push(0),this.nodeCount++}_construct(o,l,h,p,y){if(o[p].isLeaf(l,h)===1)return;this.childOffsets[y]||(this.childOffsets[y]=this.nodeCount);const x=p-1,C=o[x];let I=0,M=0;for(let j=0;j<this._siblingOffset.length;j++){const V=2*l+this._siblingOffset[j][0],q=2*h+this._siblingOffset[j][1],Q=C.getElevation(V,q),te=C.isLeaf(V,q),ue=this._addNode(Q.min,Q.max,te);te&&(I|=1<<j),M||(M=ue)}for(let j=0;j<this._siblingOffset.length;j++)I&1<<j||this._construct(o,2*l+this._siblingOffset[j][0],2*h+this._siblingOffset[j][1],x,M+j)}}function LD(a,o,l,h,p,y){return xr(xr(a,l,y),xr(o,h,y),p)}function th(a,o,l){const h=l.dim,p=ce(a*h-.5,0,h-1),y=ce(o*h-.5,0,h-1),x=Math.floor(p),C=Math.floor(y),I=Math.min(x+1,h-1),M=Math.min(C+1,h-1);return LD(l.get(x,C),l.get(I,C),l.get(x,M),l.get(I,M),p-x,y-C)}const zD={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function CW(a,o,l){return(256*a*256+256*o+l)/10-1e4}function SW(a,o,l){return 256*a+o+l/256-32768}class yb{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(o,l,h,p=!1,y=!1){if(this.uid=o,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return st(`"${h}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const x=this.dim=l.height-2,C=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=h||"mapbox",this.borderReady=p,!p){for(let I=0;I<x;I++)C[this._idx(-1,I)]=C[this._idx(0,I)],C[this._idx(x,I)]=C[this._idx(x-1,I)],C[this._idx(I,-1)]=C[this._idx(I,0)],C[this._idx(I,x)]=C[this._idx(I,x-1)];C[this._idx(-1,-1)]=C[this._idx(0,0)],C[this._idx(x,-1)]=C[this._idx(x-1,0)],C[this._idx(-1,x)]=C[this._idx(0,x-1)],C[this._idx(x,x)]=C[this._idx(x-1,x-1)],y&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new DD(this)}get(o,l,h=!1){h&&(o=ce(o,-1,this.dim),l=ce(l,-1,this.dim));const p=4*this._idx(o,l);return(this.encoding==="terrarium"?SW:CW)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(o){return zD[o]}get unpackVector(){return zD[this.encoding]}_idx(o,l){if(o<-1||o>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(o+1)}static pack(o,l){const h=[0,0,0,0],p=yb.getUnpackVector(l);let y=Math.floor((o+p[3])/p[2]);return h[2]=y%256,y=Math.floor(y/256),h[1]=y%256,y=Math.floor(y/256),h[0]=y,h}getPixels(){return new Ks({width:this.stride,height:this.stride},this.pixels)}backfillBorder(o,l,h){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let p=l*this.dim,y=l*this.dim+this.dim,x=h*this.dim,C=h*this.dim+this.dim;switch(l){case-1:p=y-1;break;case 1:y=p+1}switch(h){case-1:x=C-1;break;case 1:C=x+1}const I=-l*this.dim,M=-h*this.dim;for(let j=x;j<C;j++)for(let V=p;V<y;V++){const q=4*this._idx(V,j),Q=4*this._idx(V+I,j+M);this.pixels[q+0]=o.pixels[Q+0],this.pixels[q+1]=o.pixels[Q+1],this.pixels[q+2]=o.pixels[Q+2],this.pixels[q+3]=o.pixels[Q+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}_n(yb,"DEMData"),_n(DD,"DemMinMaxQuadTree",{omit:["dem"]});class TW{constructor(o,l){this.max=o,this.onRemove=l,this.reset()}reset(){for(const o in this.data)for(const l of this.data[o])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(o,l,h){const p=o.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const y={value:l,timeout:void 0};if(h!==void 0&&(y.timeout=setTimeout(()=>{this.remove(o,y)},h)),this.data[p].push(y),this.order.push(p),this.order.length>this.max){const x=this._getAndRemoveByKey(this.order[0]);x&&this.onRemove(x)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const l=this.data[o].shift();return l.timeout&&clearTimeout(l.timeout),this.data[o].length===0&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),l.value}getByKey(o){const l=this.data[o];return l?l[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,l){if(!this.has(o))return this;const h=o.wrapped().key,p=l===void 0?0:this.data[h].indexOf(l),y=this.data[h][p];return this.data[h].splice(p,1),y.timeout&&clearTimeout(y.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(y.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(o){const l=[];for(const h in this.data)for(const p of this.data[h])o(p.value)||l.push(p);for(const h of l)this.remove(h.value.tileID,h)}}class Vm{constructor(o,l,h){this.func=o,this.mask=l,this.range=h}}Vm.ReadOnly=!1,Vm.ReadWrite=!0,Vm.disabled=new Vm(519,Vm.ReadOnly,[0,1]);const aT=7680;class lT{constructor(o,l,h,p,y,x){this.test=o,this.ref=l,this.mask=h,this.fail=p,this.depthFail=y,this.pass=x}}lT.disabled=new lT({func:519,mask:0},0,0,aT,aT,aT);class Lc{constructor(o,l,h){this.blendFunction=o,this.blendColor=l,this.mask=h}}Lc.Replace=[1,0],Lc.disabled=new Lc(Lc.Replace,oo.transparent,[!1,!1,!1,!1]),Lc.unblended=new Lc(Lc.Replace,oo.transparent,[!0,!0,!0,!0]),Lc.alphaBlended=new Lc([1,771],oo.transparent,[!0,!0,!0,!0]);const cT=1029,uT=2305;class Gl{constructor(o,l,h){this.enable=o,this.mode=l,this.frontFace=h}}Gl.disabled=new Gl(!1,cT,uT),Gl.backCCW=new Gl(!0,cT,uT),Gl.backCW=new Gl(!0,cT,2304),Gl.frontCW=new Gl(!0,1028,2304),Gl.frontCCW=new Gl(!0,1028,uT);class Kf extends fu{constructor(o,l,h){super(),this.id=o,this._onlySymbols=h,l.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new TW(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new wW,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(o){this.map=o,this._minTileCacheSize=this._minTileCacheSize===void 0&&o?o._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&o?o._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const o in this._tiles){const l=this._tiles[o];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(o,l){return o.isSymbolTile=this._onlySymbols,this._source.loadTile(o,l)}_unloadTile(o){if(this._source.unloadTile)return this._source.unloadTile(o,()=>{})}_abortTile(o){if(this._source.abortTile)return this._source.abortTile(o,()=>{})}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const h=this._tiles[l];h.upload(o),h.prepare(this.map.style.imageManager)}}getIds(){return We(this._tiles).map(o=>o.tileID).sort(FD).map(o=>o.key)}getRenderableIds(o){const l=[];for(const h in this._tiles)this._isIdRenderable(+h,o)&&l.push(this._tiles[h]);return o?l.sort((h,p)=>{const y=h.tileID,x=p.tileID,C=new J(y.canonical.x,y.canonical.y)._rotate(this.transform.angle),I=new J(x.canonical.x,x.canonical.y)._rotate(this.transform.angle);return y.overscaledZ-x.overscaledZ||I.y-C.y||I.x-C.x}).map(h=>h.tileID.key):l.map(h=>h.tileID).sort(FD).map(h=>h.key)}hasRenderableParent(o){const l=this.findLoadedParent(o,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(o,l){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(l||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)this._tiles[o].state!=="errored"&&this._reloadTile(+o,"reloading")}}_reloadTile(o,l){const h=this._tiles[o];h&&(h.state!=="loading"&&(h.state=l),this._loadTile(h,this._tileLoaded.bind(this,h,o,l)))}_tileLoaded(o,l,h,p){if(p)if(o.state="errored",p.status!==404)this._source.fire(new pa(p,{tile:o}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const y=this.map.painter.terrain;this.update(this.transform,y.getScaledDemTileSize(),!0),y.resetTileLookupCache(this.id)}else this.update(this.transform);else o.timeAdded=Vs.now(),h==="expired"&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(l,o),this._source.type==="raster-dem"&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),this._source.fire(new Pl("data",{dataType:"source",tile:o,coord:o.tileID,sourceCacheId:this.id}))}_backfillDEM(o){const l=this.getRenderableIds();for(let p=0;p<l.length;p++){const y=l[p];if(o.neighboringTiles&&o.neighboringTiles[y]){const x=this.getTileByID(y);h(o,x),h(x,o)}}function h(p,y){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let x=y.tileID.canonical.x-p.tileID.canonical.x;const C=y.tileID.canonical.y-p.tileID.canonical.y,I=Math.pow(2,p.tileID.canonical.z),M=y.tileID.key;x===0&&C===0||Math.abs(C)>1||(Math.abs(x)>1&&(Math.abs(x+I)===1?x+=I:Math.abs(x-I)===1&&(x-=I)),y.dem&&p.dem&&(p.dem.backfillBorder(y.dem,x,C),p.neighboringTiles&&p.neighboringTiles[M]&&(p.neighboringTiles[M].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,l,h,p){for(const y in this._tiles){let x=this._tiles[y];if(p[y]||!x.hasData()||x.tileID.overscaledZ<=l||x.tileID.overscaledZ>h)continue;let C=x.tileID;for(;x&&x.tileID.overscaledZ>l+1;){const M=x.tileID.scaledTo(x.tileID.overscaledZ-1);x=this._tiles[M.key],x&&x.hasData()&&(C=M)}let I=C;for(;I.overscaledZ>l;)if(I=I.scaledTo(I.overscaledZ-1),o[I.key]){p[C.key]=C;break}}}findLoadedParent(o,l){if(o.key in this._loadedParentTiles){const h=this._loadedParentTiles[o.key];return h&&h.tileID.overscaledZ>=l?h:null}for(let h=o.overscaledZ-1;h>=l;h--){const p=o.scaledTo(h),y=this._getLoadedTile(p);if(y)return y}}_getLoadedTile(o){const l=this._tiles[o.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?o.wrapped().key:o.canonical.key)}updateCacheSize(o,l){l=l||this._source.tileSize;const h=Math.ceil(o.width/l)+1,p=Math.ceil(o.height/l)+1,y=Math.floor(h*p*5),x=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,y):y,C=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,x):x;this._cache.setMaxSize(C)}handleWrapJump(o){const l=Math.round((o-(this._prevLng===void 0?o:this._prevLng))/360);if(this._prevLng=o,l){const h={};for(const p in this._tiles){const y=this._tiles[p];y.tileID=y.tileID.unwrapTo(y.tileID.wrap+l),h[y.tileID.key]=y}this._tiles=h;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(o,l,h){if(this.transform=o,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!h)return;let p;this.updateCacheSize(o,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(C=>new gs(C.canonical.z,C.wrap,C.canonical.z,C.canonical.x,C.canonical.y)):(p=o.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!h,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(C=>this._source.hasTile(C)))):p=[];const y=this._updateRetainedTiles(p);if(jD(this._source.type)&&p.length!==0){const C={},I={},M=Object.keys(y);for(const V of M){const q=y[V],Q=this._tiles[V];if(!Q||Q.fadeEndTime&&Q.fadeEndTime<=Vs.now())continue;const te=this.findLoadedParent(q,Math.max(q.overscaledZ-Kf.maxOverzooming,this._source.minzoom));te&&(this._addTile(te.tileID),C[te.tileID.key]=te.tileID),I[V]=q}const j=p[p.length-1].overscaledZ;for(const V in this._tiles){const q=this._tiles[V];if(y[V]||!q.hasData())continue;let Q=q.tileID;for(;Q.overscaledZ>j;){Q=Q.scaledTo(Q.overscaledZ-1);const te=this._tiles[Q.key];if(te&&te.hasData()&&I[Q.key]){y[V]=q.tileID;break}}}for(const V in C)y[V]||(this._coveredTiles[V]=!0,y[V]=C[V])}for(const C in y)this._tiles[C].clearFadeHold();const x=function(C,I){const M=[];for(const j in C)j in I||M.push(j);return M}(this._tiles,y);for(const C of x){const I=this._tiles[C];I.hasSymbolBuckets&&!I.holdingForFade()?I.setHoldDuration(this.map._fadeDuration):I.hasSymbolBuckets&&!I.symbolFadeFinished()||this._removeTile(+C)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(+o)}_updateRetainedTiles(o){const l={};if(o.length===0)return l;const h={},p=o.reduce((M,j)=>Math.min(M,j.overscaledZ),1/0),y=o[0].overscaledZ,x=Math.max(y-Kf.maxOverzooming,this._source.minzoom),C=Math.max(y+Kf.maxUnderzooming,this._source.minzoom),I={};for(const M of o){const j=this._addTile(M);l[M.key]=M,j.hasData()||p<this._source.maxzoom&&(I[M.key]=M)}this._retainLoadedChildren(I,p,C,l);for(const M of o){let j=this._tiles[M.key];if(j.hasData())continue;if(M.canonical.z>=this._source.maxzoom){const q=M.children(this._source.maxzoom)[0],Q=this.getTile(q);if(Q&&Q.hasData()){l[q.key]=q;continue}}else{const q=M.children(this._source.maxzoom);if(l[q[0].key]&&l[q[1].key]&&l[q[2].key]&&l[q[3].key])continue}let V=j.wasRequested();for(let q=M.overscaledZ-1;q>=x;--q){const Q=M.scaledTo(q);if(h[Q.key]||(h[Q.key]=!0,j=this.getTile(Q),!j&&V&&(j=this._addTile(Q)),j&&(l[Q.key]=Q,V=j.wasRequested(),j.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const l=[];let h,p=this._tiles[o].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){h=this._loadedParentTiles[p.key];break}l.push(p.key);const y=p.scaledTo(p.overscaledZ-1);if(h=this._getLoadedTile(y),h)break;p=y}for(const y of l)this._loadedParentTiles[y]=h}}_addTile(o){let l=this._tiles[o.key];if(l)return l;l=this._cache.getAndRemove(o),l&&(this._setTileReloadTimer(o.key,l),l.tileID=o,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,l)));const h=!!l;if(!h){const p=this.map?this.map.painter:null;l=new sT(o,this._source.tileSize*o.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,o.key,l.state))}return l?(l.uses++,this._tiles[o.key]=l,h||this._source.fire(new Pl("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(o,l){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const h=l.getExpiryTimeout();h&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},h))}_removeTile(o){const l=this._tiles[o];l&&(l.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(+o);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(o,l,h){const p=[],y=this.transform;if(!y)return p;const x=y.projection.name==="globe",C=Ac(y.center.lng);for(const I in this._tiles){const M=this._tiles[I];if(h&&M.clearQueryDebugViz(),M.holdingForFade())continue;let j;if(x){const V=M.tileID.canonical;if(V.z===0){const q=[Math.abs(ce(C,...$v(V,-1))-C),Math.abs(ce(C,...$v(V,1))-C)];j=[0,2*q.indexOf(Math.min(...q))-1]}else{const q=[Math.abs(ce(C,...$v(V,-1))-C),Math.abs(ce(C,...$v(V,0))-C),Math.abs(ce(C,...$v(V,1))-C)];j=[q.indexOf(Math.min(...q))-1]}}else j=[0];for(const V of j){const q=o.containsTile(M,y,l,V);q&&p.push(q)}}return p}getVisibleCoordinates(o){const l=this.getRenderableIds(o).map(h=>this._tiles[h].tileID);for(const h of l)h.projMatrix=this.transform.calculateProjMatrix(h.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(jD(this._source.type))for(const o in this._tiles){const l=this._tiles[o];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=Vs.now())return!0}return!1}setFeatureState(o,l,h){this._state.updateState(o=o||"_geojsonTileLayer",l,h)}removeFeatureState(o,l,h){this._state.removeFeatureState(o=o||"_geojsonTileLayer",l,h)}getFeatureState(o,l){return this._state.getState(o=o||"_geojsonTileLayer",l)}setDependencies(o,l,h){const p=this._tiles[o];p&&p.setDependencies(l,h)}reloadTilesForDependencies(o,l){for(const h in this._tiles)this._tiles[h].hasDependency(o,l)&&this._reloadTile(+h,"reloading");this._cache.filter(h=>!h.hasDependency(o,l))}_preloadTiles(o,l){if(!this._sourceLoaded){const C=()=>{this._sourceLoaded&&(this._source.off("data",C),this._preloadTiles(o,l))};return void this._source.on("data",C)}const h=new Map,p=Array.isArray(o)?o:[o],y=this.map.painter.terrain,x=this.usedForTerrain&&y?y.getScaledDemTileSize():this._source.tileSize;for(const C of p){const I=C.coveringTiles({tileSize:x,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const M of I)h.set(M.key,M);this.usedForTerrain&&C.updateElevation(!1)}Ue(Array.from(h.values()),(C,I)=>{const M=new sT(C,this._source.tileSize*C.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(M,j=>{this._source.type==="raster-dem"&&M.dem&&this._backfillDEM(M),I(j,M)})},l)}}function FD(a,o){const l=Math.abs(2*a.wrap)-+(a.wrap<0),h=Math.abs(2*o.wrap)-+(o.wrap<0);return a.overscaledZ-o.overscaledZ||h-l||o.canonical.y-a.canonical.y||o.canonical.x-a.canonical.x}function jD(a){return a==="raster"||a==="image"||a==="video"||a==="custom"}function $v(a,o){const l=1<<a.z;return[a.x/l+o,(a.x+1)/l+o]}Kf.maxOverzooming=10,Kf.maxUnderzooming=3;class vb{constructor(o,l,h){this._demTile=o,this._dem=this._demTile.dem,this._scale=l,this._offset=h}static create(o,l,h){const p=h||o.findDEMTileFor(l);if(!p||!p.dem)return;const y=p.dem,x=p.tileID,C=1<<l.canonical.z-x.canonical.z;return new vb(p,p.tileSize/Ln/C,[(l.canonical.x/C-x.canonical.x)*y.dim,(l.canonical.y/C-x.canonical.y)*y.dim])}tileCoordToPixel(o,l){const h=l*this._scale+this._offset[1],p=Math.floor(o*this._scale+this._offset[0]),y=Math.floor(h);return new J(p,y)}getElevationAt(o,l,h,p){const y=o*this._scale+this._offset[0],x=l*this._scale+this._offset[1],C=Math.floor(y),I=Math.floor(x),M=this._dem;return p=!!p,h?xr(xr(M.get(C,I,p),M.get(C,I+1,p),x-I),xr(M.get(C+1,I,p),M.get(C+1,I+1,p),x-I),y-C):M.get(C,I,p)}getElevationAtPixel(o,l,h){return this._dem.get(o,l,!!h)}getMeterToDEM(o){return(1<<this._demTile.tileID.canonical.z)*Ul(1,o)*this._dem.stride}}class $D{constructor(o,l){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new ku(Ln,16,0),this.featureIndexArray=new jf,this.promoteId=l}insert(o,l,h,p,y,x=0){const C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,p,y,x);const I=this.grid;for(let M=0;M<l.length;M++){const j=l[M],V=[1/0,1/0,-1/0,-1/0];for(let q=0;q<j.length;q++){const Q=j[q];V[0]=Math.min(V[0],Q.x),V[1]=Math.min(V[1],Q.y),V[2]=Math.max(V[2],Q.x),V[3]=Math.max(V[3],Q.y)}V[0]<Ln&&V[1]<Ln&&V[2]>=0&&V[3]>=0&&I.insert(C,V[0],V[1],V[2],V[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new H2(new ob(this.rawTileData)).layers,this.sourceLayerCoder=new SD(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const o in this.vtLayers)this.vtFeatures[o]=[]}return this.vtLayers}query(o,l,h,p){this.loadVTLayers();const y=o.params||{},x=vm(y.filter),C=o.tileResult,I=o.transform,M=C.bufferedTilespaceBounds,j=this.grid.query(M.min.x,M.min.y,M.max.x,M.max.y,(te,ue,_e,Pe)=>uO(C.bufferedTilespaceGeometry,te,ue,_e,Pe));j.sort(EW);let V=null;I.elevation&&j.length>0&&(V=vb.create(I.elevation,this.tileID));const q={};let Q;for(let te=0;te<j.length;te++){const ue=j[te];if(ue===Q)continue;Q=ue;const _e=this.featureIndexArray.get(ue);let Pe=null;this.loadMatchingFeature(q,_e,x,y.layers,y.availableImages,l,h,p,(Le,ke,Oe,je=0)=>(Pe||(Pe=Lu(Le,this.tileID.canonical,o.tileTransform)),ke.queryIntersectsFeature(C,Le,Oe,Pe,this.z,o.transform,o.pixelPosMatrix,V,je)))}return q}loadMatchingFeature(o,l,h,p,y,x,C,I,M){const{featureIndex:j,bucketIndex:V,sourceLayerIndex:q,layoutVertexArrayOffset:Q}=l,te=this.bucketLayerIDs[V];if(p&&!function(Le,ke){for(let Oe=0;Oe<Le.length;Oe++)if(ke.indexOf(Le[Oe])>=0)return!0;return!1}(p,te))return;const ue=this.sourceLayerCoder.decode(q),_e=this.vtLayers[ue].feature(j);if(h.needGeometry){const Le=Wf(_e,!0);if(!h.filter(new N(this.tileID.overscaledZ),Le,this.tileID.canonical))return}else if(!h.filter(new N(this.tileID.overscaledZ),_e))return;const Pe=this.getId(_e,ue);for(let Le=0;Le<te.length;Le++){const ke=te[Le];if(p&&p.indexOf(ke)<0)continue;const Oe=x[ke];if(!Oe)continue;let je={};Pe!==void 0&&I&&(je=I.getState(Oe.sourceLayer||"_geojsonTileLayer",Pe));const Fe=Ye({},C[ke]);Fe.paint=BD(Fe.paint,Oe.paint,_e,je,y),Fe.layout=BD(Fe.layout,Oe.layout,_e,je,y);const lt=!M||M(_e,Oe,je,Q);if(!lt)continue;const rt=new TD(_e,this.z,this.x,this.y,Pe);rt.layer=Fe;let bt=o[ke];bt===void 0&&(bt=o[ke]=[]),bt.push({featureIndex:j,feature:rt,intersectionZ:lt})}}lookupSymbolFeatures(o,l,h,p,y,x,C,I){const M={};this.loadVTLayers();const j=vm(y);for(const V of o)this.loadMatchingFeature(M,{bucketIndex:h,sourceLayerIndex:p,featureIndex:V,layoutVertexArrayOffset:0},j,x,C,I,l);return M}loadFeature(o){const{featureIndex:l,sourceLayerIndex:h}=o;this.loadVTLayers();const p=this.sourceLayerCoder.decode(h),y=this.vtFeatures[p];if(y[l])return y[l];const x=this.vtLayers[p].feature(l);return y[l]=x,x}hasLayer(o){for(const l of this.bucketLayerIDs)for(const h of l)if(o===h)return!0;return!1}getId(o,l){let h=o.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[l];p!=null&&(h=o.properties[p]),typeof h=="boolean"&&(h=Number(h))}return h}}function BD(a,o,l,h,p){return et(a,(y,x)=>{const C=o instanceof Ee?o.get(x):null;return C&&C.evaluate?C.evaluate(l,h,p):C})}function EW(a,o){return o-a}_n($D,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class ND{constructor(o,l){this.width=o,this.height=l,this.nextRow=0,this.image=new zu({width:o,height:l}),this.positions={},this.uploaded=!1}getDash(o,l){const h=this.getKey(o,l);return this.positions[h]}trim(){const o=this.width,l=this.height=Rt(this.nextRow);this.image.resize({width:o,height:l})}getKey(o,l){return o.join(",")+l}getDashRanges(o,l,h){const p=[];let y=o.length%2==1?-o[o.length-1]*h:0,x=o[0]*h,C=!0;p.push({left:y,right:x,isDash:C,zeroLength:o[0]===0});let I=o[0];for(let M=1;M<o.length;M++){C=!C;const j=o[M];y=I*h,I+=j,x=I*h,p.push({left:y,right:x,isDash:C,zeroLength:j===0})}return p}addRoundDash(o,l,h){const p=l/2;for(let y=-h;y<=h;y++){const x=this.width*(this.nextRow+h+y);let C=0,I=o[C];for(let M=0;M<this.width;M++){M/I.right>1&&(I=o[++C]);const j=Math.abs(M-I.left),V=Math.abs(M-I.right),q=Math.min(j,V);let Q;const te=y/h*(p+1);if(I.isDash){const ue=p-Math.abs(te);Q=Math.sqrt(q*q+ue*ue)}else Q=p-Math.sqrt(q*q+te*te);this.image.data[x+M]=Math.max(0,Math.min(255,Q+128))}}}addRegularDash(o,l){for(let I=o.length-1;I>=0;--I){const M=o[I],j=o[I+1];M.zeroLength?o.splice(I,1):j&&j.isDash===M.isDash&&(j.left=M.left,o.splice(I,1))}const h=o[0],p=o[o.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const y=this.width*this.nextRow;let x=0,C=o[x];for(let I=0;I<this.width;I++){I/C.right>1&&(C=o[++x]);const M=Math.abs(I-C.left),j=Math.abs(I-C.right),V=Math.min(M,j);this.image.data[y+I]=Math.max(0,Math.min(255,(C.isDash?V:-V)+l+128))}}addDash(o,l){const h=this.getKey(o,l);if(this.positions[h])return this.positions[h];const p=l==="round",y=p?7:0,x=2*y+1;if(this.nextRow+x>this.height)return st("LineAtlas out of space"),null;o.length===0&&o.push(1);let C=0;for(let j=0;j<o.length;j++)o[j]<0&&(st("Negative value is found in line dasharray, replacing values with 0"),o[j]=0),C+=o[j];if(C!==0){const j=this.width/C,V=this.getDashRanges(o,this.width,j);p?this.addRoundDash(V,j,y):this.addRegularDash(V,l==="square"?.5*j:0)}const I=this.nextRow+y;this.nextRow+=x;const M={tl:[I,y],br:[C,0]};return this.positions[h]=M,M}}_n(ND,"LineAtlas");const UD=1*Hl;class VD{constructor(o){const l={},h=[];for(const C in o){const I=o[C],M=l[C]={};for(const j in I.glyphs){const V=I.glyphs[+j];if(!V||V.bitmap.width===0||V.bitmap.height===0)continue;const q=V.metrics.localGlyph?UD:1,Q={x:0,y:0,w:V.bitmap.width+2*q,h:V.bitmap.height+2*q};h.push(Q),M[j]=Q}}const{w:p,h:y}=Z2(h),x=new zu({width:p||1,height:y||1});for(const C in o){const I=o[C];for(const M in I.glyphs){const j=I.glyphs[+M];if(!j||j.bitmap.width===0||j.bitmap.height===0)continue;const V=l[C][M],q=j.metrics.localGlyph?UD:1;zu.copy(j.bitmap,x,{x:0,y:0},{x:V.x+q,y:V.y+q},j.bitmap)}}this.image=x,this.positions=l}}_n(VD,"GlyphAtlas");class PW{constructor(o){this.tileID=new gs(o.tileID.overscaledZ,o.tileID.wrap,o.tileID.canonical.z,o.tileID.canonical.x,o.tileID.canonical.y),this.tileZoom=o.tileZoom,this.uid=o.uid,this.zoom=o.zoom,this.canonical=o.tileID.canonical,this.pixelRatio=o.pixelRatio,this.tileSize=o.tileSize,this.source=o.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=o.showCollisionBoxes,this.collectResourceTiming=!!o.collectResourceTiming,this.returnDependencies=!!o.returnDependencies,this.promoteId=o.promoteId,this.enableTerrain=!!o.enableTerrain,this.isSymbolTile=o.isSymbolTile,this.tileTransform=Yf(o.tileID.canonical,o.projection),this.projection=o.projection}parse(o,l,h,p,y){this.status="parsing",this.data=o,this.collisionBoxArray=new Yr;const x=new SD(Object.keys(o.layers).sort()),C=new $D(this.tileID,this.promoteId);C.bucketLayerIDs=[];const I={},M=new ND(256,256),j={featureIndex:C,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:M,availableImages:h},V=l.familiesBySource[this.source];for(const je in V){const Fe=o.layers[je];if(!Fe)continue;let lt=!1,rt=!1;for(const ut of V[je])ut[0].type==="symbol"?lt=!0:rt=!0;if(this.isSymbolTile===!0&&!lt||this.isSymbolTile===!1&&!rt)continue;Fe.version===1&&st(`Vector tile source "${this.source}" layer "${je}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const bt=x.encode(je),Ht=[];for(let ut=0;ut<Fe.length;ut++){const kt=Fe.feature(ut),It=C.getId(kt,je);Ht.push({feature:kt,id:It,index:ut,sourceLayerIndex:bt})}for(const ut of V[je]){const kt=ut[0];this.isSymbolTile!==void 0&&kt.type==="symbol"!==this.isSymbolTile||kt.minzoom&&this.zoom<Math.floor(kt.minzoom)||kt.maxzoom&&this.zoom>=kt.maxzoom||kt.visibility!=="none"&&(dT(ut,this.zoom,h),(I[kt.id]=kt.createBucket({index:C.bucketLayerIDs.length,layers:ut,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:bt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:h})).populate(Ht,j,this.tileID.canonical,this.tileTransform),C.bucketLayerIDs.push(ut.map(It=>It.id)))}}let q,Q,te,ue;M.trim();const _e={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Pe=()=>{if(q)return y(q);if(Q&&te&&ue){const je=new VD(Q),Fe=new KO(te,ue);for(const lt in I){const rt=I[lt];rt instanceof Jd?(dT(rt.layers,this.zoom,h),Q8(rt,Q,je.positions,te,Fe.iconPositions,this.showCollisionBoxes,h,this.tileID.canonical,this.tileZoom,this.projection)):rt.hasPattern&&(rt instanceof tb||rt instanceof Kx||rt instanceof Pv)&&(dT(rt.layers,this.zoom,h),rt.addFeatures(j,this.tileID.canonical,Fe.patternPositions,h,this.tileTransform))}this.status="done",y(null,{buckets:We(I).filter(lt=>!lt.isEmpty()),featureIndex:C,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:je.image,lineAtlas:M,imageAtlas:Fe,glyphMap:this.returnDependencies?Q:null,iconMap:this.returnDependencies?te:null,glyphPositions:this.returnDependencies?je.positions:null})}},Le=et(j.glyphDependencies,je=>Object.keys(je).map(Number));Object.keys(Le).length?p.send("getGlyphs",{uid:this.uid,stacks:Le},(je,Fe)=>{q||(q=je,Q=Fe,Pe())},void 0,!1,_e):Q={};const ke=Object.keys(j.iconDependencies);ke.length?p.send("getImages",{icons:ke,source:this.source,tileID:this.tileID,type:"icons"},(je,Fe)=>{q||(q=je,te=Fe,Pe())},void 0,!1,_e):te={};const Oe=Object.keys(j.patternDependencies);Oe.length?p.send("getImages",{icons:Oe,source:this.source,tileID:this.tileID,type:"patterns"},(je,Fe)=>{q||(q=je,ue=Fe,Pe())},void 0,!1,_e):ue={},Pe()}}function dT(a,o,l){const h=new N(o);for(const p of a)p.recalculate(h,l)}class HD{constructor(o){this.entries={},this.scheduler=o}request(o,l,h,p){const y=this.entries[o]=this.entries[o]||{callbacks:[]};if(y.result){const[x,C]=y.result;return this.scheduler?this.scheduler.add(()=>{p(x,C)},l):p(x,C),()=>{}}return y.callbacks.push(p),y.cancel||(y.cancel=h((x,C)=>{y.result=[x,C];for(const I of y.callbacks)this.scheduler?this.scheduler.add(()=>{I(x,C)},l):I(x,C);setTimeout(()=>delete this.entries[o],3e3)})),()=>{y.result||(y.callbacks=y.callbacks.filter(x=>x!==p),y.callbacks.length||(y.cancel(),delete this.entries[o]))}}}function GD(a,o,l){const h=JSON.stringify(a.request);return a.data&&(this.deduped.entries[h]={result:[null,a.data]}),this.deduped.request(h,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},p=>{const y=gi(a.request,(x,C,I,M)=>{x?p(x):C&&p(null,{vectorTile:l?void 0:new H2(new ob(C)),rawData:C,cacheControl:I,expires:M})});return()=>{y.cancel(),p()}},o)}const WD=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class hT{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[l,h]=new Uint8Array(o,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");const p=h>>4;if(p!==1)throw new Error(`Got v${p} data when expected v1.`);const y=WD[15&h];if(!y)throw new Error("Unrecognized array type.");const[x]=new Uint16Array(o,2,1),[C]=new Uint32Array(o,4,1);return new hT(C,x,y,o)}constructor(o,l=64,h=Float64Array,p){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=h,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;const y=WD.indexOf(this.ArrayType),x=2*o*this.ArrayType.BYTES_PER_ELEMENT,C=o*this.IndexArrayType.BYTES_PER_ELEMENT,I=(8-C%8)%8;if(y<0)throw new Error(`Unexpected typed array class: ${h}.`);p&&p instanceof ArrayBuffer?(this.data=p,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+C+I,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+x+C+I),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+C+I,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+y]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=o)}add(o,l){const h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=o,this.coords[this._pos++]=l,h}finish(){const o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return fT(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,l,h,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:x,nodeSize:C}=this,I=[0,y.length-1,0],M=[];for(;I.length;){const j=I.pop()||0,V=I.pop()||0,q=I.pop()||0;if(V-q<=C){for(let _e=q;_e<=V;_e++){const Pe=x[2*_e],Le=x[2*_e+1];Pe>=o&&Pe<=h&&Le>=l&&Le<=p&&M.push(y[_e])}continue}const Q=q+V>>1,te=x[2*Q],ue=x[2*Q+1];te>=o&&te<=h&&ue>=l&&ue<=p&&M.push(y[Q]),(j===0?o<=te:l<=ue)&&(I.push(q),I.push(Q-1),I.push(1-j)),(j===0?h>=te:p>=ue)&&(I.push(Q+1),I.push(V),I.push(1-j))}return M}within(o,l,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:y,nodeSize:x}=this,C=[0,p.length-1,0],I=[],M=h*h;for(;C.length;){const j=C.pop()||0,V=C.pop()||0,q=C.pop()||0;if(V-q<=x){for(let _e=q;_e<=V;_e++)ZD(y[2*_e],y[2*_e+1],o,l)<=M&&I.push(p[_e]);continue}const Q=q+V>>1,te=y[2*Q],ue=y[2*Q+1];ZD(te,ue,o,l)<=M&&I.push(p[Q]),(j===0?o-h<=te:l-h<=ue)&&(C.push(q),C.push(Q-1),C.push(1-j)),(j===0?o+h>=te:l+h>=ue)&&(C.push(Q+1),C.push(V),C.push(1-j))}return I}}function fT(a,o,l,h,p,y){if(p-h<=l)return;const x=h+p>>1;qD(a,o,x,h,p,y),fT(a,o,l,h,x-1,1-y),fT(a,o,l,x+1,p,1-y)}function qD(a,o,l,h,p,y){for(;p>h;){if(p-h>600){const M=p-h+1,j=l-h+1,V=Math.log(M),q=.5*Math.exp(2*V/3),Q=.5*Math.sqrt(V*q*(M-q)/M)*(j-M/2<0?-1:1);qD(a,o,l,Math.max(h,Math.floor(l-j*q/M+Q)),Math.min(p,Math.floor(l+(M-j)*q/M+Q)),y)}const x=o[2*l+y];let C=h,I=p;for(Bv(a,o,h,l),o[2*p+y]>x&&Bv(a,o,h,p);C<I;){for(Bv(a,o,C,I),C++,I--;o[2*C+y]<x;)C++;for(;o[2*I+y]>x;)I--}o[2*h+y]===x?Bv(a,o,h,I):(I++,Bv(a,o,I,p)),I<=l&&(h=I+1),l<=I&&(p=I-1)}}function Bv(a,o,l,h){pT(a,l,h),pT(o,2*l,2*h),pT(o,2*l+1,2*h+1)}function pT(a,o,l){const h=a[o];a[o]=a[l],a[l]=h}function ZD(a,o,l,h){const p=a-l,y=o-h;return p*p+y*y}s.ARRAY_TYPE=Ys,s.AUTH_ERR_MSG=ze,s.Aabb=ms,s.Actor=class{constructor(a,o,l){this.target=a,this.parent=o,this.mapId=l,this.callbacks={},this.cancelCallbacks={},Ut(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=en()?a:m,this.scheduler=new xW}send(a,o,l,h,p=!1,y){const x=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=y,this.callbacks[x]=l);const C=wn(this.globalScope)?void 0:[];return this.target.postMessage({id:x,type:a,hasCallback:!!l,targetMapId:h,mustQueue:p,sourceMapId:this.mapId,data:Hd(o,C)},C),{cancel:()=>{l&&delete this.callbacks[x],this.target.postMessage({id:x,type:"<cancel>",targetMapId:h,sourceMapId:this.mapId})}}}receive(a){const o=a.data,l=o.id;if(l&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){const h=this.cancelCallbacks[l];delete this.cancelCallbacks[l],h&&h.cancel()}else if(o.mustQueue||en()){const h=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,o),h&&h.metadata||{type:"message"})}else this.processTask(l,o)}processTask(a,o){if(o.type==="<response>"){const l=this.callbacks[a];delete this.callbacks[a],l&&(o.error?l(Iu(o.error)):l(null,Iu(o.data)))}else{const l=wn(this.globalScope)?void 0:[],h=o.hasCallback?(y,x)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:y?Hd(y):null,data:Hd(x,l)},l)}:y=>{},p=Iu(o.data);if(this.parent[o.type])this.parent[o.type](o.sourceMapId,p,h);else if(this.parent.getWorkerSource){const y=o.type.split(".");this.parent.getWorkerSource(o.sourceMapId,y[0],p.source)[y[1]](p,h)}else h(new Error(`Could not find function ${o.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=eb,s.Color=oo,s.ColorMode=Lc,s.CullFaceMode=Gl,s.DEMData=yb,s.DataConstantProperty=le,s.DedupedRequest=HD,s.DepthMode=Vm,s.EXTENT=Ln,s.Elevation=class{isDataAvailableAtPoint(a){const o=this._source();if(this.isUsingMockSource()||!o||a.y<0||a.y>1)return!1;const l=o.getSource().maxzoom,h=1<<l,p=Math.floor(a.x),y=Math.floor((a.x-p)*h),x=Math.floor(a.y*h),C=this.findDEMTileFor(new gs(l,p,l,y,x));return!(!C||!C.dem)}getAtPointOrZero(a,o=0){return this.getAtPoint(a,o)||0}getAtPoint(a,o,l=!0){if(this.isUsingMockSource())return null;o==null&&(o=null);const h=this._source();if(!h||a.y<0||a.y>1)return o;const p=h.getSource().maxzoom,y=1<<p,x=Math.floor(a.x),C=a.x-x,I=new gs(p,x,p,Math.floor(C*y),Math.floor(a.y*y)),M=this.findDEMTileFor(I);if(!M||!M.dem)return o;const j=M.dem,V=1<<M.tileID.canonical.z,q=(C*V-M.tileID.canonical.x)*j.dim,Q=(a.y*V-M.tileID.canonical.y)*j.dim,te=Math.floor(q),ue=Math.floor(Q);return(l?this.exaggeration():1)*xr(xr(j.get(te,ue),j.get(te,ue+1),Q-ue),xr(j.get(te+1,ue),j.get(te+1,ue+1),Q-ue),q-te)}getAtTileOffset(a,o,l){const h=1<<a.canonical.z;return this.getAtPointOrZero(new Im(a.wrap+(a.canonical.x+o/Ln)/h,(a.canonical.y+l/Ln)/h))}getAtTileOffsetFunc(a,o,l,h){return p=>{const y=this.getAtTileOffset(a,p.x,p.y),x=h.upVector(a.canonical,p.x,p.y);return Sa(x,x,y*h.upVectorScale(a.canonical,o,l).metersToTile),x}}getForTilePoints(a,o,l,h){if(this.isUsingMockSource())return!1;const p=vb.create(this,a,h);return!!p&&(o.forEach(y=>{y[2]=this.exaggeration()*p.getElevationAt(y[0],y[1],l)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const o=this.findDEMTileFor(a);if(!o||!o.dem)return null;const l=o.dem.tree,h=o.tileID,p=1<<a.canonical.z-h.canonical.z;let y=a.canonical.x/p-h.canonical.x,x=a.canonical.y/p-h.canonical.y,C=0;for(let I=0;I<a.canonical.z-h.canonical.z&&!l.leaves[C];I++){y*=2,x*=2;const M=2*Math.floor(x)+Math.floor(y);C=l.childOffsets[C]+M,y%=1,x%=1}return{min:this.exaggeration()*l.minimums[C],max:this.exaggeration()*l.maximums[C]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,o,l){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=pa,s.EvaluationParameters=N,s.Event=Pl,s.Evented=fu,s.FillExtrusionBucket=Pv,s.Frustum=b2,s.FrustumCorners=x2,s.GLOBE_RADIUS=Ic,s.GLOBE_SCALE_MATCH_LATITUDE=45,s.GLOBE_ZOOM_THRESHOLD_MAX=qR,s.GLOBE_ZOOM_THRESHOLD_MIN=w2,s.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.withSkirts.destroy(),a.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_fillGridMeshWithLods(a,o){const l=new Vt,h=new Pn,p=[],y=a+1+2,x=o[0]+1,C=o[0]+1+(1+o.length),I=(M,j,V)=>{let q=M===y-1?M-2:M===0?M:M-1;return q+=V?24575:0,[q,j]};for(let M=0;M<y;++M)l.emplaceBack(...I(M,0,!0));for(let M=0;M<x;++M)for(let j=0;j<y;++j)l.emplaceBack(...I(j,M,(j===0||j===y-1)&&!0));for(let M=0;M<o.length;++M){const j=o[M];for(let V=0;V<y;++V)l.emplaceBack(...I(V,j,!0))}for(let M=0;M<o.length;++M){const j=h.length,V=o[M]+1+2,q=new Pn;for(let ue=0;ue<V-1;ue++){const _e=ue===V-2,Pe=_e?y*(C-o.length+M-ue):y;for(let Le=0;Le<y-1;Le++){const ke=ue*y+Le;ue===0||_e||Le===0||Le===y-2?(q.emplaceBack(ke+1,ke,ke+Pe),q.emplaceBack(ke+Pe,ke+Pe+1,ke+1)):(h.emplaceBack(ke+1,ke,ke+Pe),h.emplaceBack(ke+Pe,ke+Pe+1,ke+1))}}const Q=ri.simpleSegment(0,j,l.length,h.length-j);for(let ue=0;ue<q.uint16.length;ue+=3)h.emplaceBack(q.uint16[ue],q.uint16[ue+1],q.uint16[ue+2]);const te=ri.simpleSegment(0,j,l.length,h.length-j);p.push({withoutSkirts:Q,withSkirts:te})}return{vertices:l,indices:h,segments:p}}_createGrid(a){const o=this._fillGridMeshWithLods(Hf,yv);this._gridSegments=o.segments,this._gridBuffer=a.createVertexBuffer(o.vertices,gv.members),this._gridIndexBuffer=a.createIndexBuffer(o.indices,!0)}_createPoles(a){const o=new Pn;for(let p=0;p<=Hf;p++)o.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=a.createIndexBuffer(o,!0);const l=new Zr,h=new Zr;this._poleSegments=[];for(let p=0,y=0;p<w2;p++){const x=360/(1<<p);l.emplaceBack(0,-Ic,0,.5,0),h.emplaceBack(0,-Ic,0,.5,1);for(let C=0;C<=Hf;C++){const I=C/Hf,M=xr(0,x,I),[j,V,q]=Em(xG,bG,M,Ic);l.emplaceBack(j,V,q,I,0),h.emplaceBack(j,V,q,I,1)}this._poleSegments.push(ri.simpleSegment(y,0,66,64)),y+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(l,GR,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(h,GR,!1)}getGridBuffers(a,o){return[this._gridBuffer,this._gridIndexBuffer,o?this._gridSegments[a].withSkirts:this._gridSegments[a].withoutSkirts]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,o){if(!this._wireframeSegments){const l=new Mi,h=Hf,p=h+1+2,y=1;this._wireframeSegments=[];for(let x=0,C=0;x<yv.length;x++){const I=yv[x];for(let j=y;j<I+y;j++)for(let V=y;V<h+y;V++){const q=j*p+V;l.emplaceBack(q,q+1),l.emplaceBack(q,q+p),l.emplaceBack(q,q+p+1)}const M=I*h*3;this._wireframeSegments.push(ri.simpleSegment(0,C,(I+1)*p,M)),C+=M}this._wireframeIndexBuffer=a.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[o]]}},s.GlyphManager=jm,s.ImagePosition=Y2,s.KDBush=hT,s.LivePerformanceUtils=kr,s.LngLat=Kr,s.LngLatBounds=Zd,s.LocalGlyphMode=J2,s.MAX_MERCATOR_LATITUDE=Xi,s.MercatorCoordinate=Im,s.ONE_EM=ji,s.OverscaledTileID=gs,s.PerformanceMarkers=mr,s.Point=J,s.Properties=Ae,s.RGBAImage=Ks,s.Ray=_2,s.RequestManager=class{constructor(a,o,l){this._transformRequestFn=a,this._customAccessToken=o,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const a=function(){let o="";for(let l=0;l<10;l++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",z,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,o){return this._transformRequestFn&&this._transformRequestFn(a,o)||{url:a}}normalizeStyleURL(a,o){if(!He(a))return a;const l=qt(a);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||o)}normalizeGlyphsURL(a,o){if(!He(a))return a;const l=qt(a);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||o)}normalizeSourceURL(a,o,l,h){if(!He(a))return a;const p=qt(a);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),l&&p.params.push(`language=${l}`),h&&p.params.push(`worldview=${h}`),this._makeAPIURL(p,this._customAccessToken||o)}normalizeSpriteURL(a,o,l,h){const p=qt(a);return He(a)?(p.path=`/styles/v1${p.path}/sprite${o}${l}`,this._makeAPIURL(p,this._customAccessToken||h)):(p.path+=`${o}${l}`,Ft(p))}normalizeTileURL(a,o,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!He(a))return a;const h=qt(a);h.path=h.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${o||l&&h.authority!=="raster"&&l===512?"@2x":""}${k.supported?".webp":"$1"}`),h.authority==="raster"?h.path=`/${E.RASTER_URL_PREFIX}${h.path}`:(h.path=h.path.replace(/^.+\/v4\//,"/"),h.path=`/${E.TILE_URL_VERSION}${h.path}`);const p=this._customAccessToken||function(y){for(const x of y){const C=x.match(/^access_token=(.*)$/);if(C)return C[1]}return null}(h.params)||E.ACCESS_TOKEN;return E.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&h.params.push(`sku=${this._skuToken}`),this._makeAPIURL(h,p)}canonicalizeTileURL(a,o){const l=qt(a);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return a;let h="mapbox://";l.path.match(/^\/raster\/v1\//)?h+=`raster/${l.path.replace(`/${E.RASTER_URL_PREFIX}/`,"")}`:h+=`tiles/${l.path.replace(`/${E.TILE_URL_VERSION}/`,"")}`;let p=l.params;return o&&(p=p.filter(y=>!y.match(/^access_token=/))),p.length&&(h+=`?${p.join("&")}`),h}canonicalizeTileset(a,o){const l=!!o&&He(o),h=[];for(const p of a.tiles||[])Xe(p)?h.push(this.canonicalizeTileURL(p,l)):h.push(p);return h}_makeAPIURL(a,o){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",h=qt(E.API_URL);if(a.protocol=h.protocol,a.authority=h.authority,a.protocol==="http"){const p=a.params.indexOf("secure");p>=0&&a.params.splice(p,1)}if(h.path!=="/"&&(a.path=`${h.path}${a.path}`),!E.REQUIRE_ACCESS_TOKEN)return Ft(a);if(o=o||E.ACCESS_TOKEN,!this._silenceAuthErrors){if(!o)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if(o[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return a.params=a.params.filter(p=>p.indexOf("access_token")===-1),a.params.push(`access_token=${o||""}`),Ft(a)}},s.ResourceType=ar,s.SegmentVector=ri,s.SourceCache=Kf,s.StencilMode=lT,s.StructArrayLayout1ui2=Zs,s.StructArrayLayout2f1f2i16=zn,s.StructArrayLayout2i4=Vt,s.StructArrayLayout2ui4=Mi,s.StructArrayLayout3f12=fr,s.StructArrayLayout3ui6=Pn,s.StructArrayLayout4i8=Tt,s.StructArrayLayout5f20=Zr,s.Texture=jv,s.Tile=sT,s.Transitionable=ie,s.Uniform1f=Fx,s.Uniform1i=class extends Ru{constructor(a){super(a),this.current=0}set(a,o,l){this.fetchUniformLocation(a,o)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},s.Uniform2f=class extends Ru{constructor(a){super(a),this.current=[0,0]}set(a,o,l){this.fetchUniformLocation(a,o)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},s.Uniform3f=class extends Ru{constructor(a){super(a),this.current=[0,0,0]}set(a,o,l){this.fetchUniformLocation(a,o)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},s.Uniform4f=kR,s.UniformColor=IR,s.UniformMatrix2f=class extends Ru{constructor(a){super(a),this.current=oG}set(a,o,l){if(this.fetchUniformLocation(a,o)){for(let h=0;h<4;h++)if(l[h]!==this.current[h]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}}},s.UniformMatrix3f=class extends Ru{constructor(a){super(a),this.current=rG}set(a,o,l){if(this.fetchUniformLocation(a,o)){for(let h=0;h<9;h++)if(l[h]!==this.current[h]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}}},s.UniformMatrix4f=class extends Ru{constructor(a){super(a),this.current=nG}set(a,o,l){if(this.fetchUniformLocation(a,o)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let h=1;h<16;h++)if(l[h]!==this.current[h]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},s.UnwrappedTileID=LO,s.ValidationError=gn,s.VectorTileFeature=Jx,s.VectorTileWorkerSource=class extends fu{constructor(a,o,l,h,p){super(),this.actor=a,this.layerIndex=o,this.availableImages=l,this.loadVectorData=p||GD,this.loading={},this.loaded={},this.deduped=new HD(a.scheduler),this.isSpriteLoaded=h,this.scheduler=a.scheduler}loadTile(a,o){const l=a.uid,h=a&&a.request,p=h&&h.collectResourceTiming,y=this.loading[l]=new PW(a);y.abort=this.loadVectorData(a,(x,C)=>{const I=!this.loading[l];if(delete this.loading[l],I||x||!C)return y.status="done",I||(this.loaded[l]=y),o(x);const M=C.rawData,j={};C.expires&&(j.expires=C.expires),C.cacheControl&&(j.cacheControl=C.cacheControl),y.vectorTile=C.vectorTile||new H2(new ob(M));const V=()=>{y.parse(y.vectorTile,this.layerIndex,this.availableImages,this.actor,(q,Q)=>{if(q||!Q)return o(q);const te={};if(p){const ue=lr(h);ue.length>0&&(te.resourceTiming=JSON.parse(JSON.stringify(ue)))}o(null,Ye({rawTileData:M.slice(0)},Q,j,te))})};this.isSpriteLoaded?V():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(V,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):V()}),this.loaded=this.loaded||{},this.loaded[l]=y})}reloadTile(a,o){const l=this.loaded,h=a.uid,p=this;if(l&&l[h]){const y=l[h];y.showCollisionBoxes=a.showCollisionBoxes,y.enableTerrain=!!a.enableTerrain,y.projection=a.projection,y.tileTransform=Yf(a.tileID.canonical,a.projection);const x=(C,I)=>{const M=y.reloadCallback;M&&(delete y.reloadCallback,y.parse(y.vectorTile,p.layerIndex,this.availableImages,p.actor,M)),o(C,I)};y.status==="parsing"?y.reloadCallback=x:y.status==="done"&&(y.vectorTile?y.parse(y.vectorTile,this.layerIndex,this.availableImages,this.actor,x):x())}}abortTile(a,o){const l=a.uid,h=this.loading[l];h&&(h.abort&&h.abort(),delete this.loading[l]),o()}removeTile(a,o){const l=this.loaded,h=a.uid;l&&l[h]&&delete l[h],o()}},s.WritingMode=Ea,s.ZoomDependentExpression=zl,s.add=Du,s.addDynamicAttributes=pb,s.adjoint=function(a,o){var l=o[0],h=o[1],p=o[2],y=o[3],x=o[4],C=o[5],I=o[6],M=o[7],j=o[8];return a[0]=x*j-C*M,a[1]=p*M-h*j,a[2]=h*C-p*x,a[3]=C*I-y*j,a[4]=l*j-p*I,a[5]=p*y-l*C,a[6]=y*M-x*I,a[7]=h*I-l*M,a[8]=l*x-h*y,a},s.asyncAll=Ue,s.bezier=me,s.bindAll=Ut,s.boundsAttributes=PD,s.bufferConvexPolygon=function(a,o){const l=[];for(let h=0;h<a.length;h++){const p=Te(h-1,-1,a.length-1),y=Te(h+1,-1,a.length-1),x=a[h],C=a[y],I=a[p].sub(x).unit(),M=C.sub(x).unit(),j=M.angleWithSep(I.x,I.y),V=I.add(M).unit().mult(-1*o/Math.sin(j/2));l.push(x.add(V))}return l},s.cacheEntryPossiblyAdded=function(a){Vn++,Vn>yn&&(a.getActor().send("enforceCacheSizeLimit",Qt),Vn=0)},s.calculateGlobeLabelMatrix=function(a,o){const{x:l,y:h}=a.point,p=JR(l,h,a.worldSize/a._pixelsPerMercatorPixel,0,0);return Nf(p,p,T2(Mc(o)))},s.calculateGlobeMatrix=function(a){const{x:o,y:l}=a.point,{lng:h,lat:p}=a._center;return JR(o,l,a.worldSize,h,p)},s.calculateGlobeMercatorMatrix=function(a){const o=a.pixelsPerMeter,l=o/Ul(1,a.center.lat),h=Bl(new Float64Array(16));return uv(h,h,[a.point.x,a.point.y,0]),Uf(h,h,[l,l,o]),Float32Array.from(h)},s.circumferenceAtLatitude=P2,s.clamp=ce,s.clearTileCache=function(a){if(!dn())return;const o=m.caches.delete(Dt);a&&o.catch(a).then(()=>a())},s.clipLine=cD,s.clone=function(a){var o=new Ys(16);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[6]=a[6],o[7]=a[7],o[8]=a[8],o[9]=a[9],o[10]=a[10],o[11]=a[11],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15],o},s.clone$1=Ot,s.collisionCircleLayout=T8,s.config=E,s.conjugate=function(a,o){return a[0]=-o[0],a[1]=-o[1],a[2]=-o[2],a[3]=o[3],a},s.create=function(){var a=new Ys(16);return Ys!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},s.create$1=RR,s.createExpression=vo,s.createLayout=Ze,s.createStyleLayer=function(a){return a.type==="custom"?new gW(a):new vW[a.type](a)},s.cross=v2,s.degToRad=de,s.distance=function(a,o){return Math.hypot(o[0]-a[0],o[1]-a[1],o[2]-a[2])},s.div=function(a,o,l){return a[0]=o[0]/l[0],a[1]=o[1]/l[1],a[2]=o[2]/l[2],a},s.dot=Qa,s.earthRadius=xv,s.ease=xe,s.easeCubicInOut=oe,s.ecefToLatLng=function([a,o,l]){const h=Math.hypot(a,o,l),p=Math.atan2(a,l),y=.5*Math.PI-Math.acos(-o/h);return new Kr(pe(p),pe(y))},s.emitValidationErrors=Ax,s.endsWith=rn,s.enforceCacheSizeLimit=function(a){sn(),on&&on.then(o=>{o.keys().then(l=>{for(let h=0;h<l.length-a;h++)o.delete(l[h])})})},s.evaluateSizeForFeature=nb,s.evaluateSizeForZoom=Dm,s.evaluateVariableOffset=pD,s.evented=b,s.exactEquals=function(a,o){return a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]&&a[3]===o[3]},s.exactEquals$1=function(a,o){return a[0]===o[0]&&a[1]===o[1]&&a[2]===o[2]},s.exported=Vs,s.exported$1=k,s.extend=Ye,s.extend$1=ma,s.fillExtrusionHeightLift=RO,s.filterObject=Pt,s.fromMat4=function(a,o){return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[4],a[4]=o[5],a[5]=o[6],a[6]=o[8],a[7]=o[9],a[8]=o[10],a},s.fromQuat=function(a,o){var l=o[0],h=o[1],p=o[2],y=o[3],x=l+l,C=h+h,I=p+p,M=l*x,j=h*x,V=h*C,q=p*x,Q=p*C,te=p*I,ue=y*x,_e=y*C,Pe=y*I;return a[0]=1-V-te,a[1]=j+Pe,a[2]=q-_e,a[3]=0,a[4]=j-Pe,a[5]=1-M-te,a[6]=Q+ue,a[7]=0,a[8]=q+_e,a[9]=Q-ue,a[10]=1-M-V,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},s.fromRotation=function(a,o){var l=Math.sin(o),h=Math.cos(o);return a[0]=h,a[1]=l,a[2]=0,a[3]=-l,a[4]=h,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},s.fromScaling=DR,s.furthestTileCorner=function(a){const o=Math.round((a+45+360)%360/90)%4;return ae[o]},s.getAABBPointSquareDist=function(a,o,l){let h=0;for(let p=0;p<2;++p){const y=l?l[p]:0;a[p]>y&&(h+=(a[p]-y)*(a[p]-y)),o[p]<y&&(h+=(y-o[p])*(y-o[p]))}return h},s.getAnchorAlignment=X2,s.getAnchorJustification=eT,s.getBounds=function(a){let o=1/0,l=1/0,h=-1/0,p=-1/0;for(const y of a)o=Math.min(o,y.x),l=Math.min(l,y.y),h=Math.max(h,y.x),p=Math.max(p,y.y);return{min:new J(o,l),max:new J(h,p)}},s.getColumn=ft,s.getDefaultExportFromCjs=B,s.getGridMatrix=function(a,o,l,h){const p=o.getNorth(),y=o.getSouth(),x=o.getWest(),C=o.getEast(),I=1<<a.z,M=C-x,j=p-y,V=M/Hf,q=-j/yv[l],Q=[0,V,0,q,0,0,p,x,0];if(a.z>0){const te=180/h;OR(Q,Q,[te/M+1,0,0,0,te/j+1,0,-.5*te/V,.5*te/q,1])}return Q[2]=I,Q[5]=a.x,Q[8]=a.y,Q},s.getImage=Ie,s.getJSON=function(a,o){return nr(Ye(a,{type:"json"}),o)},s.getLatitudinalLod=function(a){const o=Xi-5;a=ce(a,-o,o)/o*90;const l=Math.pow(Math.abs(Math.sin(de(a))),3);return Math.round(l*(yv.length-1))},s.getMapSessionAPI=tn,s.getPerformanceMeasurement=lr,s.getProjection=wD,s.getRTLTextPluginStatus=S,s.getReferrer=Ar,s.getTilePoint=function(a,{x:o,y:l},h=0){return new J(((o-h)*a.scale-a.x)*Ln,(l*a.scale-a.y)*Ln)},s.getTileVec3=function(a,o,l=0){return Tm(((o.x-l)*a.scale-a.x)*Ln,(o.y*a.scale-a.y)*Ln,nO(o.z,o.y))},s.getVideo=function(a,o){const l=m.document.createElement("video");l.muted=!0,l.onloadstart=function(){o(null,l)};for(let h=0;h<a.length;h++){const p=m.document.createElement("source");ti(a[h])||(l.crossOrigin="Anonymous"),p.src=a[h],l.appendChild(p)}return{cancel:()=>{}}},s.globeCenterToScreenPoint=function(a){const o=[0,0,0],l=Bl(new Float64Array(16));return Nf(l,a.pixelMatrix,a.globeMatrix),Zo(o,o,l),new J(o[0],o[1])},s.globeDenormalizeECEF=T2,s.globeECEFOrigin=function(a,o){const l=[0,0,0];return Zo(l,l,_v(Mc(o.canonical))),Zo(l,l,a),l},s.globeMetersToEcef=Bx,s.globeNormalizeECEF=_v,s.globePixelsToTileUnits=function(a,o){return Ln/(512*Math.pow(2,a))*Ux(Mc(o))},s.globePoleMatrixForTile=function(a,o,l){const h=Bl(new Float64Array(16)),p=(o/(1<<a)-.5)*Math.PI*2;return $x(h,l.globeMatrix,p),Float32Array.from(h)},s.globeTileBounds=Mc,s.globeTiltAtLngLat=QR,s.globeToMercatorTransition=km,s.globeUseCustomAntiAliasing=function(a,o,l){const h=km(l.zoom),p=a.style.map._antialias,y=!!o.extStandardDerivatives,x=o.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return h===0&&!p&&!x&&y},s.identity=Bl,s.identity$1=UR,s.invert=p2,s.isFullscreen=function(){return!!m.document.fullscreenElement||!!m.document.webkitFullscreenElement},s.isLngLatBehindGlobe=E2,s.isMapAuthenticated=function(a){return Tn.has(a)},s.isMapboxURL=He,s.isSafariWithAntialiasingBug=function(a){const o=a.navigator?a.navigator.userAgent:null;return!!wn(a)&&o&&(o.match("Version/15.4")||o.match("Version/15.5")||o.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=Ki,s.latLngToECEF=Pm,s.len=fG,s.length=dv,s.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},s.lngFromMercatorX=Ta,s.loadVectorTile=GD,s.makeRequest=nr,s.mapValue=function(a,o,l,h,p){return ce((a-o)/(l-o)*(p-h)+h,h,p)},s.mercatorScale=rO,s.mercatorXfromLng=Ac,s.mercatorYfromLat=Rc,s.mercatorZfromAltitude=Ul,s.mul=dG,s.mul$1=hG,s.multiply=Nf,s.multiply$1=OR,s.multiply$2=FR,s.nextPowerOfTwo=Rt,s.normalize=ps,s.normalize$1=pG,s.normalize$2=BR,s.number=xr,s.ortho=function(a,o,l,h,p,y,x){var C=1/(o-l),I=1/(h-p),M=1/(y-x);return a[0]=-2*C,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*I,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*M,a[11]=0,a[12]=(o+l)*C,a[13]=(p+h)*I,a[14]=(x+y)*M,a[15]=1,a},s.pbf=UO,s.perspective=function(a,o,l,h,p){var y,x=1/Math.tan(o/2);return a[0]=x/l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=x,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,p!=null&&p!==1/0?(a[10]=(p+h)*(y=1/(h-p)),a[14]=2*p*h*y):(a[10]=-1,a[14]=-2*h),a},s.pick=function(a,o){const l={};for(let h=0;h<o.length;h++){const p=o[h];p in a&&(l[p]=a[p])}return l},s.plugin=D,s.pointGeometry=W,s.polesInViewport=function(a){const o=Bl(new Float64Array(16));Nf(o,a.pixelMatrix,a.globeMatrix);const l=[0,el,0],h=[0,tl,0];return Zo(l,l,o),Zo(h,h,o),[l[0]>0&&l[0]<=a.width&&l[1]>0&&l[1]<=a.height&&!E2(a,new Kr(a.center.lat,90)),h[0]>0&&h[0]<=a.width&&h[1]>0&&h[1]<=a.height&&!E2(a,new Kr(a.center.lat,-90))]},s.polygonContainsPoint=qf,s.polygonIntersectsBox=uO,s.polygonIntersectsPolygon=sO,s.polygonizeBounds=function(a,o,l=0,h=!0){const p=new J(l,l),y=a.sub(p),x=o.add(p),C=[y,new J(x.x,y.y),x,new J(y.x,x.y)];return h&&C.push(y.clone()),C},s.posAttributes=gv,s.postMapLoadEvent=Er,s.postPerformanceEvent=ot,s.postTurnstileEvent=Wn,s.potpack=Z2,s.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},s.radToDeg=pe,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(a){return a({pluginStatus:g,pluginURL:u}),b.on("pluginStateChange",a),a},s.removeAuthState=function(a){Tn.delete(a)},s.renderColorRamp=L2,s.resample=oO,s.rotateX=m2,s.rotateX$1=VR,s.rotateY=$x,s.rotateY$1=HR,s.rotateZ=function(a,o,l){var h=Math.sin(l),p=Math.cos(l),y=o[0],x=o[1],C=o[2],I=o[3],M=o[4],j=o[5],V=o[6],q=o[7];return o!==a&&(a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[0]=y*p+M*h,a[1]=x*p+j*h,a[2]=C*p+V*h,a[3]=I*p+q*h,a[4]=M*p-y*h,a[5]=j*p-x*h,a[6]=V*p-C*h,a[7]=q*p-I*h,a},s.rotateZ$1=function(a,o,l){l*=.5;var h=o[0],p=o[1],y=o[2],x=o[3],C=Math.sin(l),I=Math.cos(l);return a[0]=h*I+p*C,a[1]=p*I-h*C,a[2]=y*I+x*C,a[3]=x*I-y*C,a},s.scale=Uf,s.scale$1=$R,s.scale$2=Sa,s.scaleAndAdd=pv,s.set=function(a,o,l,h){return a[0]=o,a[1]=l,a[2]=h,a},s.setCacheLimits=function(a,o){Qt=a,yn=o},s.setColumn=function(a,o,l){a[4*o+0]=l[0],a[4*o+1]=l[1],a[4*o+2]=l[2],a[4*o+3]=l[3]},s.setRTLTextPlugin=function(a,o,l=!1){if(g===iv||g===sv||g===av)throw new Error("setRTLTextPlugin cannot be called multiple times.");u=Vs.resolveURL(a),g=iv,Gd=o,v(),l||A()},s.smoothstep=ge,s.spec=_t,s.squaredLength=function(a){var o=a[0],l=a[1],h=a[2];return o*o+l*l+h*h},s.storeAuthState=function(a,o){o?Tn.add(a):Tn.delete(a)},s.sub=Nl,s.subtract=y2,s.symbolSize=E8,s.tileAABB=function(a,o,l,h,p,y,x,C,I){if(I.name==="globe")return _G(a,o,new eb(l,h,p));const M=Yf({z:l,x:h,y:p},I);return new ms([(y+M.x/M.scale)*o,o*(M.y/M.scale),x],[(y+M.x2/M.scale)*o,o*(M.y2/M.scale),C])},s.tileCornersToBounds=Nx,s.tileTransform=Yf,s.transformMat3=function(a,o,l){var h=o[0],p=o[1],y=o[2];return a[0]=h*l[0]+p*l[3]+y*l[6],a[1]=h*l[1]+p*l[4]+y*l[7],a[2]=h*l[2]+p*l[5]+y*l[8],a},s.transformMat4=Zo,s.transformMat4$1=Vf,s.transformQuat=jR,s.transitionTileAABBinECEF=YR,s.translate=uv,s.transpose=function(a,o){if(a===o){var l=o[1],h=o[2],p=o[5];a[1]=o[3],a[2]=o[6],a[3]=l,a[5]=o[7],a[6]=h,a[7]=p}else a[0]=o[0],a[1]=o[3],a[2]=o[6],a[3]=o[1],a[4]=o[4],a[5]=o[7],a[6]=o[2],a[7]=o[5],a[8]=o[8];return a},s.triggerPluginCompletionEvent=f,s.uniqueId=vt,s.updateGlobeVertexNormal=function(a,o,l,h,p){const y=5*o+2;a.float32[y+0]=l,a.float32[y+1]=h,a.float32[y+2]=p},s.validateCustomStyleLayer=function(a){const o=[],l=a.id;return l===void 0&&o.push({message:`layers.${l}: missing required property "id"`}),a.render===void 0&&o.push({message:`layers.${l}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&o.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),o},s.validateFilter=a=>qs(zf(a)),s.validateFog=a=>qs(kx(a)),s.validateLayer=a=>qs(Sx(a)),s.validateLight=a=>qs(Px(a)),s.validateSource=a=>qs(Ex(a)),s.validateStyle=Mx,s.validateTerrain=a=>qs(ev(a)),s.values=We,s.vectorTile=Xx,s.version=_,s.warnOnce=st,s.window=m,s.wrap=Te}),c(["./shared"],function(s){function m(Re){if(typeof Re=="number"||typeof Re=="boolean"||typeof Re=="string"||Re==null)return JSON.stringify(Re);if(Array.isArray(Re)){let ye="[";for(const Ie of Re)ye+=`${m(Ie)},`;return`${ye}]`}let he="{";for(const ye of Object.keys(Re).sort())he+=`${ye}:${m(Re[ye])},`;return`${he}}`}function _(Re){let he="";for(const ye of s.refProperties)he+=`/${m(Re[ye])}`;return he}class w{constructor(he){this.keyCache={},he&&this.replace(he)}replace(he){this._layerConfigs={},this._layers={},this.update(he,[])}update(he,ye){for(const ze of he)this._layerConfigs[ze.id]=ze,(this._layers[ze.id]=s.createStyleLayer(ze)).compileFilter(),this.keyCache[ze.id]&&delete this.keyCache[ze.id];for(const ze of ye)delete this.keyCache[ze],delete this._layerConfigs[ze],delete this._layers[ze];this.familiesBySource={};const Ie=function(ze,He){const Xe={};for(let Ge=0;Ge<ze.length;Ge++){const tt=He&&He[ze[Ge].id]||_(ze[Ge]);He&&(He[ze[Ge].id]=tt);let Mt=Xe[tt];Mt||(Mt=Xe[tt]=[]),Mt.push(ze[Ge])}const Qe=[];for(const Ge in Xe)Qe.push(Xe[Ge]);return Qe}(s.values(this._layerConfigs),this.keyCache);for(const ze of Ie){const He=ze.map(qt=>this._layers[qt.id]),Xe=He[0];if(Xe.visibility==="none")continue;const Qe=Xe.source||"";let Ge=this.familiesBySource[Qe];Ge||(Ge=this.familiesBySource[Qe]={});const tt=Xe.sourceLayer||"_geojsonTileLayer";let Mt=Ge[tt];Mt||(Mt=Ge[tt]=[]),Mt.push(He)}}}class E{loadTile(he,ye){const{uid:Ie,encoding:ze,rawImageData:He,padding:Xe,buildQuadTree:Qe}=he,Ge=s.window.ImageBitmap&&He instanceof s.window.ImageBitmap?this.getImageData(He,Xe):He;ye(null,new s.DEMData(Ie,Ge,ze,Xe<1,Qe))}getImageData(he,ye){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(he.width,he.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=he.width,this.offscreenCanvas.height=he.height,this.offscreenCanvasContext.drawImage(he,0,0,he.width,he.height);const Ie=this.offscreenCanvasContext.getImageData(-ye,-ye,he.width+2*ye,he.height+2*ye);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Ie}}function k(Re,he){if(Re.length!==0){O(Re[0],he);for(var ye=1;ye<Re.length;ye++)O(Re[ye],!he)}}function O(Re,he){for(var ye=0,Ie=0,ze=0,He=Re.length,Xe=He-1;ze<He;Xe=ze++){var Qe=(Re[ze][0]-Re[Xe][0])*(Re[Xe][1]+Re[ze][1]),Ge=ye+Qe;Ie+=Math.abs(ye)>=Math.abs(Qe)?ye-Ge+Qe:Qe-Ge+ye,ye=Ge}ye+Ie>=0!=!!he&&Re.reverse()}var R=s.getDefaultExportFromCjs(function Re(he,ye){var Ie,ze=he&&he.type;if(ze==="FeatureCollection")for(Ie=0;Ie<he.features.length;Ie++)Re(he.features[Ie],ye);else if(ze==="GeometryCollection")for(Ie=0;Ie<he.geometries.length;Ie++)Re(he.geometries[Ie],ye);else if(ze==="Feature")Re(he.geometry,ye);else if(ze==="Polygon")k(he.coordinates,ye);else if(ze==="MultiPolygon")for(Ie=0;Ie<he.coordinates.length;Ie++)k(he.coordinates[Ie],ye);return he});const L=s.VectorTileFeature.prototype.toGeoJSON;var U={exports:{}},F=s.pointGeometry,z=s.vectorTile.VectorTileFeature,B=Z;function Z(Re,he){this.options=he||{},this.features=Re,this.length=Re.length}function ee(Re,he){this.id=typeof Re.id=="number"?Re.id:void 0,this.type=Re.type,this.rawGeometry=Re.type===1?[Re.geometry]:Re.geometry,this.properties=Re.tags,this.extent=he||4096}Z.prototype.feature=function(Re){return new ee(this.features[Re],this.options.extent)},ee.prototype.loadGeometry=function(){var Re=this.rawGeometry;this.geometry=[];for(var he=0;he<Re.length;he++){for(var ye=Re[he],Ie=[],ze=0;ze<ye.length;ze++)Ie.push(new F(ye[ze][0],ye[ze][1]));this.geometry.push(Ie)}return this.geometry},ee.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Re=this.geometry,he=1/0,ye=-1/0,Ie=1/0,ze=-1/0,He=0;He<Re.length;He++)for(var Xe=Re[He],Qe=0;Qe<Xe.length;Qe++){var Ge=Xe[Qe];he=Math.min(he,Ge.x),ye=Math.max(ye,Ge.x),Ie=Math.min(Ie,Ge.y),ze=Math.max(ze,Ge.y)}return[he,Ie,ye,ze]},ee.prototype.toGeoJSON=z.prototype.toGeoJSON;var X=s.pbf,W=B;function ne(Re){var he=new X;return function(ye,Ie){for(var ze in ye.layers)Ie.writeMessage(3,J,ye.layers[ze])}(Re,he),he.finish()}function J(Re,he){var ye;he.writeVarintField(15,Re.version||1),he.writeStringField(1,Re.name||""),he.writeVarintField(5,Re.extent||4096);var Ie={keys:[],values:[],keycache:{},valuecache:{}};for(ye=0;ye<Re.length;ye++)Ie.feature=Re.feature(ye),he.writeMessage(2,re,Ie);var ze=Ie.keys;for(ye=0;ye<ze.length;ye++)he.writeStringField(3,ze[ye]);var He=Ie.values;for(ye=0;ye<He.length;ye++)he.writeMessage(4,oe,He[ye])}function re(Re,he){var ye=Re.feature;ye.id!==void 0&&he.writeVarintField(1,ye.id),he.writeMessage(2,se,Re),he.writeVarintField(3,ye.type),he.writeMessage(4,ae,ye)}function se(Re,he){var ye=Re.feature,Ie=Re.keys,ze=Re.values,He=Re.keycache,Xe=Re.valuecache;for(var Qe in ye.properties){var Ge=ye.properties[Qe],tt=He[Qe];if(Ge!==null){tt===void 0&&(Ie.push(Qe),He[Qe]=tt=Ie.length-1),he.writeVarint(tt);var Mt=typeof Ge;Mt!=="string"&&Mt!=="boolean"&&Mt!=="number"&&(Ge=JSON.stringify(Ge));var qt=Mt+":"+Ge,Ft=Xe[qt];Ft===void 0&&(ze.push(Ge),Xe[qt]=Ft=ze.length-1),he.writeVarint(Ft)}}}function de(Re,he){return(he<<3)+(7&Re)}function pe(Re){return Re<<1^Re>>31}function ae(Re,he){for(var ye=Re.loadGeometry(),Ie=Re.type,ze=0,He=0,Xe=ye.length,Qe=0;Qe<Xe;Qe++){var Ge=ye[Qe],tt=1;Ie===1&&(tt=Ge.length),he.writeVarint(de(1,tt));for(var Mt=Ie===3?Ge.length-1:Ge.length,qt=0;qt<Mt;qt++){qt===1&&Ie!==1&&he.writeVarint(de(2,Mt-1));var Ft=Ge[qt].x-ze,Un=Ge[qt].y-He;he.writeVarint(pe(Ft)),he.writeVarint(pe(Un)),ze+=Ft,He+=Un}Ie===3&&he.writeVarint(de(7,1))}}function oe(Re,he){var ye=typeof Re;ye==="string"?he.writeStringField(1,Re):ye==="boolean"?he.writeBooleanField(7,Re):ye==="number"&&(Re%1!=0?he.writeDoubleField(3,Re):Re<0?he.writeSVarintField(6,Re):he.writeVarintField(5,Re))}U.exports=ne,U.exports.fromVectorTileJs=ne,U.exports.fromGeojsonVt=function(Re,he){he=he||{};var ye={};for(var Ie in Re)ye[Ie]=new W(Re[Ie].features,he),ye[Ie].name=Ie,ye[Ie].version=he.version,ye[Ie].extent=he.extent;return ne({layers:ye})},U.exports.GeoJSONWrapper=W;var me=s.getDefaultExportFromCjs(U.exports);const xe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Re=>Re},ce=Math.fround||(ge=new Float32Array(1),Re=>(ge[0]=+Re,ge[0]));var ge;const Te=3,Ue=5,We=6;class Ye{constructor(he){this.options=Object.assign(Object.create(xe),he),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(he){const{log:ye,minZoom:Ie,maxZoom:ze}=this.options;ye&&console.time("total time");const He=`prepare ${he.length} points`;ye&&console.time(He),this.points=he;const Xe=[];for(let Ge=0;Ge<he.length;Ge++){const tt=he[Ge];if(!tt.geometry)continue;const[Mt,qt]=tt.geometry.coordinates,Ft=ce(jt(Mt)),Un=ce(Rt(qt));Xe.push(Ft,Un,1/0,Ge,-1,1),this.options.reduce&&Xe.push(0)}let Qe=this.trees[ze+1]=this._createTree(Xe);ye&&console.timeEnd(He);for(let Ge=ze;Ge>=Ie;Ge--){const tt=+Date.now();Qe=this.trees[Ge]=this._createTree(this._cluster(Qe,Ge)),ye&&console.log("z%d: %d clusters in %dms",Ge,Qe.numItems,+Date.now()-tt)}return ye&&console.timeEnd("total time"),this}getClusters(he,ye){let Ie=((he[0]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,he[1]));let He=he[2]===180?180:((he[2]+180)%360+360)%360-180;const Xe=Math.max(-90,Math.min(90,he[3]));if(he[2]-he[0]>=360)Ie=-180,He=180;else if(Ie>He){const qt=this.getClusters([Ie,ze,180,Xe],ye),Ft=this.getClusters([-180,ze,He,Xe],ye);return qt.concat(Ft)}const Qe=this.trees[this._limitZoom(ye)],Ge=Qe.range(jt(Ie),Rt(Xe),jt(He),Rt(ze)),tt=Qe.data,Mt=[];for(const qt of Ge){const Ft=this.stride*qt;Mt.push(tt[Ft+Ue]>1?gt(tt,Ft,this.clusterProps):this.points[tt[Ft+Te]])}return Mt}getChildren(he){const ye=this._getOriginId(he),Ie=this._getOriginZoom(he),ze="No cluster with the specified id.",He=this.trees[Ie];if(!He)throw new Error(ze);const Xe=He.data;if(ye*this.stride>=Xe.length)throw new Error(ze);const Qe=this.options.radius/(this.options.extent*Math.pow(2,Ie-1)),Ge=He.within(Xe[ye*this.stride],Xe[ye*this.stride+1],Qe),tt=[];for(const Mt of Ge){const qt=Mt*this.stride;Xe[qt+4]===he&&tt.push(Xe[qt+Ue]>1?gt(Xe,qt,this.clusterProps):this.points[Xe[qt+Te]])}if(tt.length===0)throw new Error(ze);return tt}getLeaves(he,ye,Ie){const ze=[];return this._appendLeaves(ze,he,ye=ye||10,Ie=Ie||0,0),ze}getTile(he,ye,Ie){const ze=this.trees[this._limitZoom(he)],He=Math.pow(2,he),{extent:Xe,radius:Qe}=this.options,Ge=Qe/Xe,tt=(Ie-Ge)/He,Mt=(Ie+1+Ge)/He,qt={features:[]};return this._addTileFeatures(ze.range((ye-Ge)/He,tt,(ye+1+Ge)/He,Mt),ze.data,ye,Ie,He,qt),ye===0&&this._addTileFeatures(ze.range(1-Ge/He,tt,1,Mt),ze.data,He,Ie,He,qt),ye===He-1&&this._addTileFeatures(ze.range(0,tt,Ge/He,Mt),ze.data,-1,Ie,He,qt),qt.features.length?qt:null}getClusterExpansionZoom(he){let ye=this._getOriginZoom(he)-1;for(;ye<=this.options.maxZoom;){const Ie=this.getChildren(he);if(ye++,Ie.length!==1)break;he=Ie[0].properties.cluster_id}return ye}_appendLeaves(he,ye,Ie,ze,He){const Xe=this.getChildren(ye);for(const Qe of Xe){const Ge=Qe.properties;if(Ge&&Ge.cluster?He+Ge.point_count<=ze?He+=Ge.point_count:He=this._appendLeaves(he,Ge.cluster_id,Ie,ze,He):He<ze?He++:he.push(Qe),he.length===Ie)break}return He}_createTree(he){const ye=new s.KDBush(he.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ie=0;Ie<he.length;Ie+=this.stride)ye.add(he[Ie],he[Ie+1]);return ye.finish(),ye.data=he,ye}_addTileFeatures(he,ye,Ie,ze,He,Xe){for(const Qe of he){const Ge=Qe*this.stride,tt=ye[Ge+Ue]>1;let Mt,qt,Ft;if(tt)Mt=vt(ye,Ge,this.clusterProps),qt=ye[Ge],Ft=ye[Ge+1];else{const $n=this.points[ye[Ge+Te]];Mt=$n.properties;const[Dn,Wn]=$n.geometry.coordinates;qt=jt(Dn),Ft=Rt(Wn)}const Un={type:1,geometry:[[Math.round(this.options.extent*(qt*He-Ie)),Math.round(this.options.extent*(Ft*He-ze))]],tags:Mt};let Hn;Hn=tt||this.options.generateId?ye[Ge+Te]:this.points[ye[Ge+Te]].id,Hn!==void 0&&(Un.id=Hn),Xe.features.push(Un)}}_limitZoom(he){return Math.max(this.options.minZoom,Math.min(Math.floor(+he),this.options.maxZoom+1))}_cluster(he,ye){const{radius:Ie,extent:ze,reduce:He,minPoints:Xe}=this.options,Qe=Ie/(ze*Math.pow(2,ye)),Ge=he.data,tt=[],Mt=this.stride;for(let qt=0;qt<Ge.length;qt+=Mt){if(Ge[qt+2]<=ye)continue;Ge[qt+2]=ye;const Ft=Ge[qt],Un=Ge[qt+1],Hn=he.within(Ge[qt],Ge[qt+1],Qe),$n=Ge[qt+Ue];let Dn=$n;for(const Wn of Hn){const Rr=Wn*Mt;Ge[Rr+2]>ye&&(Dn+=Ge[Rr+Ue])}if(Dn>$n&&Dn>=Xe){let Wn,Rr=Ft*$n,Er=Un*$n,ro=-1;const ot=((qt/Mt|0)<<5)+(ye+1)+this.points.length;for(const dt of Hn){const tn=dt*Mt;if(Ge[tn+2]<=ye)continue;Ge[tn+2]=ye;const Tn=Ge[tn+Ue];Rr+=Ge[tn]*Tn,Er+=Ge[tn+1]*Tn,Ge[tn+4]=ot,He&&(Wn||(Wn=this._map(Ge,qt,!0),ro=this.clusterProps.length,this.clusterProps.push(Wn)),He(Wn,this._map(Ge,tn)))}Ge[qt+4]=ot,tt.push(Rr/Dn,Er/Dn,1/0,ot,-1,Dn),He&&tt.push(ro)}else{for(let Wn=0;Wn<Mt;Wn++)tt.push(Ge[qt+Wn]);if(Dn>1)for(const Wn of Hn){const Rr=Wn*Mt;if(!(Ge[Rr+2]<=ye)){Ge[Rr+2]=ye;for(let Er=0;Er<Mt;Er++)tt.push(Ge[Rr+Er])}}}}return tt}_getOriginId(he){return he-this.points.length>>5}_getOriginZoom(he){return(he-this.points.length)%32}_map(he,ye,Ie){if(he[ye+Ue]>1){const Xe=this.clusterProps[he[ye+We]];return Ie?Object.assign({},Xe):Xe}const ze=this.points[he[ye+Te]].properties,He=this.options.map(ze);return Ie&&He===ze?Object.assign({},He):He}}function gt(Re,he,ye){return{type:"Feature",id:Re[he+Te],properties:vt(Re,he,ye),geometry:{type:"Point",coordinates:[(Ie=Re[he],360*(Ie-.5)),pn(Re[he+1])]}};var Ie}function vt(Re,he,ye){const Ie=Re[he+Ue],ze=Ie>=1e4?`${Math.round(Ie/1e3)}k`:Ie>=1e3?Math.round(Ie/100)/10+"k":Ie,He=Re[he+We],Xe=He===-1?{}:Object.assign({},ye[He]);return Object.assign(Xe,{cluster:!0,cluster_id:Re[he+Te],point_count:Ie,point_count_abbreviated:ze})}function jt(Re){return Re/360+.5}function Rt(Re){const he=Math.sin(Re*Math.PI/180),ye=.5-.25*Math.log((1+he)/(1-he))/Math.PI;return ye<0?0:ye>1?1:ye}function pn(Re){const he=(180-360*Re)*Math.PI/180;return 360*Math.atan(Math.exp(he))/Math.PI-90}function Ut(Re,he,ye,Ie){for(var ze,He=Ie,Xe=ye-he>>1,Qe=ye-he,Ge=Re[he],tt=Re[he+1],Mt=Re[ye],qt=Re[ye+1],Ft=he+3;Ft<ye;Ft+=3){var Un=rn(Re[Ft],Re[Ft+1],Ge,tt,Mt,qt);if(Un>He)ze=Ft,He=Un;else if(Un===He){var Hn=Math.abs(Ft-Xe);Hn<Qe&&(ze=Ft,Qe=Hn)}}He>Ie&&(ze-he>3&&Ut(Re,he,ze,Ie),Re[ze+2]=He,ye-ze>3&&Ut(Re,ze,ye,Ie))}function rn(Re,he,ye,Ie,ze,He){var Xe=ze-ye,Qe=He-Ie;if(Xe!==0||Qe!==0){var Ge=((Re-ye)*Xe+(he-Ie)*Qe)/(Xe*Xe+Qe*Qe);Ge>1?(ye=ze,Ie=He):Ge>0&&(ye+=Xe*Ge,Ie+=Qe*Ge)}return(Xe=Re-ye)*Xe+(Qe=he-Ie)*Qe}function et(Re,he,ye,Ie){var ze={id:Re===void 0?null:Re,type:he,geometry:ye,tags:Ie,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(He){var Xe=He.geometry,Qe=He.type;if(Qe==="Point"||Qe==="MultiPoint"||Qe==="LineString")Pt(He,Xe);else if(Qe==="Polygon"||Qe==="MultiLineString")for(var Ge=0;Ge<Xe.length;Ge++)Pt(He,Xe[Ge]);else if(Qe==="MultiPolygon")for(Ge=0;Ge<Xe.length;Ge++)for(var tt=0;tt<Xe[Ge].length;tt++)Pt(He,Xe[Ge][tt])}(ze),ze}function Pt(Re,he){for(var ye=0;ye<he.length;ye+=3)Re.minX=Math.min(Re.minX,he[ye]),Re.minY=Math.min(Re.minY,he[ye+1]),Re.maxX=Math.max(Re.maxX,he[ye]),Re.maxY=Math.max(Re.maxY,he[ye+1])}function Ot(Re,he,ye,Ie){if(he.geometry){var ze=he.geometry.coordinates,He=he.geometry.type,Xe=Math.pow(ye.tolerance/((1<<ye.maxZoom)*ye.extent),2),Qe=[],Ge=he.id;if(ye.promoteId?Ge=he.properties[ye.promoteId]:ye.generateId&&(Ge=Ie||0),He==="Point")Yt(ze,Qe);else if(He==="MultiPoint")for(var tt=0;tt<ze.length;tt++)Yt(ze[tt],Qe);else if(He==="LineString")st(ze,Qe,Xe,!1);else if(He==="MultiLineString"){if(ye.lineMetrics){for(tt=0;tt<ze.length;tt++)st(ze[tt],Qe=[],Xe,!1),Re.push(et(Ge,"LineString",Qe,he.properties));return}Ct(ze,Qe,Xe,!1)}else if(He==="Polygon")Ct(ze,Qe,Xe,!0);else{if(He!=="MultiPolygon"){if(He==="GeometryCollection"){for(tt=0;tt<he.geometry.geometries.length;tt++)Ot(Re,{id:Ge,geometry:he.geometry.geometries[tt],properties:he.properties},ye,Ie);return}throw new Error("Input data is not a valid GeoJSON object.")}for(tt=0;tt<ze.length;tt++){var Mt=[];Ct(ze[tt],Mt,Xe,!0),Qe.push(Mt)}}Re.push(et(Ge,He,Qe,he.properties))}}function Yt(Re,he){he.push(ht(Re[0])),he.push(en(Re[1])),he.push(0)}function st(Re,he,ye,Ie){for(var ze,He,Xe=0,Qe=0;Qe<Re.length;Qe++){var Ge=ht(Re[Qe][0]),tt=en(Re[Qe][1]);he.push(Ge),he.push(tt),he.push(0),Qe>0&&(Xe+=Ie?(ze*tt-Ge*He)/2:Math.sqrt(Math.pow(Ge-ze,2)+Math.pow(tt-He,2))),ze=Ge,He=tt}var Mt=he.length-3;he[2]=1,Ut(he,0,Mt,ye),he[Mt+2]=1,he.size=Math.abs(Xe),he.start=0,he.end=he.size}function Ct(Re,he,ye,Ie){for(var ze=0;ze<Re.length;ze++){var He=[];st(Re[ze],He,ye,Ie),he.push(He)}}function ht(Re){return Re/360+.5}function en(Re){var he=Math.sin(Re*Math.PI/180),ye=.5-.25*Math.log((1+he)/(1-he))/Math.PI;return ye<0?0:ye>1?1:ye}function Kt(Re,he,ye,Ie,ze,He,Xe,Qe){if(Ie/=he,He>=(ye/=he)&&Xe<Ie)return Re;if(Xe<ye||He>=Ie)return null;for(var Ge=[],tt=0;tt<Re.length;tt++){var Mt=Re[tt],qt=Mt.geometry,Ft=Mt.type,Un=ze===0?Mt.minX:Mt.minY,Hn=ze===0?Mt.maxX:Mt.maxY;if(Un>=ye&&Hn<Ie)Ge.push(Mt);else if(!(Hn<ye||Un>=Ie)){var $n=[];if(Ft==="Point"||Ft==="MultiPoint")vn(qt,$n,ye,Ie,ze);else if(Ft==="LineString")wn(qt,$n,ye,Ie,ze,!1,Qe.lineMetrics);else if(Ft==="MultiLineString")ft(qt,$n,ye,Ie,ze,!1);else if(Ft==="Polygon")ft(qt,$n,ye,Ie,ze,!0);else if(Ft==="MultiPolygon")for(var Dn=0;Dn<qt.length;Dn++){var Wn=[];ft(qt[Dn],Wn,ye,Ie,ze,!0),Wn.length&&$n.push(Wn)}if($n.length){if(Qe.lineMetrics&&Ft==="LineString"){for(Dn=0;Dn<$n.length;Dn++)Ge.push(et(Mt.id,Ft,$n[Dn],Mt.tags));continue}Ft!=="LineString"&&Ft!=="MultiLineString"||($n.length===1?(Ft="LineString",$n=$n[0]):Ft="MultiLineString"),Ft!=="Point"&&Ft!=="MultiPoint"||(Ft=$n.length===3?"Point":"MultiPoint"),Ge.push(et(Mt.id,Ft,$n,Mt.tags))}}}return Ge.length?Ge:null}function vn(Re,he,ye,Ie,ze){for(var He=0;He<Re.length;He+=3){var Xe=Re[He+ze];Xe>=ye&&Xe<=Ie&&(he.push(Re[He]),he.push(Re[He+1]),he.push(Re[He+2]))}}function wn(Re,he,ye,Ie,ze,He,Xe){for(var Qe,Ge,tt=Ve(Re),Mt=ze===0?Qt:yn,qt=Re.start,Ft=0;Ft<Re.length-3;Ft+=3){var Un=Re[Ft],Hn=Re[Ft+1],$n=Re[Ft+2],Dn=Re[Ft+3],Wn=Re[Ft+4],Rr=ze===0?Un:Hn,Er=ze===0?Dn:Wn,ro=!1;Xe&&(Qe=Math.sqrt(Math.pow(Un-Dn,2)+Math.pow(Hn-Wn,2))),Rr<ye?Er>ye&&(Ge=Mt(tt,Un,Hn,Dn,Wn,ye),Xe&&(tt.start=qt+Qe*Ge)):Rr>Ie?Er<Ie&&(Ge=Mt(tt,Un,Hn,Dn,Wn,Ie),Xe&&(tt.start=qt+Qe*Ge)):Dt(tt,Un,Hn,$n),Er<ye&&Rr>=ye&&(Ge=Mt(tt,Un,Hn,Dn,Wn,ye),ro=!0),Er>Ie&&Rr<=Ie&&(Ge=Mt(tt,Un,Hn,Dn,Wn,Ie),ro=!0),!He&&ro&&(Xe&&(tt.end=qt+Qe*Ge),he.push(tt),tt=Ve(Re)),Xe&&(qt+=Qe)}var ot=Re.length-3;Un=Re[ot],Hn=Re[ot+1],$n=Re[ot+2],(Rr=ze===0?Un:Hn)>=ye&&Rr<=Ie&&Dt(tt,Un,Hn,$n),ot=tt.length-3,He&&ot>=3&&(tt[ot]!==tt[0]||tt[ot+1]!==tt[1])&&Dt(tt,tt[0],tt[1],tt[2]),tt.length&&he.push(tt)}function Ve(Re){var he=[];return he.size=Re.size,he.start=Re.start,he.end=Re.end,he}function ft(Re,he,ye,Ie,ze,He){for(var Xe=0;Xe<Re.length;Xe++)wn(Re[Xe],he,ye,Ie,ze,He,!1)}function Dt(Re,he,ye,Ie){Re.push(he),Re.push(ye),Re.push(Ie)}function Qt(Re,he,ye,Ie,ze,He){var Xe=(He-he)/(Ie-he);return Re.push(He),Re.push(ye+(ze-ye)*Xe),Re.push(1),Xe}function yn(Re,he,ye,Ie,ze,He){var Xe=(He-ye)/(ze-ye);return Re.push(he+(Ie-he)*Xe),Re.push(He),Re.push(1),Xe}function on(Re,he){for(var ye=[],Ie=0;Ie<Re.length;Ie++){var ze,He=Re[Ie],Xe=He.type;if(Xe==="Point"||Xe==="MultiPoint"||Xe==="LineString")ze=un(He.geometry,he);else if(Xe==="MultiLineString"||Xe==="Polygon"){ze=[];for(var Qe=0;Qe<He.geometry.length;Qe++)ze.push(un(He.geometry[Qe],he))}else if(Xe==="MultiPolygon")for(ze=[],Qe=0;Qe<He.geometry.length;Qe++){for(var Ge=[],tt=0;tt<He.geometry[Qe].length;tt++)Ge.push(un(He.geometry[Qe][tt],he));ze.push(Ge)}ye.push(et(He.id,Xe,ze,He.tags))}return ye}function un(Re,he){var ye=[];ye.size=Re.size,Re.start!==void 0&&(ye.start=Re.start,ye.end=Re.end);for(var Ie=0;Ie<Re.length;Ie+=3)ye.push(Re[Ie]+he,Re[Ie+1],Re[Ie+2]);return ye}function dn(Re,he){if(Re.transformed)return Re;var ye,Ie,ze,He=1<<Re.z,Xe=Re.x,Qe=Re.y;for(ye=0;ye<Re.features.length;ye++){var Ge=Re.features[ye],tt=Ge.geometry,Mt=Ge.type;if(Ge.geometry=[],Mt===1)for(Ie=0;Ie<tt.length;Ie+=2)Ge.geometry.push(sn(tt[Ie],tt[Ie+1],he,He,Xe,Qe));else for(Ie=0;Ie<tt.length;Ie++){var qt=[];for(ze=0;ze<tt[Ie].length;ze+=2)qt.push(sn(tt[Ie][ze],tt[Ie][ze+1],he,He,Xe,Qe));Ge.geometry.push(qt)}}return Re.transformed=!0,Re}function sn(Re,he,ye,Ie,ze,He){return[Math.round(ye*(Re*Ie-ze)),Math.round(ye*(he*Ie-He))]}function kn(Re,he,ye,Ie,ze){for(var He=he===ze.maxZoom?0:ze.tolerance/((1<<he)*ze.extent),Xe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ye,y:Ie,z:he,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Qe=0;Qe<Re.length;Qe++){Xe.numFeatures++,Vn(Xe,Re[Qe],He,ze);var Ge=Re[Qe].minX,tt=Re[Qe].minY,Mt=Re[Qe].maxX,qt=Re[Qe].maxY;Ge<Xe.minX&&(Xe.minX=Ge),tt<Xe.minY&&(Xe.minY=tt),Mt>Xe.maxX&&(Xe.maxX=Mt),qt>Xe.maxY&&(Xe.maxY=qt)}return Xe}function Vn(Re,he,ye,Ie){var ze=he.geometry,He=he.type,Xe=[];if(He==="Point"||He==="MultiPoint")for(var Qe=0;Qe<ze.length;Qe+=3)Xe.push(ze[Qe]),Xe.push(ze[Qe+1]),Re.numPoints++,Re.numSimplified++;else if(He==="LineString")ar(Xe,ze,Re,ye,!1,!1);else if(He==="MultiLineString"||He==="Polygon")for(Qe=0;Qe<ze.length;Qe++)ar(Xe,ze[Qe],Re,ye,He==="Polygon",Qe===0);else if(He==="MultiPolygon")for(var Ge=0;Ge<ze.length;Ge++){var tt=ze[Ge];for(Qe=0;Qe<tt.length;Qe++)ar(Xe,tt[Qe],Re,ye,!0,Qe===0)}if(Xe.length){var Mt=he.tags||null;if(He==="LineString"&&Ie.lineMetrics){for(var qt in Mt={},he.tags)Mt[qt]=he.tags[qt];Mt.mapbox_clip_start=ze.start/ze.size,Mt.mapbox_clip_end=ze.end/ze.size}var Ft={geometry:Xe,type:He==="Polygon"||He==="MultiPolygon"?3:He==="LineString"||He==="MultiLineString"?2:1,tags:Mt};he.id!==null&&(Ft.id=he.id),Re.features.push(Ft)}}function ar(Re,he,ye,Ie,ze,He){var Xe=Ie*Ie;if(Ie>0&&he.size<(ze?Xe:Ie))ye.numPoints+=he.length/3;else{for(var Qe=[],Ge=0;Ge<he.length;Ge+=3)(Ie===0||he[Ge+2]>Xe)&&(ye.numSimplified++,Qe.push(he[Ge]),Qe.push(he[Ge+1])),ye.numPoints++;ze&&function(tt,Mt){for(var qt=0,Ft=0,Un=tt.length,Hn=Un-2;Ft<Un;Hn=Ft,Ft+=2)qt+=(tt[Ft]-tt[Hn])*(tt[Ft+1]+tt[Hn+1]);if(qt>0===Mt)for(Ft=0,Un=tt.length;Ft<Un/2;Ft+=2){var $n=tt[Ft],Dn=tt[Ft+1];tt[Ft]=tt[Un-2-Ft],tt[Ft+1]=tt[Un-1-Ft],tt[Un-2-Ft]=$n,tt[Un-1-Ft]=Dn}}(Qe,He),Re.push(Qe)}}function vr(Re,he){var ye=(he=this.options=function(ze,He){for(var Xe in He)ze[Xe]=He[Xe];return ze}(Object.create(this.options),he)).debug;if(ye&&console.time("preprocess data"),he.maxZoom<0||he.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(he.promoteId&&he.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ie=function(ze,He){var Xe=[];if(ze.type==="FeatureCollection")for(var Qe=0;Qe<ze.features.length;Qe++)Ot(Xe,ze.features[Qe],He,Qe);else Ot(Xe,ze.type==="Feature"?ze:{geometry:ze},He);return Xe}(Re,he);this.tiles={},this.tileCoords=[],ye&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",he.indexMaxZoom,he.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ie=function(ze,He){var Xe=He.buffer/He.extent,Qe=ze,Ge=Kt(ze,1,-1-Xe,Xe,0,-1,2,He),tt=Kt(ze,1,1-Xe,2+Xe,0,-1,2,He);return(Ge||tt)&&(Qe=Kt(ze,1,-Xe,1+Xe,0,-1,2,He)||[],Ge&&(Qe=on(Ge,1).concat(Qe)),tt&&(Qe=Qe.concat(on(tt,-1)))),Qe}(Ie,he),Ie.length&&this.splitTile(Ie,0,0,0),ye&&(Ie.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ar(Re,he,ye){return 32*((1<<Re)*ye+he)+Re}function nr(Re,he){const ye=Re.tileID.canonical;if(!this._geoJSONIndex)return he(null,null);const Ie=this._geoJSONIndex.getTile(ye.z,ye.x,ye.y);if(!Ie)return he(null,null);const ze=new class{constructor(Xe){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=Xe.length,this._features=Xe}feature(Xe){return new class{constructor(Qe){this._feature=Qe,this.extent=s.EXTENT,this.type=Qe.type,this.properties=Qe.tags,"id"in Qe&&!isNaN(Qe.id)&&(this.id=parseInt(Qe.id,10))}loadGeometry(){if(this._feature.type===1){const Qe=[];for(const Ge of this._feature.geometry)Qe.push([new s.Point(Ge[0],Ge[1])]);return Qe}{const Qe=[];for(const Ge of this._feature.geometry){const tt=[];for(const Mt of Ge)tt.push(new s.Point(Mt[0],Mt[1]));Qe.push(tt)}return Qe}}toGeoJSON(Qe,Ge,tt){return L.call(this,Qe,Ge,tt)}}(this._features[Xe])}}(Ie.features);let He=me(ze);He.byteOffset===0&&He.byteLength===He.buffer.byteLength||(He=new Uint8Array(He)),he(null,{vectorTile:ze,rawData:He.buffer})}vr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},vr.prototype.splitTile=function(Re,he,ye,Ie,ze,He,Xe){for(var Qe=[Re,he,ye,Ie],Ge=this.options,tt=Ge.debug;Qe.length;){Ie=Qe.pop(),ye=Qe.pop(),he=Qe.pop(),Re=Qe.pop();var Mt=1<<he,qt=Ar(he,ye,Ie),Ft=this.tiles[qt];if(!Ft&&(tt>1&&console.time("creation"),Ft=this.tiles[qt]=kn(Re,he,ye,Ie,Ge),this.tileCoords.push({z:he,x:ye,y:Ie}),tt)){tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",he,ye,Ie,Ft.numFeatures,Ft.numPoints,Ft.numSimplified),console.timeEnd("creation"));var Un="z"+he;this.stats[Un]=(this.stats[Un]||0)+1,this.total++}if(Ft.source=Re,ze){if(he===Ge.maxZoom||he===ze)continue;var Hn=1<<ze-he;if(ye!==Math.floor(He/Hn)||Ie!==Math.floor(Xe/Hn))continue}else if(he===Ge.indexMaxZoom||Ft.numPoints<=Ge.indexMaxPoints)continue;if(Ft.source=null,Re.length!==0){tt>1&&console.time("clipping");var $n,Dn,Wn,Rr,Er,ro,ot=.5*Ge.buffer/Ge.extent,dt=.5-ot,tn=.5+ot,Tn=1+ot;$n=Dn=Wn=Rr=null,Er=Kt(Re,Mt,ye-ot,ye+tn,0,Ft.minX,Ft.maxX,Ge),ro=Kt(Re,Mt,ye+dt,ye+Tn,0,Ft.minX,Ft.maxX,Ge),Re=null,Er&&($n=Kt(Er,Mt,Ie-ot,Ie+tn,1,Ft.minY,Ft.maxY,Ge),Dn=Kt(Er,Mt,Ie+dt,Ie+Tn,1,Ft.minY,Ft.maxY,Ge),Er=null),ro&&(Wn=Kt(ro,Mt,Ie-ot,Ie+tn,1,Ft.minY,Ft.maxY,Ge),Rr=Kt(ro,Mt,Ie+dt,Ie+Tn,1,Ft.minY,Ft.maxY,Ge),ro=null),tt>1&&console.timeEnd("clipping"),Qe.push($n||[],he+1,2*ye,2*Ie),Qe.push(Dn||[],he+1,2*ye,2*Ie+1),Qe.push(Wn||[],he+1,2*ye+1,2*Ie),Qe.push(Rr||[],he+1,2*ye+1,2*Ie+1)}}},vr.prototype.getTile=function(Re,he,ye){var Ie=this.options,ze=Ie.extent,He=Ie.debug;if(Re<0||Re>24)return null;var Xe=1<<Re,Qe=Ar(Re,he=(he%Xe+Xe)%Xe,ye);if(this.tiles[Qe])return dn(this.tiles[Qe],ze);He>1&&console.log("drilling down to z%d-%d-%d",Re,he,ye);for(var Ge,tt=Re,Mt=he,qt=ye;!Ge&&tt>0;)tt--,Mt=Math.floor(Mt/2),qt=Math.floor(qt/2),Ge=this.tiles[Ar(tt,Mt,qt)];return Ge&&Ge.source?(He>1&&console.log("found parent tile z%d-%d-%d",tt,Mt,qt),He>1&&console.time("drilling down"),this.splitTile(Ge.source,tt,Mt,qt,Re,he,ye),He>1&&console.timeEnd("drilling down"),this.tiles[Qe]?dn(this.tiles[Qe],ze):null):null};class gi extends s.VectorTileWorkerSource{constructor(he,ye,Ie,ze,He){super(he,ye,Ie,ze,nr),He&&(this.loadGeoJSON=He)}loadData(he,ye){const Ie=he&&he.request,ze=Ie&&Ie.collectResourceTiming;this.loadGeoJSON(he,(He,Xe)=>{if(He||!Xe)return ye(He);if(typeof Xe!="object")return ye(new Error(`Input data given to '${he.source}' is not a valid GeoJSON object.`));{R(Xe,!0);try{if(he.filter){const Ge=s.createExpression(he.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ge.result==="error")throw new Error(Ge.value.map(Mt=>`${Mt.key}: ${Mt.message}`).join(", "));Xe={type:"FeatureCollection",features:Xe.features.filter(Mt=>Ge.value.evaluate({zoom:0},Mt))}}this._geoJSONIndex=he.cluster?new Ye(function({superclusterOptions:Ge,clusterProperties:tt}){if(!tt||!Ge)return Ge;const Mt={},qt={},Ft={accumulated:null,zoom:0},Un={properties:null},Hn=Object.keys(tt);for(const $n of Hn){const[Dn,Wn]=tt[$n],Rr=s.createExpression(Wn),Er=s.createExpression(typeof Dn=="string"?[Dn,["accumulated"],["get",$n]]:Dn);Mt[$n]=Rr.value,qt[$n]=Er.value}return Ge.map=$n=>{Un.properties=$n;const Dn={};for(const Wn of Hn)Dn[Wn]=Mt[Wn].evaluate(Ft,Un);return Dn},Ge.reduce=($n,Dn)=>{Un.properties=Dn;for(const Wn of Hn)Ft.accumulated=$n[Wn],$n[Wn]=qt[Wn].evaluate(Ft,Un)},Ge}(he)).load(Xe.features):function(Ge,tt){return new vr(Ge,tt)}(Xe,he.geojsonVtOptions)}catch(Ge){return ye(Ge)}this.loaded={};const Qe={};if(ze){const Ge=s.getPerformanceMeasurement(Ie);Ge&&(Qe.resourceTiming={},Qe.resourceTiming[he.source]=JSON.parse(JSON.stringify(Ge)))}ye(null,Qe)}})}reloadTile(he,ye){const Ie=this.loaded;return Ie&&Ie[he.uid]?super.reloadTile(he,ye):this.loadTile(he,ye)}loadGeoJSON(he,ye){if(he.request)s.getJSON(he.request,ye);else{if(typeof he.data!="string")return ye(new Error(`Input data given to '${he.source}' is not a valid GeoJSON object.`));try{return ye(null,JSON.parse(he.data))}catch{return ye(new Error(`Input data given to '${he.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(he,ye){try{ye(null,this._geoJSONIndex.getClusterExpansionZoom(he.clusterId))}catch(Ie){ye(Ie)}}getClusterChildren(he,ye){try{ye(null,this._geoJSONIndex.getChildren(he.clusterId))}catch(Ie){ye(Ie)}}getClusterLeaves(he,ye){try{ye(null,this._geoJSONIndex.getLeaves(he.clusterId,he.limit,he.offset))}catch(Ie){ye(Ie)}}}class ti{constructor(he){this.self=he,this.actor=new s.Actor(he,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:gi},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ye,Ie)=>{if(this.workerSourceTypes[ye])throw new Error(`Worker source with name "${ye}" already registered.`);this.workerSourceTypes[ye]=Ie},this.self.registerRTLTextPlugin=ye=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=ye.applyArabicShaping,s.plugin.processBidirectionalText=ye.processBidirectionalText,s.plugin.processStyledBidirectionalText=ye.processStyledBidirectionalText}}clearCaches(he,ye,Ie){delete this.layerIndexes[he],delete this.availableImages[he],delete this.workerSources[he],delete this.demWorkerSources[he],Ie()}checkIfReady(he,ye,Ie){Ie()}setReferrer(he,ye){this.referrer=ye}spriteLoaded(he,ye){this.isSpriteLoaded[he]=ye;for(const Ie in this.workerSources[he]){const ze=this.workerSources[he][Ie];for(const He in ze)ze[He]instanceof s.VectorTileWorkerSource&&(ze[He].isSpriteLoaded=ye,ze[He].fire(new s.Event("isSpriteLoaded")))}}setImages(he,ye,Ie){this.availableImages[he]=ye;for(const ze in this.workerSources[he]){const He=this.workerSources[he][ze];for(const Xe in He)He[Xe].availableImages=ye}Ie()}enableTerrain(he,ye,Ie){this.terrain=ye,Ie()}setProjection(he,ye){this.projections[he]=s.getProjection(ye)}setLayers(he,ye,Ie){this.getLayerIndex(he).replace(ye),Ie()}updateLayers(he,ye,Ie){this.getLayerIndex(he).update(ye.layers,ye.removedIds),Ie()}loadTile(he,ye,Ie){const ze=this.enableTerrain?s.extend({enableTerrain:this.terrain},ye):ye;ze.projection=this.projections[he]||this.defaultProjection,this.getWorkerSource(he,ye.type,ye.source).loadTile(ze,Ie)}loadDEMTile(he,ye,Ie){const ze=this.enableTerrain?s.extend({buildQuadTree:this.terrain},ye):ye;this.getDEMWorkerSource(he,ye.source).loadTile(ze,Ie)}reloadTile(he,ye,Ie){const ze=this.enableTerrain?s.extend({enableTerrain:this.terrain},ye):ye;ze.projection=this.projections[he]||this.defaultProjection,this.getWorkerSource(he,ye.type,ye.source).reloadTile(ze,Ie)}abortTile(he,ye,Ie){this.getWorkerSource(he,ye.type,ye.source).abortTile(ye,Ie)}removeTile(he,ye,Ie){this.getWorkerSource(he,ye.type,ye.source).removeTile(ye,Ie)}removeSource(he,ye,Ie){if(!this.workerSources[he]||!this.workerSources[he][ye.type]||!this.workerSources[he][ye.type][ye.source])return;const ze=this.workerSources[he][ye.type][ye.source];delete this.workerSources[he][ye.type][ye.source],ze.removeSource!==void 0?ze.removeSource(ye,Ie):Ie()}loadWorkerSource(he,ye,Ie){try{this.self.importScripts(ye.url),Ie()}catch(ze){Ie(ze.toString())}}syncRTLPluginState(he,ye,Ie){try{s.plugin.setState(ye);const ze=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&ze!=null){this.self.importScripts(ze);const He=s.plugin.isParsed();Ie(He?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ze}`),He)}}catch(ze){Ie(ze.toString())}}getAvailableImages(he){let ye=this.availableImages[he];return ye||(ye=[]),ye}getLayerIndex(he){let ye=this.layerIndexes[he];return ye||(ye=this.layerIndexes[he]=new w),ye}getWorkerSource(he,ye,Ie){if(this.workerSources[he]||(this.workerSources[he]={}),this.workerSources[he][ye]||(this.workerSources[he][ye]={}),!this.workerSources[he][ye][Ie]){const ze={send:(He,Xe,Qe,Ge,tt,Mt)=>{this.actor.send(He,Xe,Qe,he,tt,Mt)},scheduler:this.actor.scheduler};this.workerSources[he][ye][Ie]=new this.workerSourceTypes[ye](ze,this.getLayerIndex(he),this.getAvailableImages(he),this.isSpriteLoaded[he])}return this.workerSources[he][ye][Ie]}getDEMWorkerSource(he,ye){return this.demWorkerSources[he]||(this.demWorkerSources[he]={}),this.demWorkerSources[he][ye]||(this.demWorkerSources[he][ye]=new E),this.demWorkerSources[he][ye]}enforceCacheSizeLimit(he,ye){s.enforceCacheSizeLimit(ye)}getWorkerPerformanceMetrics(he,ye,Ie){Ie(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new ti(self)),ti}),c(["./shared"],function(s){function m(g,u){if(Array.isArray(g)){if(!Array.isArray(u)||g.length!==u.length)return!1;for(let f=0;f<g.length;f++)if(!m(g[f],u[f]))return!1;return!0}if(typeof g=="object"&&g!==null&&u!==null){if(typeof u!="object"||Object.keys(g).length!==Object.keys(u).length)return!1;for(const f in g)if(!m(g[f],u[f]))return!1;return!0}return g===u}var _=w;function w(g){return!function(u){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var v,b,S=new Blob([""],{type:"text/javascript"}),A=URL.createObjectURL(S);try{b=new Worker(A),v=!0}catch{v=!1}return b&&b.terminate(),URL.revokeObjectURL(A),v}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var v=document.createElement("canvas");v.width=v.height=1;var b=v.getContext("2d");if(!b)return!1;var S=b.getImageData(0,0,1,1);return S&&S.width===v.width}()?(E[f=u&&u.failIfMajorPerformanceCaveat]===void 0&&(E[f]=function(v){var b,S=function(A){var D=document.createElement("canvas"),N=Object.create(w.webGLContextAttributes);return N.failIfMajorPerformanceCaveat=A,D.getContext("webgl",N)||D.getContext("experimental-webgl",N)}(v);if(!S)return!1;try{b=S.createShader(S.VERTEX_SHADER)}catch{return!1}return!(!b||S.isContextLost())&&(S.shaderSource(b,"void main() {}"),S.compileShader(b),S.getShaderParameter(b,S.COMPILE_STATUS)===!0)}(f)),E[f]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var f}(g)}var E={};function k(g,u,f){const v=s.window.document.createElement(g);return u!==void 0&&(v.className=u),f&&f.appendChild(v),v}function O(g,u,f){const v=s.window.document.createElementNS("http://www.w3.org/2000/svg",g);for(const b of Object.keys(u))v.setAttributeNS(null,b,u[b]);return f&&f.appendChild(v),v}w.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const R=s.window.document&&s.window.document.documentElement.style,L=R&&R.userSelect!==void 0?"userSelect":"WebkitUserSelect";let U;function F(){R&&L&&(U=R[L],R[L]="none")}function z(){R&&L&&(R[L]=U)}function B(g){g.preventDefault(),g.stopPropagation(),s.window.removeEventListener("click",B,!0)}function Z(){s.window.addEventListener("click",B,!0),s.window.setTimeout(()=>{s.window.removeEventListener("click",B,!0)},0)}function ee(g,u){const f=g.getBoundingClientRect();return ne(g,f,u)}function X(g,u){const f=g.getBoundingClientRect(),v=[];for(let b=0;b<u.length;b++)v.push(ne(g,f,u[b]));return v}function W(g){return s.window.InstallTrigger!==void 0&&g.button===2&&g.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:g.button}function ne(g,u,f){const v=g.offsetWidth===u.width?1:g.offsetWidth/u.width;return new s.Point((f.clientX-u.left)*v,(f.clientY-u.top)*v)}function J(g,u){var f=u[0],v=u[1],b=u[2],S=u[3],A=f*S-b*v;return A?(g[0]=S*(A=1/A),g[1]=-v*A,g[2]=-b*A,g[3]=f*A,g):null}function re(g){const{userImage:u}=g;return!!(u&&u.render&&u.render())&&(g.data.replace(new Uint8Array(u.data.buffer)),!0)}class se extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(u){if(this.loaded!==u&&(this.loaded=u,u)){for(const{ids:f,callback:v}of this.requestors)this._notify(f,v);this.requestors=[]}}hasImage(u){return!!this.getImage(u)}getImage(u){return this.images[u]}addImage(u,f){this._validate(u,f)&&(this.images[u]=f)}_validate(u,f){let v=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${u}" has invalid "stretchX" value`))),v=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${u}" has invalid "stretchY" value`))),v=!1),this._validateContent(f.content,f)||(this.fire(new s.ErrorEvent(new Error(`Image "${u}" has invalid "content" value`))),v=!1),v}_validateStretch(u,f){if(!u)return!0;let v=0;for(const b of u){if(b[0]<v||b[1]<b[0]||f<b[1])return!1;v=b[1]}return!0}_validateContent(u,f){return!(u&&(u.length!==4||u[0]<0||f.data.width<u[0]||u[1]<0||f.data.height<u[1]||u[2]<0||f.data.width<u[2]||u[3]<0||f.data.height<u[3]||u[2]<u[0]||u[3]<u[1]))}updateImage(u,f){f.version=this.images[u].version+1,this.images[u]=f,this.updatedImages[u]=!0}removeImage(u){const f=this.images[u];delete this.images[u],delete this.patterns[u],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(u,f){let v=!0;if(!this.isLoaded())for(const b of u)this.images[b]||(v=!1);this.isLoaded()||v?this._notify(u,f):this.requestors.push({ids:u,callback:f})}_notify(u,f){const v={};for(const b of u){this.images[b]||this.fire(new s.Event("styleimagemissing",{id:b}));const S=this.images[b];S?v[b]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,hasRenderCallback:!!(S.userImage&&S.userImage.render)}:s.warnOnce(`Image "${b}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}f(null,v)}getPixelSize(){const{width:u,height:f}=this.atlasImage;return{width:u,height:f}}getPattern(u){const f=this.patterns[u],v=this.getImage(u);if(!v)return null;if(f&&f.position.version===v.version)return f.position;if(f)f.position.version=v.version;else{const b={w:v.data.width+2,h:v.data.height+2,x:0,y:0},S=new s.ImagePosition(b,v);this.patterns[u]={bin:b,position:S}}return this._updatePatternAtlas(),this.patterns[u].position}bind(u){const f=u.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(u,this.atlasImage,f.RGBA),this.atlasTexture&&this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const u=[];for(const S in this.patterns)u.push(this.patterns[S].bin);const{w:f,h:v}=s.potpack(u),b=this.atlasImage;b.resize({width:f||1,height:v||1});for(const S in this.patterns){const{bin:A}=this.patterns[S],D=A.x+1,N=A.y+1,K=this.images[S].data,Y=K.width,ie=K.height;s.RGBAImage.copy(K,b,{x:0,y:0},{x:D,y:N},{width:Y,height:ie}),s.RGBAImage.copy(K,b,{x:0,y:ie-1},{x:D,y:N-1},{width:Y,height:1}),s.RGBAImage.copy(K,b,{x:0,y:0},{x:D,y:N+ie},{width:Y,height:1}),s.RGBAImage.copy(K,b,{x:Y-1,y:0},{x:D-1,y:N},{width:1,height:ie}),s.RGBAImage.copy(K,b,{x:0,y:0},{x:D+Y,y:N},{width:1,height:ie})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(u){for(const f of u){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const v=this.images[f];re(v)&&this.updateImage(f,v)}}}const de=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(g,u){return function([f,v,b]){const S=s.degToRad(v+90),A=s.degToRad(b);return{x:f*Math.cos(S)*Math.sin(A),y:f*Math.sin(S)*Math.sin(A),z:f*Math.cos(A),azimuthal:v,polar:b}}(g.expression.evaluate(u))}interpolate(g,u,f){return{x:s.number(g.x,u.x,f),y:s.number(g.y,u.y,f),z:s.number(g.z,u.z,f),azimuthal:s.number(g.azimuthal,u.azimuthal,f),polar:s.number(g.polar,u.polar,f)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)});class pe extends s.Evented{constructor(u){super(),this._transitionable=new s.Transitionable(de),this.setLight(u),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(u,f={}){if(!this._validate(s.validateLight,u,f))for(const v in u){const b=u[v];s.endsWith(v,"-transition")?this._transitionable.setTransition(v.slice(0,-11),b):this._transitionable.setValue(v,b)}}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,f,v){return(!v||v.validate!==!1)&&s.emitValidationErrors(this,u.call(s.validateStyle,s.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const ae=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)});let oe=class extends s.Evented{constructor(g,u){super(),this._transitionable=new s.Transitionable(ae),this.set(g),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=u}get(){return this._transitionable.serialize()}set(g){for(const u in g){const f=g[u];s.endsWith(u,"-transition")?this._transitionable.setTransition(u.slice(0,-11),f):this._transitionable.setValue(u,f)}}updateTransitions(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(g){this.properties=this._transitioning.possiblyEvaluate(g)}};function me(g,u,f,v){const b=s.smoothstep(45,65,f),[S,A]=xe(g,v),D=s.length(u);let N=1-Math.min(1,Math.exp((D-S)/(A-S)*-6));return N*=N*N,N=Math.min(1,1.00747*N),N*b*g.alpha}function xe(g,u){const f=.5/Math.tan(.5*u);return[g.range[0]+f,g.range[1]+f]}const ce=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"high-color":new s.DataConstantProperty(s.spec.fog["high-color"]),"space-color":new s.DataConstantProperty(s.spec.fog["space-color"]),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"]),"star-intensity":new s.DataConstantProperty(s.spec.fog["star-intensity"])});class ge extends s.Evented{constructor(u,f){super(),this._transitionable=new s.Transitionable(ce),this.set(u),this._transitioning=this._transitionable.untransitioned(),this._transform=f}get state(){const u=this._transform,f=u.projection.name==="globe",v=s.globeToMercatorTransition(u.zoom),b=this.properties.get("range"),S=[.5,3];return{range:f?[s.number(S[0],b[0],v),s.number(S[1],b[1],v)]:b,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(u,f={}){if(!this._validate(s.validateFog,u,f)){for(const v of Object.keys(s.spec.fog))u&&u[v]===void 0&&(u[v]=s.spec.fog[v].default);for(const v in u){const b=u[v];s.endsWith(v,"-transition")?this._transitionable.setTransition(v.slice(0,-11),b):this._transitionable.setValue(v,b)}}}getOpacity(u){if(!this._transform.projection.supportsFog)return 0;const f=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:s.smoothstep(45,65,u))*f.a}getOpacityAtLatLng(u,f){return this._transform.projection.supportsFog?function(v,b,S){const A=s.MercatorCoordinate.fromLngLat(b),D=S.elevation?S.elevation.getAtPointOrZero(A):0,N=[A.x,A.y,D];return s.transformMat4(N,N,S.mercatorFogMatrix),me(v,N,S.pitch,S._fov)}(this.state,u,f):0}getFovAdjustedRange(u){return this._transform.projection.supportsFog?xe(this.state,u):[0,1]}updateTransitions(u){this._transitioning=this._transitionable.transitioned(u,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(u){this.properties=this._transitioning.possiblyEvaluate(u)}_validate(u,f,v){return(!v||v.validate!==!1)&&s.emitValidationErrors(this,u.call(s.validateStyle,s.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class Te{constructor(u,f){this.workerPool=u,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const v=this.workerPool.acquire(this.id);for(let b=0;b<v.length;b++){const S=new Te.Actor(v[b],f,this.id);S.name=`Worker ${b}`,this.actors.push(S)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(u,f,v){s.asyncAll(this.actors,(b,S)=>{b.send(u,f,S)},v=v||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(u=>{u.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Ue(g,u,f){return u*(s.EXTENT/(g.tileSize*Math.pow(2,f-g.tileID.overscaledZ)))}Te.Actor=s.Actor;class We{constructor(u,f,v,b){this.screenBounds=u,this.cameraPoint=f,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=v,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,b)}static createFromScreenPoints(u,f){let v,b;if(u instanceof s.Point||typeof u[0]=="number"){const S=s.Point.convert(u);v=[S],b=f.isPointAboveHorizon(S)}else{const S=s.Point.convert(u[0]),A=s.Point.convert(u[1]);v=[S,A],b=s.polygonizeBounds(S,A).every(D=>f.isPointAboveHorizon(D))}return new We(v,f.getCameraPoint(),b,f)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(u){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],u)}bufferedCameraGeometry(u){const f=this.screenBounds[0],v=this.screenBounds.length===1?this.screenBounds[0].add(new s.Point(1,1)):this.screenBounds[1],b=s.polygonizeBounds(f,v,0,!1);return this.cameraPoint.y>v.y&&(this.cameraPoint.x>f.x&&this.cameraPoint.x<v.x?b.splice(3,0,this.cameraPoint):this.cameraPoint.x>=v.x?b[2]=this.cameraPoint:this.cameraPoint.x<=f.x&&(b[3]=this.cameraPoint)),s.bufferConvexPolygon(b,u)}bufferedCameraGeometryGlobe(u){const f=this.screenBounds[0],v=this.screenBounds.length===1?this.screenBounds[0].add(new s.Point(1,1)):this.screenBounds[1],b=s.polygonizeBounds(f,v,u),S=this.cameraPoint.clone();switch(3*((S.y>f.y)+(S.y>v.y))+((S.x>f.x)+(S.x>v.x))){case 0:b[0]=S,b[4]=S.clone();break;case 1:b.splice(1,0,S);break;case 2:b[1]=S;break;case 3:b.splice(4,0,S);break;case 5:b.splice(2,0,S);break;case 6:b[3]=S;break;case 7:b.splice(3,0,S);break;case 8:b[2]=S}return b}containsTile(u,f,v,b=0){const S=u.queryPadding/f._pixelsPerMercatorPixel+1,A=v?this._bufferedCameraMercator(S,f):this._bufferedScreenMercator(S,f);let D=u.tileID.wrap+(A.unwrapped?b:0);const N=A.polygon.map(Ee=>s.getTilePoint(u.tileTransform,Ee,D));if(!s.polygonIntersectsBox(N,0,0,s.EXTENT,s.EXTENT))return;D=u.tileID.wrap+(this.screenGeometryMercator.unwrapped?b:0);const K=this.screenGeometryMercator.polygon.map(Ee=>s.getTileVec3(u.tileTransform,Ee,D)),Y=K.map(Ee=>new s.Point(Ee[0],Ee[1])),ie=f.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),ve=s.getTileVec3(u.tileTransform,ie,D),we=K.map(Ee=>{const le=s.sub(Ee,Ee,ve);return s.normalize(le,le),new s.Ray(ve,le)}),Se=Ue(u,1,f.zoom)*f._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:Y,tilespaceRays:we,bufferedTilespaceGeometry:N,bufferedTilespaceBounds:(Ce=s.getBounds(N),Ce.min.x=s.clamp(Ce.min.x,0,s.EXTENT),Ce.min.y=s.clamp(Ce.min.y,0,s.EXTENT),Ce.max.x=s.clamp(Ce.max.x,0,s.EXTENT),Ce.max.y=s.clamp(Ce.max.y,0,s.EXTENT),Ce),tile:u,tileID:u.tileID,pixelToTileUnitsFactor:Se};var Ce}_bufferedScreenMercator(u,f){const v=vt(u);if(this._screenRaycastCache[v])return this._screenRaycastCache[v];{let b;return b=f.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(u),f):{polygon:this.bufferedScreenGeometry(u).map(S=>f.pointCoordinate3D(S)),unwrapped:!0},this._screenRaycastCache[v]=b,b}}_bufferedCameraMercator(u,f){const v=vt(u);if(this._cameraRaycastCache[v])return this._cameraRaycastCache[v];{let b;return b=f.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(u),f):{polygon:this.bufferedCameraGeometry(u).map(S=>f.pointCoordinate3D(S)),unwrapped:!0},this._cameraRaycastCache[v]=b,b}}_projectAndResample(u,f){const v=function(S,A){const D=s.multiply([],A.pixelMatrix,A.globeMatrix),N=[0,-s.GLOBE_RADIUS,0,1],K=[0,s.GLOBE_RADIUS,0,1],Y=[0,0,0,1];s.transformMat4$1(N,N,D),s.transformMat4$1(K,K,D),s.transformMat4$1(Y,Y,D);const ie=new s.Point(N[0]/N[3],N[1]/N[3]),ve=new s.Point(K[0]/K[3],K[1]/K[3]),we=s.polygonContainsPoint(S,ie)&&N[3]<Y[3],Se=s.polygonContainsPoint(S,ve)&&K[3]<Y[3];if(!we&&!Se)return null;const Ce=function(Be,Je,Ze){for(let at=1;at<Be.length;at++){const Vt=gt(Je.pointCoordinate3D(Be[at-1]).x),nt=gt(Je.pointCoordinate3D(Be[at]).x);if(Ze<0){if(Vt<nt)return{idx:at,t:-Vt/(nt-1-Vt)}}else if(nt<Vt)return{idx:at,t:(1-Vt)/(nt+1-Vt)}}return null}(S,A,we?-1:1);if(!Ce)return null;const{idx:Ee,t:le}=Ce;let be=Ee>1?Ye(S.slice(0,Ee),A):[],Me=Ee<S.length?Ye(S.slice(Ee),A):[];be=be.map(Be=>new s.Point(gt(Be.x),Be.y)),Me=Me.map(Be=>new s.Point(gt(Be.x),Be.y));const Ae=[...be];Ae.length===0&&Ae.push(Me[Me.length-1]);const $e=s.number(Ae[Ae.length-1].y,(Me.length===0?be[0]:Me[0]).y,le);let Ne;return Ne=we?[new s.Point(0,$e),new s.Point(0,0),new s.Point(1,0),new s.Point(1,$e)]:[new s.Point(1,$e),new s.Point(1,1),new s.Point(0,1),new s.Point(0,$e)],Ae.push(...Ne),Me.length===0?Ae.push(be[0]):Ae.push(...Me),{polygon:Ae.map(Be=>new s.MercatorCoordinate(Be.x,Be.y)),unwrapped:!1}}(u,f);if(v)return v;const b=function(S,A){let D=!1,N=-1/0,K=0;for(let ie=0;ie<S.length-1;ie++)S[ie].x>N&&(N=S[ie].x,K=ie);for(let ie=0;ie<S.length-1;ie++){const ve=(K+ie)%(S.length-1),we=S[ve],Se=S[ve+1];Math.abs(we.x-Se.x)>.5&&(we.x<Se.x?(we.x+=1,ve===0&&(S[S.length-1].x+=1)):(Se.x+=1,ve+1===S.length-1&&(S[0].x+=1)),D=!0)}const Y=s.mercatorXfromLng(A.center.lng);return D&&Y<Math.abs(Y-1)&&S.forEach(ie=>{ie.x-=1}),{polygon:S,unwrapped:D}}(Ye(u,f).map(S=>new s.Point(gt(S.x),S.y)),f);return{polygon:b.polygon.map(S=>new s.MercatorCoordinate(S.x,S.y)),unwrapped:b.unwrapped}}}function Ye(g,u){return s.resample(g,f=>{const v=u.pointCoordinate3D(f);f.x=v.x,f.y=v.y},1/256)}function gt(g){return g<0?1+g%1:g%1}function vt(g){return 100*g|0}function jt(g,u,f,v,b){const S=function(A,D){if(A)return b(A);if(D){g.url&&D.tiles&&g.tiles&&delete g.tiles;const N=s.pick(s.extend(D,g),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);D.vector_layers&&(N.vectorLayers=D.vector_layers,N.vectorLayerIds=N.vectorLayers.map(K=>K.id)),N.tiles=u.canonicalizeTileset(N,g.url),b(null,N)}};return g.url?s.getJSON(u.transformRequest(u.normalizeSourceURL(g.url,null,f,v),s.ResourceType.Source),S):s.exported.frame(()=>S(null,g))}class Rt{constructor(u,f,v){this.bounds=s.LngLatBounds.convert(this.validateBounds(u)),this.minzoom=f||0,this.maxzoom=v||24}validateBounds(u){return Array.isArray(u)&&u.length===4?[Math.max(-180,u[0]),Math.max(-90,u[1]),Math.min(180,u[2]),Math.min(90,u[3])]:[-180,-90,180,90]}contains(u){const f=Math.pow(2,u.z),v=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*f),b=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*f),S=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*f),A=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*f);return u.x>=v&&u.x<S&&u.y>=b&&u.y<A}}class pn{constructor(u,f,v){this.context=u;const b=u.gl;this.buffer=b.createBuffer(),this.dynamicDraw=!!v,this.context.unbindVAO(),u.bindElementBuffer.set(this.buffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||f.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(u){const f=this.context.gl;this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,u.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ut={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class rn{constructor(u,f,v,b){this.length=f.length,this.attributes=v,this.itemSize=f.bytesPerElement,this.dynamicDraw=b,this.context=u;const S=u.gl;this.buffer=S.createBuffer(),u.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||f.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(u){const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,u.arrayBuffer)}enableAttributes(u,f){for(let v=0;v<this.attributes.length;v++){const b=f.attributes[this.attributes[v].name];b!==void 0&&u.enableVertexAttribArray(b)}}setVertexAttribPointers(u,f,v){for(let b=0;b<this.attributes.length;b++){const S=this.attributes[b],A=f.attributes[S.name];A!==void 0&&u.vertexAttribPointer(A,S.components,u[Ut[S.type]],!1,this.itemSize,S.offset+this.itemSize*(v||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class et{constructor(u){this.gl=u.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(u){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Pt extends et{getDefault(){return s.Color.transparent}set(u){const f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.clearColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class Ot extends et{getDefault(){return 1}set(u){(u!==this.current||this.dirty)&&(this.gl.clearDepth(u),this.current=u,this.dirty=!1)}}class Yt extends et{getDefault(){return 0}set(u){(u!==this.current||this.dirty)&&(this.gl.clearStencil(u),this.current=u,this.dirty=!1)}}class st extends et{getDefault(){return[!0,!0,!0,!0]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.colorMask(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Ct extends et{getDefault(){return!0}set(u){(u!==this.current||this.dirty)&&(this.gl.depthMask(u),this.current=u,this.dirty=!1)}}class ht extends et{getDefault(){return 255}set(u){(u!==this.current||this.dirty)&&(this.gl.stencilMask(u),this.current=u,this.dirty=!1)}}class en extends et{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(u){const f=this.current;(u.func!==f.func||u.ref!==f.ref||u.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(u.func,u.ref,u.mask),this.current=u,this.dirty=!1)}}class Kt extends et{getDefault(){const u=this.gl;return[u.KEEP,u.KEEP,u.KEEP]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(u[0],u[1],u[2]),this.current=u,this.dirty=!1)}}class vn extends et{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=u,this.dirty=!1}}class wn extends et{getDefault(){return[0,1]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.depthRange(u[0],u[1]),this.current=u,this.dirty=!1)}}class Ve extends et{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=u,this.dirty=!1}}class ft extends et{getDefault(){return this.gl.LESS}set(u){(u!==this.current||this.dirty)&&(this.gl.depthFunc(u),this.current=u,this.dirty=!1)}}class Dt extends et{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.BLEND):f.disable(f.BLEND),this.current=u,this.dirty=!1}}class Qt extends et{getDefault(){const u=this.gl;return[u.ONE,u.ZERO]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(u[0],u[1]),this.current=u,this.dirty=!1)}}class yn extends et{getDefault(){return s.Color.transparent}set(u){const f=this.current;(u.r!==f.r||u.g!==f.g||u.b!==f.b||u.a!==f.a||this.dirty)&&(this.gl.blendColor(u.r,u.g,u.b,u.a),this.current=u,this.dirty=!1)}}class on extends et{getDefault(){return this.gl.FUNC_ADD}set(u){(u!==this.current||this.dirty)&&(this.gl.blendEquation(u),this.current=u,this.dirty=!1)}}class un extends et{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;u?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=u,this.dirty=!1}}class dn extends et{getDefault(){return this.gl.BACK}set(u){(u!==this.current||this.dirty)&&(this.gl.cullFace(u),this.current=u,this.dirty=!1)}}class sn extends et{getDefault(){return this.gl.CCW}set(u){(u!==this.current||this.dirty)&&(this.gl.frontFace(u),this.current=u,this.dirty=!1)}}let kn,Vn=class extends et{getDefault(){return null}set(g){(g!==this.current||this.dirty)&&(this.gl.useProgram(g),this.current=g,this.dirty=!1)}};class ar extends et{getDefault(){return this.gl.TEXTURE0}set(u){(u!==this.current||this.dirty)&&(this.gl.activeTexture(u),this.current=u,this.dirty=!1)}}class vr extends et{getDefault(){const u=this.gl;return[0,0,u.drawingBufferWidth,u.drawingBufferHeight]}set(u){const f=this.current;(u[0]!==f[0]||u[1]!==f[1]||u[2]!==f[2]||u[3]!==f[3]||this.dirty)&&(this.gl.viewport(u[0],u[1],u[2],u[3]),this.current=u,this.dirty=!1)}}class Ar extends et{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,u),this.current=u,this.dirty=!1}}class nr extends et{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class gi extends et{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,u),this.current=u,this.dirty=!1}}class ti extends et{getDefault(){return null}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class Re extends et{getDefault(){return null}set(u){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u),this.current=u,this.dirty=!1}}class he extends et{constructor(u){super(u),this.vao=u.extVertexArrayObject}getDefault(){return null}set(u){this.vao&&(u!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(u),this.current=u,this.dirty=!1)}}class ye extends et{getDefault(){return 4}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,u),this.current=u,this.dirty=!1}}class Ie extends et{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),this.current=u,this.dirty=!1}}class ze extends et{getDefault(){return!1}set(u){if(u===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,u),this.current=u,this.dirty=!1}}class He extends et{constructor(u,f){super(u),this.context=u,this.parent=f}getDefault(){return null}}class Xe extends He{setDirty(){this.dirty=!0}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,u,0),this.current=u,this.dirty=!1}}class Qe extends He{attachment(){return this.gl.DEPTH_ATTACHMENT}set(u){if(u===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,this.attachment(),f.RENDERBUFFER,u),this.current=u,this.dirty=!1}}class Ge extends Qe{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class tt{constructor(u,f,v,b){this.context=u,this.width=f,this.height=v;const S=this.framebuffer=u.gl.createFramebuffer();this.colorAttachment=new Xe(u,S),b&&(this.depthAttachment=new Qe(u,S))}destroy(){const u=this.context.gl,f=this.colorAttachment.get();if(f&&u.deleteTexture(f),this.depthAttachment){const v=this.depthAttachment.get();v&&u.deleteRenderbuffer(v)}u.deleteFramebuffer(this.framebuffer)}}class Mt{constructor(u,f=!1){if(this.gl=u,this.isWebGL2=f,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),f){const v=u;this.extVertexArrayObject={createVertexArrayOES:v.createVertexArray.bind(u),deleteVertexArrayOES:v.deleteVertexArray.bind(u),bindVertexArrayOES:v.bindVertexArray.bind(u)}}this.clearColor=new Pt(this),this.clearDepth=new Ot(this),this.clearStencil=new Yt(this),this.colorMask=new st(this),this.depthMask=new Ct(this),this.stencilMask=new ht(this),this.stencilFunc=new en(this),this.stencilOp=new Kt(this),this.stencilTest=new vn(this),this.depthRange=new wn(this),this.depthTest=new Ve(this),this.depthFunc=new ft(this),this.blend=new Dt(this),this.blendFunc=new Qt(this),this.blendColor=new yn(this),this.blendEquation=new on(this),this.cullFace=new un(this),this.cullFaceSide=new dn(this),this.frontFace=new sn(this),this.program=new Vn(this),this.activeTexture=new ar(this),this.viewport=new vr(this),this.bindFramebuffer=new Ar(this),this.bindRenderbuffer=new nr(this),this.bindTexture=new gi(this),this.bindVertexBuffer=new ti(this),this.bindElementBuffer=new Re(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new he(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new Ie(this),this.pixelStoreUnpackFlipY=new ze(this),this.extTextureFilterAnisotropic=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=u.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=u.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=u.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=u.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),f||(this.extTextureHalfFloat=u.getExtension("OES_texture_half_float")),(f||this.extTextureHalfFloat&&u.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=u.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=f||u.getExtension("OES_standard_derivatives"),this.extTimerQuery=u.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(u,f){return new pn(this,u,f)}createVertexBuffer(u,f,v){return new rn(this,u,f,v)}createRenderbuffer(u,f,v){const b=this.gl,S=b.createRenderbuffer();return this.bindRenderbuffer.set(S),b.renderbufferStorage(b.RENDERBUFFER,u,f,v),this.bindRenderbuffer.set(null),S}createFramebuffer(u,f,v){return new tt(this,u,f,v)}clear({color:u,depth:f,stencil:v}){const b=this.gl;let S=0;u&&(S|=b.COLOR_BUFFER_BIT,this.clearColor.set(u),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(S|=b.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),v!==void 0&&(S|=b.STENCIL_BUFFER_BIT,this.clearStencil.set(v),this.stencilMask.set(255)),b.clear(S)}setCullFace(u){u.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(u.mode),this.frontFace.set(u.frontFace))}setDepthMode(u){u.func!==this.gl.ALWAYS||u.mask?(this.depthTest.set(!0),this.depthFunc.set(u.func),this.depthMask.set(u.mask),this.depthRange.set(u.range)):this.depthTest.set(!1)}setStencilMode(u){u.test.func!==this.gl.ALWAYS||u.mask?(this.stencilTest.set(!0),this.stencilMask.set(u.mask),this.stencilOp.set([u.fail,u.depthFail,u.pass]),this.stencilFunc.set({func:u.test.func,ref:u.ref,mask:u.test.mask})):this.stencilTest.set(!1)}setColorMode(u){m(u.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(u.blendFunction),this.blendColor.set(u.blendColor)),this.colorMask.set(u.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class qt extends s.Evented{constructor(u,f,v,b){if(super(),this.id=u,this.dispatcher=v,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(f,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(b),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(u){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"}));const f=Array.isArray(this.map._language)?this.map._language.join():this.map._language,v=this.map._worldview;this._tileJSONRequest=jt(this._options,this.map._requestManager,f,v,(b,S)=>{this._tileJSONRequest=null,this._loaded=!0,b?(f&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${f}`),v&&v.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${v}`),this.fire(new s.ErrorEvent(b))):S&&(s.extend(this,S),S.bounds&&(this.tileBounds=new Rt(S.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(S.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),u&&u(b)})}loaded(){return this._loaded}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}onAdd(u){this.map=u,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(u){return this._options.tiles=u,this.reload(),this}setUrl(u){return this.url=u,this._options.url=u,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}loadTile(u,f){const v=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme)),b={request:this.map._requestManager.transformRequest(v,s.ResourceType.Tile),data:void 0,uid:u.uid,tileID:u.tileID,tileZoom:u.tileZoom,zoom:u.tileID.overscaledZ,tileSize:this.tileSize*u.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:u.isSymbolTile};if(b.request.collectResourceTiming=this._collectResourceTiming,u.actor&&u.state!=="expired")u.state==="loading"?u.reloadCallback=f:u.request=u.actor.send("reloadTile",b,S.bind(this));else if(u.actor=this._tileWorkers[v]=this._tileWorkers[v]||this.dispatcher.getActor(),this.dispatcher.ready)u.request=u.actor.send("loadTile",b,S.bind(this),void 0,!0);else{const A=s.loadVectorTile.call({deduped:this._deduped},b,(D,N)=>{D||!N?S.call(this,D):(b.data={cacheControl:N.cacheControl,expires:N.expires,rawData:N.rawData.slice(0)},u.actor&&u.actor.send("loadTile",b,S.bind(this),void 0,!0))},!0);u.request={cancel:A}}function S(A,D){return delete u.request,u.aborted?f(null):A&&A.status!==404?f(A):(D&&D.resourceTiming&&(u.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&u.setExpiryData(D),u.loadVectorData(D,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(u.reloadCallback&&(this.loadTile(u,u.reloadCallback),u.reloadCallback=null)))}}abortTile(u){u.request&&(u.request.cancel(),delete u.request),u.actor&&u.actor.send("abortTile",{uid:u.uid,type:this.type,source:this.id})}unloadTile(u){u.unloadVectorData(),u.actor&&u.actor.send("removeTile",{uid:u.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Ft extends s.Evented{constructor(u,f,v,b){super(),this.id=u,this.dispatcher=v,this.setEventedParent(b),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},f),s.extend(this,s.pick(f,["url","scheme","tileSize"]))}load(u){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=jt(this._options,this.map._requestManager,null,null,(f,v)=>{this._tileJSONRequest=null,this._loaded=!0,f?this.fire(new s.ErrorEvent(f)):v&&(s.extend(this,v),v.bounds&&(this.tileBounds=new Rt(v.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(v.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))),u&&u(f)})}loaded(){return this._loaded}onAdd(u){this.map=u,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(u){return this._options.tiles=u,this.reload(),this}setUrl(u){return this.url=u,this._options.url=u,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return s.extend({},this._options)}hasTile(u){return!this.tileBounds||this.tileBounds.contains(u.canonical)}loadTile(u,f){const v=s.exported.devicePixelRatio>=2,b=this.map._requestManager.normalizeTileURL(u.tileID.canonical.url(this.tiles,this.scheme),v,this.tileSize);u.request=s.getImage(this.map._requestManager.transformRequest(b,s.ResourceType.Tile),(S,A,D,N)=>(delete u.request,u.aborted?(u.state="unloaded",f(null)):S?(u.state="errored",f(S)):A?(this.map._refreshExpiredTiles&&u.setExpiryData({cacheControl:D,expires:N}),u.setTexture(A,this.map.painter),u.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void f(null)):f(null)))}static loadTileData(u,f,v){u.setTexture(f,v)}static unloadTileData(u,f){u.texture&&f.saveTileTexture(u.texture)}abortTile(u,f){u.request&&(u.request.cancel(),delete u.request),f()}unloadTile(u,f){u.texture&&this.map.painter.saveTileTexture(u.texture),f()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function Un(g,u,f,v,b,S,A,D){const N=[g,f,b,u,v,S,1,1,1],K=[A,D,1],Y=s.adjoint([],N),[ie,ve,we]=s.transformMat3(K,K,s.transpose(Y,Y));return s.multiply$1(N,[ie,0,0,0,ve,0,0,0,we],N)}class Hn extends s.Evented{constructor(u,f,v,b){super(),this.id=u,this.dispatcher=v,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(b),this.options=f,this._dirty=!1}load(u,f){this._loaded=f||!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(v,b)=>{if(this._imageRequest=null,this._loaded=!0,v)this.fire(new s.ErrorEvent(v));else if(b){const{HTMLImageElement:S}=s.window;this.image=b instanceof S?s.exported.getImageData(b):b,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,u&&(this.coordinates=u),this._finishLoading()}})}loaded(){return this._loaded}updateImage(u){return this.image&&u.url?(this._imageRequest&&u.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=u.url,this.load(u.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(u){this.map=u,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(u){this.coordinates=u,this._boundsArray=void 0;const f=u.map(s.MercatorCoordinate.fromLngLat);return this.tileID=function(v){let b=1/0,S=1/0,A=-1/0,D=-1/0;for(const ie of v)b=Math.min(b,ie.x),S=Math.min(S,ie.y),A=Math.max(A,ie.x),D=Math.max(D,ie.y);const N=Math.max(A-b,D-S),K=Math.max(0,Math.floor(-Math.log(N)/Math.LN2)),Y=Math.pow(2,K);return new s.CanonicalTileID(K,Math.floor((b+A)/2*Y),Math.floor((S+D)/2*Y))}(f),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(u){for(const N in this.tiles){const K=this.tiles[N];K.state!=="loaded"&&(K.state="loaded",K.texture=this.texture)}if(this._boundsArray)return;const f=s.tileTransform(this.tileID,this.map.transform.projection),[v,b,S,A]=this.coordinates.map(N=>{const K=f.projection.project(N[0],N[1]);return s.getTilePoint(f,K)._round()});this.perspectiveTransform=function(N,K,Y,ie,ve,we,Se,Ce,Ee,le){const be=Un(0,0,N,0,0,K,N,K),Me=Un(Y,ie,ve,we,Se,Ce,Ee,le);return s.multiply$1(Me,s.adjoint(be,be),Me),[Me[6]/Me[8]*N/s.EXTENT,Me[7]/Me[8]*K/s.EXTENT]}(this.width,this.height,v.x,v.y,b.x,b.y,A.x,A.y,S.x,S.y);const D=this._boundsArray=new s.StructArrayLayout4i8;D.emplaceBack(v.x,v.y,0,0),D.emplaceBack(b.x,b.y,s.EXTENT,0),D.emplaceBack(A.x,A.y,0,s.EXTENT),D.emplaceBack(S.x,S.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=u.createVertexBuffer(D,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const u=this.map.painter.context,f=u.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new s.Texture(u,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(u)}loadTile(u,f){this.tileID&&this.tileID.equals(u.tileID.canonical)?(this.tiles[String(u.tileID.wrap)]=u,u.buckets={},f(null)):(u.state="errored",f(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const $n={vector:qt,raster:Ft,"raster-dem":class extends Ft{constructor(g,u,f,v){super(g,u,f,v),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},u),this.encoding=u.encoding||"mapbox"}loadTile(g,u){const f=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function v(b,S){b&&(g.state="errored",u(b)),S&&(g.dem=S,g.dem.onDeserialize(),g.needsHillshadePrepare=!0,g.needsDEMTextureUpload=!0,g.state="loaded",u(null))}g.request=s.getImage(this.map._requestManager.transformRequest(f,s.ResourceType.Tile),(function(b,S,A,D){if(delete g.request,g.aborted)g.state="unloaded",u(null);else if(b)g.state="errored",u(b);else if(S){this.map._refreshExpiredTiles&&g.setExpiryData({cacheControl:A,expires:D});const N=s.window.ImageBitmap&&S instanceof s.window.ImageBitmap&&(kn==null&&(kn=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),kn),K=1-(S.width-s.prevPowerOfTwo(S.width))/2;K<1||g.neighboringTiles||(g.neighboringTiles=this._getNeighboringTiles(g.tileID));const Y=N?S:s.exported.getImageData(S,K),ie={uid:g.uid,coord:g.tileID,source:this.id,rawImageData:Y,encoding:this.encoding,padding:K};g.actor&&g.state!=="expired"||(g.actor=this.dispatcher.getActor(),g.actor.send("loadDEMTile",ie,v.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(g){const u=g.canonical,f=Math.pow(2,u.z),v=(u.x-1+f)%f,b=u.x===0?g.wrap-1:g.wrap,S=(u.x+1+f)%f,A=u.x+1===f?g.wrap+1:g.wrap,D={};return D[new s.OverscaledTileID(g.overscaledZ,b,u.z,v,u.y).key]={backfilled:!1},D[new s.OverscaledTileID(g.overscaledZ,A,u.z,S,u.y).key]={backfilled:!1},u.y>0&&(D[new s.OverscaledTileID(g.overscaledZ,b,u.z,v,u.y-1).key]={backfilled:!1},D[new s.OverscaledTileID(g.overscaledZ,g.wrap,u.z,u.x,u.y-1).key]={backfilled:!1},D[new s.OverscaledTileID(g.overscaledZ,A,u.z,S,u.y-1).key]={backfilled:!1}),u.y+1<f&&(D[new s.OverscaledTileID(g.overscaledZ,b,u.z,v,u.y+1).key]={backfilled:!1},D[new s.OverscaledTileID(g.overscaledZ,g.wrap,u.z,u.x,u.y+1).key]={backfilled:!1},D[new s.OverscaledTileID(g.overscaledZ,A,u.z,S,u.y+1).key]={backfilled:!1}),D}unloadTile(g){g.demTexture&&this.map.painter.saveTileTexture(g.demTexture),g.fbo&&(g.fbo.destroy(),delete g.fbo),g.dem&&delete g.dem,delete g.neighboringTiles,g.state="unloaded"}},geojson:class extends s.Evented{constructor(g,u,f,v){super(),this.id=g,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=f.getActor(),this.setEventedParent(v),this._data=u.data,this._options=s.extend({},u),this._collectResourceTiming=u.collectResourceTiming,u.maxzoom!==void 0&&(this.maxzoom=u.maxzoom),u.type&&(this.type=u.type),u.attribution&&(this.attribution=u.attribution),this.promoteId=u.promoteId;const b=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:u.cluster||!1,geojsonVtOptions:{buffer:(u.buffer!==void 0?u.buffer:128)*b,tolerance:(u.tolerance!==void 0?u.tolerance:.375)*b,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:u.lineMetrics||!1,generateId:u.generateId||!1},superclusterOptions:{maxZoom:u.clusterMaxZoom!==void 0?u.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,u.clusterMinPoints||2),extent:s.EXTENT,radius:(u.clusterRadius!==void 0?u.clusterRadius:50)*b,log:!1,generateId:u.generateId||!1},clusterProperties:u.clusterProperties,filter:u.filter},u.workerOptions)}onAdd(g){this.map=g,this.setData(this._data)}setData(g){return this._data=g,this._updateWorkerData(),this}getClusterExpansionZoom(g,u){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:g,source:this.id},u),this}getClusterChildren(g,u){return this.actor.send("geojson.getClusterChildren",{clusterId:g,source:this.id},u),this}getClusterLeaves(g,u,f,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:g,limit:u,offset:f},v),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const g=s.extend({},this.workerOptions),u=this._data;typeof u=="string"?(g.request=this.map._requestManager.transformRequest(s.exported.resolveURL(u),s.ResourceType.Source),g.request.collectResourceTiming=this._collectResourceTiming):g.data=JSON.stringify(u),this._pendingLoad=this.actor.send(`${this.type}.loadData`,g,(f,v)=>{if(this._loaded=!0,this._pendingLoad=null,f)this.fire(new s.ErrorEvent(f));else{const b={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&v&&v.resourceTiming&&v.resourceTiming[this.id]&&(b.resourceTiming=v.resourceTiming[this.id]),this.fire(new s.Event("data",b)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(g,u){const f=g.actor?"reloadTile":"loadTile";g.actor=this.actor,g.request=this.actor.send(f,{type:this.type,uid:g.uid,tileID:g.tileID,tileZoom:g.tileZoom,zoom:g.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(v,b)=>(delete g.request,g.unloadVectorData(),g.aborted?u(null):v?u(v):(g.loadVectorData(b,this.map.painter,f==="reloadTile"),u(null))),void 0,f==="loadTile")}abortTile(g){g.request&&(g.request.cancel(),delete g.request),g.aborted=!0}unloadTile(g){g.unloadVectorData(),this.actor.send("removeTile",{uid:g.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Hn{constructor(g,u,f,v){super(g,u,f,v),this.roundZoom=!0,this.type="video",this.options=u}load(){this._loaded=!1;const g=this.options;this.urls=[];for(const u of g.urls)this.urls.push(this.map._requestManager.transformRequest(u,s.ResourceType.Source).url);s.getVideo(this.urls,(u,f)=>{this._loaded=!0,u?this.fire(new s.ErrorEvent(u)):f&&(this.video=f,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(g){if(this.video){const u=this.video.seekable;g<u.start(0)||g>u.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${u.start(0)} and ${u.end(0)}-second mark.`))):this.video.currentTime=g}}getVideo(){return this.video}onAdd(g){this.map||(this.map=g,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const g=this.map.painter.context,u=g.gl;this.texture?this.video.paused||(this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE),u.texSubImage2D(u.TEXTURE_2D,0,0,0,u.RGBA,u.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(g,this.video,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(g)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Hn,canvas:class extends Hn{constructor(g,u,f,v){super(g,u,f,v),u.coordinates?Array.isArray(u.coordinates)&&u.coordinates.length===4&&!u.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(S=>typeof S!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'missing required property "coordinates"'))),u.animate&&typeof u.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'optional "animate" property must be a boolean value'))),u.canvas?typeof u.canvas=="string"||u.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${g}`,null,'missing required property "canvas"'))),this.options=u,this.animate=u.animate===void 0||u.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(g){this.map=g,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let g=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,g=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,g=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const u=this.map.painter.context;this.texture?(g||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(u,this.canvas,u.gl.RGBA,{premultiply:!0}),this._prepareData(u)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const g of[this.canvas.width,this.canvas.height])if(isNaN(g)||g<=0)return!0;return!1}},custom:class extends s.Evented{constructor(g,u,f,v){super(),this.id=g,this.type="custom",this._dataType="raster",this._dispatcher=f,this._implementation=u,this.setEventedParent(v),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Rt(this._implementation.bounds,this.minzoom,this.maxzoom)),u.update=this._update.bind(this),u.clearTiles=this._clearTiles.bind(this),u.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(u,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(g){this._map=g,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(g),this.load()}onRemove(g){this._implementation.onRemove&&this._implementation.onRemove(g)}hasTile(g){if(this._implementation.hasTile){const{x:u,y:f,z:v}=g.canonical;return this._implementation.hasTile({x:u,y:f,z:v})}return!this.tileBounds||this.tileBounds.contains(g.canonical)}loadTile(g,u){const{x:f,y:v,z:b}=g.tileID.canonical,S=new s.window.AbortController;g.request=Promise.resolve(this._implementation.loadTile({x:f,y:v,z:b},{signal:S.signal})).then((function(A){return delete g.request,g.aborted?(g.state="unloaded",u(null)):A===void 0?(g.state="errored",u(null)):A===null?(this.loadTileData(g,{width:this.tileSize,height:this.tileSize,data:null}),g.state="loaded",u(null)):function(D){return D instanceof s.window.ImageData||D instanceof s.window.HTMLCanvasElement||D instanceof s.window.ImageBitmap||D instanceof s.window.HTMLImageElement}(A)?(this.loadTileData(g,A),g.state="loaded",void u(null)):(g.state="errored",u(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(A=>{A.code!==20&&(g.state="errored",u(A))}),g.request.cancel=()=>S.abort()}loadTileData(g,u){Ft.loadTileData(g,u,this._map.painter)}unloadTileData(g){Ft.unloadTileData(g,this._map.painter)}unloadTile(g,u){if(this.unloadTileData(g),this._implementation.unloadTile){const{x:f,y:v,z:b}=g.tileID.canonical;this._implementation.unloadTile({x:f,y:v,z:b})}u()}abortTile(g,u){g.request&&g.request.cancel&&(g.request.cancel(),delete g.request),u()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(g=>({x:g.canonical.x,y:g.canonical.y,z:g.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Dn=function(g,u,f,v){const b=new $n[u.type](g,u,f,v);if(b.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${b.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],b),b};function Wn(g,u){const f=s.identity([]);return s.scale(f,f,[.5*g.width,.5*-g.height,1]),s.translate(f,f,[1,-1,0]),s.multiply(f,f,g.calculateProjMatrix(u.toUnwrapped())),Float32Array.from(f)}function Rr(g,u,f,v,b,S,A,D=!1){const N=g.tilesIn(v,A,D);N.sort(ro);const K=[];for(const ie of N)K.push({wrappedTileID:ie.tile.tileID.wrapped().key,queryResults:ie.tile.queryRenderedFeatures(u,f,g._state,ie,b,S,Wn(g.transform,ie.tile.tileID),D)});const Y=function(ie){const ve={},we={};for(const Se of ie){const Ce=Se.queryResults,Ee=Se.wrappedTileID,le=we[Ee]=we[Ee]||{};for(const be in Ce){const Me=Ce[be],Ae=le[be]=le[be]||{},$e=ve[be]=ve[be]||[];for(const Ne of Me)Ae[Ne.featureIndex]||(Ae[Ne.featureIndex]=!0,$e.push(Ne))}}return ve}(K);for(const ie in Y)Y[ie].forEach(ve=>{const we=ve.feature,Se=we.layer;Se&&Se.type!=="background"&&Se.type!=="sky"&&(we.source=Se.source,Se["source-layer"]&&(we.sourceLayer=Se["source-layer"]),we.state=we.id!==void 0?g.getFeatureState(Se["source-layer"],we.id):{})});return Y}function Er(g,u){const f=g.getRenderableIds().map(S=>g.getTileByID(S)),v=[],b={};for(let S=0;S<f.length;S++){const A=f[S],D=A.tileID.canonical.key;b[D]||(b[D]=!0,A.querySourceFeatures(v,u))}return v}function ro(g,u){const f=g.tileID,v=u.tileID;return f.overscaledZ-v.overscaledZ||f.canonical.y-v.canonical.y||f.wrap-v.wrap||f.canonical.x-v.canonical.x}function ot(){return Gd.workerClass!=null?new Gd.workerClass:new s.window.Worker(Gd.workerUrl)}const dt="mapboxgl_preloaded_worker_pool";class tn{constructor(){this.active={}}acquire(u){if(!this.workers)for(this.workers=[];this.workers.length<tn.workerCount;)this.workers.push(new ot);return this.active[u]=!0,this.workers.slice()}release(u){delete this.active[u],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[dt]}numActive(){return Object.keys(this.active).length}}let Tn;function mr(){return Tn||(Tn=new tn),Tn}function kr(g,u){const f={};for(const v in g)v!=="ref"&&(f[v]=g[v]);return s.refProperties.forEach(v=>{v in u&&(f[v]=u[v])}),f}function Co(g){g=g.slice();const u=Object.create(null);for(let f=0;f<g.length;f++)u[g[f].id]=g[f];for(let f=0;f<g.length;f++)"ref"in g[f]&&(g[f]=kr(g[f],u[g[f].ref]));return g}tn.workerCount=2;const Jn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function lr(g,u,f){f.push({command:Jn.addSource,args:[g,u[g]]})}function qo(g,u,f){u.push({command:Jn.removeSource,args:[g]}),f[g]=!0}function af(g,u,f,v){qo(g,f,v),lr(g,u,f)}function md(g,u,f){let v;for(v in g[f])if(g[f].hasOwnProperty(v)&&v!=="data"&&!m(g[f][v],u[f][v]))return!1;for(v in u[f])if(u[f].hasOwnProperty(v)&&v!=="data"&&!m(g[f][v],u[f][v]))return!1;return!0}function Us(g,u,f,v,b,S){let A;for(A in u=u||{},g=g||{})g.hasOwnProperty(A)&&(m(g[A],u[A])||f.push({command:S,args:[v,A,u[A],b]}));for(A in u)u.hasOwnProperty(A)&&!g.hasOwnProperty(A)&&(m(g[A],u[A])||f.push({command:S,args:[v,A,u[A],b]}))}function Vs(g){return g.id}function lf(g,u){return g[u.id]=u,g}class gd{constructor(u,f){this.reset(u,f)}reset(u,f){this.points=u||[],this._distances=[0];for(let v=1;v<this.points.length;v++)this._distances[v]=this._distances[v-1]+this.points[v].dist(this.points[v-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(u){if(this.points.length===1)return this.points[0];u=s.clamp(u,0,1);let f=1,v=this._distances[f];const b=u*this.paddedLength+this.padding;for(;v<b&&f<this._distances.length;)v=this._distances[++f];const S=f-1,A=this._distances[S],D=v-A,N=D>0?(b-A)/D:0;return this.points[S].mult(1-N).add(this.points[f].mult(N))}}class Pl{constructor(u,f,v){const b=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(u/v),this.yCellCount=Math.ceil(f/v);for(let A=0;A<this.xCellCount*this.yCellCount;A++)b.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=u,this.height=f,this.xScale=this.xCellCount/u,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(u,f,v,b,S){this._forEachCell(f,v,b,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(u),this.bboxes.push(f),this.bboxes.push(v),this.bboxes.push(b),this.bboxes.push(S)}insertCircle(u,f,v,b){this._forEachCell(f-b,v-b,f+b,v+b,this._insertCircleCell,this.circleUid++),this.circleKeys.push(u),this.circles.push(f),this.circles.push(v),this.circles.push(b)}_insertBoxCell(u,f,v,b,S,A){this.boxCells[S].push(A)}_insertCircleCell(u,f,v,b,S,A){this.circleCells[S].push(A)}_query(u,f,v,b,S,A){if(v<0||u>this.width||b<0||f>this.height)return!S&&[];const D=[];if(u<=0&&f<=0&&this.width<=v&&this.height<=b){if(S)return!0;for(let N=0;N<this.boxKeys.length;N++)D.push({key:this.boxKeys[N],x1:this.bboxes[4*N],y1:this.bboxes[4*N+1],x2:this.bboxes[4*N+2],y2:this.bboxes[4*N+3]});for(let N=0;N<this.circleKeys.length;N++){const K=this.circles[3*N],Y=this.circles[3*N+1],ie=this.circles[3*N+2];D.push({key:this.circleKeys[N],x1:K-ie,y1:Y-ie,x2:K+ie,y2:Y+ie})}return A?D.filter(A):D}return this._forEachCell(u,f,v,b,this._queryCell,D,{hitTest:S,seenUids:{box:{},circle:{}}},A),S?D.length>0:D}_queryCircle(u,f,v,b,S){const A=u-v,D=u+v,N=f-v,K=f+v;if(D<0||A>this.width||K<0||N>this.height)return!b&&[];const Y=[];return this._forEachCell(A,N,D,K,this._queryCellCircle,Y,{hitTest:b,circle:{x:u,y:f,radius:v},seenUids:{box:{},circle:{}}},S),b?Y.length>0:Y}query(u,f,v,b,S){return this._query(u,f,v,b,!1,S)}hitTest(u,f,v,b,S){return this._query(u,f,v,b,!0,S)}hitTestCircle(u,f,v,b){return this._queryCircle(u,f,v,!0,b)}_queryCell(u,f,v,b,S,A,D,N){const K=D.seenUids,Y=this.boxCells[S];if(Y!==null){const ve=this.bboxes;for(const we of Y)if(!K.box[we]){K.box[we]=!0;const Se=4*we;if(u<=ve[Se+2]&&f<=ve[Se+3]&&v>=ve[Se+0]&&b>=ve[Se+1]&&(!N||N(this.boxKeys[we]))){if(D.hitTest)return A.push(!0),!0;A.push({key:this.boxKeys[we],x1:ve[Se],y1:ve[Se+1],x2:ve[Se+2],y2:ve[Se+3]})}}}const ie=this.circleCells[S];if(ie!==null){const ve=this.circles;for(const we of ie)if(!K.circle[we]){K.circle[we]=!0;const Se=3*we;if(this._circleAndRectCollide(ve[Se],ve[Se+1],ve[Se+2],u,f,v,b)&&(!N||N(this.circleKeys[we]))){if(D.hitTest)return A.push(!0),!0;{const Ce=ve[Se],Ee=ve[Se+1],le=ve[Se+2];A.push({key:this.circleKeys[we],x1:Ce-le,y1:Ee-le,x2:Ce+le,y2:Ee+le})}}}}}_queryCellCircle(u,f,v,b,S,A,D,N){const K=D.circle,Y=D.seenUids,ie=this.boxCells[S];if(ie!==null){const we=this.bboxes;for(const Se of ie)if(!Y.box[Se]){Y.box[Se]=!0;const Ce=4*Se;if(this._circleAndRectCollide(K.x,K.y,K.radius,we[Ce+0],we[Ce+1],we[Ce+2],we[Ce+3])&&(!N||N(this.boxKeys[Se])))return A.push(!0),!0}}const ve=this.circleCells[S];if(ve!==null){const we=this.circles;for(const Se of ve)if(!Y.circle[Se]){Y.circle[Se]=!0;const Ce=3*Se;if(this._circlesCollide(we[Ce],we[Ce+1],we[Ce+2],K.x,K.y,K.radius)&&(!N||N(this.circleKeys[Se])))return A.push(!0),!0}}}_forEachCell(u,f,v,b,S,A,D,N){const K=this._convertToXCellCoord(u),Y=this._convertToYCellCoord(f),ie=this._convertToXCellCoord(v),ve=this._convertToYCellCoord(b);for(let we=K;we<=ie;we++)for(let Se=Y;Se<=ve;Se++)if(S.call(this,u,f,v,b,this.xCellCount*Se+we,A,D,N))return}_convertToXCellCoord(u){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(u*this.xScale)))}_convertToYCellCoord(u){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(u*this.yScale)))}_circlesCollide(u,f,v,b,S,A){const D=b-u,N=S-f,K=v+A;return K*K>D*D+N*N}_circleAndRectCollide(u,f,v,b,S,A,D){const N=(A-b)/2,K=Math.abs(u-(b+N));if(K>N+v)return!1;const Y=(D-S)/2,ie=Math.abs(f-(S+Y));if(ie>Y+v)return!1;if(K<=N||ie<=Y)return!0;const ve=K-N,we=ie-Y;return ve*ve+we*we<=v*v}}const pa={unknown:0,flipRequired:1,flipNotRequired:2},fu=Math.tan(85*Math.PI/180);function _t(g,u,f,v,b,S,A){const D=s.create();if(f)if(S.name==="globe"){const N=s.calculateGlobeLabelMatrix(b,u);s.multiply(D,D,N)}else{const N=J([],A);D[0]=N[0],D[1]=N[1],D[4]=N[2],D[5]=N[3],v||s.rotateZ(D,D,b.angle)}else s.multiply(D,b.labelPlaneMatrix,g);return D}function ma(g,u,f,v,b,S,A){const D=_t(g,u,f,v,b,S,A);return S.name==="globe"&&f||(D[2]=D[6]=D[10]=D[14]=0),D}function Fo(g,u,f,v,b,S,A){if(f){if(S.name==="globe"){const D=_t(g,u,f,v,b,S,A);return s.invert(D,D),s.multiply(D,g,D),D}{const D=s.clone(g),N=s.identity([]);return N[0]=A[0],N[1]=A[1],N[4]=A[2],N[5]=A[3],s.multiply(D,D,N),v||s.rotateZ(D,D,-b.angle),D}}return b.glCoordMatrix}function yi(g,u,f,v){const b=[g,u,f,1];f?s.transformMat4$1(b,b,v):ur(b,b,v);const S=b[3];return b[0]/=S,b[1]/=S,b[2]/=S,b}function cf(g,u){return Math.min(.5+g/u*.5,1.5)}function Hs(g,u){const f=g[0]/g[3],v=g[1]/g[3];return f>=-u[0]&&f<=u[0]&&v>=-u[1]&&v<=u[1]}function yd(g,u,f,v,b,S,A,D,N,K){const Y=f.transform,ie=v?g.textSizeData:g.iconSizeData,ve=s.evaluateSizeForZoom(ie,f.transform.zoom),we=Y.projection.name==="globe",Se=[256/f.width*2+1,256/f.height*2+1],Ce=v?g.text.dynamicLayoutVertexArray:g.icon.dynamicLayoutVertexArray;Ce.clear();let Ee=null;we&&(Ee=v?g.text.globeExtVertexArray:g.icon.globeExtVertexArray);const le=g.lineVertexArray,be=v?g.text.placedSymbolArray:g.icon.placedSymbolArray,Me=f.transform.width/f.transform.height;let Ae,$e=!1;for(let Ne=0;Ne<be.length;Ne++){const Be=be.get(Ne),{numGlyphs:Je,writingMode:Ze}=Be;if(Ze!==s.WritingMode.vertical||$e||Ae===s.WritingMode.horizontal||($e=!0),Ae=Ze,(Be.hidden||Ze===s.WritingMode.vertical)&&!$e){cs(Je,Ce);continue}$e=!1;const at=new s.Point(Be.tileAnchorX,Be.tileAnchorY);let{x:Vt,y:nt,z:Tt}=Y.projection.projectTilePoint(at.x,at.y,K.canonical);if(N){const[Kn,xn,zn]=N(at);Vt+=Kn,nt+=xn,Tt+=zn}const ct=[Vt,nt,Tt,1];if(s.transformMat4$1(ct,ct,u),!Hs(ct,Se)){cs(Je,Ce);continue}const Nt=cf(f.transform.cameraToCenterDistance,ct[3]),it=s.evaluateSizeForFeature(ie,ve,Be),St=A?it/Nt:it*Nt,Gt=yi(Vt,nt,Tt,b);if(Gt[3]<=0){cs(Je,Ce);continue}let At={};const Zt=A?null:N,Mn=nn(Be,St,!1,D,u,b,S,g.glyphOffsetArray,le,Ce,Ee,Gt,at,At,Me,Zt,Y.projection,K,A);$e=Mn.useVertical,Zt&&Mn.needsFlipping&&(At={}),(Mn.notEnoughRoom||$e||Mn.needsFlipping&&nn(Be,St,!0,D,u,b,S,g.glyphOffsetArray,le,Ce,Ee,Gt,at,At,Me,Zt,Y.projection,K,A).notEnoughRoom)&&cs(Je,Ce)}v?(g.text.dynamicLayoutVertexBuffer.updateData(Ce),Ee&&g.text.globeExtVertexBuffer.updateData(Ee)):(g.icon.dynamicLayoutVertexBuffer.updateData(Ce),Ee&&g.icon.globeExtVertexBuffer.updateData(Ee))}function Qp(g,u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce){const{lineStartIndex:Ee,glyphStartIndex:le,segment:be}=D,Me=le+D.numGlyphs,Ae=Ee+D.lineLength,$e=u.getoffsetX(le),Ne=u.getoffsetX(Me-1),Be=zi(g*$e,f,v,b,S,A,be,Ee,Ae,N,K,Y,ie,ve,!0,we,Se,Ce);if(!Be)return null;const Je=zi(g*Ne,f,v,b,S,A,be,Ee,Ae,N,K,Y,ie,ve,!0,we,Se,Ce);return Je?{first:Be,last:Je}:null}function dc(g,u,f,v){return g===s.WritingMode.horizontal&&Math.abs(v)>Math.abs(f)?{useVertical:!0}:g===s.WritingMode.vertical?v>0?{needsFlipping:!0}:null:u!==pa.unknown&&function(b,S){return b===0||Math.abs(S/b)>fu}(f,v)?u===pa.flipRequired?{needsFlipping:!0}:null:f<0?{needsFlipping:!0}:null}function nn(g,u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce,Ee,le,be){const Me=u/24,Ae=g.lineOffsetX*Me,$e=g.lineOffsetY*Me,{lineStartIndex:Ne,glyphStartIndex:Be,numGlyphs:Je,segment:Ze,writingMode:at,flipState:Vt}=g,nt=Ne+g.lineLength,Tt=ct=>{if(Y){const[Gt,At,Zt]=ct.up,Mn=K.length;s.updateGlobeVertexNormal(Y,Mn+0,Gt,At,Zt),s.updateGlobeVertexNormal(Y,Mn+1,Gt,At,Zt),s.updateGlobeVertexNormal(Y,Mn+2,Gt,At,Zt),s.updateGlobeVertexNormal(Y,Mn+3,Gt,At,Zt)}const[Nt,it,St]=ct.point;s.addDynamicAttributes(K,Nt,it,St,ct.angle)};if(Je>1){const ct=Qp(Me,D,Ae,$e,f,ie,ve,g,N,S,we,Ce,!1,Ee,le,be);if(!ct)return{notEnoughRoom:!0};if(v&&!f){let[Nt,it,St]=ct.first.point,[Gt,At,Zt]=ct.last.point;[Nt,it]=yi(Nt,it,St,A),[Gt,At]=yi(Gt,At,Zt,A);const Mn=dc(at,Vt,(Gt-Nt)*Se,At-it);if(g.flipState=Mn&&Mn.needsFlipping?pa.flipRequired:pa.flipNotRequired,Mn)return Mn}Tt(ct.first);for(let Nt=Be+1;Nt<Be+Je-1;Nt++){const it=zi(Me*D.getoffsetX(Nt),Ae,$e,f,ie,ve,Ze,Ne,nt,N,S,we,Ce,!1,!1,Ee,le,be);if(!it)return K.length-=4*(Nt-Be),{notEnoughRoom:!0};Tt(it)}Tt(ct.last)}else{if(v&&!f){const Nt=yi(ve.x,ve.y,0,b),it=Ne+Ze+1,St=new s.Point(N.getx(it),N.gety(it)),Gt=yi(St.x,St.y,0,b),At=Gt[3]>0?Gt:cr(ve,St,Nt,1,b,void 0,Ee,le.canonical),Zt=dc(at,Vt,(At[0]-Nt[0])*Se,At[1]-Nt[1]);if(g.flipState=Zt&&Zt.needsFlipping?pa.flipRequired:pa.flipNotRequired,Zt)return Zt}const ct=zi(Me*D.getoffsetX(Be),Ae,$e,f,ie,ve,Ze,Ne,nt,N,S,we,Ce,!1,!1,Ee,le,be);if(!ct)return{notEnoughRoom:!0};Tt(ct)}return{}}function hr(g,u,f,v,b){const{x:S,y:A,z:D}=v.projectTilePoint(g.x,g.y,u);if(!b)return yi(S,A,D,f);const[N,K,Y]=b(g);return yi(S+N,A+K,D+Y,f)}function cr(g,u,f,v,b,S,A,D){const N=hr(g.sub(u)._unit()._add(g),D,b,A,S);return s.sub(N,f,N),s.normalize(N,N),s.scaleAndAdd(N,f,N,v)}function zi(g,u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce,Ee,le){const be=v?g-u:g+u;let Me=be>0?1:-1,Ae=0;v&&(Me*=-1,Ae=Math.PI),Me<0&&(Ae+=Math.PI);let $e=D+A+(Me>0?0:1)|0,Ne=b,Be=b,Je=0,Ze=0;const at=Math.abs(be),Vt=[],nt=[];let Tt=S,ct=Tt;const Nt=()=>cr(ct,Tt,Be,at-Je+1,Y,ve,Ce,Ee.canonical);for(;Je+Ze<=at;){if($e+=Me,$e<D||$e>=N)return null;if(Be=Ne,ct=Tt,Vt.push(Be),we&&nt.push(ct),Tt=new s.Point(K.getx($e),K.gety($e)),Ne=ie[$e],!Ne){const zn=hr(Tt,Ee.canonical,Y,Ce,ve);Ne=zn[3]>0?ie[$e]=zn:Nt()}Je+=Ze,Ze=s.distance(Be,Ne)}Se&&ve&&(ie[$e]&&(Ne=Nt(),Ze=s.distance(Be,Ne)),ie[$e]=Ne);const it=(at-Je)/Ze,St=Tt.sub(ct)._mult(it)._add(ct),Gt=s.sub([],Ne,Be),At=s.scaleAndAdd([],Be,Gt,it);let Zt=[0,0,1],Mn=Gt[0],Kn=Gt[1];if(le&&(Zt=Ce.upVector(Ee.canonical,St.x,St.y),Zt[0]!==0||Zt[1]!==0||Zt[2]!==1)){const zn=[Zt[2],0,-Zt[0]],pr=s.cross([],Zt,zn);s.normalize(zn,zn),s.normalize(pr,pr),Mn=s.dot(Gt,zn),Kn=s.dot(Gt,pr)}if(f){const zn=s.cross([],Zt,Gt);s.normalize(zn,zn),s.scaleAndAdd(At,At,zn,f*Me)}const xn=Ae+Math.atan2(Kn,Mn);return Vt.push(At),we&&nt.push(St),{point:At,angle:xn,path:Vt,tilePath:nt,up:Zt}}function cs(g,u){const f=u.length,v=f+4*g;u.resize(v),u.float32.fill(-1/0,4*f,4*v)}function ur(g,u,f){const v=u[0],b=u[1];return g[0]=f[0]*v+f[4]*b+f[12],g[1]=f[1]*v+f[5]*b+f[13],g[3]=f[3]*v+f[7]*b+f[15],g}const ns=100;class pu{constructor(u,f,v=new Pl(u.width+200,u.height+200,25),b=new Pl(u.width+200,u.height+200,25)){this.transform=u,this.grid=v,this.ignoredGrid=b,this.pitchfactor=Math.cos(u._pitch)*u.cameraToCenterDistance,this.screenRightBoundary=u.width+ns,this.screenBottomBoundary=u.height+ns,this.gridRightBoundary=u.width+200,this.gridBottomBoundary=u.height+200,this.fogState=f}placeCollisionBox(u,f,v,b,S,A,D,N){let K=v.projectedAnchorX,Y=v.projectedAnchorY,ie=v.projectedAnchorZ;const ve=v.elevation,we=v.tileID,Se=u.getProjection();if(ve&&we){const[Ne,Be,Je]=Se.upVector(we.canonical,v.tileAnchorX,v.tileAnchorY),Ze=Se.upVectorScale(we.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;K+=Ne*ve*Ze,Y+=Be*ve*Ze,ie+=Je*ve*Ze}const Ce=this.projectAndGetPerspectiveRatio(D,K,Y,ie,v.tileID,Se.name==="globe"||!!ve||this.transform.pitch>0,Se),Ee=A*Ce.perspectiveRatio,le=(v.x1*f+b.x-v.padding)*Ee+Ce.point.x,be=(v.y1*f+b.y-v.padding)*Ee+Ce.point.y,Me=(v.x2*f+b.x+v.padding)*Ee+Ce.point.x,Ae=(v.y2*f+b.y+v.padding)*Ee+Ce.point.y,$e=Ce.perspectiveRatio<=.55||Ce.occluded;return!this.isInsideGrid(le,be,Me,Ae)||!S&&this.grid.hitTest(le,be,Me,Ae,N)||$e?{box:[],offscreen:!1,occluded:Ce.occluded}:{box:[le,be,Me,Ae],offscreen:this.isOffscreen(le,be,Me,Ae),occluded:!1}}placeCollisionCircles(u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce){const Ee=[],le=this.transform.elevation,be=u.getProjection(),Me=le?le.getAtTileOffsetFunc(Ce,this.transform.center.lat,this.transform.worldSize,be):null,Ae=new s.Point(v.tileAnchorX,v.tileAnchorY);let{x:$e,y:Ne,z:Be}=be.projectTilePoint(Ae.x,Ae.y,Ce.canonical);if(Me){const[St,Gt,At]=Me(Ae);$e+=St,Ne+=Gt,Be+=At}const Je=be.name==="globe",Ze=this.projectAndGetPerspectiveRatio(D,$e,Ne,Be,Ce,Je||!!le||this.transform.pitch>0,be),{perspectiveRatio:at}=Ze,Vt=(ie?A/at:A*at)/s.ONE_EM,nt=yi($e,Ne,Be,N),Tt=Ze.signedDistanceFromCamera>0?Qp(Vt,S,v.lineOffsetX*Vt,v.lineOffsetY*Vt,!1,nt,Ae,v,b,N,{},le&&!ie?Me:null,ie&&!!le,be,Ce,ie):null;let ct=!1,Nt=!1,it=!0;if(Tt&&!Ze.occluded){const St=.5*we*at+Se,Gt=new s.Point(-100,-100),At=new s.Point(this.screenRightBoundary,this.screenBottomBoundary),Zt=new gd,{first:Mn,last:Kn}=Tt,xn=Mn.path.length;let zn=[];for(let Pn=xn-1;Pn>=1;Pn--)zn.push(Mn.path[Pn]);for(let Pn=1;Pn<Kn.path.length;Pn++)zn.push(Kn.path[Pn]);const pr=2.5*St;K&&(zn=zn.map(([Pn,Ur,Wr],qr)=>(Me&&!Je&&(Wr=Me(qr<xn-1?Mn.tilePath[xn-1-qr]:Kn.tilePath[qr-xn+2])[2]),yi(Pn,Ur,Wr,K))),zn.some(Pn=>Pn[3]<=0)&&(zn=[]));let fr=[];if(zn.length>0){let Pn=1/0,Ur=-1/0,Wr=1/0,qr=-1/0;for(const Zr of zn)Pn=Math.min(Pn,Zr[0]),Wr=Math.min(Wr,Zr[1]),Ur=Math.max(Ur,Zr[0]),qr=Math.max(qr,Zr[1]);Ur>=Gt.x&&Pn<=At.x&&qr>=Gt.y&&Wr<=At.y&&(fr=[zn.map(Zr=>new s.Point(Zr[0],Zr[1]))],(Pn<Gt.x||Ur>At.x||Wr<Gt.y||qr>At.y)&&(fr=s.clipLine(fr,Gt.x,Gt.y,At.x,At.y)))}for(const Pn of fr){Zt.reset(Pn,.25*St);let Ur=0;Ur=Zt.length<=.5*St?1:Math.ceil(Zt.paddedLength/pr)+1;for(let Wr=0;Wr<Ur;Wr++){const qr=Wr/Math.max(Ur-1,1),Zr=Zt.lerp(qr),Yi=Zr.x+ns,Mi=Zr.y+ns;Ee.push(Yi,Mi,St,0);const Zs=Yi-St,Ja=Mi-St,Eo=Yi+St,Yr=Mi+St;if(it=it&&this.isOffscreen(Zs,Ja,Eo,Yr),Nt=Nt||this.isInsideGrid(Zs,Ja,Eo,Yr),!f&&this.grid.hitTestCircle(Yi,Mi,St,ve)&&(ct=!0,!Y))return{circles:[],offscreen:!1,collisionDetected:ct,occluded:!1}}}}return{circles:!Y&&ct||!Nt?[]:Ee,offscreen:it,collisionDetected:ct,occluded:Ze.occluded}}queryRenderedSymbols(u){if(u.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let v=1/0,b=1/0,S=-1/0,A=-1/0;for(const Y of u){const ie=new s.Point(Y.x+ns,Y.y+ns);v=Math.min(v,ie.x),b=Math.min(b,ie.y),S=Math.max(S,ie.x),A=Math.max(A,ie.y),f.push(ie)}const D=this.grid.query(v,b,S,A).concat(this.ignoredGrid.query(v,b,S,A)),N={},K={};for(const Y of D){const ie=Y.key;if(N[ie.bucketInstanceId]===void 0&&(N[ie.bucketInstanceId]={}),N[ie.bucketInstanceId][ie.featureIndex])continue;const ve=[new s.Point(Y.x1,Y.y1),new s.Point(Y.x2,Y.y1),new s.Point(Y.x2,Y.y2),new s.Point(Y.x1,Y.y2)];s.polygonIntersectsPolygon(f,ve)&&(N[ie.bucketInstanceId][ie.featureIndex]=!0,K[ie.bucketInstanceId]===void 0&&(K[ie.bucketInstanceId]=[]),K[ie.bucketInstanceId].push(ie.featureIndex))}return K}insertCollisionBox(u,f,v,b,S){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:b,collisionGroupID:S},u[0],u[1],u[2],u[3])}insertCollisionCircles(u,f,v,b,S){const A=f?this.ignoredGrid:this.grid,D={bucketInstanceId:v,featureIndex:b,collisionGroupID:S};for(let N=0;N<u.length;N+=4)A.insertCircle(D,u[N],u[N+1],u[N+2])}projectAndGetPerspectiveRatio(u,f,v,b,S,A,D){const N=[f,v,b,1];let K=!1;b||this.transform.pitch>0?(s.transformMat4$1(N,N,u),this.fogState&&S&&D.name!=="globe"&&(K=function(ve,we,Se,Ce,Ee,le){const be=le.calculateFogTileMatrix(Ee),Me=[we,Se,Ce];return s.transformMat4(Me,Me,be),me(ve,Me,le.pitch,le._fov)}(this.fogState,f,v,b,S.toUnwrapped(),this.transform)>.9)):ur(N,N,u);const Y=N[3];return{point:new s.Point((N[0]/Y+1)/2*this.transform.width+ns,(-N[1]/Y+1)/2*this.transform.height+ns),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(D)/Y*.5,1.5),signedDistanceFromCamera:Y,occluded:A&&N[2]>Y||K}}isOffscreen(u,f,v,b){return v<ns||u>=this.screenRightBoundary||b<ns||f>this.screenBottomBoundary}isInsideGrid(u,f,v,b){return v>=0&&u<this.gridRightBoundary&&b>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const u=s.identity([]);return s.translate(u,u,[-100,-100,0]),u}}function kl(g,u,f){const v=u.createTileMatrix(g,g.worldSize,f.toUnwrapped());return s.multiply(new Float32Array(16),g.projMatrix,v)}function us(g,u,f){if(u.projection.name===f.projection.name)return g.projMatrix;const v=f.clone();return v.setProjection(u.projection),kl(v,u.getProjection(),g)}function po(g,u,f){return u.name===f.projection.name?g.projMatrix:kl(f,u,g)}class hc{constructor(u,f,v,b){this.opacity=u?Math.max(0,Math.min(1,u.opacity+(u.placed?f:-f))):b&&v?1:0,this.placed=v}isHidden(){return this.opacity===0&&!this.placed}}class ga{constructor(u,f,v,b,S,A=!1){this.text=new hc(u?u.text:null,f,v,S),this.icon=new hc(u?u.icon:null,f,b,S),this.clipped=A}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class fc{constructor(u,f,v,b=!1){this.text=u,this.icon=f,this.skipFade=v,this.clipped=b}}class pc{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class uf{constructor(u,f,v,b,S){this.bucketInstanceId=u,this.featureIndex=f,this.sourceLayerIndex=v,this.bucketIndex=b,this.tileID=S}}class em{constructor(u){this.crossSourceCollisions=u,this.maxGroupID=0,this.collisionGroups={}}get(u){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[u]){const f=++this.maxGroupID;this.collisionGroups[u]={ID:f,predicate:v=>v.collisionGroupID===f}}return this.collisionGroups[u]}}function mu(g,u,f,v,b){const{horizontalAlign:S,verticalAlign:A}=s.getAnchorAlignment(g),D=-(S-.5)*u,N=-(A-.5)*f,K=s.evaluateVariableOffset(g,v);return new s.Point(D+K[0]*b,N+K[1]*b)}function gu(g,u,f,v,b){const S=new s.Point(g,u);return f&&S._rotate(v?b:-b),S}class vd{constructor(u,f,v,b,S){this.transform=u.clone(),this.projection=u.projection.name,this.collisionIndex=new pu(this.transform,S),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new em(v),this.collisionCircleArrays={},this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(u,f,v,b){const S=v.getBucket(f),A=v.latestFeatureIndex;if(!S||!A||f.id!==S.layerIds[0])return;const D=S.layers[0].layout,N=v.collisionBoxArray,K=Math.pow(2,this.transform.zoom-v.tileID.overscaledZ),Y=v.tileSize/s.EXTENT,ie=v.tileID.toUnwrapped();this.transform.setProjection(S.projection);const ve=(we=v.tileID,Se=S.getProjection(),Ce=this.transform,Se.name===this.projection?Ce.calculateProjMatrix(we.toUnwrapped()):kl(Ce,Se,we));var we,Se,Ce;const Ee=D.get("text-pitch-alignment")==="map",le=D.get("text-rotation-alignment")==="map";f.compileFilter();const be=f.dynamicFilter(),Me=f.dynamicFilterNeedsFeature(),Ae=this.transform.calculatePixelsToTileUnitsMatrix(v),$e=ma(ve,v.tileID.canonical,Ee,le,this.transform,S.getProjection(),Ae);let Ne=null;if(Ee){const Ze=Fo(ve,v.tileID.canonical,Ee,le,this.transform,S.getProjection(),Ae);Ne=s.multiply([],this.transform.labelPlaneMatrix,Ze)}let Be=null;be&&v.latestFeatureIndex&&(Be={unwrappedTileID:ie,dynamicFilter:be,dynamicFilterNeedsFeature:Me,featureIndex:v.latestFeatureIndex}),this.retainedQueryData[S.bucketInstanceId]=new uf(S.bucketInstanceId,A,S.sourceLayerIndex,S.index,v.tileID);const Je={bucket:S,layout:D,posMatrix:ve,textLabelPlaneMatrix:$e,labelToScreenMatrix:Ne,clippingData:Be,scale:K,textPixelRatio:Y,holdingForFade:v.holdingForFade(),collisionBoxArray:N,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(S.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(S.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(b)for(const Ze of S.sortKeyRanges){const{sortKey:at,symbolInstanceStart:Vt,symbolInstanceEnd:nt}=Ze;u.push({sortKey:at,symbolInstanceStart:Vt,symbolInstanceEnd:nt,parameters:Je})}else u.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:Je})}attemptAnchorPlacement(u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce,Ee,le,be){const{textOffset0:Me,textOffset1:Ae,crossTileID:$e}=ve,Ne=[Me,Ae],Be=mu(u,v,b,Ne,S),Je=this.collisionIndex.placeCollisionBox(Se,S,f,gu(Be.x,Be.y,A,D,this.transform.angle),ie,N,K,Y.predicate);if(Ee){const Ze=Se.getSymbolInstanceIconSize(be,this.transform.zoom,ve.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Se,Ze,Ee,gu(Be.x,Be.y,A,D,this.transform.angle),ie,N,K,Y.predicate).box.length===0)return}if(Je.box.length>0){let Ze;return this.prevPlacement&&this.prevPlacement.variableOffsets[$e]&&this.prevPlacement.placements[$e]&&this.prevPlacement.placements[$e].text&&(Ze=this.prevPlacement.variableOffsets[$e].anchor),this.variableOffsets[$e]={textOffset:Ne,width:v,height:b,anchor:u,textScale:S,prevAnchor:Ze},this.markUsedJustification(Se,u,ve,Ce),Se.allowVerticalPlacement&&(this.markUsedOrientation(Se,Ce,ve),this.placedOrientations[$e]=Ce),{shift:Be,placedGlyphBoxes:Je}}}placeLayerBucketPart(u,f,v,b){const{bucket:S,layout:A,posMatrix:D,textLabelPlaneMatrix:N,labelToScreenMatrix:K,clippingData:Y,textPixelRatio:ie,holdingForFade:ve,collisionBoxArray:we,partiallyEvaluatedTextSize:Se,partiallyEvaluatedIconSize:Ce,collisionGroup:Ee}=u.parameters,le=A.get("text-optional"),be=A.get("icon-optional"),Me=A.get("text-allow-overlap"),Ae=A.get("icon-allow-overlap"),$e=A.get("text-rotation-alignment")==="map",Ne=A.get("text-pitch-alignment")==="map",Be=A.get("icon-text-fit")!=="none",Je=A.get("symbol-z-order")==="viewport-y";this.transform.setProjection(S.projection);let Ze=Me&&(Ae||!S.hasIconData()||be),at=Ae&&(Me||!S.hasTextData()||le);!S.collisionArrays&&we&&S.deserializeCollisionBoxes(we),v&&b&&S.updateCollisionDebugBuffers(this.transform.zoom,we);const Vt=(nt,Tt,ct)=>{const{crossTileID:Nt,numVerticalGlyphVertices:it}=nt;if(Y){const Eo={zoom:this.transform.zoom,pitch:this.transform.pitch};let Yr=null;if(Y.dynamicFilterNeedsFeature){const Or=this.retainedQueryData[S.bucketInstanceId];Yr=Y.featureIndex.loadFeature({featureIndex:nt.featureIndex,bucketIndex:Or.bucketIndex,sourceLayerIndex:Or.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,Y.dynamicFilter)(Eo,Yr,this.retainedQueryData[S.bucketInstanceId].tileID.canonical,new s.Point(nt.tileAnchorX,nt.tileAnchorY),this.transform.calculateDistanceTileData(Y.unwrappedTileID)))return this.placements[Nt]=new fc(!1,!1,!1,!0),void f.add(Nt)}if(f.has(Nt))return;if(ve)return void(this.placements[Nt]=new fc(!1,!1,!1));let St=!1,Gt=!1,At=!0,Zt=!1,Mn=!1,Kn=null,xn={box:null,offscreen:null,occluded:null},zn={box:null,offscreen:null,occluded:null},pr=null,fr=null,Pn=null,Ur=0,Wr=0,qr=0;ct.textFeatureIndex?Ur=ct.textFeatureIndex:nt.useRuntimeCollisionCircles&&(Ur=nt.featureIndex),ct.verticalTextFeatureIndex&&(Wr=ct.verticalTextFeatureIndex);const Zr=Eo=>{Eo.tileID=this.retainedQueryData[S.bucketInstanceId].tileID;const Yr=this.transform.elevation;(Yr||Eo.elevation)&&(Eo.elevation=Yr?Yr.getAtTileOffset(Eo.tileID,Eo.tileAnchorX,Eo.tileAnchorY):0)},Yi=ct.textBox;if(Yi){Zr(Yi);const Eo=Or=>{let ni=s.WritingMode.horizontal;if(S.allowVerticalPlacement&&!Or&&this.prevPlacement){const rs=this.prevPlacement.placedOrientations[Nt];rs&&(this.placedOrientations[Nt]=rs,ni=rs,this.markUsedOrientation(S,ni,nt))}return ni},Yr=(Or,ni)=>{if(S.allowVerticalPlacement&&it>0&&ct.verticalTextBox){for(const rs of S.writingModes)if(rs===s.WritingMode.vertical?(xn=ni(),zn=xn):xn=Or(),xn&&xn.box&&xn.box.length)break}else xn=Or()};if(A.get("text-variable-anchor")){let Or=A.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Nt]){const _o=this.prevPlacement.variableOffsets[Nt];Or.indexOf(_o.anchor)>0&&(Or=Or.filter(fs=>fs!==_o.anchor),Or.unshift(_o.anchor))}const ni=(_o,fs,wm)=>{const Mu=S.getSymbolInstanceTextSize(Se,nt,this.transform.zoom,Tt),jf=(_o.x2-_o.x1)*Mu+2*_o.padding,Fl=(_o.y2-_o.y1)*Mu+2*_o.padding,kc=Be&&!Ae?fs:null;kc&&Zr(kc);let Au={box:[],offscreen:!1,occluded:!1};const Cm=Me?2*Or.length:Or.length;for(let $f=0;$f<Cm;++$f){const lv=this.attemptAnchorPlacement(Or[$f%Or.length],_o,jf,Fl,Mu,$e,Ne,ie,D,Ee,$f>=Or.length,nt,Tt,S,wm,kc,Se,Ce);if(lv&&(Au=lv.placedGlyphBoxes,Au&&Au.box&&Au.box.length)){St=!0,Kn=lv.shift;break}}return Au};Yr(()=>ni(Yi,ct.iconBox,s.WritingMode.horizontal),()=>{const _o=ct.verticalTextBox;return _o&&Zr(_o),S.allowVerticalPlacement&&!(xn&&xn.box&&xn.box.length)&&it>0&&_o?ni(_o,ct.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),xn&&(St=xn.box,At=xn.offscreen,Zt=xn.occluded);const rs=Eo(!(!xn||!xn.box));if(!St&&this.prevPlacement){const _o=this.prevPlacement.variableOffsets[Nt];_o&&(this.variableOffsets[Nt]=_o,this.markUsedJustification(S,_o.anchor,nt,rs))}}else{const Or=(ni,rs)=>{const _o=S.getSymbolInstanceTextSize(Se,nt,this.transform.zoom,Tt),fs=this.collisionIndex.placeCollisionBox(S,_o,ni,new s.Point(0,0),Me,ie,D,Ee.predicate);return fs&&fs.box&&fs.box.length&&(this.markUsedOrientation(S,rs,nt),this.placedOrientations[Nt]=rs),fs};Yr(()=>Or(Yi,s.WritingMode.horizontal),()=>{const ni=ct.verticalTextBox;return S.allowVerticalPlacement&&it>0&&ni?(Zr(ni),Or(ni,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Eo(!!(xn&&xn.box&&xn.box.length))}}if(pr=xn,St=pr&&pr.box&&pr.box.length>0,At=pr&&pr.offscreen,Zt=pr&&pr.occluded,nt.useRuntimeCollisionCircles){const Eo=S.text.placedSymbolArray.get(nt.centerJustifiedTextSymbolIndex>=0?nt.centerJustifiedTextSymbolIndex:nt.verticalPlacedTextSymbolIndex),Yr=s.evaluateSizeForFeature(S.textSizeData,Se,Eo),Or=A.get("text-padding");fr=this.collisionIndex.placeCollisionCircles(S,Me,Eo,S.lineVertexArray,S.glyphOffsetArray,Yr,D,N,K,v,Ne,Ee.predicate,nt.collisionCircleDiameter*Yr/s.ONE_EM,Or,this.retainedQueryData[S.bucketInstanceId].tileID),St=Me||fr.circles.length>0&&!fr.collisionDetected,At=At&&fr.offscreen,Zt=fr.occluded}if(ct.iconFeatureIndex&&(qr=ct.iconFeatureIndex),ct.iconBox){const Eo=Yr=>{Zr(Yr);const Or=Be&&Kn?gu(Kn.x,Kn.y,$e,Ne,this.transform.angle):new s.Point(0,0),ni=S.getSymbolInstanceIconSize(Ce,this.transform.zoom,nt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(S,ni,Yr,Or,Ae,ie,D,Ee.predicate)};zn&&zn.box&&zn.box.length&&ct.verticalIconBox?(Pn=Eo(ct.verticalIconBox),Gt=Pn.box.length>0):(Pn=Eo(ct.iconBox),Gt=Pn.box.length>0),At=At&&Pn.offscreen,Mn=Pn.occluded}const Mi=le||nt.numHorizontalGlyphVertices===0&&it===0,Zs=be||nt.numIconVertices===0;if(Mi||Zs?Zs?Mi||(Gt=Gt&&St):St=Gt&&St:Gt=St=Gt&&St,St&&pr&&pr.box&&this.collisionIndex.insertCollisionBox(pr.box,A.get("text-ignore-placement"),S.bucketInstanceId,zn&&zn.box&&Wr?Wr:Ur,Ee.ID),Gt&&Pn&&this.collisionIndex.insertCollisionBox(Pn.box,A.get("icon-ignore-placement"),S.bucketInstanceId,qr,Ee.ID),fr&&(St&&this.collisionIndex.insertCollisionCircles(fr.circles,A.get("text-ignore-placement"),S.bucketInstanceId,Ur,Ee.ID),v)){const Eo=S.bucketInstanceId;let Yr=this.collisionCircleArrays[Eo];Yr===void 0&&(Yr=this.collisionCircleArrays[Eo]=new pc);for(let Or=0;Or<fr.circles.length;Or+=4)Yr.circles.push(fr.circles[Or+0]),Yr.circles.push(fr.circles[Or+1]),Yr.circles.push(fr.circles[Or+2]),Yr.circles.push(fr.collisionDetected?1:0)}const Ja=S.projection.name!=="globe";Ze=Ze&&(Ja||!Zt),at=at&&(Ja||!Mn),this.placements[Nt]=new fc(St||Ze,Gt||at,At||S.justReloaded),f.add(Nt)};if(Je){const nt=S.getSortedSymbolIndexes(this.transform.angle);for(let Tt=nt.length-1;Tt>=0;--Tt){const ct=nt[Tt];Vt(S.symbolInstances.get(ct),ct,S.collisionArrays[ct])}}else for(let nt=u.symbolInstanceStart;nt<u.symbolInstanceEnd;nt++)Vt(S.symbolInstances.get(nt),nt,S.collisionArrays[nt]);if(v&&S.bucketInstanceId in this.collisionCircleArrays){const nt=this.collisionCircleArrays[S.bucketInstanceId];s.invert(nt.invProjMatrix,D),nt.viewportMatrix=this.collisionIndex.getViewportMatrix()}S.justReloaded=!1}markUsedJustification(u,f,v,b){const{leftJustifiedTextSymbolIndex:S,centerJustifiedTextSymbolIndex:A,rightJustifiedTextSymbolIndex:D,verticalPlacedTextSymbolIndex:N,crossTileID:K}=v,Y=s.getAnchorJustification(f),ie=b===s.WritingMode.vertical?N:Y==="left"?S:Y==="center"?A:Y==="right"?D:-1;S>=0&&(u.text.placedSymbolArray.get(S).crossTileID=ie>=0&&S!==ie?0:K),A>=0&&(u.text.placedSymbolArray.get(A).crossTileID=ie>=0&&A!==ie?0:K),D>=0&&(u.text.placedSymbolArray.get(D).crossTileID=ie>=0&&D!==ie?0:K),N>=0&&(u.text.placedSymbolArray.get(N).crossTileID=ie>=0&&N!==ie?0:K)}markUsedOrientation(u,f,v){const b=f===s.WritingMode.horizontal||f===s.WritingMode.horizontalOnly?f:0,S=f===s.WritingMode.vertical?f:0,{leftJustifiedTextSymbolIndex:A,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:N,verticalPlacedTextSymbolIndex:K}=v,Y=u.text.placedSymbolArray;A>=0&&(Y.get(A).placedOrientation=b),D>=0&&(Y.get(D).placedOrientation=b),N>=0&&(Y.get(N).placedOrientation=b),K>=0&&(Y.get(K).placedOrientation=S)}commit(u){this.commitTime=u,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let v=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const b=f?f.symbolFadeChange(u):1,S=f?f.opacities:{},A=f?f.variableOffsets:{},D=f?f.placedOrientations:{};for(const N in this.placements){const K=this.placements[N],Y=S[N];Y?(this.opacities[N]=new ga(Y,b,K.text,K.icon,null,K.clipped),v=v||K.text!==Y.text.placed||K.icon!==Y.icon.placed):(this.opacities[N]=new ga(null,b,K.text,K.icon,K.skipFade,K.clipped),v=v||K.text||K.icon)}for(const N in S){const K=S[N];if(!this.opacities[N]){const Y=new ga(K,b,!1,!1);Y.isHidden()||(this.opacities[N]=Y,v=v||K.text.placed||K.icon.placed)}}for(const N in A)this.variableOffsets[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.variableOffsets[N]=A[N]);for(const N in D)this.placedOrientations[N]||!this.opacities[N]||this.opacities[N].isHidden()||(this.placedOrientations[N]=D[N]);v?this.lastPlacementChangeTime=u:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:u)}updateLayerOpacities(u,f){const v=new Set;for(const b of f){const S=b.getBucket(u);S&&b.latestFeatureIndex&&u.id===S.layerIds[0]&&this.updateBucketOpacities(S,v,b.collisionBoxArray)}}updateBucketOpacities(u,f,v){u.hasTextData()&&u.text.opacityVertexArray.clear(),u.hasIconData()&&u.icon.opacityVertexArray.clear(),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexArray.clear(),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexArray.clear();const b=u.layers[0].layout,S=!!u.layers[0].dynamicFilter(),A=new ga(null,0,!1,!1,!0),D=b.get("text-allow-overlap"),N=b.get("icon-allow-overlap"),K=b.get("text-variable-anchor"),Y=b.get("text-rotation-alignment")==="map",ie=b.get("text-pitch-alignment")==="map",ve=b.get("icon-text-fit")!=="none",we=new ga(null,0,D&&(N||!u.hasIconData()||b.get("icon-optional")),N&&(D||!u.hasTextData()||b.get("text-optional")),!0);!u.collisionArrays&&v&&(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData())&&u.deserializeCollisionBoxes(v);const Se=(Ee,le,be)=>{for(let Me=0;Me<le/4;Me++)Ee.opacityVertexArray.emplaceBack(be)};let Ce=0;for(let Ee=0;Ee<u.symbolInstances.length;Ee++){const le=u.symbolInstances.get(Ee),{numHorizontalGlyphVertices:be,numVerticalGlyphVertices:Me,crossTileID:Ae,numIconVertices:$e}=le,Ne=f.has(Ae);let Be=this.opacities[Ae];Ne?Be=A:Be||(Be=we,this.opacities[Ae]=Be),f.add(Ae);const Je=be>0||Me>0,Ze=$e>0,at=this.placedOrientations[Ae],Vt=at===s.WritingMode.vertical,nt=at===s.WritingMode.horizontal||at===s.WritingMode.horizontalOnly;if(!Je&&!Ze||Be.isHidden()||Ce++,Je){const Tt=yu(Be.text);Se(u.text,be,Vt?So:Tt),Se(u.text,Me,nt?So:Tt);const ct=Be.text.isHidden(),{leftJustifiedTextSymbolIndex:Nt,centerJustifiedTextSymbolIndex:it,rightJustifiedTextSymbolIndex:St,verticalPlacedTextSymbolIndex:Gt}=le,At=u.text.placedSymbolArray,Zt=ct||Vt?1:0;Nt>=0&&(At.get(Nt).hidden=Zt),it>=0&&(At.get(it).hidden=Zt),St>=0&&(At.get(St).hidden=Zt),Gt>=0&&(At.get(Gt).hidden=ct||nt?1:0);const Mn=this.variableOffsets[Ae];Mn&&this.markUsedJustification(u,Mn.anchor,le,at);const Kn=this.placedOrientations[Ae];Kn&&(this.markUsedJustification(u,"left",le,Kn),this.markUsedOrientation(u,Kn,le))}if(Ze){const Tt=yu(Be.icon),{placedIconSymbolIndex:ct,verticalPlacedIconSymbolIndex:Nt}=le,it=u.icon.placedSymbolArray,St=Be.icon.isHidden()?1:0;ct>=0&&(Se(u.icon,$e,Vt?So:Tt),it.get(ct).hidden=St),Nt>=0&&(Se(u.icon,le.numVerticalIconVertices,nt?So:Tt),it.get(Nt).hidden=St)}if(u.hasIconCollisionBoxData()||u.hasTextCollisionBoxData()){const Tt=u.collisionArrays[Ee];if(Tt){let ct=new s.Point(0,0),Nt=!0;if(Tt.textBox||Tt.verticalTextBox){if(K){const St=this.variableOffsets[Ae];St?(ct=mu(St.anchor,St.width,St.height,St.textOffset,St.textScale),Y&&ct._rotate(ie?this.transform.angle:-this.transform.angle)):Nt=!1}S&&(Nt=!Be.clipped),Tt.textBox&&mc(u.textCollisionBox.collisionVertexArray,Be.text.placed,!Nt||Vt,ct.x,ct.y),Tt.verticalTextBox&&mc(u.textCollisionBox.collisionVertexArray,Be.text.placed,!Nt||nt,ct.x,ct.y)}const it=Nt&&!!(!nt&&Tt.verticalIconBox);Tt.iconBox&&mc(u.iconCollisionBox.collisionVertexArray,Be.icon.placed,it,ve?ct.x:0,ve?ct.y:0),Tt.verticalIconBox&&mc(u.iconCollisionBox.collisionVertexArray,Be.icon.placed,!it,ve?ct.x:0,ve?ct.y:0)}}}if(u.fullyClipped=Ce===0,u.sortFeatures(this.transform.angle),this.retainedQueryData[u.bucketInstanceId]&&(this.retainedQueryData[u.bucketInstanceId].featureSortOrder=u.featureSortOrder),u.hasTextData()&&u.text.opacityVertexBuffer&&u.text.opacityVertexBuffer.updateData(u.text.opacityVertexArray),u.hasIconData()&&u.icon.opacityVertexBuffer&&u.icon.opacityVertexBuffer.updateData(u.icon.opacityVertexArray),u.hasIconCollisionBoxData()&&u.iconCollisionBox.collisionVertexBuffer&&u.iconCollisionBox.collisionVertexBuffer.updateData(u.iconCollisionBox.collisionVertexArray),u.hasTextCollisionBoxData()&&u.textCollisionBox.collisionVertexBuffer&&u.textCollisionBox.collisionVertexBuffer.updateData(u.textCollisionBox.collisionVertexArray),u.bucketInstanceId in this.collisionCircleArrays){const Ee=this.collisionCircleArrays[u.bucketInstanceId];u.placementInvProjMatrix=Ee.invProjMatrix,u.placementViewportMatrix=Ee.viewportMatrix,u.collisionCircleArray=Ee.circles,delete this.collisionCircleArrays[u.bucketInstanceId]}}symbolFadeChange(u){return this.fadeDuration===0?1:(u-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(u){return Math.max(0,(this.transform.zoom-u)/1.5)}hasTransitions(u){return this.stale||u-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(u,f){const v=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*v>u}setStale(){this.stale=!0}}function mc(g,u,f,v,b){g.emplaceBack(u?1:0,f?1:0,v||0,b||0),g.emplaceBack(u?1:0,f?1:0,v||0,b||0),g.emplaceBack(u?1:0,f?1:0,v||0,b||0),g.emplaceBack(u?1:0,f?1:0,v||0,b||0)}const qi=Math.pow(2,25),oo=Math.pow(2,24),df=Math.pow(2,17),hf=Math.pow(2,16),Fi=Math.pow(2,9),ds=Math.pow(2,8),ya=Math.pow(2,1);function yu(g){if(g.opacity===0&&!g.placed)return 0;if(g.opacity===1&&g.placed)return 4294967295;const u=g.placed?1:0,f=Math.floor(127*g.opacity);return f*qi+u*oo+f*df+u*hf+f*Fi+u*ds+f*ya+u}const So=0;class va{constructor(u){this._sortAcrossTiles=u.layout.get("symbol-z-order")!=="viewport-y"&&u.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(u,f,v,b,S){const A=this._bucketParts;for(;this._currentTileIndex<u.length;)if(f.getBucketParts(A,b,u[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,A.sort((D,N)=>D.sortKey-N.sortKey));this._currentPartIndex<A.length;){const D=A[this._currentPartIndex];if(f.placeLayerBucketPart(D,this._seenCrossTileIDs,v,D.symbolInstanceStart===0),this._currentPartIndex++,S())return!0}return!1}}class ff{constructor(u,f,v,b,S,A,D,N){this.placement=new vd(u,S,A,D,N),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(u,f,v){const b=s.exported.now(),S=()=>{const A=s.exported.now()-b;return!this._forceFullPlacement&&A>2};for(;this._currentPlacementIndex>=0;){const A=f[u[this._currentPlacementIndex]],D=this.placement.collisionIndex.transform.zoom;if(A.type==="symbol"&&(!A.minzoom||A.minzoom<=D)&&(!A.maxzoom||A.maxzoom>D)){if(this._inProgressLayer||(this._inProgressLayer=new va(A)),this._inProgressLayer.continuePlacement(v[A.source],this.placement,this._showCollisionBoxes,A,S))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(u){return this.placement.commit(u),this.placement}}const Il=512/s.EXTENT/2;class Ci{constructor(u,f,v){this.tileID=u,this.bucketInstanceId=v,this.index=new s.KDBush(f.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const b=u.canonical.x*s.EXTENT,S=u.canonical.y*s.EXTENT;for(let A=0;A<f.length;A++){const{key:D,crossTileID:N,tileAnchorX:K,tileAnchorY:Y}=f.get(A),ie=Math.floor((b+K)*Il),ve=Math.floor((S+Y)*Il);this.index.add(ie,ve),this.keys.push(D),this.crossTileIDs.push(N)}this.index.finish()}findMatches(u,f,v){const b=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z),S=Il/Math.pow(2,f.canonical.z-this.tileID.canonical.z),A=f.canonical.x*s.EXTENT,D=f.canonical.y*s.EXTENT;for(let N=0;N<u.length;N++){const K=u.get(N);if(K.crossTileID)continue;const{key:Y,tileAnchorX:ie,tileAnchorY:ve}=K,we=Math.floor((A+ie)*S),Se=Math.floor((D+ve)*S),Ce=this.index.range(we-b,Se-b,we+b,Se+b);for(const Ee of Ce){const le=this.crossTileIDs[Ee];if(this.keys[Ee]===Y&&!v.has(le)){v.add(le),K.crossTileID=le;break}}}}}class _d{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class qa{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(u){const f=Math.round((u-this.lng)/360);if(f!==0)for(const v in this.indexes){const b=this.indexes[v],S={};for(const A in b){const D=b[A];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+f),S[D.tileID.key]=D}this.indexes[v]=S}this.lng=u}addBucket(u,f,v){if(this.indexes[u.overscaledZ]&&this.indexes[u.overscaledZ][u.key]){if(this.indexes[u.overscaledZ][u.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(u.overscaledZ,this.indexes[u.overscaledZ][u.key])}for(let S=0;S<f.symbolInstances.length;S++)f.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[u.overscaledZ]||(this.usedCrossTileIDs[u.overscaledZ]=new Set);const b=this.usedCrossTileIDs[u.overscaledZ];for(const S in this.indexes){const A=this.indexes[S];if(Number(S)>u.overscaledZ)for(const D in A){const N=A[D];N.tileID.isChildOf(u)&&N.findMatches(f.symbolInstances,u,b)}else{const D=A[u.scaledTo(Number(S)).key];D&&D.findMatches(f.symbolInstances,u,b)}}for(let S=0;S<f.symbolInstances.length;S++){const A=f.symbolInstances.get(S);A.crossTileID||(A.crossTileID=v.generate(),b.add(A.crossTileID))}return this.indexes[u.overscaledZ]===void 0&&(this.indexes[u.overscaledZ]={}),this.indexes[u.overscaledZ][u.key]=new Ci(u,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(u,f){for(const v of f.crossTileIDs)this.usedCrossTileIDs[u].delete(v)}removeStaleBuckets(u){let f=!1;for(const v in this.indexes){const b=this.indexes[v];for(const S in b)u[b[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(v,b[S]),delete b[S],f=!0)}return f}}class _a{constructor(){this.layerIndexes={},this.crossTileIDs=new _d,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(u,f,v,b){let S=this.layerIndexes[u.id];S===void 0&&(S=this.layerIndexes[u.id]=new qa);let A=!1;const D={};b.name!=="globe"&&S.handleWrapJump(v);for(const N of f){const K=N.getBucket(u);K&&u.id===K.layerIds[0]&&(K.bucketInstanceId||(K.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(N.tileID,K,this.crossTileIDs)&&(A=!0),D[K.bucketInstanceId]=!0)}return S.removeStaleBuckets(D)&&(A=!0),A}pruneUnusedLayers(u){const f={};u.forEach(v=>{f[v]=!0});for(const v in this.layerIndexes)f[v]||delete this.layerIndexes[v]}}const Za=(g,u)=>s.emitValidationErrors(g,u&&u.filter(f=>f.identifier!=="source.canvas")),xd=s.pick(Jn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),$y=s.pick(Jn,["setCenter","setZoom","setBearing","setPitch"]),pf={version:8,layers:[],sources:{}},gc={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Gs extends s.Evented{constructor(u,f={}){super(),this.map=u,this.dispatcher=new Te(mr(),this),this.imageManager=new se,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(u._requestManager,f.localFontFamily?s.LocalGlyphMode.all:f.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,f.localFontFamily||f.localIdeographFontFamily),this.crossTileSymbolIndex=new _a,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const v=this;this._rtlTextPluginCallback=Gs.registerForPluginStateChange(b=>{v.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:b.pluginStatus,pluginURL:b.pluginURL},(S,A)=>{if(s.triggerPluginCompletionEvent(S),A&&A.every(D=>D))for(const D in v._sourceCaches){const N=v._sourceCaches[D],K=N.getSource().type;K!=="vector"&&K!=="geojson"||N.reload()}})}),this.on("data",b=>{if(b.dataType!=="source"||b.sourceDataType!=="metadata")return;const S=this.getSource(b.sourceId);if(S&&S.vectorLayerIds)for(const A in this._layers){const D=this._layers[A];D.source===S.id&&this._validateLayer(D)}})}loadURL(u,f={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const v=typeof f.validate=="boolean"?f.validate:!s.isMapboxURL(u);u=this.map._requestManager.normalizeStyleURL(u,f.accessToken);const b=this.map._requestManager.transformRequest(u,s.ResourceType.Style);this._request=s.getJSON(b,(S,A)=>{this._request=null,S?this.fire(new s.ErrorEvent(S)):A&&this._load(A,v)})}loadJSON(u,f={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(u,f.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(pf,!1)}_updateLayerCount(u,f){const v=f?1:-1;u.is3D()&&(this._num3DLayers+=v),u.type==="circle"&&(this._numCircleLayers+=v),u.type==="symbol"&&(this._numSymbolLayers+=v)}_load(u,f){if(f&&Za(this,s.validateStyle(u)))return;this._loaded=!0,this.stylesheet=s.clone$1(u),this._updateMapProjection();for(const b in u.sources)this.addSource(b,u.sources[b],{validate:!1});this._changed=!1,u.sprite?this._loadSprite(u.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(u.glyphs);const v=Co(this.stylesheet.layers);this._order=v.map(b=>b.id),this._layers={},this._serializedLayers={};for(const b of v){const S=s.createStyleLayer(b);S.setEventedParent(this,{layer:{id:S.id}}),this._layers[S.id]=S,this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new pe(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(u){u?this.stylesheet.projection=u:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(u){this._spriteRequest=function(f,v,b){let S,A,D;const N=s.exported.devicePixelRatio>1?"@2x":"";let K=s.getJSON(v.transformRequest(v.normalizeSpriteURL(f,N,".json"),s.ResourceType.SpriteJSON),(ve,we)=>{K=null,D||(D=ve,S=we,ie())}),Y=s.getImage(v.transformRequest(v.normalizeSpriteURL(f,N,".png"),s.ResourceType.SpriteImage),(ve,we)=>{Y=null,D||(D=ve,A=we,ie())});function ie(){if(D)b(D);else if(S&&A){const ve=s.exported.getImageData(A),we={};for(const Se in S){const{width:Ce,height:Ee,x:le,y:be,sdf:Me,pixelRatio:Ae,stretchX:$e,stretchY:Ne,content:Be}=S[Se],Je=new s.RGBAImage({width:Ce,height:Ee});s.RGBAImage.copy(ve,Je,{x:le,y:be},{x:0,y:0},{width:Ce,height:Ee}),we[Se]={data:Je,pixelRatio:Ae,sdf:Me,stretchX:$e,stretchY:Ne,content:Be}}b(null,we)}}return{cancel(){K&&(K.cancel(),K=null),Y&&(Y.cancel(),Y=null)}}}(u,this.map._requestManager,(f,v)=>{if(this._spriteRequest=null,f)this.fire(new s.ErrorEvent(f));else if(v)for(const b in v)this.imageManager.addImage(b,v[b]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(u){const f=this.getSource(u.source);if(!f)return;const v=u.sourceLayer;v&&(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(v)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${v}" does not exist on source "${f.id}" as specified by style layer "${u.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const u in this._sourceCaches)if(!this._sourceCaches[u].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(u){const f=[];for(const v of u){const b=this._layers[v];b.type!=="custom"&&f.push(b.serialize())}return f}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const u in this._sourceCaches)if(this._sourceCaches[u].hasTransition())return!0;for(const u in this._layers)if(this._layers[u].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(u){return!!this.terrain&&(typeof u.isLayerDraped=="function"?u.isLayerDraped():gc[u.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(u){if(!this._loaded)return;const f=this._changed;if(this._changed){const b=Object.keys(this._updatedLayers),S=Object.keys(this._removedLayers);(b.length||S.length)&&this._updateWorkerLayers(b,S);for(const A in this._updatedSources){const D=this._updatedSources[A];D==="reload"?this._reloadSource(A):D==="clear"&&this._clearSource(A)}this._updateTilesForChangedImages();for(const A in this._updatedPaintProps)this._layers[A].updateTransitions(u);this.light.updateTransitions(u),this.fog&&this.fog.updateTransitions(u),this._resetUpdates()}const v={};for(const b in this._sourceCaches){const S=this._sourceCaches[b];v[b]=S.used,S.used=!1}for(const b of this._order){const S=this._layers[b];if(S.recalculate(u,this._availableImages),!S.isHidden(u.zoom)){const D=this._getLayerSourceCache(S);D&&(D.used=!0)}const A=this.map.painter;if(A){const D=S.getProgramIds();if(!D)continue;const N=S.getProgramConfiguration(u.zoom);for(const K of D)A.useProgram(K,N)}}for(const b in v){const S=this._sourceCaches[b];v[b]!==S.used&&S.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:S.getSource().id}))}this.light.recalculate(u),this.terrain&&this.terrain.recalculate(u),this.fog&&this.fog.recalculate(u),this.z=u.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),f&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const u=Object.keys(this._changedImages);if(u.length){for(const f in this._sourceCaches)this._sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],u);this._changedImages={}}}_updateWorkerLayers(u,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(u),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(u){if(this._checkLoaded(),Za(this,s.validateStyle(u)))return!1;(u=s.clone$1(u)).layers=Co(u.layers);const f=function(b,S){if(!b)return[{command:Jn.setStyle,args:[S]}];let A=[];try{if(!m(b.version,S.version))return[{command:Jn.setStyle,args:[S]}];m(b.center,S.center)||A.push({command:Jn.setCenter,args:[S.center]}),m(b.zoom,S.zoom)||A.push({command:Jn.setZoom,args:[S.zoom]}),m(b.bearing,S.bearing)||A.push({command:Jn.setBearing,args:[S.bearing]}),m(b.pitch,S.pitch)||A.push({command:Jn.setPitch,args:[S.pitch]}),m(b.sprite,S.sprite)||A.push({command:Jn.setSprite,args:[S.sprite]}),m(b.glyphs,S.glyphs)||A.push({command:Jn.setGlyphs,args:[S.glyphs]}),m(b.transition,S.transition)||A.push({command:Jn.setTransition,args:[S.transition]}),m(b.light,S.light)||A.push({command:Jn.setLight,args:[S.light]}),m(b.fog,S.fog)||A.push({command:Jn.setFog,args:[S.fog]}),m(b.projection,S.projection)||A.push({command:Jn.setProjection,args:[S.projection]});const D={},N=[];(function(ie,ve,we,Se){let Ce;for(Ce in ve=ve||{},ie=ie||{})ie.hasOwnProperty(Ce)&&(ve.hasOwnProperty(Ce)||qo(Ce,we,Se));for(Ce in ve){if(!ve.hasOwnProperty(Ce))continue;const Ee=ve[Ce];ie.hasOwnProperty(Ce)?m(ie[Ce],Ee)||(ie[Ce].type==="geojson"&&Ee.type==="geojson"&&md(ie,ve,Ce)?we.push({command:Jn.setGeoJSONSourceData,args:[Ce,Ee.data]}):af(Ce,ve,we,Se)):lr(Ce,ve,we)}})(b.sources,S.sources,N,D);const K=[];b.layers&&b.layers.forEach(ie=>{ie.source&&D[ie.source]?A.push({command:Jn.removeLayer,args:[ie.id]}):K.push(ie)});let Y=b.terrain;Y&&D[Y.source]&&(A.push({command:Jn.setTerrain,args:[void 0]}),Y=void 0),A=A.concat(N),m(Y,S.terrain)||A.push({command:Jn.setTerrain,args:[S.terrain]}),function(ie,ve,we){ve=ve||[];const Se=(ie=ie||[]).map(Vs),Ce=ve.map(Vs),Ee=ie.reduce(lf,{}),le=ve.reduce(lf,{}),be=Se.slice(),Me=Object.create(null);let Ae,$e,Ne,Be,Je,Ze,at;for(Ae=0,$e=0;Ae<Se.length;Ae++)Ne=Se[Ae],le.hasOwnProperty(Ne)?$e++:(we.push({command:Jn.removeLayer,args:[Ne]}),be.splice(be.indexOf(Ne,$e),1));for(Ae=0,$e=0;Ae<Ce.length;Ae++)Ne=Ce[Ce.length-1-Ae],be[be.length-1-Ae]!==Ne&&(Ee.hasOwnProperty(Ne)?(we.push({command:Jn.removeLayer,args:[Ne]}),be.splice(be.lastIndexOf(Ne,be.length-$e),1)):$e++,Ze=be[be.length-Ae],we.push({command:Jn.addLayer,args:[le[Ne],Ze]}),be.splice(be.length-Ae,0,Ne),Me[Ne]=!0);for(Ae=0;Ae<Ce.length;Ae++)if(Ne=Ce[Ae],Be=Ee[Ne],Je=le[Ne],!Me[Ne]&&!m(Be,Je))if(m(Be.source,Je.source)&&m(Be["source-layer"],Je["source-layer"])&&m(Be.type,Je.type)){for(at in Us(Be.layout,Je.layout,we,Ne,null,Jn.setLayoutProperty),Us(Be.paint,Je.paint,we,Ne,null,Jn.setPaintProperty),m(Be.filter,Je.filter)||we.push({command:Jn.setFilter,args:[Ne,Je.filter]}),m(Be.minzoom,Je.minzoom)&&m(Be.maxzoom,Je.maxzoom)||we.push({command:Jn.setLayerZoomRange,args:[Ne,Je.minzoom,Je.maxzoom]}),Be)Be.hasOwnProperty(at)&&at!=="layout"&&at!=="paint"&&at!=="filter"&&at!=="metadata"&&at!=="minzoom"&&at!=="maxzoom"&&(at.indexOf("paint.")===0?Us(Be[at],Je[at],we,Ne,at.slice(6),Jn.setPaintProperty):m(Be[at],Je[at])||we.push({command:Jn.setLayerProperty,args:[Ne,at,Je[at]]}));for(at in Je)Je.hasOwnProperty(at)&&!Be.hasOwnProperty(at)&&at!=="layout"&&at!=="paint"&&at!=="filter"&&at!=="metadata"&&at!=="minzoom"&&at!=="maxzoom"&&(at.indexOf("paint.")===0?Us(Be[at],Je[at],we,Ne,at.slice(6),Jn.setPaintProperty):m(Be[at],Je[at])||we.push({command:Jn.setLayerProperty,args:[Ne,at,Je[at]]}))}else we.push({command:Jn.removeLayer,args:[Ne]}),Ze=be[be.lastIndexOf(Ne)+1],we.push({command:Jn.addLayer,args:[Je,Ze]})}(K,S.layers,A)}catch(D){console.warn("Unable to compute style diff:",D),A=[{command:Jn.setStyle,args:[S]}]}return A}(this.serialize(),u).filter(b=>!(b.command in $y));if(f.length===0)return!1;const v=f.filter(b=>!(b.command in xd));if(v.length>0)throw new Error(`Unimplemented: ${v.map(b=>b.command).join(", ")}.`);return f.forEach(b=>{b.command!=="setTransition"&&b.command!=="setProjection"&&this[b.command].apply(this,b.args)}),this.stylesheet=u,this._updateMapProjection(),!0}addImage(u,f){return this.getImage(u)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(u,f),this._afterImageUpdated(u),this)}updateImage(u,f){this.imageManager.updateImage(u,f)}getImage(u){return this.imageManager.getImage(u)}removeImage(u){return this.getImage(u)?(this.imageManager.removeImage(u),this._afterImageUpdated(u),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(u){this._availableImages=this.imageManager.listImages(),this._changedImages[u]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(u,f,v={}){if(this._checkLoaded(),this.getSource(u)!==void 0)throw new Error("There is already a source with this ID");if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(s.validateSource,`sources.${u}`,f,null,v))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const b=Dn(u,f,this.dispatcher,this);b.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(u),source:b.serialize(),sourceId:u}));const S=A=>{const D=(A?"symbol:":"other:")+u,N=this._sourceCaches[D]=new s.SourceCache(D,b,A);(A?this._symbolSourceCaches:this._otherSourceCaches)[u]=N,N.style=this,N.onAdd(this.map)};S(!1),f.type!=="vector"&&f.type!=="geojson"||S(!0),b.onAdd&&b.onAdd(this.map),this._changed=!0}removeSource(u){this._checkLoaded();const f=this.getSource(u);if(!f)throw new Error("There is no source with this ID");for(const b in this._layers)if(this._layers[b].source===u)return this.fire(new s.ErrorEvent(new Error(`Source "${u}" cannot be removed while layer "${b}" is using it.`)));if(this.terrain&&this.terrain.get().source===u)return this.fire(new s.ErrorEvent(new Error(`Source "${u}" cannot be removed while terrain is using it.`)));const v=this._getSourceCaches(u);for(const b of v)delete this._sourceCaches[b.id],delete this._updatedSources[b.id],b.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:b.getSource().id})),b.setEventedParent(null),b.clearTiles();return delete this._otherSourceCaches[u],delete this._symbolSourceCaches[u],f.setEventedParent(null),f.onRemove&&f.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(u,f){this._checkLoaded(),this.getSource(u).setData(f),this._changed=!0}getSource(u){const f=this._getSourceCache(u);return f&&f.getSource()}_getSources(){const u=[];for(const f in this._otherSourceCaches){const v=this._getSourceCache(f);v&&u.push(v.getSource())}return u}addLayer(u,f,v={}){this._checkLoaded();const b=u.id;if(this.getLayer(b))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${b}" already exists on this map`)));let S;if(u.type==="custom"){if(Za(this,s.validateCustomStyleLayer(u)))return;S=s.createStyleLayer(u)}else{if(typeof u.source=="object"&&(this.addSource(b,u.source),u=s.clone$1(u),u=s.extend(u,{source:b})),this._validate(s.validateLayer,`layers.${b}`,u,{arrayIndex:-1},v))return;S=s.createStyleLayer(u),this._validateLayer(S),S.setEventedParent(this,{layer:{id:b}}),this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0)}const A=f?this._order.indexOf(f):this._order.length;if(f&&A===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${f}" does not exist on this map.`)));this._order.splice(A,0,b),this._layerOrderChanged=!0,this._layers[b]=S;const D=this._getLayerSourceCache(S);if(this._removedLayers[b]&&S.source&&D&&S.type!=="custom"){const N=this._removedLayers[b];delete this._removedLayers[b],N.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",D.pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(u,f){if(this._checkLoaded(),this._changed=!0,!this._layers[u])return void this.fire(new s.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot be moved.`)));if(u===f)return;const v=this._order.indexOf(u);this._order.splice(v,1);const b=f?this._order.indexOf(f):this._order.length;f&&b===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${f}" does not exist on this map.`))):(this._order.splice(b,0,u),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(u){this._checkLoaded();const f=this._layers[u];if(!f)return void this.fire(new s.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot be removed.`)));f.setEventedParent(null),this._updateLayerCount(f,!1);const v=this._order.indexOf(u);this._order.splice(v,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[u]=f,delete this._layers[u],delete this._serializedLayers[u],delete this._updatedLayers[u],delete this._updatedPaintProps[u],f.onRemove&&f.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(u){return this._layers[u]}hasLayer(u){return u in this._layers}hasLayerType(u){for(const f in this._layers)if(this._layers[f].type===u)return!0;return!1}setLayerZoomRange(u,f,v){this._checkLoaded();const b=this.getLayer(u);b?b.minzoom===f&&b.maxzoom===v||(f!=null&&(b.minzoom=f),v!=null&&(b.maxzoom=v),this._updateLayer(b)):this.fire(new s.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(u,f,v={}){this._checkLoaded();const b=this.getLayer(u);if(b){if(!m(b.filter,f))return f==null?(b.filter=void 0,void this._updateLayer(b)):void(this._validate(s.validateFilter,`layers.${b.id}.filter`,f,{layerType:b.type},v)||(b.filter=s.clone$1(f),this._updateLayer(b)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot be filtered.`)))}getFilter(u){const f=this.getLayer(u);return f&&s.clone$1(f.filter)}setLayoutProperty(u,f,v,b={}){this._checkLoaded();const S=this.getLayer(u);S?m(S.getLayoutProperty(f),v)||(S.setLayoutProperty(f,v,b),this._updateLayer(S)):this.fire(new s.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(u,f){const v=this.getLayer(u);if(v)return v.getLayoutProperty(f);this.fire(new s.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style.`)))}setPaintProperty(u,f,v,b={}){this._checkLoaded();const S=this.getLayer(u);S?m(S.getPaintProperty(f),v)||(S.setPaintProperty(f,v,b)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[u]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${u}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(u,f){const v=this.getLayer(u);return v&&v.getPaintProperty(f)}setFeatureState(u,f){this._checkLoaded();const v=u.source,b=u.sourceLayer,S=this.getSource(v);if(!S)return void this.fire(new s.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const A=S.type;if(A==="geojson"&&b)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(A==="vector"&&!b)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));u.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const D=this._getSourceCaches(v);for(const N of D)N.setFeatureState(b,u.id,f)}removeFeatureState(u,f){this._checkLoaded();const v=u.source,b=this.getSource(v);if(!b)return void this.fire(new s.ErrorEvent(new Error(`The source '${v}' does not exist in the map's style.`)));const S=b.type,A=S==="vector"?u.sourceLayer:void 0;if(S==="vector"&&!A)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(f&&typeof u.id!="string"&&typeof u.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const D=this._getSourceCaches(v);for(const N of D)N.removeFeatureState(A,u.id,f)}getFeatureState(u){this._checkLoaded();const f=u.source,v=u.sourceLayer,b=this.getSource(f);if(b){if(b.type!=="vector"||v)return u.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(f)[0].getFeatureState(v,u.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const u={};for(const f in this._sourceCaches){const v=this._sourceCaches[f].getSource();u[v.id]||(u[v.id]=v.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:u,layers:this._serializeLayers(this._order)},f=>f!==void 0)}_updateLayer(u){this._updatedLayers[u.id]=!0;const f=this._getLayerSourceCache(u);u.source&&!this._updatedSources[u.source]&&f&&f.getSource().type!=="raster"&&(this._updatedSources[u.source]="reload",f.pause()),this._changed=!0,u.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(u){const f=A=>this._layers[A].type==="fill-extrusion",v={},b=[];for(let A=this._order.length-1;A>=0;A--){const D=this._order[A];if(f(D)){v[D]=A;for(const N of u){const K=N[D];if(K)for(const Y of K)b.push(Y)}}}b.sort((A,D)=>D.intersectionZ-A.intersectionZ);const S=[];for(let A=this._order.length-1;A>=0;A--){const D=this._order[A];if(f(D))for(let N=b.length-1;N>=0;N--){const K=b[N].feature;if(v[K.layer.id]<A)break;S.push(K),b.pop()}else for(const N of u){const K=N[D];if(K)for(const Y of K)S.push(Y.feature)}}return S}queryRenderedFeatures(u,f,v){f&&f.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",f.filter,null,f);const b={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const N of f.layers){const K=this._layers[N];if(!K)return this.fire(new s.ErrorEvent(new Error(`The layer '${N}' does not exist in the map's style and cannot be queried for features.`))),[];b[K.source]=!0}}const S=[];f.availableImages=this._availableImages;const A=f&&f.layers?f.layers.some(N=>{const K=this.getLayer(N);return K&&K.is3D()}):this.has3DLayers(),D=We.createFromScreenPoints(u,v);for(const N in this._sourceCaches){const K=this._sourceCaches[N].getSource().id;f.layers&&!b[K]||S.push(Rr(this._sourceCaches[N],this._layers,this._serializedLayers,D,f,v,A,!!this.map._showQueryGeometry))}return this.placement&&S.push(function(N,K,Y,ie,ve,we,Se){const Ce={},Ee=we.queryRenderedSymbols(ie),le=[];for(const be of Object.keys(Ee).map(Number))le.push(Se[be]);le.sort(ro);for(const be of le){const Me=be.featureIndex.lookupSymbolFeatures(Ee[be.bucketInstanceId],K,be.bucketIndex,be.sourceLayerIndex,ve.filter,ve.layers,ve.availableImages,N);for(const Ae in Me){const $e=Ce[Ae]=Ce[Ae]||[],Ne=Me[Ae];Ne.sort((Be,Je)=>{const Ze=be.featureSortOrder;if(Ze){const at=Ze.indexOf(Be.featureIndex);return Ze.indexOf(Je.featureIndex)-at}return Je.featureIndex-Be.featureIndex});for(const Be of Ne)$e.push(Be)}}for(const be in Ce)Ce[be].forEach(Me=>{const Ae=Me.feature,$e=Y(N[be]);if(!$e)return;const Ne=$e.getFeatureState(Ae.layer["source-layer"],Ae.id);Ae.source=Ae.layer.source,Ae.layer["source-layer"]&&(Ae.sourceLayer=Ae.layer["source-layer"]),Ae.state=Ne});return Ce}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),D.screenGeometry,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(S)}querySourceFeatures(u,f){f&&f.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",f.filter,null,f);const v=this._getSourceCaches(u);let b=[];for(const S of v)b=b.concat(Er(S,f));return b}addSourceType(u,f,v){return Gs.getSourceType(u)?v(new Error(`A source type called "${u}" already exists.`)):(Gs.setSourceType(u,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:u,url:f.workerSourceURL},v):v(null,null))}getLight(){return this.light.getLight()}setLight(u,f={}){this._checkLoaded();const v=this.light.getLight();let b=!1;for(const A in u)if(!m(u[A],v[A])){b=!0;break}if(!b)return;const S=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(u,f),this.light.updateTransitions(S)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(u,f=1){if(this._checkLoaded(),!u)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let v=u;if(f===1){if(typeof v.source=="object"){const b="terrain-dem-src";this.addSource(b,v.source),v=s.clone$1(v),v=s.extend(v,{source:b})}if(this._validate(s.validateTerrain,"terrain",v))return}if(!this.terrain||this.terrain&&f!==this.terrain.drapeRenderMode){if(!v)return;this._createTerrain(v,f)}else{const b=this.terrain,S=b.get();for(const A of Object.keys(s.spec.terrain))!v.hasOwnProperty(A)&&s.spec.terrain[A].default&&(v[A]=s.spec.terrain[A].default);for(const A in v)if(!m(v[A],S[A])){b.set(v),this.stylesheet.terrain=v;const D=this._setTransitionParameters({duration:0});b.updateTransitions(D);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(u){const f=this.fog=new ge(u,this.map.transform);this.stylesheet.fog=u;const v=this._setTransitionParameters({duration:0});f.updateTransitions(v)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const u of this.map._markers)u._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(u){if(this._checkLoaded(),!u)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const f=this.fog,v=f.get();Object.keys(u).length===0&&f.set(u);for(const b in u)if(!m(u[b],v[b])){f.set(u),this.stylesheet.fog=u;const S=this._setTransitionParameters({duration:0});f.updateTransitions(S);break}}else this._createFog(u);this._markersNeedUpdate=!0}_setTransitionParameters(u){return{now:s.exported.now(),transition:s.extend(u,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const u=this._order.filter(v=>this.isLayerDraped(this._layers[v])),f=this._order.filter(v=>!this.isLayerDraped(this._layers[v]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...u),this._drapedFirstOrder.push(...f)}_createTerrain(u,f){const v=this.terrain=new oe(u,f);this.stylesheet.terrain=u,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const b=this._setTransitionParameters({duration:0});v.updateTransitions(b)}_force3DLayerUpdate(){for(const u in this._layers){const f=this._layers[u];f.type==="fill-extrusion"&&this._updateLayer(f)}}_forceSymbolLayerUpdate(){for(const u in this._layers){const f=this._layers[u];f.type==="symbol"&&this._updateLayer(f)}}_validate(u,f,v,b,S={}){return(!S||S.validate!==!1)&&Za(this,u.call(s.validateStyle,s.extend({key:f,style:this.serialize(),value:v,styleSpec:s.spec},b)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this._sourceCaches)this._sourceCaches[u].clearTiles(),this._sourceCaches[u].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(u){const f=this._getSourceCaches(u);for(const v of f)v.clearTiles()}_reloadSource(u){const f=this._getSourceCaches(u);for(const v of f)v.resume(),v.reload()}_reloadSources(){for(const u of this._getSources())u.reload&&u.reload()}_updateSources(u){for(const f in this._sourceCaches)this._sourceCaches[f].update(u)}_generateCollisionBoxes(){for(const u in this._sourceCaches){const f=this._sourceCaches[u];f.resume(),f.reload()}}_updatePlacement(u,f,v,b,S=!1){let A=!1,D=!1;const N={};for(const K of this._order){const Y=this._layers[K];if(Y.type!=="symbol")continue;if(!N[Y.source]){const ve=this._getLayerSourceCache(Y);if(!ve)continue;N[Y.source]=ve.getRenderableIds(!0).map(we=>ve.getTileByID(we)).sort((we,Se)=>Se.tileID.overscaledZ-we.tileID.overscaledZ||(we.tileID.isLessThan(Se.tileID)?-1:1))}const ie=this.crossTileSymbolIndex.addLayer(Y,N[Y.source],u.center.lng,u.projection);A=A||ie}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),S=S||this._layerOrderChanged||v===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(S||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),u.zoom))&&(this.pauseablePlacement=new ff(u,this._order,S,f,v,b,this.placement,this.fog&&u.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,N),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),D=!0),A&&this.pauseablePlacement.placement.setStale()),D||A)for(const K of this._order){const Y=this._layers[K];Y.type==="symbol"&&this.placement.updateLayerOpacities(Y,N[Y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const u in this._sourceCaches)this._sourceCaches[u].releaseSymbolFadeTiles()}getImages(u,f,v){this.imageManager.getImages(f.icons,v),this._updateTilesForChangedImages();const b=S=>{S&&S.setDependencies(f.tileID.key,f.type,f.icons)};b(this._otherSourceCaches[f.source]),b(this._symbolSourceCaches[f.source])}getGlyphs(u,f,v){this.glyphManager.getGlyphs(f.stacks,v)}getResource(u,f,v){return s.makeRequest(f,v)}_getSourceCache(u){return this._otherSourceCaches[u]}_getLayerSourceCache(u){return u.type==="symbol"?this._symbolSourceCaches[u.source]:this._otherSourceCaches[u.source]}_getSourceCaches(u){const f=[];return this._otherSourceCaches[u]&&f.push(this._otherSourceCaches[u]),this._symbolSourceCaches[u]&&f.push(this._symbolSourceCaches[u]),f}_isSourceCacheLoaded(u){const f=this._getSourceCaches(u);return f.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${u}'`))),!1):f.every(v=>v.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Gs.getSourceType=function(g){return $n[g]},Gs.setSourceType=function(g,u){$n[g]=u},Gs.registerForPluginStateChange=s.registerForPluginStateChange;var mf=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Ml="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Rs=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,yc=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,xa=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let bd={},vc={};const _c=[];Ya(mf,_c),Ya(Rs,_c),Ya(yc,_c),Ya(xa,_c),bd=_r("",Rs),vc=_r(xa,yc);const tm=_r(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),xc=mf,wd=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Cd={background:_r(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:_r(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:_r(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:_r("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:_r(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:_r(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:_r("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:_r("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:_r("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:_r(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:_r(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:_r(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:_r(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:_r(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:_r(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:_r(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:_r(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:_r(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:_r(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:_r(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:_r(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:_r(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:_r(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:_r(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:_r(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:_r(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ml),skyboxGradient:_r(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ml),skyboxCapture:_r(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:_r(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:_r(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Ya(g,u){const f=g.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let v of f)if(v=v.trim(),v[0]==="#"&&v.includes("if")&&!v.includes("endif")){v=v.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const b=v.split(" ");for(const S of b)u.includes(S)||u.push(S)}}function _r(g,u){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,v=u.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),b={},S=[..._c];return Ya(g,S),Ya(u,S),{fragmentSource:g=g.replace(f,(A,D,N,K,Y)=>(b[Y]=!0,D==="define"?`
#ifndef HAS_UNIFORM_u_${Y}
varying ${N} ${K} ${Y};
#else
uniform ${N} ${K} u_${Y};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Y}
    ${N} ${K} ${Y} = u_${Y};
#endif
`)),vertexSource:u=u.replace(f,(A,D,N,K,Y)=>{const ie=K==="float"?"vec2":"vec4",ve=Y.match(/color/)?"color":ie;return b[Y]?D==="define"?`
#ifndef HAS_UNIFORM_u_${Y}
uniform lowp float u_${Y}_t;
attribute ${N} ${ie} a_${Y};
varying ${N} ${K} ${Y};
#else
uniform ${N} ${K} u_${Y};
#endif
`:ve==="vec4"?`
#ifndef HAS_UNIFORM_u_${Y}
    ${Y} = a_${Y};
#else
    ${N} ${K} ${Y} = u_${Y};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Y}
    ${Y} = unpack_mix_${ve}(a_${Y}, u_${Y}_t);
#else
    ${N} ${K} ${Y} = u_${Y};
#endif
`:D==="define"?`
#ifndef HAS_UNIFORM_u_${Y}
uniform lowp float u_${Y}_t;
attribute ${N} ${ie} a_${Y};
#else
uniform ${N} ${K} u_${Y};
#endif
`:ve==="vec4"?`
#ifndef HAS_UNIFORM_u_${Y}
    ${N} ${K} ${Y} = a_${Y};
#else
    ${N} ${K} ${Y} = u_${Y};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Y}
    ${N} ${K} ${Y} = unpack_mix_${ve}(a_${Y}, u_${Y}_t);
#else
    ${N} ${K} ${Y} = u_${Y};
#endif
`}),staticAttributes:v,usedDefines:S}}class By{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(u,f,v,b,S,A,D){this.context=u;let N=this.boundPaintVertexBuffers.length!==b.length;for(let Y=0;!N&&Y<b.length;Y++)this.boundPaintVertexBuffers[Y]!==b[Y]&&(N=!0);let K=this.boundDynamicVertexBuffers.length!==D.length;for(let Y=0;!K&&Y<D.length;Y++)this.boundDynamicVertexBuffers[Y]!==D[Y]&&(K=!0);if(!u.extVertexArrayObject||!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==v||N||K||this.boundIndexBuffer!==S||this.boundVertexOffset!==A)this.freshBind(f,v,b,S,A,D);else{u.bindVertexArrayOES.set(this.vao);for(const Y of D)Y&&Y.bind();S&&S.dynamicDraw&&S.bind()}}freshBind(u,f,v,b,S,A){let D;const N=u.numAttributes,K=this.context,Y=K.gl;if(K.extVertexArrayObject)this.vao&&this.destroy(),this.vao=K.extVertexArrayObject.createVertexArrayOES(),K.bindVertexArrayOES.set(this.vao),D=0,this.boundProgram=u,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=v,this.boundIndexBuffer=b,this.boundVertexOffset=S,this.boundDynamicVertexBuffers=A;else{D=K.currentNumAttributes||0;for(let ie=N;ie<D;ie++)Y.disableVertexAttribArray(ie)}f.enableAttributes(Y,u),f.bind(),f.setVertexAttribPointers(Y,u,S);for(const ie of v)ie.enableAttributes(Y,u),ie.bind(),ie.setVertexAttribPointers(Y,u,S);for(const ie of A)ie&&(ie.enableAttributes(Y,u),ie.bind(),ie.setVertexAttribPointers(Y,u,S));b&&b.bind(),K.currentNumAttributes=N}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Sd(g,u){const f=Math.pow(2,u.canonical.z),v=u.canonical.y;return[new s.MercatorCoordinate(0,v/f).toLngLat().lat,new s.MercatorCoordinate(0,(v+1)/f).toLngLat().lat]}function gf(g,u,f,v,b,S,A){const D=g.context,N=D.gl,K=f.fbo;if(!K)return;g.prepareDrawTile();const Y=g.useProgram("hillshade");D.activeTexture.set(N.TEXTURE0),N.bindTexture(N.TEXTURE_2D,K.colorAttachment.get());const ie=((Ce,Ee,le,be)=>{const Me=le.paint.get("hillshade-shadow-color"),Ae=le.paint.get("hillshade-highlight-color"),$e=le.paint.get("hillshade-accent-color");let Ne=le.paint.get("hillshade-illumination-direction")*(Math.PI/180);le.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ne-=Ce.transform.angle);const Be=!Ce.options.moving;return{u_matrix:be||Ce.transform.calculateProjMatrix(Ee.tileID.toUnwrapped(),Be),u_image:0,u_latrange:Sd(0,Ee.tileID),u_light:[le.paint.get("hillshade-exaggeration"),Ne],u_shadow:Me,u_highlight:Ae,u_accent:$e}})(g,f,v,g.terrain?u.projMatrix:null);g.prepareDrawProgram(D,Y,u.toUnwrapped());const{tileBoundsBuffer:ve,tileBoundsIndexBuffer:we,tileBoundsSegments:Se}=g.getTileBoundsBuffers(f);Y.draw(D,N.TRIANGLES,b,S,A,s.CullFaceMode.disabled,ie,v.id,ve,we,Se)}function Td(g,u,f){if(!u.needsDEMTextureUpload)return;const v=g.context,b=v.gl;v.pixelStoreUnpackPremultiplyAlpha.set(!1),u.demTexture=u.demTexture||g.getTileTexture(f.stride);const S=f.getPixels();u.demTexture?u.demTexture.update(S,{premultiply:!1}):u.demTexture=new s.Texture(v,S,b.RGBA,{premultiply:!1}),u.needsDEMTextureUpload=!1}function yf(g,u,f,v,b,S){const A=g.context,D=A.gl;if(!u.dem)return;const N=u.dem;if(A.activeTexture.set(D.TEXTURE1),Td(g,u,N),!u.demTexture)return;u.demTexture.bind(D.NEAREST,D.CLAMP_TO_EDGE);const K=N.dim;A.activeTexture.set(D.TEXTURE0);let Y=u.fbo;if(!Y){const Se=new s.Texture(A,{width:K,height:K,data:null},D.RGBA);Se.bind(D.LINEAR,D.CLAMP_TO_EDGE),Y=u.fbo=A.createFramebuffer(K,K,!0),Y.colorAttachment.set(Se.texture)}A.bindFramebuffer.set(Y.framebuffer),A.viewport.set([0,0,K,K]);const{tileBoundsBuffer:ie,tileBoundsIndexBuffer:ve,tileBoundsSegments:we}=g.getMercatorTileBoundsBuffers();g.useProgram("hillshadePrepare").draw(A,D.TRIANGLES,v,b,S,s.CullFaceMode.disabled,((Se,Ce)=>{const Ee=Ce.stride,le=s.create();return s.ortho(le,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(le,le,[0,-s.EXTENT,0]),{u_matrix:le,u_image:1,u_dimension:[Ee,Ee],u_zoom:Se.overscaledZ,u_unpack:Ce.unpackVector}})(u.tileID,N),f.id,ie,ve,we),u.needsHillshadePrepare=!1}const Ed=g=>({u_matrix:new s.UniformMatrix4f(g),u_image0:new s.Uniform1i(g),u_skirt_height:new s.Uniform1f(g)}),Al=(g,u)=>({u_matrix:g,u_image0:0,u_skirt_height:u}),vu=(g,u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se)=>({u_proj_matrix:Float32Array.from(g),u_globe_matrix:u,u_normalize_matrix:Float32Array.from(v),u_merc_matrix:f,u_zoom_transition:b,u_merc_center:S,u_image0:0,u_frustum_tl:A,u_frustum_tr:D,u_frustum_br:N,u_frustum_bl:K,u_globe_pos:Y,u_globe_radius:ie,u_viewport:ve,u_grid_matrix:Se?Float32Array.from(Se):new Float32Array(9),u_skirt_height:we});function Rl(g,u){return g!=null&&u!=null&&!(!g.hasData()||!u.hasData())&&g.demTexture!=null&&u.demTexture!=null&&g.tileID.key!==u.tileID.key}const Ws=new class{constructor(){this.operations={}}newMorphing(g,u,f,v,b){if(g in this.operations){const S=this.operations[g];S.to.tileID.key!==f.tileID.key&&(S.queued=f)}else this.operations[g]={startTime:v,phase:0,duration:b,from:u,to:f,queued:null}}getMorphValuesForProxy(g){if(!(g in this.operations))return null;const u=this.operations[g];return{from:u.from,to:u.to,phase:u.phase}}update(g){for(const u in this.operations){const f=this.operations[u];for(f.phase=(g-f.startTime)/f.duration;f.phase>=1||!this._validOp(f);)if(!this._nextOp(f,g)){delete this.operations[u];break}}}_nextOp(g,u){return!!g.queued&&(g.from=g.to,g.to=g.queued,g.queued=null,g.phase=0,g.startTime=u,!0)}_validOp(g){return g.from.hasData()&&g.to.hasData()}},hs={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Pd(g){return 6*Math.pow(1.5,22-g)}function nm(g,u){const f=1<<g.z;return!u&&(g.x===0||g.x===f-1)||g.y===0||g.y===f-1}const _u=g=>({u_matrix:g});function kd(g,u,f,v,b){if(b>0){const S=s.exported.now(),A=(S-g.timeAdded)/b,D=u?(S-u.timeAdded)/b:-1,N=f.getSource(),K=v.coveringZoomLevel({tileSize:N.tileSize,roundZoom:N.roundZoom}),Y=!u||Math.abs(u.tileID.overscaledZ-K)>Math.abs(g.tileID.overscaledZ-K),ie=Y&&g.refreshedUponExpiration?1:s.clamp(Y?A:1-D,0,1);return g.refreshedUponExpiration&&A>=1&&(g.refreshedUponExpiration=!1),u?{opacity:1,mix:1-ie}:{opacity:ie,mix:0}}return{opacity:1,mix:0}}class Id extends s.SourceCache{constructor(u){const f={type:"raster-dem",maxzoom:u.transform.maxZoom},v=new Te(mr(),null),b=Dn("mock-dem",f,v,u.style);super("mock-dem",b,!1),b.setEventedParent(this),this._sourceLoaded=!0}_loadTile(u,f){u.state="loaded",f(null)}}class xu extends s.SourceCache{constructor(u){const f=Dn("proxy",{type:"geojson",maxzoom:u.transform.maxZoom},new Te(mr(),null),u.style);super("proxy",f,!1),f.setEventedParent(this),this.map=this.getSource().map=u,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(u,f,v){if(u.freezeTileCoverage)return;this.transform=u;const b=u.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((S,A)=>{if(S[A.key]="",!this._tiles[A.key]){const D=new s.Tile(A,this._source.tileSize*A.overscaleFactor(),u.tileZoom);D.state="loaded",this._tiles[A.key]=D}return S},{});for(const S in this._tiles)S in b||(this.freeFBO(S),this._tiles[S].unloadVectorData(),delete this._tiles[S])}freeFBO(u){const f=this.proxyCachedFBO[u];if(f!==void 0){const v=Object.values(f);this.renderCachePool.push(...v),delete this.proxyCachedFBO[u]}}deallocRenderCache(){this.renderCache.forEach(u=>u.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Md extends s.OverscaledTileID{constructor(u,f,v){super(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,u.canonical.y),this.proxyTileKey=f,this.projMatrix=v}}class vf extends s.Elevation{constructor(u,f){super(),this.painter=u,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[v,b,S]=function(N){const K=new s.StructArrayLayout2i4,Y=new s.StructArrayLayout3ui6,ie=131;K.reserve(17161),Y.reserve(33800);const ve=s.EXTENT/128,we=s.EXTENT+ve/2,Se=we+ve;for(let Ee=-ve;Ee<Se;Ee+=ve)for(let le=-ve;le<Se;le+=ve){const be=le<0||le>we||Ee<0||Ee>we?24575:0,Me=s.clamp(Math.round(le),0,s.EXTENT),Ae=s.clamp(Math.round(Ee),0,s.EXTENT);K.emplaceBack(Me+be,Ae)}const Ce=(Ee,le)=>{const be=le*ie+Ee;Y.emplaceBack(be+1,be,be+ie),Y.emplaceBack(be+ie,be+ie+1,be+1)};for(let Ee=1;Ee<129;Ee++)for(let le=1;le<129;le++)Ce(le,Ee);return[0,129].forEach(Ee=>{for(let le=0;le<130;le++)Ce(le,Ee),Ce(Ee,le)}),[K,Y,32768]}(),A=u.context;this.gridBuffer=A.createVertexBuffer(v,s.posAttributes.members),this.gridIndexBuffer=A.createIndexBuffer(b),this.gridSegments=s.SegmentVector.simpleSegment(0,0,v.length,b.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,v.length,S),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new xu(f.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,s.EXTENT,0,s.EXTENT,0,1);const D=A.gl;this._overlapStencilMode=new s.StencilMode({func:D.GEQUAL,mask:255},0,255,D.KEEP,D.KEEP,D.REPLACE),this._previousZoom=u.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=f,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Id(f.map)}set style(u){u.on("data",this._onStyleDataEvent.bind(this)),u.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=u,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(u,f,v){if(u&&u.terrain){this._style!==u&&(this.style=u),this.enabled=!0;const b=u.terrain.properties;this.sourceCache=u.terrain.drapeRenderMode===0?this._mockSourceCache:u._getSourceCache(b.get("source")),this._exaggeration=b.get("exaggeration");const S=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const A=this.getScaledDemTileSize();this.sourceCache.update(f,A,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,S(),this._initializing=!0),S(),f.updateElevation(!0,v),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(f),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(u){this._findCoveringTileCache[u]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const u=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||u.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${u.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${u.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(u){u.coord&&u.dataType==="source"?this._clearRenderCacheForTile(u.sourceCacheId,u.coord):u.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const u in this._style._sourceCaches)this._style._sourceCaches[u].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(u=>u.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const u=2*this.proxySourceCache.getSource().tileSize;return[u,u]}set useVertexMorphing(u){this._useVertexMorphing=u}updateTileBinding(u){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const f=this.proxySourceCache,v=this.painter.transform;this._initializing&&(this._initializing=v._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(v.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const b=this.proxyCoords=f.getIds().map(N=>{const K=f.getTileByID(N).tileID;return K.projMatrix=v.calculateProjMatrix(K.toUnwrapped()),K});(function(N,K){const Y=K.transform.pointCoordinate(K.transform.getCameraPoint()),ie=new s.Point(Y.x,Y.y);N.sort((ve,we)=>{if(we.overscaledZ-ve.overscaledZ)return we.overscaledZ-ve.overscaledZ;const Se=new s.Point(ve.canonical.x+(1<<ve.canonical.z)*ve.wrap,ve.canonical.y),Ce=new s.Point(we.canonical.x+(1<<we.canonical.z)*we.wrap,we.canonical.y),Ee=ie.mult(1<<ve.canonical.z);return Ee.x-=.5,Ee.y-=.5,Ee.distSqr(Se)-Ee.distSqr(Ce)})})(b,this.painter),this._previousZoom=v.zoom;const S=this.proxyToSource||{};this.proxyToSource={},b.forEach(N=>{this.proxyToSource[N.key]={}}),this.terrainTileForTile={};const A=this._style._sourceCaches;for(const N in A){const K=A[N];if(!K.used||(K!==this.sourceCache&&this.resetTileLookupCache(K.id),this._setupProxiedCoordsForOrtho(K,u[N],S),K.usedForTerrain))continue;const Y=u[N];K.getSource().reparseOverscaled&&this._assignTerrainTiles(Y)}this.proxiedCoords[f.id]=b.map(N=>new Md(N,N.key,this.orthoMatrix)),this._assignTerrainTiles(b),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(S),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const D={};this._visibleDemTiles=[];for(const N of this.proxyCoords){const K=this.terrainTileForTile[N.key];if(!K)continue;const Y=K.tileID.key;Y in D||(this._visibleDemTiles.push(K),D[Y]=Y)}}_assignTerrainTiles(u){this._initializing||u.forEach(f=>{if(this.terrainTileForTile[f.key])return;const v=this._findTileCoveringTileID(f,this.sourceCache);v&&(this.terrainTileForTile[f.key]=v)})}_prepareDEMTextures(){const u=this.painter.context,f=u.gl;for(const v in this.terrainTileForTile){const b=this.terrainTileForTile[v],S=b.dem;!S||b.demTexture&&!b.needsDEMTextureUpload||(u.activeTexture.set(f.TEXTURE1),Td(this.painter,b,S))}}_prepareDemTileUniforms(u,f,v,b){if(!f||f.demTexture==null)return!1;const S=u.tileID.canonical,A=Math.pow(2,f.tileID.canonical.z-S.z),D=b||"";return v[`u_dem_tl${D}`]=[S.x*A%1,S.y*A%1],v[`u_dem_scale${D}`]=A,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const u=this.painter.context,f=u.gl;if(!this._emptyDepthBufferTexture){const v=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(u,v,f.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let u=0;const f=this._visibleDemTiles.reduce((v,b)=>{if(!b.dem)return v;const S=b.dem.tree.minimums[0];return S>0&&u++,v+S},0);return u?f/u:0}_updateEmptyDEMTexture(){const u=this.painter.context,f=u.gl;u.activeTexture.set(f.TEXTURE2);const v=this._getLoadedAreaMinimum(),b=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(v,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let S=this._emptyDEMTexture;return S?S.update(b,{premultiply:!1}):S=this._emptyDEMTexture=new s.Texture(u,b,f.RGBA,{premultiply:!1}),S}setupElevationDraw(u,f,v){const b=this.painter.context,S=b.gl,A=(D=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(D),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var D;A.u_dem_size=this.sourceCache.getSource().tileSize,A.u_exaggeration=this.exaggeration();let N=null,K=null,Y=1;if(v&&v.morphing&&this._useVertexMorphing){const ie=v.morphing.srcDemTile,ve=v.morphing.dstDemTile;Y=v.morphing.phase,ie&&ve&&(this._prepareDemTileUniforms(u,ie,A,"_prev")&&(K=ie),this._prepareDemTileUniforms(u,ve,A)&&(N=ve))}if(K&&N?(b.activeTexture.set(S.TEXTURE2),N.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),b.activeTexture.set(S.TEXTURE4),K.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),A.u_dem_lerp=Y):(N=this.terrainTileForTile[u.tileID.key],b.activeTexture.set(S.TEXTURE2),(this._prepareDemTileUniforms(u,N,A)?N.demTexture:this.emptyDEMTexture).bind(S.NEAREST,S.CLAMP_TO_EDGE)),b.activeTexture.set(S.TEXTURE3),v&&v.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),this._depthFBO&&(A.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),A.u_depth_size_inv=[1,1]),v&&v.useMeterToDem&&N){const ie=(1<<N.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;A.u_meter_to_dem=ie}if(v&&v.labelPlaneMatrixInv&&(A.u_label_plane_matrix_inv=v.labelPlaneMatrixInv),f.setTerrainUniformValues(b,A),this.painter.transform.projection.name==="globe"){const ie=this.globeUniformValues(this.painter.transform,u.tileID.canonical,v&&v.useDenormalizedUpVectorScale);f.setGlobeUniformValues(b,ie)}}globeUniformValues(u,f,v){const b=u.projection;return{u_tile_tl_up:b.upVector(f,0,0),u_tile_tr_up:b.upVector(f,s.EXTENT,0),u_tile_br_up:b.upVector(f,s.EXTENT,s.EXTENT),u_tile_bl_up:b.upVector(f,0,s.EXTENT),u_tile_up_scale:v?s.globeMetersToEcef(1):b.upVectorScale(f,u.center.lat,u.worldSize).metersToTile}}renderToBackBuffer(u){const f=this.painter,v=this.painter.context;u.length!==0&&(v.bindFramebuffer.set(null),v.viewport.set([0,0,f.width,f.height]),f.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(b,S,A,D,N){if(b.transform.projection.name==="globe")(function(K,Y,ie,ve,we){const Se=K.context,Ce=Se.gl;let Ee,le;const be=K.options.showTerrainWireframe?2:0,Me=K.transform,Ae=s.globeUseCustomAntiAliasing(K,Se,Me),$e=(Nt,it)=>{if(le===Nt)return;const St=[hs[Nt],"PROJECTION_GLOBE_VIEW"];Ae&&St.push("CUSTOM_ANTIALIASING"),it&&St.push(hs[be]),Ee=K.useProgram("globeRaster",null,St),le=Nt},Ne=K.colorModeForRenderPass(),Be=new s.DepthMode(Ce.LEQUAL,s.DepthMode.ReadWrite,K.depthRangeFor3D);Ws.update(we);const Je=s.calculateGlobeMercatorMatrix(Me),Ze=[s.mercatorXfromLng(Me.center.lng),s.mercatorYfromLat(Me.center.lat)],at=be?[!1,!0]:[!1],Vt=K.globeSharedBuffers,nt=[Me.width*s.exported.devicePixelRatio,Me.height*s.exported.devicePixelRatio],Tt=Float32Array.from(Me.globeMatrix),ct={useDenormalizedUpVectorScale:!0};if(at.forEach(Nt=>{const it=K.transform,St=Pd(it.zoom)*Y.exaggeration();le=-1;const Gt=Nt?Ce.LINES:Ce.TRIANGLES;for(const At of ve){const Zt=ie.getTile(At),Mn=s.StencilMode.disabled,Kn=Y.prevTerrainTileForTile[At.key],xn=Y.terrainTileForTile[At.key];Rl(Kn,xn)&&Ws.newMorphing(At.key,Kn,xn,we,250),Se.activeTexture.set(Ce.TEXTURE0),Zt.texture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE);const zn=Ws.getMorphValuesForProxy(At.key),pr=zn?1:0;zn&&s.extend$1(ct,{morphing:{srcDemTile:zn.from,dstDemTile:zn.to,phase:s.easeCubicInOut(zn.phase)}});const fr=s.tileCornersToBounds(At.canonical),Pn=s.getLatitudinalLod(fr.getCenter().lat),Ur=s.getGridMatrix(At.canonical,fr,Pn,it.worldSize/it._pixelsPerMercatorPixel),Wr=s.globeNormalizeECEF(s.globeTileBounds(At.canonical)),qr=vu(it.projMatrix,Tt,Je,Wr,s.globeToMercatorTransition(it.zoom),Ze,it.frustumCorners.TL,it.frustumCorners.TR,it.frustumCorners.BR,it.frustumCorners.BL,it.globeCenterInViewSpace,it.globeRadius,nt,St,Ur);if($e(pr,Nt),Y.setupElevationDraw(Zt,Ee,ct),K.prepareDrawProgram(Se,Ee,At.toUnwrapped()),Vt){const[Zr,Yi,Mi]=Nt?Vt.getWirefameBuffers(K.context,Pn):Vt.getGridBuffers(Pn,St!==0);Ee.draw(Se,Gt,Be,Mn,Ne,s.CullFaceMode.backCCW,qr,"globe_raster",Zr,Yi,Mi)}}}),Vt){const Nt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ae&&Nt.push("CUSTOM_ANTIALIASING"),Ee=K.useProgram("globeRaster",null,Nt);for(const it of ve){const{x:St,y:Gt,z:At}=it.canonical,Zt=Gt===0,Mn=Gt===(1<<At)-1,[Kn,xn,zn,pr]=Vt.getPoleBuffers(At);if(pr&&(Zt||Mn)){const fr=ie.getTile(it);Se.activeTexture.set(Ce.TEXTURE0),fr.texture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE);let Pn=s.globePoleMatrixForTile(At,St,Me);const Ur=s.globeNormalizeECEF(s.globeTileBounds(it.canonical)),Wr=(qr,Zr)=>qr.draw(Se,Ce.TRIANGLES,Be,s.StencilMode.disabled,Ne,s.CullFaceMode.disabled,vu(Me.projMatrix,Pn,Pn,Ur,0,Ze,Me.frustumCorners.TL,Me.frustumCorners.TR,Me.frustumCorners.BR,Me.frustumCorners.BL,Me.globeCenterInViewSpace,Me.globeRadius,nt,0),"globe_pole_raster",Zr,zn,pr);Y.setupElevationDraw(fr,Ee,ct),K.prepareDrawProgram(Se,Ee,it.toUnwrapped()),Zt&&Wr(Ee,Kn),Mn&&(Pn=s.scale(s.create(),Pn,[1,-1,1]),Wr(Ee,xn))}}}})(b,S,A,D,N);else{const K=b.context,Y=K.gl;let ie,ve;const we=b.options.showTerrainWireframe?2:0,Se=(Me,Ae)=>{if(ve===Me)return;const $e=[hs[Me]];Ae&&$e.push(hs[we]),ie=b.useProgram("terrainRaster",null,$e),ve=Me},Ce=b.colorModeForRenderPass(),Ee=new s.DepthMode(Y.LEQUAL,s.DepthMode.ReadWrite,b.depthRangeFor3D);Ws.update(N);const le=b.transform,be=Pd(le.zoom)*S.exaggeration();(we?[!1,!0]:[!1]).forEach(Me=>{ve=-1;const Ae=Me?Y.LINES:Y.TRIANGLES,[$e,Ne]=Me?S.getWirefameBuffer():[S.gridIndexBuffer,S.gridSegments];for(const Be of D){const Je=A.getTile(Be),Ze=s.StencilMode.disabled,at=S.prevTerrainTileForTile[Be.key],Vt=S.terrainTileForTile[Be.key];Rl(at,Vt)&&Ws.newMorphing(Be.key,at,Vt,N,250),K.activeTexture.set(Y.TEXTURE0),Je.texture.bind(Y.LINEAR,Y.CLAMP_TO_EDGE,Y.LINEAR_MIPMAP_NEAREST);const nt=Ws.getMorphValuesForProxy(Be.key),Tt=nt?1:0;let ct;nt&&(ct={morphing:{srcDemTile:nt.from,dstDemTile:nt.to,phase:s.easeCubicInOut(nt.phase)}});const Nt=Al(Be.projMatrix,nm(Be.canonical,le.renderWorldCopies)?be/10:be);Se(Tt,Me),S.setupElevationDraw(Je,ie,ct),b.prepareDrawProgram(K,ie,Be.toUnwrapped()),ie.draw(K,Ae,Ee,Ze,Ce,s.CullFaceMode.backCCW,Nt,"terrain_raster",S.gridBuffer,$e,Ne)}})}}(f,this,this.proxySourceCache,u,this._updateTimestamp),this.renderingToTexture=!0,f.gpuTimingDeferredRenderEnd(),u.splice(0,u.length))}renderBatch(u){if(this._drapedRenderBatches.length===0)return u+1;this.renderingToTexture=!0;const f=this.painter,v=this.painter.context,b=this.proxySourceCache,S=this.proxiedCoords[b.id],A=this._drapedRenderBatches.shift(),D=[],N=f.style.order;let K=0;for(const Y of S){const ie=b.getTileByID(Y.proxyTileKey),ve=b.proxyCachedFBO[Y.key]?b.proxyCachedFBO[Y.key][u]:void 0,we=ve!==void 0?b.renderCache[ve]:this.pool[K++],Se=ve!==void 0;if(ie.texture=we.tex,Se&&!we.dirty){D.push(ie.tileID);continue}let Ce;v.bindFramebuffer.set(we.fb.framebuffer),this.renderedToTile=!1,we.dirty&&(v.clear({color:s.Color.transparent,stencil:0}),we.dirty=!1);for(let Ee=A.start;Ee<=A.end;++Ee){const le=f.style._layers[N[Ee]];if(le.isHidden(f.transform.zoom))continue;const be=f.style._getLayerSourceCache(le),Me=be?this.proxyToSource[Y.key][be.id]:[Y];if(!Me)continue;const Ae=Me;v.viewport.set([0,0,we.fb.width,we.fb.height]),Ce!==(be?be.id:null)&&(this._setupStencil(we,Me,le,be),Ce=be?be.id:null),f.renderLayer(f,be,le,Ae)}this.renderedToTile?(we.dirty=!0,D.push(ie.tileID)):Se||--K,K===5&&(K=0,this.renderToBackBuffer(D))}return this.renderToBackBuffer(D),this.renderingToTexture=!1,v.bindFramebuffer.set(null),v.viewport.set([0,0,f.width,f.height]),A.end+1}postRender(){}renderCacheEfficiency(u){const f=u.order.length;if(f===0)return{efficiency:100};let v,b=0,S=0,A=!1;for(let D=0;D<f;++D){const N=u._layers[u.order[D]];this._style.isLayerDraped(N)?(A&&++b,++S):A||(A=!0,v=N.id)}return S===0?{efficiency:100}:{efficiency:100*(1-b/S),firstUndrapedLayer:v}}getMinElevationBelowMSL(){let u=0;return this._visibleDemTiles.filter(f=>f.dem).forEach(f=>{u=Math.min(u,f.dem.tree.minimums[0])}),u===0?u:(u-30)*this._exaggeration}raycast(u,f,v){if(!this._visibleDemTiles)return null;const b=this._visibleDemTiles.filter(S=>S.dem).map(S=>{const A=S.tileID,D=1<<A.overscaledZ,{x:N,y:K}=A.canonical,Y=N/D,ie=(N+1)/D,ve=K/D,we=(K+1)/D;return{minx:Y,miny:ve,maxx:ie,maxy:we,t:S.dem.tree.raycastRoot(Y,ve,ie,we,u,f,v),tile:S}});b.sort((S,A)=>(S.t!==null?S.t:Number.MAX_VALUE)-(A.t!==null?A.t:Number.MAX_VALUE));for(const S of b){if(S.t==null)return null;const A=S.tile.dem.tree.raycast(S.minx,S.miny,S.maxx,S.maxy,u,f,v);if(A!=null)return A}return null}_createFBO(){const u=this.painter.context,f=u.gl,v=this.drapeBufferSize;u.activeTexture.set(f.TEXTURE0);const b=new s.Texture(u,{width:v[0],height:v[1],data:null},f.RGBA);b.bind(f.LINEAR,f.CLAMP_TO_EDGE);const S=u.createFramebuffer(v[0],v[1],!1);return S.colorAttachment.set(b.texture),S.depthAttachment=new Ge(u,S.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=u.createRenderbuffer(u.gl.DEPTH_STENCIL,v[0],v[1]),this._stencilRef=0,S.depthAttachment.set(this._sharedDepthStencil),u.clear({stencil:0})):S.depthAttachment.set(this._sharedDepthStencil),u.extTextureFilterAnisotropic&&!u.extTextureFilterAnisotropicForceOff&&f.texParameterf(f.TEXTURE_2D,u.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,u.extTextureFilterAnisotropicMax),{fb:S,tex:b,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const u in this._style._sourceCaches)if(this._style._sourceCaches[u].hasTransition())return!0;return this._style.order.some(u=>{const f=this._style._layers[u],v=f.isHidden(this.painter.transform.zoom);return f.type==="custom"?!v&&f.shouldRedrape():!v&&f.hasTransition()})}_clearLineLayersFromRenderCache(){let u=!1;for(const v of this._style._getSources())if(v instanceof qt){u=!0;break}if(!u)return;const f={};for(let v=0;v<this._style.order.length;++v){const b=this._style._layers[this._style.order[v]],S=this._style._getLayerSourceCache(b);if(S&&!f[S.id]&&!b.isHidden(this.painter.transform.zoom)&&b.type==="line"&&b.widthExpression()instanceof s.ZoomDependentExpression){f[S.id]=!0;for(const A of this.proxyCoords){const D=this.proxyToSource[A.key][S.id];if(D)for(const N of D)this._clearRenderCacheForTile(S.id,N)}}}}_clearRasterLayersFromRenderCache(){let u=!1;for(const v in this._style._sourceCaches)if(this._style._sourceCaches[v]._source instanceof Ft){u=!0;break}if(!u)return;const f={};for(let v=0;v<this._style.order.length;++v){const b=this._style._layers[this._style.order[v]],S=this._style._getLayerSourceCache(b);if(!S||f[S.id]||b.isHidden(this.painter.transform.zoom)||b.type!=="raster")continue;const A=b.paint.get("raster-fade-duration");for(const D of this.proxyCoords){const N=this.proxyToSource[D.key][S.id];if(N)for(const K of N){const Y=kd(S.getTile(K),S.findLoadedParent(K,0),S,this.painter.transform,A);(Y.opacity!==1||Y.mix!==0)&&this._clearRenderCacheForTile(S.id,K)}}}}_setupDrapedRenderBatches(){const u=this._style.order,f=u.length;if(f===0)return;const v=[];let b,S=0,A=this._style._layers[u[S]];for(;!this._style.isLayerDraped(A)&&A.isHidden(this.painter.transform.zoom)&&++S<f;)A=this._style._layers[u[S]];for(;S<f;++S){const D=this._style._layers[u[S]];D.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(D)?b===void 0&&(b=S):b!==void 0&&(v.push({start:b,end:S-1}),b=void 0))}b!==void 0&&v.push({start:b,end:S-1}),this._drapedRenderBatches=v}_setupRenderCache(u){const f=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,f.renderCache.length>f.renderCachePool.length){const A=Object.values(f.proxyCachedFBO);f.proxyCachedFBO={};for(let D=0;D<A.length;++D){const N=Object.values(A[D]);f.renderCachePool.push(...N)}}return}this._clearRasterLayersFromRenderCache();const v=this.proxyCoords,b=this._tilesDirty;for(let A=v.length-1;A>=0;A--){const D=v[A];if(f.getTileByID(D.key),f.proxyCachedFBO[D.key]!==void 0){const N=u[D.key],K=this.proxyToSource[D.key];let Y=0;for(const ie in K){const ve=K[ie],we=N[ie];if(!we||we.length!==ve.length||ve.some((Se,Ce)=>Se!==we[Ce]||b[ie]&&b[ie].hasOwnProperty(Se.key))){Y=-1;break}++Y}for(const ie in f.proxyCachedFBO[D.key])f.renderCache[f.proxyCachedFBO[D.key][ie]].dirty=Y<0||Y!==Object.values(N).length}}const S=[...this._drapedRenderBatches];S.sort((A,D)=>D.end-D.start-(A.end-A.start));for(const A of S)for(const D of v){if(f.proxyCachedFBO[D.key])continue;let N=f.renderCachePool.pop();N===void 0&&f.renderCache.length<50&&(N=f.renderCache.length,f.renderCache.push(this._createFBO())),N!==void 0&&(f.proxyCachedFBO[D.key]={},f.proxyCachedFBO[D.key][A.start]=N,f.renderCache[N].dirty=!0)}this._tilesDirty={}}_setupStencil(u,f,v,b){if(!b||!this._sourceTilesOverlap[b.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const S=this.painter.context,A=S.gl;if(f.length<=1)return void(this._overlapStencilType=!1);let D;if(v.isTileClipped())D=f.length,this._overlapStencilMode.test={func:A.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(f[0].overscaledZ>f[f.length-1].overscaledZ))return void(this._overlapStencilType=!1);D=1,this._overlapStencilMode.test={func:A.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+D>255&&(S.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=D,this._overlapStencilMode.ref=this._stencilRef,v.isTileClipped()&&this._renderTileClippingMasks(f,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(u){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[u.key]),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(u,f){const v=this.painter,b=this.painter.context,S=b.gl;v._tileClippingMaskIDs={},b.setColorMode(s.ColorMode.disabled),b.setDepthMode(s.DepthMode.disabled);const A=v.useProgram("clippingMask");for(const D of u){const N=v._tileClippingMaskIDs[D.key]=--f;A.draw(b,S.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:S.ALWAYS,mask:0},N,255,S.KEEP,S.KEEP,S.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,_u(D.projMatrix),"$clipping",v.tileExtentBuffer,v.quadTriangleIndexBuffer,v.tileExtentSegments)}}pointCoordinate(u){const f=this.painter.transform;if(u.x<0||u.x>f.width||u.y<0||u.y>f.height)return null;const v=[u.x,u.y,1,1];s.transformMat4$1(v,v,f.pixelMatrixInverse),s.scale$1(v,v,1/v[3]),v[0]/=f.worldSize,v[1]/=f.worldSize;const b=f._camera.position,S=s.mercatorZfromAltitude(1,f.center.lat),A=[b[0],b[1],b[2]/S,0],D=s.subtract([],v.slice(0,3),A);s.normalize(D,D);const N=this.raycast(A,D,this._exaggeration);return N!==null&&N?(s.scaleAndAdd(A,A,D,N),A[3]=A[2],A[2]*=S,A):null}drawDepth(){const u=this.painter,f=u.context,v=this.proxySourceCache,b=Math.ceil(u.width),S=Math.ceil(u.height);if(!this._depthFBO||this._depthFBO.width===b&&this._depthFBO.height===S||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const A=f.gl,D=f.createFramebuffer(b,S,!0);f.activeTexture.set(A.TEXTURE0);const N=new s.Texture(f,{width:b,height:S,data:null},A.RGBA);N.bind(A.NEAREST,A.CLAMP_TO_EDGE),D.colorAttachment.set(N.texture);const K=f.createRenderbuffer(f.gl.DEPTH_COMPONENT16,b,S);D.depthAttachment.set(K),this._depthFBO=D,this._depthTexture=N}f.bindFramebuffer.set(this._depthFBO.framebuffer),f.viewport.set([0,0,b,S]),function(A,D,N,K){if(A.transform.projection.name==="globe")return;const Y=A.context,ie=Y.gl;Y.clear({depth:1});const ve=A.useProgram("terrainDepth"),we=new s.DepthMode(ie.LESS,s.DepthMode.ReadWrite,A.depthRangeFor3D);for(const Se of K){const Ce=N.getTile(Se),Ee=Al(Se.projMatrix,0);D.setupElevationDraw(Ce,ve),ve.draw(Y,ie.TRIANGLES,we,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,Ee,"terrain_depth",D.gridBuffer,D.gridIndexBuffer,D.gridNoSkirtSegments)}}(u,this,v,this.proxyCoords)}_setupProxiedCoordsForOrtho(u,f,v){if(u.getSource()instanceof Hn)return this._setupProxiedCoordsForImageSource(u,f,v);this._findCoveringTileCache[u.id]=this._findCoveringTileCache[u.id]||{};const b=this.proxiedCoords[u.id]=[],S=this.proxyCoords;for(let D=0;D<S.length;D++){const N=S[D],K=this._findTileCoveringTileID(N,u);if(K){const Y=this._createProxiedId(N,K,v[N.key]&&v[N.key][u.id]);b.push(Y),this.proxyToSource[N.key][u.id]=[Y]}}let A=!1;for(let D=0;D<f.length;D++){const N=u.getTile(f[D]);if(!N||!N.hasData())continue;const K=this._findTileCoveringTileID(N.tileID,this.proxySourceCache);if(K&&K.tileID.canonical.z!==N.tileID.canonical.z){const Y=this.proxyToSource[K.tileID.key][u.id],ie=this._createProxiedId(K.tileID,N,v[K.tileID.key]&&v[K.tileID.key][u.id]);Y?Y.splice(Y.length-1,0,ie):this.proxyToSource[K.tileID.key][u.id]=[ie],b.push(ie),A=!0}}this._sourceTilesOverlap[u.id]=A}_setupProxiedCoordsForImageSource(u,f,v){if(!u.getSource().loaded())return;const b=this.proxiedCoords[u.id]=[],S=this.proxyCoords,A=u.getSource(),D=new s.Point(A.tileID.x,A.tileID.y)._div(1<<A.tileID.z),N=A.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce((Y,ie)=>(Y.min.x=Math.min(Y.min.x,ie.x-D.x),Y.min.y=Math.min(Y.min.y,ie.y-D.y),Y.max.x=Math.max(Y.max.x,ie.x-D.x),Y.max.y=Math.max(Y.max.y,ie.y-D.y),Y),{min:new s.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),K=(Y,ie)=>{const ve=Y.wrap+Y.canonical.x/(1<<Y.canonical.z),we=Y.canonical.y/(1<<Y.canonical.z),Se=s.EXTENT/(1<<Y.canonical.z),Ce=ie.wrap+ie.canonical.x/(1<<ie.canonical.z),Ee=ie.canonical.y/(1<<ie.canonical.z);return ve+Se<Ce+N.min.x||ve>Ce+N.max.x||we+Se<Ee+N.min.y||we>Ee+N.max.y};for(let Y=0;Y<S.length;Y++){const ie=S[Y];for(let ve=0;ve<f.length;ve++){const we=u.getTile(f[ve]);if(!we||!we.hasData()||K(ie,we.tileID))continue;const Se=this._createProxiedId(ie,we,v[ie.key]&&v[ie.key][u.id]),Ce=this.proxyToSource[ie.key][u.id];Ce?Ce.push(Se):this.proxyToSource[ie.key][u.id]=[Se],b.push(Se)}}}_createProxiedId(u,f,v){let b=this.orthoMatrix;if(v){const S=v.find(A=>A.key===f.tileID.key);if(S)return S}if(f.tileID.key!==u.key){const S=u.canonical.z-f.tileID.canonical.z;let A,D,N;b=s.create();const K=f.tileID.wrap-u.wrap<<u.overscaledZ;S>0?(A=s.EXTENT>>S,D=A*((f.tileID.canonical.x<<S)-u.canonical.x+K),N=A*((f.tileID.canonical.y<<S)-u.canonical.y)):(A=s.EXTENT<<-S,D=s.EXTENT*(f.tileID.canonical.x-(u.canonical.x+K<<-S)),N=s.EXTENT*(f.tileID.canonical.y-(u.canonical.y<<-S))),s.ortho(b,0,A,0,A,0,1),s.translate(b,b,[D,N,0])}return new Md(f.tileID,u.key,b)}_findTileCoveringTileID(u,f){let v=f.getTile(u);if(v&&v.hasData())return v;const b=this._findCoveringTileCache[f.id],S=b[u.key];if(v=S?f.getTileByID(S):null,v&&v.hasData()||S===null)return v;let A=v?v.tileID:u,D=A.overscaledZ;const N=f.getSource().minzoom,K=[];if(!S){const ie=f.getSource().maxzoom;if(u.canonical.z>=ie){const ve=u.canonical.z-ie;f.getSource().reparseOverscaled?(D=Math.max(u.canonical.z+2,f.transform.tileZoom),A=new s.OverscaledTileID(D,u.wrap,ie,u.canonical.x>>ve,u.canonical.y>>ve)):ve!==0&&(D=ie,A=new s.OverscaledTileID(D,u.wrap,ie,u.canonical.x>>ve,u.canonical.y>>ve))}A.key!==u.key&&(K.push(A.key),v=f.getTile(A))}const Y=ie=>{K.forEach(ve=>{b[ve]=ie}),K.length=0};for(D-=1;D>=N&&(!v||!v.hasData());D--){v&&Y(v.tileID.key);const ie=A.calculateScaledKey(D);if(v=f.getTileByID(ie),v&&v.hasData())break;const ve=b[ie];if(ve===null)break;ve===void 0?K.push(ie):v=f.getTileByID(ve)}return Y(v?v.tileID.key:null),v&&v.hasData()?v:null}findDEMTileFor(u){return this.enabled?this._findTileCoveringTileID(u,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(u,f){let v=this._tilesDirty[u];v||(v=this._tilesDirty[u]={}),v[f.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const u=function(f){let v=0;const b=new s.StructArrayLayout2ui4,S=131;for(let A=1;A<129;A++){for(let D=1;D<129;D++)v=A*S+D,b.emplaceBack(v,v+1),b.emplaceBack(v,v+S),b.emplaceBack(v+1,v+S),A===128&&b.emplaceBack(v+S,v+S+1);b.emplaceBack(v+1,v+1+S)}return b}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(u),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,u.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class xr{static cacheKey(u,f,v,b){let S=`${f}${b?b.cacheKey:""}`;for(const A of v)u.usedDefines.includes(A)&&(S+=`/${A}`);return S}constructor(u,f,v,b,S,A){const D=u.gl;this.program=D.createProgram();const N=function(le){const be=[];for(let Me=0;Me<le.length;Me++){if(le[Me]===null)continue;const Ae=le[Me].split(" ");be.push(Ae.pop())}return be}(v.staticAttributes),K=b?b.getBinderAttributes():[],Y=N.concat(K);let ie=b?b.defines():[];ie=ie.concat(A.map(le=>`#define ${le}`));const ve=u.isWebGL2?`#version 300 es
`:"",we=ve+ie.concat(u.extStandardDerivatives&&ve.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(wd):wd,wd,xc,tm.fragmentSource,vc.fragmentSource,v.fragmentSource).join(`
`),Se=ve+ie.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,xc,tm.vertexSource,vc.vertexSource,bd.vertexSource,v.vertexSource).join(`
`),Ce=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);D.shaderSource(Ce,we),D.compileShader(Ce),D.attachShader(this.program,Ce);const Ee=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(Ee,Se),D.compileShader(Ee),D.attachShader(this.program,Ee),this.attributes={},this.numAttributes=Y.length;for(let le=0;le<this.numAttributes;le++)Y[le]&&(D.bindAttribLocation(this.program,le,Y[le]),this.attributes[Y[le]]=le);D.linkProgram(this.program),D.deleteShader(Ee),D.deleteShader(Ce),this.fixedUniforms=S(u),this.binderUniforms=b?b.getUniforms(u):[],A.includes("TERRAIN")&&(this.terrainUniforms=(le=>({u_dem:new s.Uniform1i(le),u_dem_prev:new s.Uniform1i(le),u_dem_unpack:new s.Uniform4f(le),u_dem_tl:new s.Uniform2f(le),u_dem_scale:new s.Uniform1f(le),u_dem_tl_prev:new s.Uniform2f(le),u_dem_scale_prev:new s.Uniform1f(le),u_dem_size:new s.Uniform1f(le),u_dem_lerp:new s.Uniform1f(le),u_exaggeration:new s.Uniform1f(le),u_depth:new s.Uniform1i(le),u_depth_size_inv:new s.Uniform2f(le),u_meter_to_dem:new s.Uniform1f(le),u_label_plane_matrix_inv:new s.UniformMatrix4f(le)}))(u)),A.includes("GLOBE")&&(this.globeUniforms=(le=>({u_tile_tl_up:new s.Uniform3f(le),u_tile_tr_up:new s.Uniform3f(le),u_tile_br_up:new s.Uniform3f(le),u_tile_bl_up:new s.Uniform3f(le),u_tile_up_scale:new s.Uniform1f(le)}))(u)),A.includes("FOG")&&(this.fogUniforms=(le=>({u_fog_matrix:new s.UniformMatrix4f(le),u_fog_range:new s.Uniform2f(le),u_fog_color:new s.Uniform4f(le),u_fog_horizon_blend:new s.Uniform1f(le),u_fog_temporal_offset:new s.Uniform1f(le),u_frustum_tl:new s.Uniform3f(le),u_frustum_tr:new s.Uniform3f(le),u_frustum_br:new s.Uniform3f(le),u_frustum_bl:new s.Uniform3f(le),u_globe_pos:new s.Uniform3f(le),u_globe_radius:new s.Uniform1f(le),u_globe_transition:new s.Uniform1f(le),u_is_globe:new s.Uniform1i(le),u_viewport:new s.Uniform2f(le)}))(u))}}setTerrainUniformValues(u,f){if(!this.terrainUniforms)return;const v=this.terrainUniforms;if(!this.failedToCreate){u.program.set(this.program);for(const b in f)v[b]&&v[b].set(this.program,b,f[b])}}setGlobeUniformValues(u,f){if(!this.globeUniforms)return;const v=this.globeUniforms;if(!this.failedToCreate){u.program.set(this.program);for(const b in f)v[b]&&v[b].set(this.program,b,f[b])}}setFogUniformValues(u,f){if(!this.fogUniforms)return;const v=this.fogUniforms;if(!this.failedToCreate){u.program.set(this.program);for(const b in f)v[b].set(this.program,b,f[b])}}draw(u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce){const Ee=u.gl;if(this.failedToCreate)return;u.program.set(this.program),u.setDepthMode(v),u.setStencilMode(b),u.setColorMode(S),u.setCullFace(A);for(const be of Object.keys(this.fixedUniforms))this.fixedUniforms[be].set(this.program,be,D[be]);Se&&Se.setUniforms(this.program,u,this.binderUniforms,ve,{zoom:we});const le={[Ee.LINES]:2,[Ee.TRIANGLES]:3,[Ee.LINE_STRIP]:1}[f];for(const be of ie.get()){const Me=be.vaos||(be.vaos={});(Me[N]||(Me[N]=new By)).bind(u,this,K,Se?Se.getPaintVertexBuffers():[],Y,be.vertexOffset,Ce||[]),Ee.drawElements(f,be.primitiveLength*le,Ee.UNSIGNED_SHORT,be.primitiveOffset*le*2)}}}function bu(g,u){const f=Math.pow(2,u.tileID.overscaledZ),v=u.tileSize*Math.pow(2,g.transform.tileZoom)/f,b=v*(u.tileID.canonical.x+u.tileID.wrap*f),S=v*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_tile_units_to_pixels:1/Ue(u,1,g.transform.tileZoom),u_pixel_coord_upper:[b>>16,S>>16],u_pixel_coord_lower:[65535&b,65535&S]}}const _f=s.create(),xf=(g,u,f,v,b,S,A,D,N,K,Y)=>{const ie=u.style.light,ve=ie.properties.get("position"),we=[ve.x,ve.y,ve.z],Se=s.create$1();ie.properties.get("anchor")==="viewport"&&(s.fromRotation(Se,-u.transform.angle),s.transformMat3(we,we,Se));const Ce=ie.properties.get("color"),Ee=u.transform,le={u_matrix:g,u_lightpos:we,u_lightintensity:ie.properties.get("intensity"),u_lightcolor:[Ce.r,Ce.g,Ce.b],u_vertical_gradient:+f,u_opacity:v,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:_f,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:b,u_edge_radius:S};return Ee.projection.name==="globe"&&(le.u_tile_id=[A.canonical.x,A.canonical.y,1<<A.canonical.z],le.u_zoom_transition=N,le.u_inv_rot_matrix=Y,le.u_merc_center=K,le.u_up_dir=Ee.projection.upVector(new s.CanonicalTileID(0,0,0),K[0]*s.EXTENT,K[1]*s.EXTENT),le.u_height_lift=D),le},bf=(g,u,f,v,b,S,A,D,N,K,Y,ie)=>{const ve=xf(g,u,f,v,b,S,A,N,K,Y,ie),we={u_height_factor:-Math.pow(2,A.overscaledZ)/D.tileSize/8};return s.extend(ve,bu(u,D),we)},Ol=g=>({u_matrix:g}),Ad=(g,u,f)=>s.extend(Ol(g),bu(u,f)),wf=(g,u)=>({u_matrix:g,u_world:u}),Ny=(g,u,f,v)=>s.extend(Ad(g,u,f),{u_world:v}),Uy=s.create(),Cf=(g,u,f,v,b,S)=>{const A=g.transform,D=A.projection.name==="globe";let N;if(S.paint.get("circle-pitch-alignment")==="map")if(D){const Y=s.globePixelsToTileUnits(A.zoom,u.canonical)*A._pixelsPerMercatorPixel;N=Float32Array.from([Y,0,0,Y])}else N=A.calculatePixelsToTileUnitsMatrix(f);else N=new Float32Array([A.pixelsToGLUnits[0],0,0,A.pixelsToGLUnits[1]]);const K={u_camera_to_center_distance:A.cameraToCenterDistance,u_matrix:g.translatePosMatrix(u.projMatrix,f,S.paint.get("circle-translate"),S.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:N,u_inv_rot_matrix:Uy,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(D){K.u_inv_rot_matrix=v,K.u_merc_center=b,K.u_tile_id=[u.canonical.x,u.canonical.y,1<<u.canonical.z],K.u_zoom_transition=s.globeToMercatorTransition(A.zoom);const Y=b[0]*s.EXTENT,ie=b[1]*s.EXTENT;K.u_up_dir=A.projection.upVector(new s.CanonicalTileID(0,0,0),Y,ie)}return K},Sf=g=>{const u=[];return g.paint.get("circle-pitch-alignment")==="map"&&u.push("PITCH_WITH_MAP"),g.paint.get("circle-pitch-scale")==="map"&&u.push("SCALE_WITH_MAP"),u},bc=(g,u,f,v)=>{const b=s.EXTENT/f.tileSize;return{u_matrix:g,u_camera_to_center_distance:u.getCameraToCenterDistance(v),u_extrude_scale:[u.pixelsToGLUnits[0]/b,u.pixelsToGLUnits[1]/b]}},Rd=(g,u,f=1)=>({u_matrix:g,u_color:u,u_overlay:0,u_overlay_scale:f}),rm=s.create(),om=(g,u,f,v,b,S,A)=>{const D=g.transform,N=D.projection.name==="globe",K=N?s.globePixelsToTileUnits(D.zoom,u.canonical)*D._pixelsPerMercatorPixel:Ue(f,1,S),Y={u_matrix:u.projMatrix,u_extrude_scale:K,u_intensity:A,u_inv_rot_matrix:rm,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(N){Y.u_inv_rot_matrix=v,Y.u_merc_center=b,Y.u_tile_id=[u.canonical.x,u.canonical.y,1<<u.canonical.z],Y.u_zoom_transition=s.globeToMercatorTransition(D.zoom);const ie=b[0]*s.EXTENT,ve=b[1]*s.EXTENT;Y.u_up_dir=D.projection.upVector(new s.CanonicalTileID(0,0,0),ie,ve)}return Y},Vy=(g,u,f,v,b,S,A)=>{const D=g.transform,N=D.calculatePixelsToTileUnitsMatrix(u);return{u_matrix:Tf(g,u,f,v),u_pixels_to_tile_units:N,u_device_pixel_ratio:S,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:b,u_texsize:wu(f)?u.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Cc(u,g.transform),u_alpha_discard_threshold:0,u_trim_offset:A}},wc=(g,u,f,v,b)=>{const S=g.transform;return{u_matrix:Tf(g,u,f,v),u_texsize:u.imageAtlasTexture.size,u_pixels_to_tile_units:S.calculatePixelsToTileUnitsMatrix(u),u_device_pixel_ratio:b,u_image:0,u_tile_units_to_pixels:Cc(u,S),u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Cc(g,u){return 1/Ue(g,1,u.tileZoom)}function Tf(g,u,f,v){return g.translatePosMatrix(v||u.tileID.projMatrix,u,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}function wu(g){const u=g.paint.get("line-dasharray").value;return u.value||u.kind!=="constant"}const Ef=(g,u,f,v,b,S)=>{return{u_matrix:g,u_tl_parent:u,u_scale_parent:f,u_fade_t:v.mix,u_opacity:v.opacity*b.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:b.paint.get("raster-brightness-min"),u_brightness_high:b.paint.get("raster-brightness-max"),u_saturation_factor:(D=b.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(A=b.paint.get("raster-contrast"),A>0?1/(1-A):1+A),u_spin_weights:Os(b.paint.get("raster-hue-rotate")),u_perspective_transform:S};var A,D};function Os(g){g*=Math.PI/180;const u=Math.sin(g),f=Math.cos(g);return[(2*f+1)/3,(-Math.sqrt(3)*u-f+1)/3,(Math.sqrt(3)*u-f+1)/3]}const Cu=s.create(),Pf=(g,u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce)=>{const Ee=b.transform,le={u_is_size_zoom_constant:+(g==="constant"||g==="source"),u_is_size_feature_constant:+(g==="constant"||g==="camera"),u_size_t:u?u.uSizeT:0,u_size:u?u.uSize:0,u_camera_to_center_distance:Ee.cameraToCenterDistance,u_rotate_symbol:+f,u_aspect_ratio:Ee.width/Ee.height,u_fade_change:b.options.fadeDuration?b.symbolFadeChange:1,u_matrix:S,u_label_plane_matrix:A,u_coord_matrix:D,u_is_text:+N,u_pitch_with_map:+v,u_texsize:K,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Cu,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Cu,u_up_vector:[0,-1,0]};return Ce.name==="globe"&&(le.u_tile_id=[Y.canonical.x,Y.canonical.y,1<<Y.canonical.z],le.u_zoom_transition=ie,le.u_inv_rot_matrix=we,le.u_merc_center=ve,le.u_camera_forward=Ee._camera.forward(),le.u_ecef_origin=s.globeECEFOrigin(Ee.globeMatrix,Y.toUnwrapped()),le.u_tile_matrix=Float32Array.from(Ee.globeMatrix),le.u_up_vector=Se),le},Od=(g,u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce,Ee)=>s.extend(Pf(g,u,f,v,b,S,A,D,N,K,ie,ve,we,Se,Ce,Ee),{u_gamma_scale:v?b.transform.cameraToCenterDistance*Math.cos(b.terrain?0:b.transform._pitch):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:+Y}),im=(g,u,f,v,b,S,A,D,N,K,Y,ie,ve,we,Se,Ce)=>s.extend(Od(g,u,f,v,b,S,A,D,!0,N,!0,Y,ie,ve,we,Se,Ce),{u_texsize_icon:K,u_texture_icon:1}),Dd=(g,u,f)=>({u_matrix:g,u_opacity:u,u_color:f}),kf=(g,u,f,v,b)=>s.extend(function(S,A,D){const N=A.imageManager.getPattern(S.toString()),{width:K,height:Y}=A.imageManager.getPixelSize(),ie=Math.pow(2,D.tileID.overscaledZ),ve=D.tileSize*Math.pow(2,A.transform.tileZoom)/ie,we=ve*(D.tileID.canonical.x+D.tileID.wrap*ie),Se=ve*D.tileID.canonical.y;return{u_image:0,u_pattern_tl:N.tl,u_pattern_br:N.br,u_texsize:[K,Y],u_pattern_size:N.displaySize,u_tile_units_to_pixels:1/Ue(D,1,A.transform.tileZoom),u_pixel_coord_upper:[we>>16,Se>>16],u_pixel_coord_lower:[65535&we,65535&Se]}}(v,f,b),{u_matrix:g,u_opacity:u}),If={fillExtrusion:g=>({u_matrix:new s.UniformMatrix4f(g),u_lightpos:new s.Uniform3f(g),u_lightintensity:new s.Uniform1f(g),u_lightcolor:new s.Uniform3f(g),u_vertical_gradient:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g),u_edge_radius:new s.Uniform1f(g),u_ao:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_up_dir:new s.Uniform3f(g),u_height_lift:new s.Uniform1f(g)}),fillExtrusionPattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_lightpos:new s.Uniform3f(g),u_lightintensity:new s.Uniform1f(g),u_lightcolor:new s.Uniform3f(g),u_vertical_gradient:new s.Uniform1f(g),u_height_factor:new s.Uniform1f(g),u_edge_radius:new s.Uniform1f(g),u_ao:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_up_dir:new s.Uniform3f(g),u_height_lift:new s.Uniform1f(g),u_image:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g)}),fill:g=>({u_matrix:new s.UniformMatrix4f(g)}),fillPattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_image:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g)}),fillOutline:g=>({u_matrix:new s.UniformMatrix4f(g),u_world:new s.Uniform2f(g)}),fillOutlinePattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_world:new s.Uniform2f(g),u_image:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g)}),circle:g=>({u_camera_to_center_distance:new s.Uniform1f(g),u_extrude_scale:new s.UniformMatrix2f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_up_dir:new s.Uniform3f(g)}),collisionBox:g=>({u_matrix:new s.UniformMatrix4f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_extrude_scale:new s.Uniform2f(g)}),collisionCircle:g=>({u_matrix:new s.UniformMatrix4f(g),u_inv_matrix:new s.UniformMatrix4f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_viewport_size:new s.Uniform2f(g)}),debug:g=>({u_color:new s.UniformColor(g),u_matrix:new s.UniformMatrix4f(g),u_overlay:new s.Uniform1i(g),u_overlay_scale:new s.Uniform1f(g)}),clippingMask:g=>({u_matrix:new s.UniformMatrix4f(g)}),heatmap:g=>({u_extrude_scale:new s.Uniform1f(g),u_intensity:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_up_dir:new s.Uniform3f(g)}),heatmapTexture:g=>({u_image:new s.Uniform1i(g),u_color_ramp:new s.Uniform1i(g),u_opacity:new s.Uniform1f(g)}),hillshade:g=>({u_matrix:new s.UniformMatrix4f(g),u_image:new s.Uniform1i(g),u_latrange:new s.Uniform2f(g),u_light:new s.Uniform2f(g),u_shadow:new s.UniformColor(g),u_highlight:new s.UniformColor(g),u_accent:new s.UniformColor(g)}),hillshadePrepare:g=>({u_matrix:new s.UniformMatrix4f(g),u_image:new s.Uniform1i(g),u_dimension:new s.Uniform2f(g),u_zoom:new s.Uniform1f(g),u_unpack:new s.Uniform4f(g)}),line:g=>({u_matrix:new s.UniformMatrix4f(g),u_pixels_to_tile_units:new s.UniformMatrix2f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_units_to_pixels:new s.Uniform2f(g),u_dash_image:new s.Uniform1i(g),u_gradient_image:new s.Uniform1i(g),u_image_height:new s.Uniform1f(g),u_texsize:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g),u_alpha_discard_threshold:new s.Uniform1f(g),u_trim_offset:new s.Uniform2f(g)}),linePattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_texsize:new s.Uniform2f(g),u_pixels_to_tile_units:new s.UniformMatrix2f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_image:new s.Uniform1i(g),u_units_to_pixels:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g),u_alpha_discard_threshold:new s.Uniform1f(g)}),raster:g=>({u_matrix:new s.UniformMatrix4f(g),u_tl_parent:new s.Uniform2f(g),u_scale_parent:new s.Uniform1f(g),u_fade_t:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g),u_image0:new s.Uniform1i(g),u_image1:new s.Uniform1i(g),u_brightness_low:new s.Uniform1f(g),u_brightness_high:new s.Uniform1f(g),u_saturation_factor:new s.Uniform1f(g),u_contrast_factor:new s.Uniform1f(g),u_spin_weights:new s.Uniform3f(g),u_perspective_transform:new s.Uniform2f(g)}),symbolIcon:g=>({u_is_size_zoom_constant:new s.Uniform1i(g),u_is_size_feature_constant:new s.Uniform1i(g),u_size_t:new s.Uniform1f(g),u_size:new s.Uniform1f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_rotate_symbol:new s.Uniform1i(g),u_aspect_ratio:new s.Uniform1f(g),u_fade_change:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_label_plane_matrix:new s.UniformMatrix4f(g),u_coord_matrix:new s.UniformMatrix4f(g),u_is_text:new s.Uniform1i(g),u_pitch_with_map:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_camera_forward:new s.Uniform3f(g),u_tile_matrix:new s.UniformMatrix4f(g),u_up_vector:new s.Uniform3f(g),u_ecef_origin:new s.Uniform3f(g),u_texture:new s.Uniform1i(g)}),symbolSDF:g=>({u_is_size_zoom_constant:new s.Uniform1i(g),u_is_size_feature_constant:new s.Uniform1i(g),u_size_t:new s.Uniform1f(g),u_size:new s.Uniform1f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_rotate_symbol:new s.Uniform1i(g),u_aspect_ratio:new s.Uniform1f(g),u_fade_change:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_label_plane_matrix:new s.UniformMatrix4f(g),u_coord_matrix:new s.UniformMatrix4f(g),u_is_text:new s.Uniform1i(g),u_pitch_with_map:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_texture:new s.Uniform1i(g),u_gamma_scale:new s.Uniform1f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_tile_id:new s.Uniform3f(g),u_zoom_transition:new s.Uniform1f(g),u_inv_rot_matrix:new s.UniformMatrix4f(g),u_merc_center:new s.Uniform2f(g),u_camera_forward:new s.Uniform3f(g),u_tile_matrix:new s.UniformMatrix4f(g),u_up_vector:new s.Uniform3f(g),u_ecef_origin:new s.Uniform3f(g),u_is_halo:new s.Uniform1i(g)}),symbolTextAndIcon:g=>({u_is_size_zoom_constant:new s.Uniform1i(g),u_is_size_feature_constant:new s.Uniform1i(g),u_size_t:new s.Uniform1f(g),u_size:new s.Uniform1f(g),u_camera_to_center_distance:new s.Uniform1f(g),u_rotate_symbol:new s.Uniform1i(g),u_aspect_ratio:new s.Uniform1f(g),u_fade_change:new s.Uniform1f(g),u_matrix:new s.UniformMatrix4f(g),u_label_plane_matrix:new s.UniformMatrix4f(g),u_coord_matrix:new s.UniformMatrix4f(g),u_is_text:new s.Uniform1i(g),u_pitch_with_map:new s.Uniform1i(g),u_texsize:new s.Uniform2f(g),u_texsize_icon:new s.Uniform2f(g),u_texture:new s.Uniform1i(g),u_texture_icon:new s.Uniform1i(g),u_gamma_scale:new s.Uniform1f(g),u_device_pixel_ratio:new s.Uniform1f(g),u_is_halo:new s.Uniform1i(g)}),background:g=>({u_matrix:new s.UniformMatrix4f(g),u_opacity:new s.Uniform1f(g),u_color:new s.UniformColor(g)}),backgroundPattern:g=>({u_matrix:new s.UniformMatrix4f(g),u_opacity:new s.Uniform1f(g),u_image:new s.Uniform1i(g),u_pattern_tl:new s.Uniform2f(g),u_pattern_br:new s.Uniform2f(g),u_texsize:new s.Uniform2f(g),u_pattern_size:new s.Uniform2f(g),u_pixel_coord_upper:new s.Uniform2f(g),u_pixel_coord_lower:new s.Uniform2f(g),u_tile_units_to_pixels:new s.Uniform1f(g)}),terrainRaster:Ed,terrainDepth:Ed,skybox:g=>({u_matrix:new s.UniformMatrix4f(g),u_sun_direction:new s.Uniform3f(g),u_cubemap:new s.Uniform1i(g),u_opacity:new s.Uniform1f(g),u_temporal_offset:new s.Uniform1f(g)}),skyboxGradient:g=>({u_matrix:new s.UniformMatrix4f(g),u_color_ramp:new s.Uniform1i(g),u_center_direction:new s.Uniform3f(g),u_radius:new s.Uniform1f(g),u_opacity:new s.Uniform1f(g),u_temporal_offset:new s.Uniform1f(g)}),skyboxCapture:g=>({u_matrix_3f:new s.UniformMatrix3f(g),u_sun_direction:new s.Uniform3f(g),u_sun_intensity:new s.Uniform1f(g),u_color_tint_r:new s.Uniform4f(g),u_color_tint_m:new s.Uniform4f(g),u_luminance:new s.Uniform1f(g)}),globeRaster:g=>({u_proj_matrix:new s.UniformMatrix4f(g),u_globe_matrix:new s.UniformMatrix4f(g),u_normalize_matrix:new s.UniformMatrix4f(g),u_merc_matrix:new s.UniformMatrix4f(g),u_zoom_transition:new s.Uniform1f(g),u_merc_center:new s.Uniform2f(g),u_image0:new s.Uniform1i(g),u_grid_matrix:new s.UniformMatrix3f(g),u_skirt_height:new s.Uniform1f(g),u_frustum_tl:new s.Uniform3f(g),u_frustum_tr:new s.Uniform3f(g),u_frustum_br:new s.Uniform3f(g),u_frustum_bl:new s.Uniform3f(g),u_globe_pos:new s.Uniform3f(g),u_globe_radius:new s.Uniform1f(g),u_viewport:new s.Uniform2f(g)}),globeAtmosphere:g=>({u_frustum_tl:new s.Uniform3f(g),u_frustum_tr:new s.Uniform3f(g),u_frustum_br:new s.Uniform3f(g),u_frustum_bl:new s.Uniform3f(g),u_horizon:new s.Uniform1f(g),u_transition:new s.Uniform1f(g),u_fadeout_range:new s.Uniform1f(g),u_color:new s.Uniform4f(g),u_high_color:new s.Uniform4f(g),u_space_color:new s.Uniform4f(g),u_star_intensity:new s.Uniform1f(g),u_star_density:new s.Uniform1f(g),u_star_size:new s.Uniform1f(g),u_temporal_offset:new s.Uniform1f(g),u_horizon_angle:new s.Uniform1f(g),u_rotation_matrix:new s.UniformMatrix4f(g)})};let Ld;function Su(g,u,f,v,b,S,A){const D=g.context,N=D.gl,K=g.transform,Y=g.useProgram("collisionBox"),ie=[];let ve=0,we=0;for(let Ae=0;Ae<v.length;Ae++){const $e=v[Ae],Ne=u.getTile($e),Be=Ne.getBucket(f);if(!Be)continue;const Je=us($e,Be,K);let Ze=Je;b[0]===0&&b[1]===0||(Ze=g.translatePosMatrix(Je,Ne,b,S));const at=A?Be.textCollisionBox:Be.iconCollisionBox,Vt=Be.collisionCircleArray;if(Vt.length>0){const nt=s.create(),Tt=Ze;s.mul(nt,Be.placementInvProjMatrix,K.glCoordMatrix),s.mul(nt,nt,Be.placementViewportMatrix),ie.push({circleArray:Vt,circleOffset:we,transform:Tt,invTransform:nt,projection:Be.getProjection()}),ve+=Vt.length/4,we=ve}at&&(g.terrain&&g.terrain.setupElevationDraw(Ne,Y),Y.draw(D,N.LINES,s.DepthMode.disabled,s.StencilMode.disabled,g.colorModeForRenderPass(),s.CullFaceMode.disabled,bc(Ze,K,Ne,Be.getProjection()),f.id,at.layoutVertexBuffer,at.indexBuffer,at.segments,null,K.zoom,null,[at.collisionVertexBuffer,at.collisionVertexBufferExt]))}if(!A||!ie.length)return;const Se=g.useProgram("collisionCircle"),Ce=new s.StructArrayLayout2f1f2i16;Ce.resize(4*ve),Ce._trim();let Ee=0;for(const Ae of ie)for(let $e=0;$e<Ae.circleArray.length/4;$e++){const Ne=4*$e,Be=Ae.circleArray[Ne+0],Je=Ae.circleArray[Ne+1],Ze=Ae.circleArray[Ne+2],at=Ae.circleArray[Ne+3];Ce.emplace(Ee++,Be,Je,Ze,at,0),Ce.emplace(Ee++,Be,Je,Ze,at,1),Ce.emplace(Ee++,Be,Je,Ze,at,2),Ce.emplace(Ee++,Be,Je,Ze,at,3)}(!Ld||Ld.length<2*ve)&&(Ld=function(Ae){const $e=2*Ae,Ne=new s.StructArrayLayout3ui6;Ne.resize($e),Ne._trim();for(let Be=0;Be<$e;Be++){const Je=6*Be;Ne.uint16[Je+0]=4*Be+0,Ne.uint16[Je+1]=4*Be+1,Ne.uint16[Je+2]=4*Be+2,Ne.uint16[Je+3]=4*Be+2,Ne.uint16[Je+4]=4*Be+3,Ne.uint16[Je+5]=4*Be+0}return Ne}(ve));const le=D.createIndexBuffer(Ld,!0),be=D.createVertexBuffer(Ce,s.collisionCircleLayout.members,!0);for(const Ae of ie){const $e={u_matrix:Ae.transform,u_inv_matrix:Ae.invTransform,u_camera_to_center_distance:(Me=K).getCameraToCenterDistance(Ae.projection),u_viewport_size:[Me.width,Me.height]};Se.draw(D,N.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,g.colorModeForRenderPass(),s.CullFaceMode.disabled,$e,f.id,be,le,s.SegmentVector.simpleSegment(0,2*Ae.circleOffset,Ae.circleArray.length,Ae.circleArray.length/2),null,K.zoom)}var Me;be.destroy(),le.destroy()}const sm=s.create();function zd({width:g,height:u,anchor:f,textOffset:v,textScale:b},S){const{horizontalAlign:A,verticalAlign:D}=s.getAnchorAlignment(f),N=-(A-.5)*g,K=-(D-.5)*u,Y=s.evaluateVariableOffset(f,v);return new s.Point((N/b+Y[0])*S,(K/b+Y[1])*S)}function Hy(g,u,f,v,b,S,A,D,N,K,Y){const ie=g.text.placedSymbolArray,ve=g.text.dynamicLayoutVertexArray,we=g.icon.dynamicLayoutVertexArray,Se={},Ce=g.getProjection(),Ee=po(D,Ce,S),le=S.elevation,be=Ce.upVectorScale(D.canonical,S.center.lat,S.worldSize).metersToTile;ve.clear();for(let Me=0;Me<ie.length;Me++){const Ae=ie.get(Me),{tileAnchorX:$e,tileAnchorY:Ne,numGlyphs:Be}=Ae,Je=Ae.hidden||!Ae.crossTileID||g.allowVerticalPlacement&&!Ae.placedOrientation?null:v[Ae.crossTileID];if(Je){let Ze=0,at=0,Vt=0;if(le){const Zt=le?le.getAtTileOffset(D,$e,Ne):0,[Mn,Kn,xn]=Ce.upVector(D.canonical,$e,Ne);Ze=Zt*Mn*be,at=Zt*Kn*be,Vt=Zt*xn*be}let[nt,Tt,ct,Nt]=yi(Ae.projectedAnchorX+Ze,Ae.projectedAnchorY+at,Ae.projectedAnchorZ+Vt,f?Ee:A);const it=cf(S.getCameraToCenterDistance(Ce),Nt);let St=b.evaluateSizeForFeature(g.textSizeData,K,Ae)*it/s.ONE_EM;f&&(St*=g.tilePixelRatio/N);const Gt=zd(Je,St);f?({x:nt,y:Tt,z:ct}=Ce.projectTilePoint($e+Gt.x,Ne+Gt.y,D.canonical),[nt,Tt,ct]=yi(nt+Ze,Tt+at,ct+Vt,A)):(u&&Gt._rotate(-S.angle),nt+=Gt.x,Tt+=Gt.y,ct=0);const At=g.allowVerticalPlacement&&Ae.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let Zt=0;Zt<Be;Zt++)s.addDynamicAttributes(ve,nt,Tt,ct,At);Y&&Ae.associatedIconIndex>=0&&(Se[Ae.associatedIconIndex]={x:nt,y:Tt,z:ct,angle:At})}else cs(Be,ve)}if(Y){we.clear();const Me=g.icon.placedSymbolArray;for(let Ae=0;Ae<Me.length;Ae++){const $e=Me.get(Ae),{numGlyphs:Ne}=$e,Be=Se[Ae];if($e.hidden||!Be)cs(Ne,we);else{const{x:Je,y:Ze,z:at,angle:Vt}=Be;for(let nt=0;nt<Ne;nt++)s.addDynamicAttributes(we,Je,Ze,at,Vt)}}g.icon.dynamicLayoutVertexBuffer.updateData(we)}g.text.dynamicLayoutVertexBuffer.updateData(ve)}function Mf(g,u,f){return f.iconsInText&&u?"symbolTextAndIcon":g?"symbolSDF":"symbolIcon"}function am(g,u,f,v,b,S,A,D,N,K,Y,ie){const ve=g.context,we=ve.gl,Se=g.transform,Ce=D==="map",Ee=N==="map",le=Ce&&f.layout.get("symbol-placement")!=="point",be=Ce&&!Ee&&!le,Me=f.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ae=!1;const $e=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),Ne=[s.mercatorXfromLng(Se.center.lng),s.mercatorYfromLat(Se.center.lat)],Be=f.layout.get("text-variable-anchor"),Je=Se.projection.name==="globe",Ze=[],at=[0,-1,0];let Vt=at;!Je&&!Se.mercatorFromTransition||Ce||(Vt=function(nt){const Tt=nt._camera.getWorldToCamera(nt.worldSize,1),ct=s.multiply([],Tt,nt.globeMatrix);s.invert(ct,ct);const Nt=[0,0,0],it=[0,1,0,0];return s.transformMat4$1(it,it,ct),Nt[0]=it[0],Nt[1]=it[1],Nt[2]=it[2],s.normalize(Nt,Nt),Nt}(Se));for(const nt of v){const Tt=u.getTile(nt),ct=Tt.getBucket(f);if(!ct||ct.projection.name==="mercator"&&Je)continue;const Nt=b?ct.text:ct.icon;if(!Nt||ct.fullyClipped||!Nt.segments.get().length)continue;const it=Nt.programConfigurations.get(f.id),St=b||ct.sdfIcons,Gt=b?ct.textSizeData:ct.iconSizeData,At=Ee||Se.pitch!==0,Zt=s.evaluateSizeForZoom(Gt,Se.zoom);let Mn,Kn,xn,zn,pr=[0,0],fr=null;if(b)Kn=Tt.glyphAtlasTexture,xn=we.LINEAR,Mn=Tt.glyphAtlasTexture.size,ct.iconsInText&&(pr=Tt.imageAtlasTexture.size,fr=Tt.imageAtlasTexture,zn=At||g.options.rotating||g.options.zooming||Gt.kind==="composite"||Gt.kind==="camera"?we.LINEAR:we.NEAREST);else{const Fl=f.layout.get("icon-size").constantOr(0)!==1||ct.iconsNeedLinear;Kn=Tt.imageAtlasTexture,xn=St||g.options.rotating||g.options.zooming||Fl||At?we.LINEAR:we.NEAREST,Mn=Tt.imageAtlasTexture.size}const Pn=ct.projection.name==="globe",Ur=Pn?Vt:at,Wr=Pn?s.globeToMercatorTransition(Se.zoom):0,qr=po(nt,ct.getProjection(),Se),Zr=Se.calculatePixelsToTileUnitsMatrix(Tt),Yi=_t(qr,Tt.tileID.canonical,Ee,Ce,Se,ct.getProjection(),Zr),Mi=g.terrain&&Ee&&le?s.invert(s.create(),Yi):sm,Zs=Fo(qr,Tt.tileID.canonical,Ee,Ce,Se,ct.getProjection(),Zr),Ja=Be&&ct.hasTextData(),Eo=f.layout.get("icon-text-fit")!=="none"&&Ja&&ct.hasIconData();if(le){const Fl=Se.elevation,kc=Fl?Fl.getAtTileOffsetFunc(nt,Se.center.lat,Se.worldSize,ct.getProjection()):null,Au=ma(qr,Tt.tileID.canonical,Ee,Ce,Se,ct.getProjection(),Zr);yd(ct,qr,g,b,Au,Zs,Ee,K,kc,nt)}const Yr=le||b&&Be||Eo,Or=g.translatePosMatrix(qr,Tt,S,A),ni=Yr?sm:Yi,rs=g.translatePosMatrix(Zs,Tt,S,A,!0),_o=ct.getProjection().createInversionMatrix(Se,nt.canonical),fs=[];g.terrainRenderModeElevated()&&Ee&&fs.push("PITCH_WITH_MAP_TERRAIN"),Pn&&fs.push("PROJECTION_GLOBE_VIEW"),Yr&&fs.push("PROJECTED_POS_ON_VIEWPORT");const wm=St&&f.paint.get(b?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Mu;Mu=St?ct.iconsInText?im(Gt.kind,Zt,be,Ee,g,Or,ni,rs,Mn,pr,nt,Wr,Ne,_o,Ur,ct.getProjection()):Od(Gt.kind,Zt,be,Ee,g,Or,ni,rs,b,Mn,!0,nt,Wr,Ne,_o,Ur,ct.getProjection()):Pf(Gt.kind,Zt,be,Ee,g,Or,ni,rs,b,Mn,nt,Wr,Ne,_o,Ur,ct.getProjection());const jf={program:g.useProgram(Mf(St,b,ct),it,fs),buffers:Nt,uniformValues:Mu,atlasTexture:Kn,atlasTextureIcon:fr,atlasInterpolation:xn,atlasInterpolationIcon:zn,isSDF:St,hasHalo:wm,tile:Tt,labelPlaneMatrixInv:Mi};if(Me&&ct.canOverlap){Ae=!0;const Fl=Nt.segments.get();for(const kc of Fl)Ze.push({segments:new s.SegmentVector([kc]),sortKey:kc.sortKey,state:jf})}else Ze.push({segments:Nt.segments,sortKey:0,state:jf})}Ae&&Ze.sort((nt,Tt)=>nt.sortKey-Tt.sortKey);for(const nt of Ze){const Tt=nt.state;if(g.terrain&&g.terrain.setupElevationDraw(Tt.tile,Tt.program,{useDepthForOcclusion:!Je,labelPlaneMatrixInv:Tt.labelPlaneMatrixInv}),ve.activeTexture.set(we.TEXTURE0),Tt.atlasTexture.bind(Tt.atlasInterpolation,we.CLAMP_TO_EDGE),Tt.atlasTextureIcon&&(ve.activeTexture.set(we.TEXTURE1),Tt.atlasTextureIcon&&Tt.atlasTextureIcon.bind(Tt.atlasInterpolationIcon,we.CLAMP_TO_EDGE)),Tt.isSDF){const ct=Tt.uniformValues;Tt.hasHalo&&(ct.u_is_halo=1,Tu(Tt.buffers,nt.segments,f,g,Tt.program,$e,Y,ie,ct)),ct.u_is_halo=0}Tu(Tt.buffers,nt.segments,f,g,Tt.program,$e,Y,ie,Tt.uniformValues)}}function Tu(g,u,f,v,b,S,A,D,N){const K=v.context,Y=[g.dynamicLayoutVertexBuffer,g.opacityVertexBuffer,g.globeExtVertexBuffer];b.draw(K,K.gl.TRIANGLES,S,A,D,s.CullFaceMode.disabled,N,f.id,g.layoutVertexBuffer,g.indexBuffer,u,f.paint,v.transform.zoom,g.programConfigurations.get(f.id),Y)}function lm(g,u,f,v,b,S,A){const D=g.context.gl,N=f.paint.get("fill-pattern"),K=N&&N.constantOr(1);let Y,ie,ve,we,Se;A?(ie=K&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Y=D.LINES):(ie=K?"fillPattern":"fill",Y=D.TRIANGLES);for(const Ce of v){const Ee=u.getTile(Ce);if(K&&!Ee.patternsLoaded())continue;const le=Ee.getBucket(f);if(!le)continue;g.prepareDrawTile();const be=le.programConfigurations.get(f.id),Me=g.useProgram(ie,be);K&&(g.context.activeTexture.set(D.TEXTURE0),Ee.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),be.updatePaintBuffers());const Ae=N.constantOr(null);if(Ae&&Ee.imageAtlas){const Ne=Ee.imageAtlas.patternPositions[Ae.toString()];Ne&&be.setConstantPatternPositions(Ne)}const $e=g.translatePosMatrix(Ce.projMatrix,Ee,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(A){we=le.indexBuffer2,Se=le.segments2;const Ne=g.terrain&&g.terrain.renderingToTexture?g.terrain.drapeBufferSize:[D.drawingBufferWidth,D.drawingBufferHeight];ve=ie==="fillOutlinePattern"&&K?Ny($e,g,Ee,Ne):wf($e,Ne)}else we=le.indexBuffer,Se=le.segments,ve=K?Ad($e,g,Ee):Ol($e);g.prepareDrawProgram(g.context,Me,Ce.toUnwrapped()),Me.draw(g.context,Y,b,g.stencilModeForClipping(Ce),S,s.CullFaceMode.disabled,ve,f.id,le.layoutVertexBuffer,we,Se,f.paint,g.transform.zoom,be)}}function Fd(g,u,f,v,b,S,A){const D=g.context,N=D.gl,K=g.transform,Y=f.paint.get("fill-extrusion-pattern"),ie=Y.constantOr(1),ve=f.paint.get("fill-extrusion-opacity"),we=[f.paint.get("fill-extrusion-ambient-occlusion-intensity"),f.paint.get("fill-extrusion-ambient-occlusion-radius")],Se=f.layout.get("fill-extrusion-edge-radius"),Ce=Se>0&&!f.paint.get("fill-extrusion-rounded-roof"),Ee=Ce?0:Se,le=K.projection.name==="globe"?s.fillExtrusionHeightLift():0,be=K.projection.name==="globe",Me=be?s.globeToMercatorTransition(K.zoom):0,Ae=[s.mercatorXfromLng(K.center.lng),s.mercatorYfromLat(K.center.lat)],$e=[];be&&$e.push("PROJECTION_GLOBE_VIEW"),we[0]>0&&$e.push("FAUX_AO"),Ce&&$e.push("ZERO_ROOF_RADIUS");for(const Ne of v){const Be=u.getTile(Ne),Je=Be.getBucket(f);if(!Je||Je.projection.name!==K.projection.name)continue;const Ze=Je.programConfigurations.get(f.id),at=g.useProgram(ie?"fillExtrusionPattern":"fillExtrusion",Ze,$e);if(g.terrain){const St=g.terrain;if(g.style.terrainSetForDrapingOnly())St.setupElevationDraw(Be,at,{useMeterToDem:!0});else{if(!Je.enableTerrain)continue;if(St.setupElevationDraw(Be,at,{useMeterToDem:!0}),cm(D,u,Ne,Je,f,St),!Je.centroidVertexBuffer){const Gt=at.attributes.a_centroid_pos;Gt!==void 0&&N.vertexAttrib2f(Gt,0,0)}}}ie&&(g.context.activeTexture.set(N.TEXTURE0),Be.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),Ze.updatePaintBuffers());const Vt=Y.constantOr(null);if(Vt&&Be.imageAtlas){const St=Be.imageAtlas.patternPositions[Vt.toString()];St&&Ze.setConstantPatternPositions(St)}const nt=g.translatePosMatrix(Ne.projMatrix,Be,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Tt=K.projection.createInversionMatrix(K,Ne.canonical),ct=f.paint.get("fill-extrusion-vertical-gradient"),Nt=ie?bf(nt,g,ct,ve,we,Ee,Ne,Be,le,Me,Ae,Tt):xf(nt,g,ct,ve,we,Ee,Ne,le,Me,Ae,Tt);g.prepareDrawProgram(D,at,Ne.toUnwrapped());const it=[];g.terrain&&it.push(Je.centroidVertexBuffer),be&&it.push(Je.layoutVertexExtBuffer),at.draw(D,D.gl.TRIANGLES,b,S,A,s.CullFaceMode.backCCW,Nt,f.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,f.paint,g.transform.zoom,Ze,it)}}function cm(g,u,f,v,b,S){const A=[le=>{let be=le.canonical.x-1,Me=le.wrap;return be<0&&(be=(1<<le.canonical.z)-1,Me--),new s.OverscaledTileID(le.overscaledZ,Me,le.canonical.z,be,le.canonical.y)},le=>{let be=le.canonical.x+1,Me=le.wrap;return be===1<<le.canonical.z&&(be=0,Me++),new s.OverscaledTileID(le.overscaledZ,Me,le.canonical.z,be,le.canonical.y)},le=>new s.OverscaledTileID(le.overscaledZ,le.wrap,le.canonical.z,le.canonical.x,(le.canonical.y===0?1<<le.canonical.z:le.canonical.y)-1),le=>new s.OverscaledTileID(le.overscaledZ,le.wrap,le.canonical.z,le.canonical.x,le.canonical.y===(1<<le.canonical.z)-1?0:le.canonical.y+1)],D=le=>{const be=u.getSource().minzoom,Me=$e=>{const Ne=u.getTileByID($e);if(Ne&&Ne.hasData())return Ne.getBucket(b)},Ae=[0,-1,1];for(const $e of Ae){if(le.overscaledZ+$e<be)continue;const Ne=Me(le.calculateScaledKey(le.overscaledZ+$e));if(Ne)return Ne}},N=[0,0,0],K=(le,be)=>(N[0]=Math.min(le.min.y,be.min.y),N[1]=Math.max(le.max.y,be.max.y),N[2]=s.EXTENT-be.min.x>le.max.x?be.min.x-s.EXTENT:le.max.x,N),Y=(le,be)=>(N[0]=Math.min(le.min.x,be.min.x),N[1]=Math.max(le.max.x,be.max.x),N[2]=s.EXTENT-be.min.y>le.max.y?be.min.y-s.EXTENT:le.max.y,N),ie=[(le,be)=>K(le,be),(le,be)=>K(be,le),(le,be)=>Y(le,be),(le,be)=>Y(be,le)],ve=new s.Point(0,0);let we,Se,Ce;const Ee=(le,be,Me,Ae,$e)=>{const Ne=[[Ae?Me:le,Ae?le:Me,0],[Ae?Me:be,Ae?be:Me,0]],Be=$e<0?s.EXTENT+$e:$e,Je=[Ae?Be:(le+be)/2,Ae?(le+be)/2:Be,0];return Me===0&&$e<0||Me!==0&&$e>0?S.getForTilePoints(Ce,[Je],!0,Se):Ne.push(Je),S.getForTilePoints(f,Ne,!0,we),Math.max(Ne[0][2],Ne[1][2],Je[2])/S.exaggeration()};for(let le=0;le<4;le++){const be=(le<2?1:5)-le,Me=v.borders[le];if(Me.length===0)continue;const Ae=Ce=A[le](f),$e=D(Ae);if(!($e&&$e instanceof s.FillExtrusionBucket&&$e.enableTerrain)||v.borderDoneWithNeighborZ[le]===$e.canonical.z&&$e.borderDoneWithNeighborZ[be]===v.canonical.z||(Se=S.findDEMTileFor(Ae),!Se||!Se.dem))continue;if(!we){const Ze=S.findDEMTileFor(f);if(!Ze||!Ze.dem)return;we=Ze}const Ne=$e.borders[be];let Be=0;const Je=$e.borderDoneWithNeighborZ[be]!==v.canonical.z;if(v.canonical.z===$e.canonical.z){for(let Ze=0;Ze<Me.length;Ze++){const at=v.featuresOnBorder[Me[Ze]],Vt=at.borders[le];let nt;for(;Be<Ne.length&&(nt=$e.featuresOnBorder[Ne[Be]],!(nt.borders[be][1]>Vt[0]+3));)Je&&$e.encodeCentroid(void 0,nt,!1),Be++;if(nt&&Be<Ne.length){const Tt=Be;let ct=0;for(;!(nt.borders[be][0]>Vt[1]-3)&&(ct++,++Be!==Ne.length);)nt=$e.featuresOnBorder[Ne[Be]];if(nt=$e.featuresOnBorder[Ne[Tt]],at.intersectsCount()>1||nt.intersectsCount()>1||ct!==1){ct!==1&&(Be=Tt),v.encodeCentroid(void 0,at,!1),Je&&$e.encodeCentroid(void 0,nt,!1);continue}const Nt=ie[le](at,nt),it=le%2?s.EXTENT-1:0;ve.x=Ee(Nt[0],Math.min(s.EXTENT-1,Nt[1]),it,le<2,Nt[2]),ve.y=0,v.encodeCentroid(ve,at,!1),Je&&$e.encodeCentroid(ve,nt,!1)}else v.encodeCentroid(void 0,at,!1)}v.borderDoneWithNeighborZ[le]=$e.canonical.z,v.needsCentroidUpdate=!0,Je&&($e.borderDoneWithNeighborZ[be]=v.canonical.z,$e.needsCentroidUpdate=!0)}else{for(const Ze of Me)v.encodeCentroid(void 0,v.featuresOnBorder[Ze],!1);if(Je){for(const Ze of Ne)$e.encodeCentroid(void 0,$e.featuresOnBorder[Ze],!1);$e.borderDoneWithNeighborZ[be]=v.canonical.z,$e.needsCentroidUpdate=!0}v.borderDoneWithNeighborZ[le]=$e.canonical.z,v.needsCentroidUpdate=!0}}(v.needsCentroidUpdate||!v.centroidVertexBuffer&&v.centroidVertexArray.length!==0)&&v.uploadCentroid(g)}const Sc=new s.Color(1,0,0,1),Gy=new s.Color(0,1,0,1),Dl=new s.Color(0,0,1,1),um=new s.Color(1,0,1,1),Wy=new s.Color(0,1,1,1);function dm(g,u,f){const v=g.context,b=g.transform,S=v.gl,A=b.projection.name==="globe",D=A?["PROJECTION_GLOBE_VIEW"]:null;let N=f.projMatrix;if(A&&s.globeToMercatorTransition(b.zoom)>0){const at=s.transitionTileAABBinECEF(f.canonical,b),Vt=s.globeDenormalizeECEF(at);N=s.multiply(new Float32Array(16),b.globeMatrix,Vt),s.multiply(N,b.projMatrix,N)}const K=g.useProgram("debug",null,D),Y=u.getTileByID(f.key);g.terrain&&g.terrain.setupElevationDraw(Y,K);const ie=s.DepthMode.disabled,ve=s.StencilMode.disabled,we=g.colorModeForRenderPass(),Se="$debug";v.activeTexture.set(S.TEXTURE0),g.emptyTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),A?Y._makeGlobeTileDebugBuffers(g.context,b):Y._makeDebugTileBoundsBuffers(g.context,b.projection);const Ce=Y._tileDebugBuffer||g.debugBuffer,Ee=Y._tileDebugIndexBuffer||g.debugIndexBuffer,le=Y._tileDebugSegments||g.debugSegments;K.draw(v,S.LINE_STRIP,ie,ve,we,s.CullFaceMode.disabled,Rd(N,s.Color.red),Se,Ce,Ee,le,null,null,null,[Y._globeTileDebugBorderBuffer]);const be=Y.latestRawTileData,Me=Math.floor((be&&be.byteLength||0)/1024),Ae=u.getTile(f).tileSize,$e=512/Math.min(Ae,512)*(f.overscaledZ/b.zoom)*.5;let Ne=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Ne+=` => ${f.overscaledZ}`),Ne+=` ${Me}kb`,function(at,Vt){at.initDebugOverlayCanvas();const nt=at.debugOverlayCanvas,Tt=at.context.gl,ct=at.debugOverlayCanvas.getContext("2d");ct.clearRect(0,0,nt.width,nt.height),ct.shadowColor="white",ct.shadowBlur=2,ct.lineWidth=1.5,ct.strokeStyle="white",ct.textBaseline="top",ct.font="bold 36px Open Sans, sans-serif",ct.fillText(Vt,5,5),ct.strokeText(Vt,5,5),at.debugOverlayTexture.update(nt),at.debugOverlayTexture.bind(Tt.LINEAR,Tt.CLAMP_TO_EDGE)}(g,Ne);const Be=Y._tileDebugTextBuffer||g.debugBuffer,Je=Y._tileDebugTextIndexBuffer||g.quadTriangleIndexBuffer,Ze=Y._tileDebugTextSegments||g.debugSegments;K.draw(v,S.TRIANGLES,ie,ve,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,Rd(N,s.Color.transparent,$e),Se,Be,Je,Ze,null,null,null,[Y._globeTileDebugTextBuffer])}function hm(g,u,f,v){Tc(g,0,u+f/2,g.transform.width,f,v)}function jd(g,u,f,v){Tc(g,u-f/2,0,f,g.transform.height,v)}function Tc(g,u,f,v,b,S){const A=g.context,D=A.gl;D.enable(D.SCISSOR_TEST),D.scissor(u*s.exported.devicePixelRatio,f*s.exported.devicePixelRatio,v*s.exported.devicePixelRatio,b*s.exported.devicePixelRatio),A.clear({color:S}),D.disable(D.SCISSOR_TEST)}const Af=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:fm}=Af;function ba(g,u,f,v){g.emplaceBack(u,f,v)}class $d{constructor(u){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,ba(this.vertexArray,-1,-1,1),ba(this.vertexArray,1,-1,1),ba(this.vertexArray,-1,1,1),ba(this.vertexArray,1,1,1),ba(this.vertexArray,-1,-1,-1),ba(this.vertexArray,1,-1,-1),ba(this.vertexArray,-1,1,-1),ba(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=u.createVertexBuffer(this.vertexArray,fm),this.indexBuffer=u.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function Ro(g,u,f,v,b,S){const A=g.gl,D=u.paint.get("sky-atmosphere-color"),N=u.paint.get("sky-atmosphere-halo-color"),K=u.paint.get("sky-atmosphere-sun-intensity"),Y=((ie,ve,we,Se,Ce)=>({u_matrix_3f:ie,u_sun_direction:ve,u_sun_intensity:we,u_color_tint_r:[Se.r,Se.g,Se.b,Se.a],u_color_tint_m:[Ce.r,Ce.g,Ce.b,Ce.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),v),b,K,D,N);A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_CUBE_MAP_POSITIVE_X+S,u.skyboxTexture,0),f.draw(g,A.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,Y,"skyboxCapture",u.skyboxGeometry.vertexBuffer,u.skyboxGeometry.indexBuffer,u.skyboxGeometry.segment)}const yo=s.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class pm{constructor(u){const f=new s.StructArrayLayout5f20;f.emplaceBack(-1,1,1,0,0),f.emplaceBack(1,1,1,1,0),f.emplaceBack(1,-1,1,1,1),f.emplaceBack(-1,-1,1,0,1);const v=new s.StructArrayLayout3ui6;v.emplaceBack(0,1,2),v.emplaceBack(2,3,0),this.vertexBuffer=u.createVertexBuffer(f,yo.members),this.indexBuffer=u.createIndexBuffer(v),this.segments=s.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Ll={symbol:function(g,u,f,v,b){if(g.renderPass!=="translucent")return;const S=s.StencilMode.disabled,A=g.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(D,N,K,Y,ie,ve,we){const Se=N.transform,Ce=ie==="map",Ee=ve==="map";for(const le of D){const be=Y.getTile(le),Me=be.getBucket(K);if(!Me||!Me.text||!Me.text.segments.get().length)continue;const Ae=s.evaluateSizeForZoom(Me.textSizeData,Se.zoom),$e=po(le,Me.getProjection(),Se),Ne=Se.calculatePixelsToTileUnitsMatrix(be),Be=_t($e,be.tileID.canonical,Ee,Ce,Se,Me.getProjection(),Ne),Je=K.layout.get("icon-text-fit")!=="none"&&Me.hasIconData();if(Ae){const Ze=Math.pow(2,Se.zoom-be.tileID.overscaledZ);Hy(Me,Ce,Ee,we,s.symbolSize,Se,Be,le,Ze,Ae,Je)}}}(v,g,f,u,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),b),f.paint.get("icon-opacity").constantOr(1)!==0&&am(g,u,f,v,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),S,A),f.paint.get("text-opacity").constantOr(1)!==0&&am(g,u,f,v,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),S,A),u.map.showCollisionBoxes&&(Su(g,u,f,v,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),Su(g,u,f,v,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))},circle:function(g,u,f,v){if(g.renderPass!=="translucent")return;const b=f.paint.get("circle-opacity"),S=f.paint.get("circle-stroke-width"),A=f.paint.get("circle-stroke-opacity"),D=f.layout.get("circle-sort-key").constantOr(1)!==void 0;if(b.constantOr(1)===0&&(S.constantOr(1)===0||A.constantOr(1)===0))return;const N=g.context,K=N.gl,Y=g.transform,ie=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),ve=s.StencilMode.disabled,we=g.colorModeForRenderPass(),Se=Y.projection.name==="globe",Ce=[s.mercatorXfromLng(Y.center.lng),s.mercatorYfromLat(Y.center.lat)],Ee=[];for(let be=0;be<v.length;be++){const Me=v[be],Ae=u.getTile(Me),$e=Ae.getBucket(f);if(!$e||$e.projection.name!==Y.projection.name)continue;const Ne=$e.programConfigurations.get(f.id),Be=Sf(f);Se&&Be.push("PROJECTION_GLOBE_VIEW");const Je=g.useProgram("circle",Ne,Be),Ze=$e.layoutVertexBuffer,at=$e.globeExtVertexBuffer,Vt=$e.indexBuffer,nt=Y.projection.createInversionMatrix(Y,Me.canonical),Tt={programConfiguration:Ne,program:Je,layoutVertexBuffer:Ze,globeExtVertexBuffer:at,indexBuffer:Vt,uniformValues:Cf(g,Me,Ae,nt,Ce,f),tile:Ae};if(D){const ct=$e.segments.get();for(const Nt of ct)Ee.push({segments:new s.SegmentVector([Nt]),sortKey:Nt.sortKey,state:Tt})}else Ee.push({segments:$e.segments,sortKey:0,state:Tt})}D&&Ee.sort((be,Me)=>be.sortKey-Me.sortKey);const le={useDepthForOcclusion:!Se};for(const be of Ee){const{programConfiguration:Me,program:Ae,layoutVertexBuffer:$e,globeExtVertexBuffer:Ne,indexBuffer:Be,uniformValues:Je,tile:Ze}=be.state,at=be.segments;g.terrain&&g.terrain.setupElevationDraw(Ze,Ae,le),g.prepareDrawProgram(N,Ae,Ze.tileID.toUnwrapped()),Ae.draw(N,K.TRIANGLES,ie,ve,we,s.CullFaceMode.disabled,Je,f.id,$e,Be,at,f.paint,Y.zoom,Me,[Ne])}},heatmap:function(g,u,f,v){if(f.paint.get("heatmap-opacity")!==0)if(g.renderPass==="offscreen"){const b=g.context,S=b.gl,A=s.StencilMode.disabled,D=new s.ColorMode([S.ONE,S.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(we,Se,Ce,Ee){const le=we.gl,be=Se.width*Ee,Me=Se.height*Ee;we.activeTexture.set(le.TEXTURE1),we.viewport.set([0,0,be,Me]);let Ae=Ce.heatmapFbo;if(!Ae||Ae&&(Ae.width!==be||Ae.height!==Me)){Ae&&Ae.destroy();const $e=le.createTexture();le.bindTexture(le.TEXTURE_2D,$e),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,le.CLAMP_TO_EDGE),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,le.LINEAR),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,le.LINEAR),Ae=Ce.heatmapFbo=we.createFramebuffer(be,Me,!1),function(Ne,Be,Je,Ze,at,Vt){const nt=Ne.gl;nt.texImage2D(nt.TEXTURE_2D,0,Ne.isWebGL2&&Ne.extRenderToTextureHalfFloat?nt.RGBA16F:nt.RGBA,at,Vt,0,nt.RGBA,Ne.extRenderToTextureHalfFloat?Ne.isWebGL2?nt.HALF_FLOAT:Ne.extTextureHalfFloat.HALF_FLOAT_OES:nt.UNSIGNED_BYTE,null),Ze.colorAttachment.set(Je)}(we,0,$e,Ae,be,Me)}else le.bindTexture(le.TEXTURE_2D,Ae.colorAttachment.get()),we.bindFramebuffer.set(Ae.framebuffer)})(b,g,f,g.transform.projection.name==="globe"?.5:.25),b.clear({color:s.Color.transparent});const N=g.transform,K=N.projection.name==="globe",Y=K?["PROJECTION_GLOBE_VIEW"]:null,ie=K?s.CullFaceMode.frontCCW:s.CullFaceMode.disabled,ve=[s.mercatorXfromLng(N.center.lng),s.mercatorYfromLat(N.center.lat)];for(let we=0;we<v.length;we++){const Se=v[we];if(u.hasRenderableParent(Se))continue;const Ce=u.getTile(Se),Ee=Ce.getBucket(f);if(!Ee||Ee.projection.name!==N.projection.name)continue;const le=Ee.programConfigurations.get(f.id),be=g.useProgram("heatmap",le,Y),{zoom:Me}=g.transform;g.terrain&&g.terrain.setupElevationDraw(Ce,be),g.prepareDrawProgram(b,be,Se.toUnwrapped());const Ae=N.projection.createInversionMatrix(N,Se.canonical);be.draw(b,S.TRIANGLES,s.DepthMode.disabled,A,D,ie,om(g,Se,Ce,Ae,ve,Me,f.paint.get("heatmap-intensity")),f.id,Ee.layoutVertexBuffer,Ee.indexBuffer,Ee.segments,f.paint,g.transform.zoom,le,K?[Ee.globeExtVertexBuffer]:null)}b.viewport.set([0,0,g.width,g.height])}else g.renderPass==="translucent"&&(g.context.setColorMode(g.colorModeForRenderPass()),function(b,S){const A=b.context,D=A.gl,N=S.heatmapFbo;if(!N)return;A.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,N.colorAttachment.get()),A.activeTexture.set(D.TEXTURE1);let K=S.colorRampTexture;K||(K=S.colorRampTexture=new s.Texture(A,S.colorRamp,D.RGBA)),K.bind(D.LINEAR,D.CLAMP_TO_EDGE),b.useProgram("heatmapTexture").draw(A,D.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,b.colorModeForRenderPass(),s.CullFaceMode.disabled,((Y,ie,ve,we)=>({u_image:0,u_color_ramp:1,u_opacity:ie.paint.get("heatmap-opacity")}))(0,S),S.id,b.viewportBuffer,b.quadTriangleIndexBuffer,b.viewportSegments,S.paint,b.transform.zoom)}(g,f))},line:function(g,u,f,v){if(g.renderPass!=="translucent")return;const b=f.paint.get("line-opacity"),S=f.paint.get("line-width");if(b.constantOr(1)===0||S.constantOr(1)===0)return;const A=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),D=g.colorModeForRenderPass(),N=g.terrain&&g.terrain.renderingToTexture?1:s.exported.devicePixelRatio,K=f.paint.get("line-dasharray"),Y=K.constantOr(1),ie=f.layout.get("line-cap"),ve=f.paint.get("line-pattern"),we=ve.constantOr(1),Se=f.paint.get("line-gradient"),Ce=we?"linePattern":"line",Ee=g.context,le=Ee.gl,be=(Ae=>{const $e=[];wu(Ae)&&$e.push("RENDER_LINE_DASH"),Ae.paint.get("line-gradient")&&$e.push("RENDER_LINE_GRADIENT");const Ne=Ae.paint.get("line-trim-offset");Ne[0]===0&&Ne[1]===0||$e.push("RENDER_LINE_TRIM_OFFSET");const Be=Ae.paint.get("line-pattern").constantOr(1),Je=Ae.paint.get("line-opacity").constantOr(1)!==1;return!Be&&Je&&$e.push("RENDER_LINE_ALPHA_DISCARD"),$e})(f);let Me=be.includes("RENDER_LINE_ALPHA_DISCARD");g.terrain&&g.terrain.clipOrMaskOverlapStencilType()&&(Me=!1);for(const Ae of v){const $e=u.getTile(Ae);if(we&&!$e.patternsLoaded())continue;const Ne=$e.getBucket(f);if(!Ne)continue;g.prepareDrawTile();const Be=Ne.programConfigurations.get(f.id),Je=g.useProgram(Ce,Be,be),Ze=ve.constantOr(null);if(Ze&&$e.imageAtlas){const St=$e.imageAtlas.patternPositions[Ze.toString()];St&&Be.setConstantPatternPositions(St)}const at=K.constantOr(null),Vt=ie.constantOr(null);if(!we&&at&&Vt&&$e.lineAtlas){const St=$e.lineAtlas.getDash(at,Vt);St&&Be.setConstantPatternPositions(St)}let[nt,Tt]=f.paint.get("line-trim-offset");(Vt==="round"||Vt==="square")&&nt!==Tt&&(nt===0&&(nt-=1),Tt===1&&(Tt+=1));const ct=g.terrain?Ae.projMatrix:null,Nt=we?wc(g,$e,f,ct,N):Vy(g,$e,f,ct,Ne.lineClipsArray.length,N,[nt,Tt]);if(Se){const St=Ne.gradients[f.id];let Gt=St.texture;if(f.gradientVersion!==St.version){let At=256;if(f.stepInterpolant){const Zt=u.getSource().maxzoom,Mn=Ae.canonical.z===Zt?Math.ceil(1<<g.transform.maxZoom-Ae.canonical.z):1;At=s.clamp(s.nextPowerOfTwo(Ne.maxLineLength/s.EXTENT*1024*Mn),256,Ee.maxTextureSize)}St.gradient=s.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:At,image:St.gradient||void 0,clips:Ne.lineClipsArray}),St.texture?St.texture.update(St.gradient):St.texture=new s.Texture(Ee,St.gradient,le.RGBA),St.version=f.gradientVersion,Gt=St.texture}Ee.activeTexture.set(le.TEXTURE1),Gt.bind(f.stepInterpolant?le.NEAREST:le.LINEAR,le.CLAMP_TO_EDGE)}Y&&(Ee.activeTexture.set(le.TEXTURE0),$e.lineAtlasTexture.bind(le.LINEAR,le.REPEAT),Be.updatePaintBuffers()),we&&(Ee.activeTexture.set(le.TEXTURE0),$e.imageAtlasTexture.bind(le.LINEAR,le.CLAMP_TO_EDGE),Be.updatePaintBuffers()),g.prepareDrawProgram(Ee,Je,Ae.toUnwrapped());const it=St=>{Je.draw(Ee,le.TRIANGLES,A,St,D,s.CullFaceMode.disabled,Nt,f.id,Ne.layoutVertexBuffer,Ne.indexBuffer,Ne.segments,f.paint,g.transform.zoom,Be,[Ne.layoutVertexBuffer2])};if(Me){const St=g.stencilModeForClipping(Ae).ref;St===0&&g.terrain&&Ee.clear({stencil:0});const Gt={func:le.EQUAL,mask:255};Nt.u_alpha_discard_threshold=.8,it(new s.StencilMode(Gt,St,255,le.KEEP,le.KEEP,le.INVERT)),Nt.u_alpha_discard_threshold=0,it(new s.StencilMode(Gt,St,255,le.KEEP,le.KEEP,le.KEEP))}else it(g.stencilModeForClipping(Ae))}Me&&(g.resetStencilClippingMasks(),g.terrain&&Ee.clear({stencil:0}))},fill:function(g,u,f,v){const b=f.paint.get("fill-color"),S=f.paint.get("fill-opacity");if(S.constantOr(1)===0)return;const A=g.colorModeForRenderPass(),D=f.paint.get("fill-pattern"),N=g.opaquePassEnabledForLayer()&&!D.constantOr(1)&&b.constantOr(s.Color.transparent).a===1&&S.constantOr(0)===1?"opaque":"translucent";if(g.renderPass===N){const K=g.depthModeForSublayer(1,g.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);lm(g,u,f,v,K,A,!1)}if(g.renderPass==="translucent"&&f.paint.get("fill-antialias")){const K=g.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);lm(g,u,f,v,K,A,!0)}},"fill-extrusion":function(g,u,f,v){const b=f.paint.get("fill-extrusion-opacity");if(b!==0&&g.renderPass==="translucent"){const S=new s.DepthMode(g.context.gl.LEQUAL,s.DepthMode.ReadWrite,g.depthRangeFor3D);if(b!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))Fd(g,u,f,v,S,s.StencilMode.disabled,s.ColorMode.disabled),Fd(g,u,f,v,S,g.stencilModeFor3D(),g.colorModeForRenderPass()),g.resetStencilClippingMasks();else{const A=g.colorModeForRenderPass();Fd(g,u,f,v,S,s.StencilMode.disabled,A)}}},hillshade:function(g,u,f,v){if(g.renderPass!=="offscreen"&&g.renderPass!=="translucent")return;const b=g.context,S=g.depthModeForSublayer(0,s.DepthMode.ReadOnly),A=g.colorModeForRenderPass(),D=g.terrain&&g.terrain.renderingToTexture,[N,K]=g.renderPass!=="translucent"||D?[{},v]:g.stencilConfigForOverlap(v);for(const Y of K){const ie=u.getTile(Y);if(ie.needsHillshadePrepare&&g.renderPass==="offscreen")yf(g,ie,f,S,s.StencilMode.disabled,A);else if(g.renderPass==="translucent"){const ve=D&&g.terrain?g.terrain.stencilModeForRTTOverlap(Y):N[Y.overscaledZ];gf(g,Y,ie,f,S,ve,A)}}b.viewport.set([0,0,g.width,g.height]),g.resetStencilClippingMasks()},raster:function(g,u,f,v,b,S){if(g.renderPass!=="translucent"||f.paint.get("raster-opacity")===0||!v.length)return;const A=g.context,D=A.gl,N=u.getSource(),K=g.useProgram("raster"),Y=g.colorModeForRenderPass(),ie=g.terrain&&g.terrain.renderingToTexture,[ve,we]=N instanceof Hn||ie?[{},v]:g.stencilConfigForOverlap(v),Se=we[we.length-1].overscaledZ,Ce=!g.options.moving;for(const Ee of we){const le=ie?s.DepthMode.disabled:g.depthModeForSublayer(Ee.overscaledZ-Se,f.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,D.LESS),be=Ee.toUnwrapped(),Me=u.getTile(Ee);if(ie&&(!Me||!Me.hasData()))continue;const Ae=ie?Ee.projMatrix:g.transform.calculateProjMatrix(be,Ce),$e=g.terrain&&ie?g.terrain.stencilModeForRTTOverlap(Ee):ve[Ee.overscaledZ],Ne=S?0:f.paint.get("raster-fade-duration");Me.registerFadeDuration(Ne);const Be=u.findLoadedParent(Ee,0),Je=kd(Me,Be,u,g.transform,Ne);let Ze,at;g.terrain&&g.terrain.prepareDrawTile();const Vt=f.paint.get("raster-resampling")==="nearest"?D.NEAREST:D.LINEAR;A.activeTexture.set(D.TEXTURE0),Me.texture.bind(Vt,D.CLAMP_TO_EDGE),A.activeTexture.set(D.TEXTURE1),Be?(Be.texture.bind(Vt,D.CLAMP_TO_EDGE),Ze=Math.pow(2,Be.tileID.overscaledZ-Me.tileID.overscaledZ),at=[Me.tileID.canonical.x*Ze%1,Me.tileID.canonical.y*Ze%1]):Me.texture.bind(Vt,D.CLAMP_TO_EDGE),Me.texture.useMipmap&&A.extTextureFilterAnisotropic&&g.transform.pitch>20&&D.texParameterf(D.TEXTURE_2D,A.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,A.extTextureFilterAnisotropicMax);const nt=Ef(Ae,at||[0,0],Ze||1,Je,f,N instanceof Hn?N.perspectiveTransform:[0,0]);if(g.prepareDrawProgram(A,K,be),N instanceof Hn)N.boundsBuffer&&N.boundsSegments&&K.draw(A,D.TRIANGLES,le,s.StencilMode.disabled,Y,s.CullFaceMode.disabled,nt,f.id,N.boundsBuffer,g.quadTriangleIndexBuffer,N.boundsSegments);else{const{tileBoundsBuffer:Tt,tileBoundsIndexBuffer:ct,tileBoundsSegments:Nt}=g.getTileBoundsBuffers(Me);K.draw(A,D.TRIANGLES,le,$e,Y,s.CullFaceMode.disabled,nt,f.id,Tt,ct,Nt)}}g.resetStencilClippingMasks()},background:function(g,u,f,v){const b=f.paint.get("background-color"),S=f.paint.get("background-opacity");if(S===0)return;const A=g.context,D=A.gl,N=g.transform,K=N.tileSize,Y=f.paint.get("background-pattern");if(g.isPatternMissing(Y))return;const ie=!Y&&b.a===1&&S===1&&g.opaquePassEnabledForLayer()?"opaque":"translucent";if(g.renderPass!==ie)return;const ve=s.StencilMode.disabled,we=g.depthModeForSublayer(0,ie==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),Se=g.colorModeForRenderPass(),Ce=g.useProgram(Y?"backgroundPattern":"background");let Ee,le=v;le||(Ee=g.getBackgroundTiles(),le=Object.values(Ee).map(be=>be.tileID)),Y&&(A.activeTexture.set(D.TEXTURE0),g.imageManager.bind(g.context));for(const be of le){const Me=be.toUnwrapped(),Ae=v?be.projMatrix:g.transform.calculateProjMatrix(Me);g.prepareDrawTile();const $e=u?u.getTile(be):Ee?Ee[be.key]:new s.Tile(be,K,N.zoom,g),Ne=Y?kf(Ae,S,g,Y,{tileID:be,tileSize:K}):Dd(Ae,S,b);g.prepareDrawProgram(A,Ce,Me);const{tileBoundsBuffer:Be,tileBoundsIndexBuffer:Je,tileBoundsSegments:Ze}=g.getTileBoundsBuffers($e);Ce.draw(A,D.TRIANGLES,we,ve,Se,s.CullFaceMode.disabled,Ne,f.id,Be,Je,Ze)}},sky:function(g,u,f){const v=g.transform,b=v.projection.name==="mercator"||v.projection.name==="globe"?1:s.smoothstep(7,8,v.zoom),S=f.paint.get("sky-opacity")*b;if(S===0)return;const A=g.context,D=f.paint.get("sky-type"),N=new s.DepthMode(A.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),K=g.frameCounter/1e3%1;D==="atmosphere"?g.renderPass==="offscreen"?f.needsSkyboxCapture(g)&&(function(Y,ie,ve,we){const Se=Y.context,Ce=Se.gl;let Ee=ie.skyboxFbo;if(!Ee){Ee=ie.skyboxFbo=Se.createFramebuffer(32,32,!1),ie.skyboxGeometry=new $d(Se),ie.skyboxTexture=Se.gl.createTexture(),Ce.bindTexture(Ce.TEXTURE_CUBE_MAP,ie.skyboxTexture),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_WRAP_S,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_WRAP_T,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_MIN_FILTER,Ce.LINEAR),Ce.texParameteri(Ce.TEXTURE_CUBE_MAP,Ce.TEXTURE_MAG_FILTER,Ce.LINEAR);for(let Ae=0;Ae<6;++Ae)Ce.texImage2D(Ce.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,Ce.RGBA,32,32,0,Ce.RGBA,Ce.UNSIGNED_BYTE,null)}Se.bindFramebuffer.set(Ee.framebuffer),Se.viewport.set([0,0,32,32]);const le=ie.getCenter(Y,!0),be=Y.useProgram("skyboxCapture"),Me=new Float64Array(16);s.identity(Me),s.rotateY(Me,Me,.5*-Math.PI),Ro(Se,ie,be,Me,le,0),s.identity(Me),s.rotateY(Me,Me,.5*Math.PI),Ro(Se,ie,be,Me,le,1),s.identity(Me),s.rotateX(Me,Me,.5*-Math.PI),Ro(Se,ie,be,Me,le,2),s.identity(Me),s.rotateX(Me,Me,.5*Math.PI),Ro(Se,ie,be,Me,le,3),s.identity(Me),Ro(Se,ie,be,Me,le,4),s.identity(Me),s.rotateY(Me,Me,Math.PI),Ro(Se,ie,be,Me,le,5),Se.viewport.set([0,0,Y.width,Y.height])}(g,f),f.markSkyboxValid(g)):g.renderPass==="sky"&&function(Y,ie,ve,we,Se){const Ce=Y.context,Ee=Ce.gl,le=Y.transform,be=Y.useProgram("skybox");Ce.activeTexture.set(Ee.TEXTURE0),Ee.bindTexture(Ee.TEXTURE_CUBE_MAP,ie.skyboxTexture);const Me=((Ae,$e,Ne,Be,Je)=>({u_matrix:Ae,u_sun_direction:$e,u_cubemap:0,u_opacity:Be,u_temporal_offset:Je}))(le.skyboxMatrix,ie.getCenter(Y,!1),0,we,Se);Y.prepareDrawProgram(Ce,be),be.draw(Ce,Ee.TRIANGLES,ve,s.StencilMode.disabled,Y.colorModeForRenderPass(),s.CullFaceMode.backCW,Me,"skybox",ie.skyboxGeometry.vertexBuffer,ie.skyboxGeometry.indexBuffer,ie.skyboxGeometry.segment)}(g,f,N,S,K):D==="gradient"&&g.renderPass==="sky"&&function(Y,ie,ve,we,Se){const Ce=Y.context,Ee=Ce.gl,le=Y.transform,be=Y.useProgram("skyboxGradient");ie.skyboxGeometry||(ie.skyboxGeometry=new $d(Ce)),Ce.activeTexture.set(Ee.TEXTURE0);let Me=ie.colorRampTexture;Me||(Me=ie.colorRampTexture=new s.Texture(Ce,ie.colorRamp,Ee.RGBA)),Me.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE);const Ae=(($e,Ne,Be,Je,Ze)=>({u_matrix:$e,u_color_ramp:0,u_center_direction:Ne,u_radius:s.degToRad(Be),u_opacity:Je,u_temporal_offset:Ze}))(le.skyboxMatrix,ie.getCenter(Y,!1),ie.paint.get("sky-gradient-radius"),we,Se);Y.prepareDrawProgram(Ce,be),be.draw(Ce,Ee.TRIANGLES,ve,s.StencilMode.disabled,Y.colorModeForRenderPass(),s.CullFaceMode.backCW,Ae,"skyboxGradient",ie.skyboxGeometry.vertexBuffer,ie.skyboxGeometry.indexBuffer,ie.skyboxGeometry.segment)}(g,f,N,S,K)},debug:function(g,u,f){for(let v=0;v<f.length;v++)dm(g,u,f[v])},custom:function(g,u,f,v){const b=g.context,S=f.implementation;if(!g.transform.projection.unsupportedLayers||!g.transform.projection.unsupportedLayers.includes("custom")||g.terrain&&(g.terrain.renderingToTexture||g.renderPass==="offscreen")&&f.isLayerDraped()){if(g.renderPass==="offscreen"){const A=S.prerender;if(A){if(g.setCustomLayerDefaults(),b.setColorMode(g.colorModeForRenderPass()),g.transform.projection.name==="globe"){const D=g.transform.pointMerc;A.call(S,b.gl,g.transform.customLayerMatrix(),g.transform.getProjection(),g.transform.globeToMercatorMatrix(),s.globeToMercatorTransition(g.transform.zoom),[D.x,D.y],g.transform.pixelsPerMeterRatio)}else A.call(S,b.gl,g.transform.customLayerMatrix());b.setDirty(),g.setBaseState()}}else if(g.renderPass==="translucent"){if(g.terrain&&g.terrain.renderingToTexture){const D=S.renderToTile;if(D){const N=v[0].canonical,K=new s.MercatorCoordinate(N.x+v[0].wrap*(1<<N.z),N.y,N.z);b.setDepthMode(s.DepthMode.disabled),b.setStencilMode(s.StencilMode.disabled),b.setColorMode(g.colorModeForRenderPass()),g.setCustomLayerDefaults(),D.call(S,b.gl,K),b.setDirty(),g.setBaseState()}return}g.setCustomLayerDefaults(),b.setColorMode(g.colorModeForRenderPass()),b.setStencilMode(s.StencilMode.disabled);const A=S.renderingMode==="3d"?new s.DepthMode(g.context.gl.LEQUAL,s.DepthMode.ReadWrite,g.depthRangeFor3D):g.depthModeForSublayer(0,s.DepthMode.ReadOnly);if(b.setDepthMode(A),g.transform.projection.name==="globe"){const D=g.transform.pointMerc;S.render(b.gl,g.transform.customLayerMatrix(),g.transform.getProjection(),g.transform.globeToMercatorMatrix(),s.globeToMercatorTransition(g.transform.zoom),[D.x,D.y],g.transform.pixelsPerMeterRatio)}else S.render(b.gl,g.transform.customLayerMatrix());b.setDirty(),g.setBaseState(),b.bindFramebuffer.set(null)}}else s.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Ec{constructor(u,f,v=!1){this.context=new Mt(u,v),this.transform=f,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(u,f){const v=!!u&&!!u.terrain&&this.transform.projection.supportsTerrain;if(!(v||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new vf(this,u));const b=this._terrain;this.transform.elevation=v?b:null,b.update(u,this.transform,f)}_updateFog(u){const f=u.fog;if(!f||this.transform.projection.name==="globe"||f.getOpacity(this.transform.pitch)<1||f.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[v,b]=f.getFovAdjustedRange(this.transform._fov);if(v>b)return void(this.transform.fogCullDistSq=null);const S=v+.78*(b-v);this.transform.fogCullDistSq=S*S}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(u,f){if(this.width=u*s.exported.devicePixelRatio,this.height=f*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style.order)this.style._layers[v].resize()}setup(){const u=this.context,f=new s.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(s.EXTENT,0),f.emplaceBack(0,s.EXTENT),f.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=u.createVertexBuffer(f,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const v=new s.StructArrayLayout2i4;v.emplaceBack(0,0),v.emplaceBack(s.EXTENT,0),v.emplaceBack(0,s.EXTENT),v.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=u.createVertexBuffer(v,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const b=new s.StructArrayLayout2i4;b.emplaceBack(-1,-1),b.emplaceBack(1,-1),b.emplaceBack(-1,1),b.emplaceBack(1,1),this.viewportBuffer=u.createVertexBuffer(b,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const S=new s.StructArrayLayout4i8;S.emplaceBack(0,0,0,0),S.emplaceBack(s.EXTENT,0,s.EXTENT,0),S.emplaceBack(0,s.EXTENT,0,s.EXTENT),S.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=u.createVertexBuffer(S,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const A=new s.StructArrayLayout3ui6;A.emplaceBack(0,1,2),A.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=u.createIndexBuffer(A);const D=new s.StructArrayLayout1ui2;for(const K of[0,1,3,2,0])D.emplaceBack(K);this.debugIndexBuffer=u.createIndexBuffer(D),this.emptyTexture=new s.Texture(u,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),u.gl.RGBA),this.identityMat=s.create();const N=this.context.gl;this.stencilClearMode=new s.StencilMode({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO),this.loadTimeStamps.push(s.window.performance.now()),this.atmosphereBuffer=new pm(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(u){return u._makeTileBoundsBuffers(this.context,this.transform.projection),u._tileBoundsBuffer?{tileBoundsBuffer:u._tileBoundsBuffer,tileBoundsIndexBuffer:u._tileBoundsIndexBuffer,tileBoundsSegments:u._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const u=this.context,f=u.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(u,f.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,_u(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(u,f,v){if(!f||this.currentStencilSource===f.id||!u.isTileClipped()||!v||v.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let D=!1;for(const N of v)if(this._tileClippingMaskIDs[N.key]===void 0){D=!0;break}if(!D)return}this.currentStencilSource=f.id;const b=this.context,S=b.gl;this.nextStencilID+v.length>256&&this.clearStencil(),b.setColorMode(s.ColorMode.disabled),b.setDepthMode(s.DepthMode.disabled);const A=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of v){const N=f.getTile(D),K=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,{tileBoundsBuffer:Y,tileBoundsIndexBuffer:ie,tileBoundsSegments:ve}=this.getTileBoundsBuffers(N);A.draw(b,S.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:S.ALWAYS,mask:0},K,255,S.KEEP,S.KEEP,S.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,_u(D.projMatrix),"$clipping",Y,ie,ve)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const u=this.nextStencilID++,f=this.context.gl;return new s.StencilMode({func:f.NOTEQUAL,mask:255},u,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(u){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(u);const f=this.context.gl;return new s.StencilMode({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[u.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(u){const f=this.context.gl,v=u.sort((A,D)=>D.overscaledZ-A.overscaledZ),b=v[v.length-1].overscaledZ,S=v[0].overscaledZ-b+1;if(S>1){this.currentStencilSource=void 0,this.nextStencilID+S>256&&this.clearStencil();const A={};for(let D=0;D<S;D++)A[D+b]=new s.StencilMode({func:f.GEQUAL,mask:255},D+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=S,[A,v]}return[{[b]:s.StencilMode.disabled},v]}colorModeForRenderPass(){const u=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([u.CONSTANT_COLOR,u.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(u,f,v){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const b=1-((1+this.currentLayer)*this.numSublayers+u)*this.depthEpsilon;return new s.DepthMode(v||this.context.gl.LEQUAL,f,[b,b])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(u,f){this.style=u,this.options=f,this.imageManager=u.imageManager,this.glyphManager=u.glyphManager,this.symbolFadeChange=u.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const v=this.style.order,b=this.style._sourceCaches;for(const K in b){const Y=b[K];Y.used&&Y.prepare(this.context)}const S={},A={},D={};for(const K in b){const Y=b[K];S[K]=Y.getVisibleCoordinates(),A[K]=S[K].slice().reverse(),D[K]=Y.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let K=0;K<v.length;K++)if(this.style._layers[v[K]].is3D()){this.opaquePassCutoff=K;break}if(this.terrain&&(this.terrain.updateTileBinding(D),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),!s.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const K of v){const Y=this.style._layers[K],ie=u._getLayerSourceCache(Y);if(!Y.hasOffscreenPass()||Y.isHidden(this.transform.zoom))continue;const ve=ie?A[ie.id]:void 0;(Y.type==="custom"||Y.isSky()||ve&&ve.length)&&this.renderLayer(this,ie,Y,ve)}this.depthRangeFor3D=[0,1-(u.order.length+2)*this.numSublayers*this.depthEpsilon];const N=this.terrain;if(N&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&N.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:f.showOverdrawInspector?s.Color.black:s.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=v.length-1;this.currentLayer>=0;this.currentLayer--){const K=this.style._layers[v[this.currentLayer]],Y=u._getLayerSourceCache(K);if(K.isSky())continue;const ie=Y?A[Y.id]:void 0;this._renderTileClippingMasks(K,Y,ie),this.renderLayer(this,Y,K,ie)}if(this.style.fog&&this.transform.projection.supportsFog&&function(K,Y){const ie=K.context,ve=ie.gl,we=K.transform,Se=new s.DepthMode(ve.LEQUAL,s.DepthMode.ReadOnly,[0,1]),Ce=K.useProgram("globeAtmosphere",null,we.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),Ee=s.globeToMercatorTransition(we.zoom),le=Y.properties.get("color").toArray01(),be=Y.properties.get("high-color").toArray01(),Me=Y.properties.get("space-color").toArray01PremultipliedAlpha(),Ae=s.identity$1([]);s.rotateY$1(Ae,Ae,-s.degToRad(we._center.lng)),s.rotateX$1(Ae,Ae,s.degToRad(we._center.lat)),s.rotateZ$1(Ae,Ae,we.angle),s.rotateX$1(Ae,Ae,-we._pitch);const $e=s.fromQuat(new Float32Array(16),Ae),Ne=s.mapValue(Y.properties.get("star-intensity"),0,1,0,.25),Be=5e-4,Je=s.mapValue(Y.properties.get("horizon-blend"),0,1,Be,.25),Ze=s.globeUseCustomAntiAliasing(K,ie,we)&&Je===Be?we.worldSize/(2*Math.PI*1.025)-1:we.globeRadius,at=K.frameCounter/1e3%1,Vt=s.length(we.globeCenterInViewSpace),nt=Math.sqrt(Math.pow(Vt,2)-Math.pow(Ze,2)),Tt=Math.acos(nt/Vt),ct=((it,St,Gt,At,Zt,Mn,Kn,xn,zn,pr,fr,Pn,Ur,Wr)=>({u_frustum_tl:it,u_frustum_tr:St,u_frustum_br:Gt,u_frustum_bl:At,u_horizon:Zt,u_transition:Mn,u_fadeout_range:Kn,u_color:xn,u_high_color:zn,u_space_color:pr,u_star_intensity:fr,u_star_size:5*s.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Pn,u_horizon_angle:Ur,u_rotation_matrix:Wr}))(we.frustumCorners.TL,we.frustumCorners.TR,we.frustumCorners.BR,we.frustumCorners.BL,we.frustumCorners.horizon,Ee,Je,le,be,Me,Ne,at,Tt,$e);K.prepareDrawProgram(ie,Ce);const Nt=K.atmosphereBuffer;Nt&&Ce.draw(ie,ve.TRIANGLES,Se,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,ct,"skybox",Nt.vertexBuffer,Nt.indexBuffer,Nt.segments)}(this,this.style.fog),this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<v.length;this.currentLayer++){const K=this.style._layers[v[this.currentLayer]],Y=u._getLayerSourceCache(K);K.isSky()&&this.renderLayer(this,Y,K,Y?A[Y.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<v.length;){const K=this.style._layers[v[this.currentLayer]],Y=u._getLayerSourceCache(K);if(K.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(K)){if(K.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ie=Y?(K.type==="symbol"?D:A)[Y.id]:void 0;this._renderTileClippingMasks(K,Y,Y?S[Y.id]:void 0),this.renderLayer(this,Y,K,ie),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let K=null;s.values(this.style._layers).forEach(Y=>{const ie=u._getLayerSourceCache(Y);ie&&!Y.isHidden(this.transform.zoom)&&(!K||K.getSource().maxzoom<ie.getSource().maxzoom)&&(K=ie)}),K&&this.options.showTileBoundaries&&Ll.debug(this,K,K.getVisibleCoordinates())}this.options.showPadding&&function(K){const Y=K.transform.padding;hm(K,K.transform.height-(Y.top||0),3,Sc),hm(K,Y.bottom||0,3,Gy),jd(K,Y.left||0,3,Dl),jd(K,K.transform.width-(Y.right||0),3,um);const ie=K.transform.centerPoint;(function(ve,we,Se,Ce){Tc(ve,we-1,Se-10,2,20,Ce),Tc(ve,we-10,Se-1,20,2,Ce)})(K,ie.x,K.transform.height-ie.y,Wy)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}renderLayer(u,f,v,b){v.isHidden(this.transform.zoom)||(v.type==="background"||v.type==="sky"||v.type==="custom"||b&&b.length)&&(this.id=v.id,this.gpuTimingStart(v),(!u.transform.projection.unsupportedLayers||!u.transform.projection.unsupportedLayers.includes(v.type)||u.terrain&&v.type==="custom")&&Ll[v.type](u,f,v,b,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(u){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery;let v=this.gpuTimers[u.id];v||(v=this.gpuTimers[u.id]={calls:0,cpuTime:0,query:f.createQueryEXT()}),v.calls++,f.beginQueryEXT(f.TIME_ELAPSED_EXT,v.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const u=this.context.extTimerQuery,f=u.createQueryEXT();this.deferredRenderGpuTimeQueries.push(f),u.beginQueryEXT(u.TIME_ELAPSED_EXT,f)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const u=this.context.extTimerQuery;u.endQueryEXT(u.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const u=this.context.extTimerQuery;u.endQueryEXT(u.TIME_ELAPSED_EXT)}collectGpuTimers(){const u=this.gpuTimers;return this.gpuTimers={},u}collectDeferredRenderGpuQueries(){const u=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],u}queryGpuTimers(u){const f={};for(const v in u){const b=u[v],S=this.context.extTimerQuery,A=S.getQueryObjectEXT(b.query,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(b.query),f[v]=A}return f}queryGpuTimeDeferredRender(u){if(!this.options.gpuTimingDeferredRender)return 0;const f=this.context.extTimerQuery;let v=0;for(const b of u)v+=f.getQueryObjectEXT(b,f.QUERY_RESULT_EXT)/1e6,f.deleteQueryEXT(b);return v}translatePosMatrix(u,f,v,b,S){if(!v[0]&&!v[1])return u;const A=S?b==="map"?this.transform.angle:0:b==="viewport"?-this.transform.angle:0;if(A){const K=Math.sin(A),Y=Math.cos(A);v=[v[0]*Y-v[1]*K,v[0]*K+v[1]*Y]}const D=[S?v[0]:Ue(f,v[0],this.transform.zoom),S?v[1]:Ue(f,v[1],this.transform.zoom),0],N=new Float32Array(16);return s.translate(N,u,D),N}saveTileTexture(u){const f=this._tileTextures[u.size[0]];f?f.push(u):this._tileTextures[u.size[0]]=[u]}getTileTexture(u){const f=this._tileTextures[u];return f&&f.length>0?f.pop():null}isPatternMissing(u){return u===null||u!==void 0&&!this.imageManager.getPattern(u.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const u=this.terrain&&this.terrain.renderingToTexture,f=this.terrain&&this.terrain.exaggeration()===0,v=this.style&&this.style.fog,b=[];return this.terrainRenderModeElevated()&&b.push("TERRAIN"),this.transform.projection.name==="globe"&&b.push("GLOBE"),f&&b.push("ZERO_EXAGGERATION"),v&&!u&&v.getOpacity(this.transform.pitch)!==0&&b.push("FOG"),u&&b.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&b.push("OVERDRAW_INSPECTOR"),b}useProgram(u,f,v){this.cache=this.cache||{};const b=v||[],S=this.currentGlobalDefines().concat(b),A=xr.cacheKey(Cd[u],u,S,f);return this.cache[A]||(this.cache[A]=new xr(this.context,u,Cd[u],f,If[u],S)),this.cache[A]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const u=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(u.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(u,f,v){if(this.terrain&&this.terrain.renderingToTexture)return;const b=this.style.fog;if(b){const S=b.getOpacity(this.transform.pitch),A=((D,N,K,Y,ie,ve,we,Se,Ce,Ee,le)=>{const be=D.transform,Me=N.properties.get("color").toArray01();Me[3]=Y;const Ae=D.frameCounter/1e3%1;return{u_fog_matrix:K?be.calculateFogTileMatrix(K):D.identityMat,u_fog_range:N.getFovAdjustedRange(be._fov),u_fog_color:Me,u_fog_horizon_blend:N.properties.get("horizon-blend"),u_fog_temporal_offset:Ae,u_frustum_tl:ie,u_frustum_tr:ve,u_frustum_br:we,u_frustum_bl:Se,u_globe_pos:Ce,u_globe_radius:Ee,u_viewport:le,u_globe_transition:s.globeToMercatorTransition(be.zoom),u_is_globe:+(be.projection.name==="globe")}})(this,b,v,S,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*s.exported.devicePixelRatio,this.transform.height*s.exported.devicePixelRatio]);f.setFogUniformValues(u,A)}}setTileLoadedFlag(u){this.tileLoaded=u}saveCanvasCopy(){const u=this.canvasCopy();u&&(this.frameCopies.push(u),this.tileLoaded=!1)}canvasCopy(){const u=this.context.gl,f=u.createTexture();return u.bindTexture(u.TEXTURE_2D,f),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGBA,0,0,u.drawingBufferWidth,u.drawingBufferHeight,0),f}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const u=this.style&&this.style.fog;return!!u&&u.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const u=this._backgroundTiles,f=this._backgroundTiles={},v=this.transform.coveringTiles({tileSize:512});for(const b of v)f[b.key]=u[b.key]||new s.Tile(b,512,this.transform.tileZoom,this);return f}clearBackgroundTiles(){this._backgroundTiles={}}}class Bd{constructor(u=0,f=0,v=0,b=0){if(isNaN(u)||u<0||isNaN(f)||f<0||isNaN(v)||v<0||isNaN(b)||b<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=u,this.bottom=f,this.left=v,this.right=b}interpolate(u,f,v){return f.top!=null&&u.top!=null&&(this.top=s.number(u.top,f.top,v)),f.bottom!=null&&u.bottom!=null&&(this.bottom=s.number(u.bottom,f.bottom,v)),f.left!=null&&u.left!=null&&(this.left=s.number(u.left,f.left,v)),f.right!=null&&u.right!=null&&(this.right=s.number(u.right,f.right,v)),this}getCenter(u,f){const v=s.clamp((this.left+u-this.right)/2,0,u),b=s.clamp((this.top+f-this.bottom)/2,0,f);return new s.Point(v,b)}equals(u){return this.top===u.top&&this.bottom===u.bottom&&this.left===u.left&&this.right===u.right}clone(){return new Bd(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Nd(g,u){const f=s.getColumn(g,3);s.fromQuat(g,u),s.setColumn(g,3,f)}function Sr(g,u){const f=s.identity$1([]);return s.rotateZ$1(f,f,-u),s.rotateX$1(f,f,-g),f}function Eu(g,u){const f=[g[0],g[1],0],v=[u[0],u[1],0];if(s.length(f)>=1e-15){const A=s.normalize([],f);s.scale$2(v,A,s.dot(v,A)),u[0]=v[0],u[1]=v[1]}const b=s.cross([],u,g);if(s.len(b)<1e-15)return null;const S=Math.atan2(-b[1],b[0]);return Sr(Math.atan2(Math.sqrt(g[0]*g[0]+g[1]*g[1]),-g[2]),S)}class Pu{constructor(u,f){this.position=u,this.orientation=f}get position(){return this._position}set position(u){if(u){const f=u instanceof s.MercatorCoordinate?u:new s.MercatorCoordinate(u[0],u[1],u[2]);this._renderWorldCopies&&(f.x=s.wrap(f.x,0,1)),this._position=f}else this._position=null}lookAtPoint(u,f){if(this.orientation=null,!this.position)return;const v=this.position,b=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(u)):0,S=s.MercatorCoordinate.fromLngLat(u,b),A=[S.x-v.x,S.y-v.y,S.z-v.z];f||(f=[0,0,1]),f[2]=Math.abs(f[2]),this.orientation=Eu(A,f)}setPitchBearing(u,f){this.orientation=Sr(s.degToRad(u),s.degToRad(-f))}}class H{constructor(u,f){this._transform=s.identity([]),this.orientation=f,this.position=u}get mercatorPosition(){const u=this.position;return new s.MercatorCoordinate(u[0],u[1],u[2])}get position(){const u=s.getColumn(this._transform,3);return[u[0],u[1],u[2]]}set position(u){var f;u&&s.setColumn(this._transform,3,[(f=u)[0],f[1],f[2],1])}get orientation(){return this._orientation}set orientation(u){this._orientation=u||s.identity$1([]),u&&Nd(this._transform,this._orientation)}getPitchBearing(){const u=this.forward(),f=this.right();return{bearing:Math.atan2(-f[1],f[0]),pitch:Math.atan2(Math.sqrt(u[0]*u[0]+u[1]*u[1]),-u[2])}}setPitchBearing(u,f){this._orientation=Sr(u,f),Nd(this._transform,this._orientation)}forward(){const u=s.getColumn(this._transform,2);return[-u[0],-u[1],-u[2]]}up(){const u=s.getColumn(this._transform,1);return[-u[0],-u[1],-u[2]]}right(){const u=s.getColumn(this._transform,0);return[u[0],u[1],u[2]]}getCameraToWorld(u,f){const v=new Float64Array(16);return s.invert(v,this.getWorldToCamera(u,f)),v}getWorldToCameraPosition(u,f,v){const b=this.position;s.scale$2(b,b,-u);const S=new Float64Array(16);return s.fromScaling(S,[v,v,v]),s.translate(S,S,b),S[10]*=f,S}getWorldToCamera(u,f){const v=new Float64Array(16),b=new Float64Array(4),S=this.position;return s.conjugate(b,this._orientation),s.scale$2(S,S,-u),s.fromQuat(v,b),s.translate(v,v,S),v[1]*=-1,v[5]*=-1,v[9]*=-1,v[13]*=-1,v[8]*=f,v[9]*=f,v[10]*=f,v[11]*=f,v}getCameraToClipPerspective(u,f,v,b){const S=new Float64Array(16);return s.perspective(S,u,f,v,b),S}getDistanceToElevation(u,f=!1){const v=u===0?0:s.mercatorZfromAltitude(u,f?s.latFromMercatorY(this.position[1]):this.position[1]),b=this.forward();return(v-this.position[2])/b[2]}clone(){return new H([...this.position],[...this.orientation])}}function G(g,u){const f=De(g.projection,g.zoom,g.width,g.height),v=function(S,A,D,N,K){const Y=new s.LngLat(D.lng-180*wt,D.lat),ie=new s.LngLat(D.lng+180*wt,D.lat),ve=S.project(Y.lng,Y.lat),we=S.project(ie.lng,ie.lat),Se=-Math.atan2(we.y-ve.y,we.x-ve.x),Ce=s.MercatorCoordinate.fromLngLat(D);Ce.y=s.clamp(Ce.y,-1+wt,1-wt);const Ee=Ce.toLngLat(),le=S.project(Ee.lng,Ee.lat),be=s.MercatorCoordinate.fromLngLat(Ee);be.x+=wt;const Me=be.toLngLat(),Ae=S.project(Me.lng,Me.lat),$e=Br(Ae.x-le.x,Ae.y-le.y,Se),Ne=s.MercatorCoordinate.fromLngLat(Ee);Ne.y+=wt;const Be=Ne.toLngLat(),Je=S.project(Be.lng,Be.lat),Ze=Br(Je.x-le.x,Je.y-le.y,Se),at=Math.abs($e.x)/Math.abs(Ze.y),Vt=s.identity([]);s.rotateZ(Vt,Vt,-Se*(1-(K?0:N)));const nt=s.identity([]);return s.scale(nt,nt,[1,1-(1-at)*N,1]),nt[4]=-Ze.x/Ze.y*N,s.rotateZ(nt,nt,Se),s.multiply(nt,Vt,nt),nt}(g.projection,0,g.center,f,u),b=fe(g);return s.scale(v,v,[b,b,1]),v}function fe(g){const u=g.projection,f=De(g.projection,g.zoom,g.width,g.height),v=jn(u,g.center),b=jn(u,s.LngLat.convert(u.center));return Math.pow(2,v*f+(1-f)*b)}function De(g,u,f,v,b=1/0){const S=g.range;if(!S)return 0;const A=Math.min(b,Math.max(f,v)),D=Math.log(A/1024)/Math.LN2;return s.smoothstep(S[0]+D,S[1]+D,u)}const wt=1/4e4;function jn(g,u){const f=s.clamp(u.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),v=new s.LngLat(u.lng-180*wt,f),b=new s.LngLat(u.lng+180*wt,f),S=g.project(v.lng,f),A=g.project(b.lng,f),D=s.MercatorCoordinate.fromLngLat(v),N=s.MercatorCoordinate.fromLngLat(b),K=A.x-S.x,Y=A.y-S.y,ie=N.x-D.x,ve=N.y-D.y,we=Math.sqrt((ie*ie+ve*ve)/(K*K+Y*Y));return Math.log(we)/Math.LN2}function Br(g,u,f){const v=Math.cos(f),b=Math.sin(f);return{x:g*v-u*b,y:g*b+u*v}}class To{constructor(u,f,v,b,S,A,D){this.tileSize=512,this._renderWorldCopies=S===void 0||S,this._minZoom=u||0,this._maxZoom=f||22,this._minPitch=v??0,this._maxPitch=b??60,this.setProjection(A),this.setMaxBounds(D),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bd,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new H,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const u=new To(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return u._elevation=this._elevation,u._centerAltitude=this._centerAltitude,u._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,u.tileSize=this.tileSize,u.mercatorFromTransition=this.mercatorFromTransition,u.width=this.width,u.height=this.height,u.cameraElevationReference=this.cameraElevationReference,u._center=this._center,u._setZoom(this.zoom),u._seaLevelZoom=this._seaLevelZoom,u.angle=this.angle,u._fov=this._fov,u._pitch=this._pitch,u._nearZ=this._nearZ,u._farZ=this._farZ,u._averageElevation=this._averageElevation,u._unmodified=this._unmodified,u._edgeInsets=this._edgeInsets.clone(),u._camera=this._camera.clone(),u._calcMatrices(),u.freezeTileCoverage=this.freezeTileCoverage,u.frustumCorners=this.frustumCorners,u}get elevation(){return this._elevation}set elevation(u){this._elevation!==u&&(this._elevation=u,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(u,f=!1){const v=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||v)&&this._updateCameraOnTerrain(),(u||v)&&this._constrainCamera(f),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(u){this.projectionOptions=u||{name:"mercator"};const f=this.projection?this.getProjection():void 0;this.projection=s.getProjection(this.projectionOptions);const v=!m(f,this.getProjection());return v&&this._calcMatrices(),this.mercatorFromTransition=!1,v}setMercatorFromTransition(){const u=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=s.getProjection({name:"mercator"});const f=u!==this.projection.name;return f&&this._calcMatrices(),f}get minZoom(){return this._minZoom}set minZoom(u){this._minZoom!==u&&(this._minZoom=u,this.zoom=Math.max(this.zoom,u))}get maxZoom(){return this._maxZoom}set maxZoom(u){this._maxZoom!==u&&(this._maxZoom=u,this.zoom=Math.min(this.zoom,u))}get minPitch(){return this._minPitch}set minPitch(u){this._minPitch!==u&&(this._minPitch=u,this.pitch=Math.max(this.pitch,u))}get maxPitch(){return this._maxPitch}set maxPitch(u){this._maxPitch!==u&&(this._maxPitch=u,this.pitch=Math.min(this.pitch,u))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(u){u===void 0?u=!0:u===null&&(u=!1),this._renderWorldCopies=u}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const u=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(u))}get cameraWorldSize(){const u=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(u))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return s.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.Point(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(u){this.rotation=u}get rotation(){return-this.angle/Math.PI*180}set rotation(u){const f=-u*Math.PI/180;var v;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=(v=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(v[1]=0,v[2]=0),v[0]=1,v[3]=1,v),function(b,S,A){var D=S[0],N=S[1],K=S[2],Y=S[3],ie=Math.sin(A),ve=Math.cos(A);b[0]=D*ve+K*ie,b[1]=N*ve+Y*ie,b[2]=D*-ie+K*ve,b[3]=N*-ie+Y*ve}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(u){const f=s.clamp(u,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const u=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/u)}set fov(u){u=Math.max(.01,Math.min(60,u)),this._fov!==u&&(this._unmodified=!1,this._fov=s.degToRad(u),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(u){this._averageElevation=u,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(u){const f=Math.min(Math.max(u,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._setZoom(f),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(u){this._zoom=u,this.scale=this.zoomScale(u),this.tileZoom=Math.floor(u),this.zoomFraction=u-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const u=this._elevation;this._centerAltitude=u.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=u.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const u=this._elevation,f=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],v=this.horizonLineFromTop();let b=0,S=0;for(let A=0;A<f.length;A++){const D=new s.Point(f[A][0]*this.width,v+f[A][1]*(this.height-v)),N=u.pointCoordinate(D);if(!N)continue;const K=1/Math.hypot(N[0]-this._camera.position[0],N[1]-this._camera.position[1]);b+=N[3]*K,S+=K}return S===0?NaN:b/S}get center(){return this._center}set center(u){u.lat===this._center.lat&&u.lng===this._center.lng||(this._unmodified=!1,this._center=u,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const u=this._seaLevelZoom,f=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),v=this.pixelsPerMeter/this.worldSize*f,b=this._mercatorZfromZoom(u),S=this._mercatorZfromZoom(this._maxZoom),A=Math.max(b-v,S);this._setZoom(this._zoomFromMercatorZ(A))}get padding(){return this._edgeInsets.toJSON()}set padding(u){this._edgeInsets.equals(u)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,u,1),this._calcMatrices())}computeZoomRelativeTo(u){const f=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,u.toAltitude()));let v;v=u.z<this._camera.position[2]?[f.x,f.y,f.z]:[u.x,u.y,u.z];const b=s.length(s.sub([],this._camera.position,v));return s.clamp(this._zoomFromMercatorZ(b),this._minZoom,this._maxZoom)}setFreeCameraOptions(u){if(!this.height||!u.position&&!u.orientation)return;this._updateCameraState();let f=!1;if(u.orientation&&!s.exactEquals(u.orientation,this._camera.orientation)&&(f=this._setCameraOrientation(u.orientation)),u.position){const v=[u.position.x,u.position.y,u.position.z];s.exactEquals$1(v,this._camera.position)||(this._setCameraPosition(v),f=!0)}f&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const u=this._camera.position,f=new Pu;return f.position=new s.MercatorCoordinate(u[0],u[1],u[2]),f.orientation=this._camera.orientation,f._elevation=this.elevation,f._renderWorldCopies=this.renderWorldCopies,f}_setCameraOrientation(u){if(!s.length$1(u))return!1;s.normalize$1(u,u);const f=s.transformQuat([],[0,0,-1],u),v=s.transformQuat([],[0,-1,0],u);if(v[2]<0)return!1;const b=Eu(f,v);return!!b&&(this._camera.orientation=b,!0)}_setCameraPosition(u){const f=this.zoomScale(this.minZoom)*this.tileSize,v=this.zoomScale(this.maxZoom)*this.tileSize,b=this.cameraToCenterDistance;u[2]=s.clamp(u[2],b/v,b/f),this._camera.position=u}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(u){return this._edgeInsets.equals(u)}interpolatePadding(u,f,v){this._unmodified=!1,this._edgeInsets.interpolate(u,f,v),this._constrain(),this._calcMatrices()}coveringZoomLevel(u){const f=(u.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/u.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(u){const f=[new s.UnwrappedTileID(0,u)];if(this.renderWorldCopies){const v=this.pointCoordinate(new s.Point(0,0)),b=this.pointCoordinate(new s.Point(this.width,0)),S=this.pointCoordinate(new s.Point(this.width,this.height)),A=this.pointCoordinate(new s.Point(0,this.height)),D=Math.floor(Math.min(v.x,b.x,S.x,A.x)),N=Math.floor(Math.max(v.x,b.x,S.x,A.x)),K=1;for(let Y=D-K;Y<=N+K;Y++)Y!==0&&f.push(new s.UnwrappedTileID(Y,u))}return f}coveringTiles(u){let f=this.coveringZoomLevel(u);const v=f,b=this.elevation&&!u.isTerrainDEM,S=this.projection.name==="mercator";if(u.minzoom!==void 0&&f<u.minzoom)return[];u.maxzoom!==void 0&&f>u.maxzoom&&(f=u.maxzoom);const A=this.locationCoordinate(this.center),D=this.center.lat,N=1<<f,K=[N*A.x,N*A.y,0],Y=this.projection.name==="globe",ie=!Y,ve=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,f,ie),we=Y?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Se=N*s.mercatorZfromAltitude(1,this.center.lat),Ce=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),Ee=[N*we.x,N*we.y,Ce*(ie?1:Se)],le=this.cameraToCenterDistance/u.tileSize*(u.roundZoom?1:.502),be=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?f:0,Me=u.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Ae=u.isTerrainDEM?-Me:this._elevation?this._elevation.getMinElevationBelowMSL():0,$e=this.projection.isReprojectedInTileSpace?fe(this):1,Ne=it=>{const Gt=new s.MercatorCoordinate(it.x+25e-6,it.y,it.z),At=new s.MercatorCoordinate(it.x,it.y+25e-6,it.z),Zt=it.toLngLat(),Mn=Gt.toLngLat(),Kn=At.toLngLat(),xn=this.locationCoordinate(Zt),zn=this.locationCoordinate(Mn),pr=this.locationCoordinate(Kn),fr=Math.hypot(zn.x-xn.x,zn.y-xn.y),Pn=Math.hypot(pr.x-xn.x,pr.y-xn.y);return Math.sqrt(fr*Pn)*$e/25e-6},Be=it=>{const St=Me,Gt=Ae;return{aabb:s.tileAABB(this,N,0,0,0,it,Gt,St,this.projection),zoom:0,x:0,y:0,minZ:Gt,maxZ:St,wrap:it,fullyVisible:!1}},Je=[];let Ze=[];const at=f,Vt=u.reparseOverscaled?v:f,nt=it=>it*it,Tt=nt((Ce-this._centerAltitude)*Se),ct=it=>{if(!this._elevation||!it.tileID||!S)return;const St=this._elevation.getMinMaxForTile(it.tileID),Gt=it.aabb;St?(Gt.min[2]=St.min,Gt.max[2]=St.max,Gt.center[2]=(Gt.min[2]+Gt.max[2])/2):(it.shouldSplit=Nt(it),it.shouldSplit||(Gt.min[2]=Gt.max[2]=Gt.center[2]=this._centerAltitude))},Nt=it=>{if(it.zoom<be)return!0;if(it.zoom===at)return!1;if(it.shouldSplit!=null)return it.shouldSplit;const St=it.aabb.distanceX(Ee),Gt=it.aabb.distanceY(Ee);let At=Tt,Zt=1;if(Y){At=nt(it.aabb.distanceZ(Ee));const xn=Math.pow(2,it.zoom),zn=s.latFromMercatorY((it.y+1)/xn),pr=s.latFromMercatorY(it.y/xn),fr=Math.min(Math.max(D,zn),pr),Pn=s.circumferenceAtLatitude(fr)/s.circumferenceAtLatitude(D);if(Zt=fr===D?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Pn/this._mercatorScaleRatio),this.zoom<=s.GLOBE_ZOOM_THRESHOLD_MIN&&it.zoom===at-1&&Pn>=.9)return!0}else if(b&&(At=nt(it.aabb.distanceZ(Ee)*Se)),this.projection.isReprojectedInTileSpace&&v<=5){const xn=Math.pow(2,it.zoom),zn=Ne(new s.MercatorCoordinate((it.x+.5)/xn,(it.y+.5)/xn));Zt=zn>.85?1:zn}const Mn=St*St+Gt*Gt+At,Kn=nt((1<<at-it.zoom)*le*Zt*((xn,zn)=>{if(zn*nt(.707)<xn)return 1;const pr=Math.sqrt(zn/xn);return pr/(1.4144271570014144+(Math.pow(1.1,pr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(At,Tt),Mn));return Mn<Kn};if(this.renderWorldCopies)for(let it=1;it<=3;it++)Je.push(Be(-it)),Je.push(Be(it));for(Je.push(Be(0));Je.length>0;){const it=Je.pop(),St=it.x,Gt=it.y;let At=it.fullyVisible;if(!At){const Zt=it.aabb.intersects(ve);if(Zt===0)continue;At=Zt===2}if(it.zoom!==at&&Nt(it))for(let Zt=0;Zt<4;Zt++){const Mn=(St<<1)+Zt%2,Kn=(Gt<<1)+(Zt>>1),xn={aabb:S?it.aabb.quadrant(Zt):s.tileAABB(this,N,it.zoom+1,Mn,Kn,it.wrap,it.minZ,it.maxZ,this.projection),zoom:it.zoom+1,x:Mn,y:Kn,wrap:it.wrap,fullyVisible:At,tileID:void 0,shouldSplit:void 0,minZ:it.minZ,maxZ:it.maxZ};b&&!Y&&(xn.tileID=new s.OverscaledTileID(it.zoom+1===at?Vt:it.zoom+1,it.wrap,it.zoom+1,Mn,Kn),ct(xn)),Je.push(xn)}else{const Zt=it.zoom===at?Vt:it.zoom;if(u.minzoom&&u.minzoom>Zt)continue;const Mn=K[0]-(.5+St+(it.wrap<<it.zoom))*(1<<f-it.zoom),Kn=K[1]-.5-Gt,xn=it.tileID?it.tileID:new s.OverscaledTileID(Zt,it.wrap,it.zoom,St,Gt);Ze.push({tileID:xn,distanceSq:Mn*Mn+Kn*Kn})}}if(this.fogCullDistSq){const it=this.fogCullDistSq,St=this.horizonLineFromTop();Ze=Ze.filter(Gt=>{const At=[0,0,0,1],Zt=[s.EXTENT,s.EXTENT,0,1],Mn=this.calculateFogTileMatrix(Gt.tileID.toUnwrapped());s.transformMat4$1(At,At,Mn),s.transformMat4$1(Zt,Zt,Mn);const Kn=s.getAABBPointSquareDist(At,Zt);if(Kn===0)return!0;let xn=!1;const zn=this._elevation;if(zn&&Kn>it&&St!==0){const pr=this.calculateProjMatrix(Gt.tileID.toUnwrapped());let fr;u.isTerrainDEM||(fr=zn.getMinMaxForTile(Gt.tileID)),fr||(fr={min:Ae,max:Me});const Pn=s.furthestTileCorner(this.rotation),Ur=[Pn[0]*s.EXTENT,Pn[1]*s.EXTENT,fr.max];s.transformMat4(Ur,Ur,pr),xn=(1-Ur[1])*this.height*.5<St}return Kn<it||xn})}return Ze.sort((it,St)=>it.distanceSq-St.distanceSq).map(it=>it.tileID)}resize(u,f){this.width=u,this.height=f,this.pixelsToGLUnits=[2/u,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(u){return Math.pow(2,u)}scaleZoom(u){return Math.log(u)/Math.LN2}project(u){const f=s.clamp(u.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),v=this.projection.project(u.lng,f);return new s.Point(v.x*this.worldSize,v.y*this.worldSize)}unproject(u){return this.projection.unproject(u.x/this.worldSize,u.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/s.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(u,f){let v,b;const S=this.centerPoint;if(this.projection.name==="globe"){const D=this.worldSize;v=(f.x-S.x)/D,b=(f.y-S.y)/D}else{const D=this.pointCoordinate(f),N=this.pointCoordinate(S);v=D.x-N.x,b=D.y-N.y}const A=this.locationCoordinate(u);this.setLocation(new s.MercatorCoordinate(A.x-v,A.y-b))}setLocation(u){this.center=this.coordinateLocation(u),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(u){return this.projection.locationPoint(this,u)}locationPoint3D(u){return this.projection.locationPoint(this,u,!0)}pointLocation(u){return this.coordinateLocation(this.pointCoordinate(u))}pointLocation3D(u){return this.coordinateLocation(this.pointCoordinate3D(u))}locationCoordinate(u,f){const v=f?s.mercatorZfromAltitude(f,u.lat):void 0,b=this.projection.project(u.lng,u.lat);return new s.MercatorCoordinate(b.x,b.y,v)}coordinateLocation(u){return this.projection.unproject(u.x,u.y)}pointRayIntersection(u,f){const v=f??this._centerAltitude,b=[u.x,u.y,0,1],S=[u.x,u.y,1,1];s.transformMat4$1(b,b,this.pixelMatrixInverse),s.transformMat4$1(S,S,this.pixelMatrixInverse);const A=S[3];s.scale$1(b,b,1/b[3]),s.scale$1(S,S,1/A);const D=b[2],N=S[2];return{p0:b,p1:S,t:D===N?0:(v-D)/(N-D)}}screenPointToMercatorRay(u){const f=[u.x,u.y,0,1],v=[u.x,u.y,1,1];return s.transformMat4$1(f,f,this.pixelMatrixInverse),s.transformMat4$1(v,v,this.pixelMatrixInverse),s.scale$1(f,f,1/f[3]),s.scale$1(v,v,1/v[3]),f[2]=s.mercatorZfromAltitude(f[2],this._center.lat)*this.worldSize,v[2]=s.mercatorZfromAltitude(v[2],this._center.lat)*this.worldSize,s.scale$1(f,f,1/this.worldSize),s.scale$1(v,v,1/this.worldSize),new s.Ray([f[0],f[1],f[2]],s.normalize([],s.sub([],v,f)))}rayIntersectionCoordinate(u){const{p0:f,p1:v,t:b}=u,S=s.mercatorZfromAltitude(f[2],this._center.lat),A=s.mercatorZfromAltitude(v[2],this._center.lat);return new s.MercatorCoordinate(s.number(f[0],v[0],b)/this.worldSize,s.number(f[1],v[1],b)/this.worldSize,s.number(S,A,b))}pointCoordinate(u,f=this._centerAltitude){return this.projection.pointCoordinate(this,u.x,u.y,f)}pointCoordinate3D(u){if(!this.elevation)return this.pointCoordinate(u);let f=this.projection.pointCoordinate3D(this,u.x,u.y);if(f)return new s.MercatorCoordinate(f[0],f[1],f[2]);let v=0,b=this.horizonLineFromTop();if(u.y>b)return this.pointCoordinate(u);const S=.02*b,A=u.clone();for(let D=0;D<10&&b-v>S;D++){A.y=s.number(v,b,.66);const N=this.projection.pointCoordinate3D(this,A.x,A.y);N?(b=A.y,f=N):v=A.y}return f?new s.MercatorCoordinate(f[0],f[1],f[2]):this.pointCoordinate(u)}isPointAboveHorizon(u){return this.projection.isPointAboveHorizon(this,u)}isPointOnSurface(u){if(u.y<0||u.y>this.height||u.x<0||u.x>this.width)return!1;if(this.elevation||this.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(u);const f=this.pointCoordinate(u);return f.y>=0&&f.y<=1}_coordinatePoint(u,f){const v=f&&this.elevation?this.elevation.getAtPointOrZero(u,this._centerAltitude):this._centerAltitude,b=[u.x*this.worldSize,u.y*this.worldSize,v+u.toAltitude(),1];return s.transformMat4$1(b,b,this.pixelMatrix),b[3]>0?new s.Point(b[0]/b[3],b[1]/b[3]):new s.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:u,left:f}=this._edgeInsets,v=this.height-this._edgeInsets.bottom,b=this.width-this._edgeInsets.right,S=this.pointLocation3D(new s.Point(f,u)),A=this.pointLocation3D(new s.Point(b,u)),D=this.pointLocation3D(new s.Point(b,v)),N=this.pointLocation3D(new s.Point(f,v));let K=Math.min(S.lng,A.lng,D.lng,N.lng),Y=Math.max(S.lng,A.lng,D.lng,N.lng),ie=Math.min(S.lat,A.lat,D.lat,N.lat),ve=Math.max(S.lat,A.lat,D.lat,N.lat);const we=Math.pow(2,-this.zoom)/16*270,Se=this.projection.name==="globe"?1:4,Ce=(Ee,le,be,Me,Ae)=>{const $e=(Ee+be)/2,Ne=(le+Me)/2,Be=new s.Point($e,Ne),{lng:Je,lat:Ze}=this.pointLocation3D(Be),at=Math.max(0,K-Je,ie-Ze,Je-Y,Ze-ve);K=Math.min(K,Je),Y=Math.max(Y,Je),ie=Math.min(ie,Ze),ve=Math.max(ve,Ze),(Ae<Se||at>we)&&(Ce(Ee,le,$e,Ne,Ae+1),Ce($e,Ne,be,Me,Ae+1))};if(Ce(f,u,b,u,1),Ce(b,u,b,v,1),Ce(b,v,f,v,1),Ce(f,v,f,u,1),this.projection.name==="globe"){const[Ee,le]=s.polesInViewport(this);Ee?(ve=90,Y=180,K=-180):le&&(ie=-90,Y=180,K=-180)}return new s.LngLatBounds(new s.LngLat(K,ie),new s.LngLat(Y,ve))}_getBoundsRectangular(u,f){const{top:v,left:b}=this._edgeInsets,S=this.height-this._edgeInsets.bottom,A=this.width-this._edgeInsets.right,D=new s.Point(b,v),N=new s.Point(A,v),K=new s.Point(A,S),Y=new s.Point(b,S);let ie=this.pointCoordinate(D,u),ve=this.pointCoordinate(N,u);const we=this.pointCoordinate(K,f),Se=this.pointCoordinate(Y,f),Ce=(Ee,le)=>(le.y-Ee.y)/(le.x-Ee.x);return ie.y>1&&ve.y>=0?ie=new s.MercatorCoordinate((1-Se.y)/Ce(Se,ie)+Se.x,1):ie.y<0&&ve.y<=1&&(ie=new s.MercatorCoordinate(-Se.y/Ce(Se,ie)+Se.x,0)),ve.y>1&&ie.y>=0?ve=new s.MercatorCoordinate((1-we.y)/Ce(we,ve)+we.x,1):ve.y<0&&ie.y<=1&&(ve=new s.MercatorCoordinate(-we.y/Ce(we,ve)+we.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(ie)).extend(this.coordinateLocation(ve)).extend(this.coordinateLocation(Se)).extend(this.coordinateLocation(we))}_getBoundsRectangularTerrain(){const u=this.elevation;if(!u.visibleDemTiles.length||u.isUsingMockSource())return this._getBoundsRectangular(0,0);const f=u.visibleDemTiles.reduce((v,b)=>{if(b.dem){const S=b.dem.tree;v.min=Math.min(v.min,S.minimums[0]),v.max=Math.max(v.max,S.maximums[0])}return v},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(f.min*u.exaggeration(),f.max*u.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(u=!0){const f=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,v=this.height/2-f*(1-this._horizonShift);return u?Math.max(0,v):v}getMaxBounds(){return this.maxBounds}setMaxBounds(u){this.maxBounds=u,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,u&&(this.minLat=u.getSouth(),this.maxLat=u.getNorth(),this.minLng=u.getWest(),this.maxLng=u.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(u,f){return this.projection.createTileMatrix(this,f,u)}calculateDistanceTileData(u){const f=u.key,v=this._distanceTileDataCache;if(v[f])return v[f];const b=u.canonical,S=1/this.height,A=this.cameraWorldSize,D=A/this.zoomScale(b.z),N=(b.x+Math.pow(2,b.z)*u.wrap)*D,K=b.y*D,Y=this.point;Y.x*=A/this.worldSize,Y.y*=A/this.worldSize;const ie=this.angle,ve=Math.sin(-ie),we=-Math.cos(-ie);return v[f]={bearing:[ve,we],center:[(Y.x-N)*S,(Y.y-K)*S],scale:D/s.EXTENT*S},v[f]}calculateFogTileMatrix(u){const f=u.key,v=this._fogTileMatrixCache;if(v[f])return v[f];const b=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,u);return s.multiply(b,this.worldToFogMatrix,b),v[f]=new Float32Array(b),v[f]}calculateProjMatrix(u,f=!1){const v=u.key,b=f?this._alignedProjMatrixCache:this._projMatrixCache;if(b[v])return b[v];const S=this.calculatePosMatrix(u,this.worldSize);return s.multiply(S,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:f?this.alignedProjMatrix:this.projMatrix,S),b[v]=new Float32Array(S),b[v]}calculatePixelsToTileUnitsMatrix(u){const f=u.tileID.key,v=this._pixelsToTileUnitsCache;if(v[f])return v[f];const b=function(S,A){const{scale:D}=S.tileTransform,N=D*s.EXTENT/(S.tileSize*Math.pow(2,A.zoom-S.tileID.overscaledZ+S.tileID.canonical.z));return K=new Float32Array(4),ve=(Y=A.inverseAdjustmentMatrix)[1],we=Y[2],Se=Y[3],Ee=(ie=[N,N])[1],K[0]=Y[0]*(Ce=ie[0]),K[1]=ve*Ce,K[2]=we*Ee,K[3]=Se*Ee,K;var K,Y,ie,ve,we,Se,Ce,Ee}(u,this);return v[f]=b,v[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const u=1/this.worldSize,f=s.fromScaling([],[u,u,u]);return s.multiply(f,f,this.globeMatrix),f}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const u=this._elevation;this._updateCameraState();const f=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,v=this._computeCameraPosition(f),b=this._camera.forward(),S=s.mercatorZfromAltitude(1,this._center.lat);v[2]/=S,b[2]/=S,s.normalize(b,b);const A=u.raycast(v,b,u.exaggeration());if(A){const D=s.scaleAndAdd([],v,b,A),N=new s.MercatorCoordinate(D[0],D[1],s.mercatorZfromAltitude(D[2],s.latFromMercatorY(D[1]))),K=(N.z+s.length([N.x-v[0],N.y-v[1],N.z-v[2]*S]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(K),this._centerAltitude=N.toAltitude(),this._center=this.coordinateLocation(N),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(u=!1){if(!this._elevation)return;const f=this._elevation,v=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,b=this._computeCameraPosition(v),S=f.getAtPointOrZero(new s.MercatorCoordinate(...b)),A=this.pixelsPerMeter/this.worldSize*S,D=this._minimumHeightOverTerrain(),N=b[2]-A;if(N<=D)if(N<0||u){const K=this.locationCoordinate(this._center,this._centerAltitude),Y=[b[0],b[1],K.z-b[2]],ie=s.length(Y);Y[2]-=(D-N)/this._pixelsPerMercatorPixel;const ve=s.length(Y);if(ve===0)return;s.scale$2(Y,Y,ie/ve*this._pixelsPerMercatorPixel),this._camera.position=[b[0],b[1],K.z*this._pixelsPerMercatorPixel-Y[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const u=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||u){const ve=this.center;return ve.lat=s.clamp(ve.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!u)&&(ve.lng=s.clamp(ve.lng,this.minLng,this.maxLng)),this.center=ve,void(this._constraining=!1)}const f=this._unmodified,{x:v,y:b}=this.point;let S=0,A=v,D=b;const N=this.width/2,K=this.height/2,Y=this.worldMinY*this.scale,ie=this.worldMaxY*this.scale;if(b-K<Y&&(D=Y+K),b+K>ie&&(D=ie-K),ie-Y<this.height&&(S=Math.max(S,this.height/(ie-Y)),D=(ie+Y)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ve=this.worldMinX*this.scale,we=this.worldMaxX*this.scale,Se=this.worldSize/2-(ve+we)/2;A=(v+Se+this.worldSize)%this.worldSize-Se,A-N<ve&&(A=ve+N),A+N>we&&(A=we-N),we-ve<this.width&&(S=Math.max(S,this.width/(we-ve)),A=(we+ve)/2)}A===v&&D===b||(this.center=this.unproject(new s.Point(A,D))),S&&(this.zoom+=this.scaleZoom(S)),this._constrainCamera(),this._unmodified=f,this._constraining=!1}_minZoomForBounds(){let u=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(u=Math.max(u,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),u}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const u=this.centerOffset,f=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=s.mercatorZfromAltitude(1,this.center.lat)/s.mercatorZfromAltitude(1,s.GLOBE_SCALE_MATCH_LATITUDE));const v=De(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,v),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const b=this.projection.zAxisUnit==="meters"?f:1,S=this._camera.getWorldToCamera(this.worldSize,b),A=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);A[8]=2*-u.x/this.width,A[9]=2*u.y/this.height;let D=s.mul([],A,S);if(this.projection.isReprojectedInTileSpace){const Ne=this.locationCoordinate(this.center),Be=s.identity([]);s.translate(Be,Be,[Ne.x*this.worldSize,Ne.y*this.worldSize,0]),s.multiply(Be,Be,G(this)),s.translate(Be,Be,[-Ne.x*this.worldSize,-Ne.y*this.worldSize,0]),s.multiply(D,D,Be),this.inverseAdjustmentMatrix=function(Je){const Ze=G(Je,!0);return J([],[Ze[0],Ze[1],Ze[4],Ze[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],D,[this.worldSize,this.worldSize,this.worldSize/b,1]),this.projMatrix=D,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const N=s.invert([],A);this.frustumCorners=s.FrustumCorners.fromInvProjectionMatrix(N,this.horizonLineFromTop(),this.height);const K=new Float32Array(16);s.identity(K),s.scale(K,K,[1,-1,1]),s.rotateX(K,K,this._pitch),s.rotateZ(K,K,this.angle);const Y=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ie=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;Y[8]=2*-u.x/this.width,Y[9]=2*(u.y+ie)/this.height,this.skyboxMatrix=s.multiply(K,Y,K);const ve=this.point,we=ve.x,Se=ve.y,Ce=this.width%2/2,Ee=this.height%2/2,le=Math.cos(this.angle),be=Math.sin(this.angle),Me=we-Math.round(we)+le*Ce+be*Ee,Ae=Se-Math.round(Se)+le*Ee+be*Ce,$e=new Float64Array(D);if(s.translate($e,$e,[Me>.5?Me-1:Me,Ae>.5?Ae-1:Ae,0]),this.alignedProjMatrix=$e,D=s.create(),s.scale(D,D,[this.width/2,-this.height/2,1]),s.translate(D,D,[1,-1,0]),this.labelPlaneMatrix=D,D=s.create(),s.scale(D,D,[1,-1,1]),s.translate(D,D,[-1,-1,0]),s.scale(D,D,[2/this.width,2/this.height,1]),this.glCoordMatrix=D,this.pixelMatrix=s.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},D=s.invert(new Float64Array(16),this.pixelMatrix),!D)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=D,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=s.calculateGlobeMatrix(this);const Ne=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=s.transformMat4(Ne,Ne,S),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=D;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const u=this.cameraWorldSizeForFog,f=this.cameraPixelsPerMeter,v=this._camera.position,b=1/this.height/this._pixelsPerMercatorPixel,S=[u,u,f];s.scale$2(S,S,b),s.scale$2(v,v,-1),s.multiply$2(v,v,S);const A=s.create();s.translate(A,A,v),s.scale(A,A,S),this.mercatorFogMatrix=A,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(u,f,b)}_computeCameraPosition(u){const f=(u=u||this.pixelsPerMeter)/this.pixelsPerMeter,v=this._camera.forward(),b=this.point,S=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*f-u/this.worldSize*this._centerAltitude;return[b.x/this.worldSize-v[0]*S,b.y/this.worldSize-v[1]*S,u/this.worldSize*this._centerAltitude-v[2]*S]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(u){const f=this._maxCameraBoundsDistance()*Math.cos(this._pitch),v=this._camera.position[2],b=u[2];let S=1;this.projection.wrap&&(this.center=this.center.wrap()),b>0&&(S=Math.min((f-v)/b,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,u,S),this._updateStateFromCamera()}_updateStateFromCamera(){const u=this._camera.position,f=this._camera.forward(),{pitch:v,bearing:b}=this._camera.getPitchBearing(),S=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,A=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),D=Math.max((u[2]-S)/Math.cos(v),A),N=this._zoomFromMercatorZ(D);s.scaleAndAdd(u,u,f,D),this._pitch=s.clamp(v,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(b,-Math.PI,Math.PI),this._setZoom(s.clamp(N,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(u[0],u[1],u[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(u){return Math.pow(2,u)*this.tileSize}_mercatorZfromZoom(u){return this.cameraToCenterDistance/this._worldSizeFromZoom(u)}_minimumHeightOverTerrain(){const u=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(u)}_zoomFromMercatorZ(u){return this.scaleZoom(this.cameraToCenterDistance/(u*this.tileSize))}zoomFromMercatorZAdjusted(u){let f=0,v=s.GLOBE_ZOOM_THRESHOLD_MAX,b=0,S=1/0;for(;v-f>1e-6&&v>f;){const A=f+.5*(v-f),D=this.tileSize*Math.pow(2,A),N=this.getCameraToCenterDistance(this.projection,A,D),K=this.scaleZoom(N/(u*this.tileSize)),Y=Math.abs(A-K);Y<S&&(S=Y,b=A),A<K?f=A:v=A}return b}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(u,f){const v=Math.min(u.x,f.x),b=Math.max(u.x,f.x),S=Math.min(u.y,f.y),A=Math.max(u.y,f.y);if(S<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const D=[new s.Point(v,S),new s.Point(b,A),new s.Point(v,A),new s.Point(b,S)],N=this.renderWorldCopies?-3:0,K=this.renderWorldCopies?4:1;for(const Y of D){const ie=this.pointRayIntersection(Y);if(ie.t<0)return!0;const ve=this.rayIntersectionCoordinate(ie);if(ve.x<N||ve.y<0||ve.x>K||ve.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.Point(0,0),new s.Point(this.width,this.height))}zoomDeltaToMovement(u,f){const v=s.length(s.sub([],this._camera.position,u)),b=this._zoomFromMercatorZ(v)+f;return v-this._mercatorZfromZoom(b)}getCameraPoint(){if(this.projection.name==="globe"){const u=function([f,v,b],S){const A=[f,v,b,1];s.transformMat4$1(A,A,S);const D=A[3]=Math.max(A[3],1e-6);return A[0]/=D,A[1]/=D,A[2]/=D,A}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new s.Point(u[0],u[1])}{const u=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.Point(0,u))}}getCameraToCenterDistance(u,f=this.zoom,v=this.worldSize){const b=De(u,f,this.width,this.height,1024),S=u.pixelSpaceConversion(this.center.lat,v,b);return .5/Math.tan(.5*this._fov)*this.height*S}getWorldToCameraMatrix(){const u=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&s.multiply(u,u,this.globeMatrix),u}}function vo(g,u){let f=!1,v=null;const b=()=>{v=null,f&&(g(),v=setTimeout(b,u),f=!1)};return()=>(f=!0,v||b(),v)}class Ka{constructor(u){this._hashName=u&&encodeURIComponent(u),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=vo(this._updateHashUnthrottled.bind(this),300)}addTo(u){return this._map=u,s.window.addEventListener("hashchange",this._onHashChange,!1),u.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const u=this._map;if(!u)return"";const f=zl(u);if(this._hashName){const v=this._hashName;let b=!1;const S=s.window.location.hash.slice(1).split("&").map(A=>{const D=A.split("=")[0];return D===v?(b=!0,`${D}=${f}`):A}).filter(A=>A);return b||S.push(`${v}=${f}`),`#${S.join("&")}`}return`#${f}`}_getCurrentHash(){const u=s.window.location.hash.replace("#","");if(this._hashName){let f;return u.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(f=v)}),(f&&f[1]||"").split("/")}return u.split("/")}_onHashChange(){const u=this._map;if(!u)return!1;const f=this._getCurrentHash();if(f.length>=3&&!f.some(v=>isNaN(v))){const v=u.dragRotate.isEnabled()&&u.touchZoomRotate.isEnabled()?+(f[3]||0):u.getBearing();return u.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:v,pitch:+(f[4]||0)}),!0}return!1}_updateHashUnthrottled(){const u=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,u)}}function zl(g,u){const f=g.getCenter(),v=Math.round(100*g.getZoom())/100,b=Math.ceil((v*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,b),A=Math.round(f.lng*S)/S,D=Math.round(f.lat*S)/S,N=g.getBearing(),K=g.getPitch();let Y=u?`/${A}/${D}/${v}`:`${v}/${D}/${A}`;return(N||K)&&(Y+="/"+Math.round(10*N)/10),K&&(Y+=`/${Math.round(K)}`),Y}const Rf={linearity:.3,easing:s.bezier(0,0,.3,1)},mm=s.extend({deceleration:2500,maxSpeed:1400},Rf),gm=s.extend({deceleration:20,maxSpeed:1400},Rf),gn=s.extend({deceleration:1e3,maxSpeed:360},Rf),wa=s.extend({deceleration:1e3,maxSpeed:90},Rf);class xx{constructor(u){this._map=u,this.clear()}clear(){this._inertiaBuffer=[]}record(u){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:u})}_drainInertiaBuffer(){const u=this._inertiaBuffer,f=s.exported.now();for(;u.length>0&&f-u[0].time>160;)u.shift()}_onMoveEnd(u){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const f={zoom:0,bearing:0,pitch:0,pan:new s.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:S}of this._inertiaBuffer)f.zoom+=S.zoomDelta||0,f.bearing+=S.bearingDelta||0,f.pitch+=S.pitchDelta||0,S.panDelta&&f.pan._add(S.panDelta),S.around&&(f.around=S.around),S.pinchAround&&(f.pinchAround=S.pinchAround);const v=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,b={};if(f.pan.mag()){const S=Df(f.pan.mag(),v,s.extend({},mm,u||{}));b.offset=f.pan.mult(S.amount/f.pan.mag()),b.center=this._map.transform.center,Of(b,S)}if(f.zoom){const S=Df(f.zoom,v,gm);b.zoom=this._map.transform.zoom+S.amount,Of(b,S)}if(f.bearing){const S=Df(f.bearing,v,gn);b.bearing=this._map.transform.bearing+s.clamp(S.amount,-179,179),Of(b,S)}if(f.pitch){const S=Df(f.pitch,v,wa);b.pitch=this._map.transform.pitch+S.amount,Of(b,S)}if(b.zoom||b.bearing){const S=f.pinchAround===void 0?f.around:f.pinchAround;b.around=S?this._map.unproject(S):this._map.getCenter()}return this.clear(),b.noMoveStart=!0,b}}function Of(g,u){(!g.duration||g.duration<u.duration)&&(g.duration=u.duration,g.easing=u.easing)}function Df(g,u,f){const{maxSpeed:v,linearity:b,deceleration:S}=f,A=s.clamp(g*b/(u/1e3),-v,v),D=Math.abs(A)/(S*b);return{easing:f.easing,duration:1e3*D,amount:A*(D/2)}}class Ii extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,v,b={}){const S=ee(f.getCanvasContainer(),v),A=f.unproject(S);super(u,s.extend({point:S,lngLat:A,originalEvent:v},b)),this._defaultPrevented=!1,this.target=f}}class Lf extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,v){const b=u==="touchend"?v.changedTouches:v.touches,S=X(f.getCanvasContainer(),b),A=S.map(N=>f.unproject(N)),D=S.reduce((N,K,Y,ie)=>N.add(K.div(ie.length)),new s.Point(0,0));super(u,{points:S,point:D,lngLats:A,lngLat:f.unproject(D),originalEvent:v}),this._defaultPrevented=!1}}class ym extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(u,f,v){super(u,{originalEvent:v}),this._defaultPrevented=!1}}class qy{constructor(u,f){this._map=u,this._clickTolerance=f.clickTolerance}reset(){this._mousedownPos=void 0}wheel(u){return this._firePreventable(new ym(u.type,this._map,u))}mousedown(u,f){return this._mousedownPos=f,this._firePreventable(new Ii(u.type,this._map,u))}mouseup(u){this._map.fire(new Ii(u.type,this._map,u))}preclick(u){const f=s.extend({},u);f.type="preclick",this._map.fire(new Ii(f.type,this._map,f))}click(u,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||(this.preclick(u),this._map.fire(new Ii(u.type,this._map,u)))}dblclick(u){return this._firePreventable(new Ii(u.type,this._map,u))}mouseover(u){this._map.fire(new Ii(u.type,this._map,u))}mouseout(u){this._map.fire(new Ii(u.type,this._map,u))}touchstart(u){return this._firePreventable(new Lf(u.type,this._map,u))}touchmove(u){this._map.fire(new Lf(u.type,this._map,u))}touchend(u){this._map.fire(new Lf(u.type,this._map,u))}touchcancel(u){this._map.fire(new Lf(u.type,this._map,u))}_firePreventable(u){if(this._map.fire(u),u.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vm{constructor(u){this._map=u}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(u){this._map.fire(new Ii(u.type,this._map,u))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ii("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(u){this._delayContextMenu?this._contextMenuEvent=u:this._map.fire(new Ii(u.type,this._map,u)),this._map.listens("contextmenu")&&u.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class bx{constructor(u,f){this._map=u,this._el=u.getCanvasContainer(),this._container=u.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(u,f){this.isEnabled()&&u.shiftKey&&u.button===0&&(F(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(u,f){if(!this._active)return;const v=f,b=this._startPos,S=this._lastPos;if(!b||!S||S.equals(v)||!this._box&&v.dist(b)<this._clickTolerance)return;this._lastPos=v,this._box||(this._box=k("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",u));const A=Math.min(b.x,v.x),D=Math.max(b.x,v.x),N=Math.min(b.y,v.y),K=Math.max(b.y,v.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${A}px,${N}px)`,this._box.style.width=D-A+"px",this._box.style.height=K-N+"px")})}mouseupWindow(u,f){if(!this._active)return;const v=this._startPos,b=f;if(v&&u.button===0){if(this.reset(),Z(),v.x!==b.x||v.y!==b.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:u})),{cameraAnimation:S=>S.fitScreenCoordinates(v,b,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",u)}}keydown(u){this._active&&u.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",u))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),z(),delete this._startPos,delete this._lastPos}_fireEvent(u,f){return this._map.fire(new s.Event(u,{originalEvent:f}))}}function _m(g,u){const f={};for(let v=0;v<g.length;v++)f[g[v].identifier]=u[v];return f}class Ud{constructor(u){this.reset(),this.numTouches=u.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(u,f,v){(this.centroid||v.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=u.timeStamp),v.length===this.numTouches&&(this.centroid=function(b){const S=new s.Point(0,0);for(const A of b)S._add(A);return S.div(b.length)}(f),this.touches=_m(v,f)))}touchmove(u,f,v){if(this.aborted||!this.centroid)return;const b=_m(v,f);for(const S in this.touches){const A=b[S];(!A||A.dist(this.touches[S])>30)&&(this.aborted=!0)}}touchend(u,f,v){if((!this.centroid||u.timeStamp-this.startTime>500)&&(this.aborted=!0),v.length===0){const b=!this.aborted&&this.centroid;if(this.reset(),b)return b}}}class Zy{constructor(u){this.singleTap=new Ud(u),this.numTaps=u.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(u,f,v){this.singleTap.touchstart(u,f,v)}touchmove(u,f,v){this.singleTap.touchmove(u,f,v)}touchend(u,f,v){const b=this.singleTap.touchend(u,f,v);if(b){const S=u.timeStamp-this.lastTime<500,A=!this.lastTap||this.lastTap.dist(b)<30;if(S&&A||this.reset(),this.count++,this.lastTime=u.timeStamp,this.lastTap=b,this.count===this.numTaps)return this.reset(),b}}}class n2{constructor(){this._zoomIn=new Zy({numTouches:1,numTaps:2}),this._zoomOut=new Zy({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(u,f,v){this._zoomIn.touchstart(u,f,v),this._zoomOut.touchstart(u,f,v)}touchmove(u,f,v){this._zoomIn.touchmove(u,f,v),this._zoomOut.touchmove(u,f,v)}touchend(u,f,v){const b=this._zoomIn.touchend(u,f,v),S=this._zoomOut.touchend(u,f,v);return b?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:A.getZoom()+1,around:A.unproject(b)},{originalEvent:u})}):S?(this._active=!0,u.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:A.getZoom()-1,around:A.unproject(S)},{originalEvent:u})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const wx={0:1,2:2};class Vd{constructor(u){this.reset(),this._clickTolerance=u.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(u,f){return!1}_move(u,f){return{}}mousedown(u,f){if(this._lastPoint)return;const v=W(u);this._correctButton(u,v)&&(this._lastPoint=f,this._eventButton=v)}mousemoveWindow(u,f){const v=this._lastPoint;if(v){if(u.preventDefault(),this._eventButton!=null&&function(b,S){const A=wx[S];return b.buttons===void 0||(b.buttons&A)!==A}(u,this._eventButton))this.reset();else if(this._moved||!(f.dist(v)<this._clickTolerance))return this._moved=!0,this._lastPoint=f,this._move(v,f)}}mouseupWindow(u){this._lastPoint&&W(u)===this._eventButton&&(this._moved&&Z(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Yy extends Vd{mousedown(u,f){super.mousedown(u,f),this._lastPoint&&(this._active=!0)}_correctButton(u,f){return f===0&&!u.ctrlKey}_move(u,f){return{around:f,panDelta:f.sub(u)}}}class Ky extends Vd{_correctButton(u,f){return f===0&&u.ctrlKey||f===2}_move(u,f){const v=.8*(f.x-u.x);if(v)return this._active=!0,{bearingDelta:v}}contextmenu(u){u.preventDefault()}}class Xy extends Vd{_correctButton(u,f){return f===0&&u.ctrlKey||f===2}_move(u,f){const v=-.5*(f.y-u.y);if(v)return this._active=!0,{pitchDelta:v}}contextmenu(u){u.preventDefault()}}class xm{constructor(u,f){this._map=u,this._el=u.getCanvasContainer(),this._minTouches=1,this._clickTolerance=f.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.Point(0,0)}touchstart(u,f,v){return this._calculateTransform(u,f,v)}touchmove(u,f,v){if(this._active&&!(v.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(v.length===1&&!s.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return u.cancelable&&u.preventDefault(),this._calculateTransform(u,f,v)}}touchend(u,f,v){this._calculateTransform(u,f,v),this._active&&v.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(u,f,v){v.length>0&&(this._active=!0);const b=_m(v,f),S=new s.Point(0,0),A=new s.Point(0,0);let D=0;for(const K in b){const Y=b[K],ie=this._touches[K];ie&&(S._add(Y),A._add(Y.sub(ie)),D++,b[K]=Y)}if(this._touches=b,D<this._minTouches||!A.mag())return;const N=A.div(D);return this._sum._add(N),this._sum.mag()<this._clickTolerance?void 0:{around:S.div(D),panDelta:N}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=k("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class zf{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(u){}_move(u,f,v){return{}}touchstart(u,f,v){this._firstTwoTouches||v.length<2||(this._firstTwoTouches=[v[0].identifier,v[1].identifier],this._start([f[0],f[1]]))}touchmove(u,f,v){const b=this._firstTwoTouches;if(!b)return;u.preventDefault();const[S,A]=b,D=Ff(v,f,S),N=Ff(v,f,A);if(!D||!N)return;const K=this._aroundCenter?null:D.add(N).div(2);return this._move([D,N],K,u)}touchend(u,f,v){if(!this._firstTwoTouches)return;const[b,S]=this._firstTwoTouches,A=Ff(v,f,b),D=Ff(v,f,S);A&&D||(this._active&&Z(),this.reset())}touchcancel(){this.reset()}enable(u){this._enabled=!0,this._aroundCenter=!!u&&u.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ff(g,u,f){for(let v=0;v<g.length;v++)if(g[v].identifier===f)return u[v]}function Jy(g,u){return Math.log(g/u)/Math.LN2}class Cx extends zf{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(u){this._startDistance=this._distance=u[0].dist(u[1])}_move(u,f){const v=this._distance;if(this._distance=u[0].dist(u[1]),this._active||!(Math.abs(Jy(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Jy(this._distance,v),pinchAround:f}}}function Qy(g,u){return 180*g.angleWith(u)/Math.PI}class Sx extends zf{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(u){this._startVector=this._vector=u[0].sub(u[1]),this._minDiameter=u[0].dist(u[1])}_move(u,f){const v=this._vector;if(this._vector=u[0].sub(u[1]),v&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Qy(this._vector,v),pinchAround:f}}_isBelowThreshold(u){this._minDiameter=Math.min(this._minDiameter,u.mag());const f=25/(Math.PI*this._minDiameter)*360,v=this._startVector;if(!v)return!1;const b=Qy(u,v);return Math.abs(b)<f}}function Pc(g){return Math.abs(g.y)>Math.abs(g.x)}class Tx extends zf{constructor(u){super(),this._map=u}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(u){this._lastPoints=u,Pc(u[0].sub(u[1]))&&(this._valid=!1)}_move(u,f,v){const b=this._lastPoints;if(!b)return;const S=u[0].sub(b[0]),A=u[1].sub(b[1]);return this._map._cooperativeGestures&&!s.isFullscreen()&&v.touches.length<3||(this._valid=this.gestureBeginsVertically(S,A,v.timeStamp),!this._valid)?void 0:(this._lastPoints=u,this._active=!0,{pitchDelta:(S.y+A.y)/2*-.5})}gestureBeginsVertically(u,f,v){if(this._valid!==void 0)return this._valid;const b=u.mag()>=2,S=f.mag()>=2;if(!b&&!S)return;if(!b||!S)return this._firstMove==null&&(this._firstMove=v),v-this._firstMove<100&&void 0;const A=u.y>0==f.y>0;return Pc(u)&&Pc(f)&&A}}const Ex={panStep:100,bearingStep:15,pitchStep:10};class r2{constructor(){const u=Ex;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(u){if(u.altKey||u.ctrlKey||u.metaKey)return;let f=0,v=0,b=0,S=0,A=0;switch(u.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:u.shiftKey?v=-1:(u.preventDefault(),S=-1);break;case 39:u.shiftKey?v=1:(u.preventDefault(),S=1);break;case 38:u.shiftKey?b=1:(u.preventDefault(),A=-1);break;case 40:u.shiftKey?b=-1:(u.preventDefault(),A=1);break;default:return}return this._rotationDisabled&&(v=0,b=0),{cameraAnimation:D=>{const N=D.getZoom();D.easeTo({duration:300,easeId:"keyboardHandler",easing:Px,zoom:f?Math.round(N)+f*(u.shiftKey?2:1):N,bearing:D.getBearing()+v*this._bearingStep,pitch:D.getPitch()+b*this._pitchStep,offset:[-S*this._panStep,-A*this._panStep],center:D.getCenter()},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Px(g){return g*(2-g)}const ev=4.000244140625;class kx{constructor(u,f){this._map=u,this._el=u.getCanvasContainer(),this._handler=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(u){this._defaultZoomRate=u}setWheelZoomRate(u){this._wheelZoomRate=u}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(u){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!u&&u.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(u){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(u.ctrlKey||u.metaKey||this.isZooming()||s.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let f=u.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*u.deltaY:u.deltaY;const v=s.exported.now(),b=v-(this._lastWheelEventTime||0);this._lastWheelEventTime=v,f!==0&&f%ev==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":b>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,u)):this._type||(this._type=Math.abs(b*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),u.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=u,this._delta-=f,this._active||this._start(u)),u.preventDefault()}_onTimeout(u){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(u)}_start(u){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=ee(this._el,u);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:f,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const u=this._map.transform;this._type==="wheel"&&u.projection.wrap&&(u._center.lng>=180||u._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const f=()=>u._terrainEnabled()&&this._aroundCoord?u.computeZoomRelativeTo(this._aroundCoord):u.zoom;if(this._delta!==0){const N=this._type==="wheel"&&Math.abs(this._delta)>ev?this._wheelZoomRate:this._defaultZoomRate;let K=2/(1+Math.exp(-Math.abs(this._delta*N)));this._delta<0&&K!==0&&(K=1/K);const Y=f(),ie=Math.pow(2,Y),ve=typeof this._targetZoom=="number"?u.zoomScale(this._targetZoom):ie;this._targetZoom=Math.min(u.maxZoom,Math.max(u.minZoom,u.scaleZoom(ve*K))),this._type==="wheel"&&(this._startZoom=Y,this._easing=this._smoothOutEasing(200)),this._delta=0}const v=typeof this._targetZoom=="number"?this._targetZoom:f(),b=this._startZoom,S=this._easing;let A,D=!1;if(this._type==="wheel"&&b&&S){const N=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),K=S(N);A=s.number(b,v,K),N<1?this._frameId||(this._frameId=!0):D=!0}else A=v,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:A-f(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(u){let f=s.ease;if(this._prevEase){const v=this._prevEase,b=(s.exported.now()-v.start)/v.duration,S=v.easing(b+.01)-v.easing(b),A=.27/Math.sqrt(S*S+1e-4)*.01,D=Math.sqrt(.0729-A*A);f=s.bezier(A,D,.25,1)}return this._prevEase={start:s.exported.now(),duration:u,easing:f},f}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=k("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Ix{constructor(u,f){this._clickZoom=u,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Zi{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(u,f){return u.preventDefault(),{cameraAnimation:v=>{v.easeTo({duration:300,zoom:v.getZoom()+(u.shiftKey?-1:1),around:v.unproject(f)},{originalEvent:u})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class o2{constructor(){this._tap=new Zy({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(u,f,v){this._swipePoint||(this._tapTime&&u.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?v.length>0&&(this._swipePoint=f[0],this._swipeTouch=v[0].identifier):this._tap.touchstart(u,f,v))}touchmove(u,f,v){if(this._tapTime){if(this._swipePoint){if(v[0].identifier!==this._swipeTouch)return;const b=f[0],S=b.y-this._swipePoint.y;return this._swipePoint=b,u.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(u,f,v)}touchend(u,f,v){this._tapTime?this._swipePoint&&v.length===0&&this.reset():this._tap.touchend(u,f,v)&&(this._tapTime=u.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Mx{constructor(u,f,v){this._el=u,this._mousePan=f,this._touchPan=v}enable(u){this._inertiaOptions=u||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class i2{constructor(u,f,v){this._pitchWithRotate=u.pitchWithRotate,this._mouseRotate=f,this._mousePitch=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class s2{constructor(u,f,v,b){this._el=u,this._touchZoom=f,this._touchRotate=v,this._tapDragZoom=b,this._rotationDisabled=!1,this._enabled=!0}enable(u){this._touchZoom.enable(u),this._rotationDisabled||this._touchRotate.enable(u),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const qs=g=>g.zoom||g.drag||g.pitch||g.rotate;class Ax extends s.Event{}class a2{constructor(){this.constants=[1,1,.01],this.radius=0}setup(u,f){const v=s.sub([],f,u);this.radius=s.length(v[2]<0?s.div([],v,this.constants):[v[0],v[1],0])}projectRay(u){s.div(u,u,this.constants),s.normalize(u,u),s.mul$1(u,u,this.constants);const f=s.scale$2([],u,this.radius);if(f[2]>0){const v=s.scale$2([],[0,0,1],s.dot(f,[0,0,1])),b=s.scale$2([],s.normalize([],[f[0],f[1],0]),this.radius),S=s.add([],f,s.scale$2([],s.sub([],s.add([],b,v),f),2));f[0]=S[0],f[1]=S[1]}return f}}function Ca(g){return g.panDelta&&g.panDelta.mag()||g.zoomDelta||g.bearingDelta||g.pitchDelta}class Xa{constructor(u,f){this._map=u,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new xx(u),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new a2,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(f),s.bindAll(["handleEvent","handleWindowEvent"],this);const v=this._el;this._listeners=[[v,"touchstart",{passive:!0}],[v,"touchmove",{passive:!1}],[v,"touchend",void 0],[v,"touchcancel",void 0],[v,"mousedown",void 0],[v,"mousemove",void 0],[v,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[v,"mouseover",void 0],[v,"mouseout",void 0],[v,"dblclick",void 0],[v,"click",void 0],[v,"keydown",{capture:!1}],[v,"keyup",void 0],[v,"wheel",{passive:!1}],[v,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[b,S,A]of this._listeners)b.addEventListener(S,b===s.window.document?this.handleWindowEvent:this.handleEvent,A)}destroy(){for(const[u,f,v]of this._listeners)u.removeEventListener(f,u===s.window.document?this.handleWindowEvent:this.handleEvent,v)}_addDefaultHandlers(u){const f=this._map,v=f.getCanvasContainer();this._add("mapEvent",new qy(f,u));const b=f.boxZoom=new bx(f,u);this._add("boxZoom",b);const S=new n2,A=new Zi;f.doubleClickZoom=new Ix(A,S),this._add("tapZoom",S),this._add("clickZoom",A);const D=new o2;this._add("tapDragZoom",D);const N=f.touchPitch=new Tx(f);this._add("touchPitch",N);const K=new Ky(u),Y=new Xy(u);f.dragRotate=new i2(u,K,Y),this._add("mouseRotate",K,["mousePitch"]),this._add("mousePitch",Y,["mouseRotate"]);const ie=new Yy(u),ve=new xm(f,u);f.dragPan=new Mx(v,ie,ve),this._add("mousePan",ie),this._add("touchPan",ve,["touchZoom","touchRotate"]);const we=new Sx,Se=new Cx;f.touchZoomRotate=new s2(v,Se,we,D),this._add("touchRotate",we,["touchPan","touchZoom"]),this._add("touchZoom",Se,["touchPan","touchRotate"]),this._add("blockableMapEvent",new vm(f));const Ce=f.scrollZoom=new kx(f,this);this._add("scrollZoom",Ce,["mousePan"]);const Ee=f.keyboard=new r2;this._add("keyboard",Ee);for(const le of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])u.interactive&&u[le]&&f[le].enable(u[le])}_add(u,f,v){this._handlers.push({handlerName:u,handler:f,allowed:v}),this._handlersById[u]=f}stop(u){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},u),this._changes=[]}}isActive(){for(const{handler:u}of this._handlers)if(u.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!qs(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(u,f,v){for(const b in u)if(b!==v&&(!f||f.indexOf(b)<0))return!0;return!1}handleWindowEvent(u){this.handleEvent(u,`${u.type}Window`)}_getMapTouches(u){const f=[];for(const v of u)this._el.contains(v.target)&&f.push(v);return f}handleEvent(u,f){this._updatingCamera=!0;const v=u.type==="renderFrame",b=v?void 0:u,S={needsRenderFrame:!1},A={},D={},N=u.touches?this._getMapTouches(u.touches):void 0,K=N?X(this._el,N):v?void 0:ee(this._el,u);for(const{handlerName:ve,handler:we,allowed:Se}of this._handlers){if(!we.isEnabled())continue;let Ce;this._blockedByActive(D,Se,ve)?we.reset():we[f||u.type]&&(Ce=we[f||u.type](u,K,N),this.mergeHandlerResult(S,A,Ce,ve,b),Ce&&Ce.needsRenderFrame&&this._triggerRenderFrame()),(Ce||we.isActive())&&(D[ve]=we)}const Y={};for(const ve in this._previousActiveHandlers)D[ve]||(Y[ve]=b);this._previousActiveHandlers=D,(Object.keys(Y).length||Ca(S))&&(this._changes.push([S,A,Y]),this._triggerRenderFrame()),(Object.keys(D).length||Ca(S))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ie}=S;ie&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ie(this._map))}mergeHandlerResult(u,f,v,b,S){if(!v)return;s.extend(u,v);const A={handlerName:b,originalEvent:v.originalEvent||S};v.zoomDelta!==void 0&&(f.zoom=A),v.panDelta!==void 0&&(f.drag=A),v.pitchDelta!==void 0&&(f.pitch=A),v.bearingDelta!==void 0&&(f.rotate=A)}_applyChanges(){const u={},f={},v={};for(const[b,S,A]of this._changes)b.panDelta&&(u.panDelta=(u.panDelta||new s.Point(0,0))._add(b.panDelta)),b.zoomDelta&&(u.zoomDelta=(u.zoomDelta||0)+b.zoomDelta),b.bearingDelta&&(u.bearingDelta=(u.bearingDelta||0)+b.bearingDelta),b.pitchDelta&&(u.pitchDelta=(u.pitchDelta||0)+b.pitchDelta),b.around!==void 0&&(u.around=b.around),b.aroundCoord!==void 0&&(u.aroundCoord=b.aroundCoord),b.pinchAround!==void 0&&(u.pinchAround=b.pinchAround),b.noInertia&&(u.noInertia=b.noInertia),s.extend(f,S),s.extend(v,A);this._updateMapTransform(u,f,v),this._changes=[]}_updateMapTransform(u,f,v){const b=this._map,S=b.transform,A=be=>[be.x,be.y,be.z];if((be=>{const Me=this._eventsInProgress.drag;return Me&&!this._handlersById[Me.handlerName].isActive()})()&&!Ca(u)){const be=S.zoom;S.cameraElevationReference="sea",S.recenterOnTerrain(),S.cameraElevationReference="ground",be!==S.zoom&&this._map._update(!0)}if(S._isCameraConstrained&&b._stop(!0),!Ca(u))return void this._fireEvents(f,v,!0);let{panDelta:D,zoomDelta:N,bearingDelta:K,pitchDelta:Y,around:ie,aroundCoord:ve,pinchAround:we}=u;S._isCameraConstrained&&(N>0&&(N=0),S._isCameraConstrained=!1),we!==void 0&&(ie=we),(N||(be=>f[be]&&!this._eventsInProgress[be])("drag"))&&ie&&(this._dragOrigin=A(S.pointCoordinate3D(ie)),this._trackingEllipsoid.setup(S._camera.position,this._dragOrigin)),S.cameraElevationReference="sea",b._stop(!0),ie=ie||b.transform.centerPoint,K&&(S.bearing+=K),Y&&(S.pitch+=Y),S._updateCameraState();const Se=[0,0,0];if(D)if(S.projection.name==="mercator"){const be=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(ie).dir),Me=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(ie.sub(D)).dir);Se[0]=Me[0]-be[0],Se[1]=Me[1]-be[1]}else{const be=S.pointCoordinate(ie);if(S.projection.name==="globe"){D=D.rotate(-S.angle);const Me=S._pixelsPerMercatorPixel/S.worldSize;Se[0]=-D.x*s.mercatorScale(s.latFromMercatorY(be.y))*Me,Se[1]=-D.y*s.mercatorScale(S.center.lat)*Me}else{const Me=S.pointCoordinate(ie.sub(D));be&&Me&&(Se[0]=Me.x-be.x,Se[1]=Me.y-be.y)}}const Ce=S.zoom,Ee=[0,0,0];if(N){const be=A(ve||S.pointCoordinate3D(ie)),Me={dir:s.normalize([],s.sub([],be,S._camera.position))};if(Me.dir[2]<0){const Ae=S.zoomDeltaToMovement(be,N);s.scale$2(Ee,Me.dir,Ae)}}const le=s.add(Se,Se,Ee);S._translateCameraConstrained(le),N&&Math.abs(S.zoom-Ce)>1e-4&&S.recenterOnTerrain(),S.cameraElevationReference="ground",this._map._update(),u.noInertia||this._inertia.record(u),this._fireEvents(f,v,!0)}_fireEvents(u,f,v){const b=qs(this._eventsInProgress),S=qs(u),A={};for(const Y in u){const{originalEvent:ie}=u[Y];this._eventsInProgress[Y]||(A[`${Y}start`]=ie),this._eventsInProgress[Y]=u[Y]}!b&&S&&this._fireEvent("movestart",S.originalEvent);for(const Y in A)this._fireEvent(Y,A[Y]);S&&this._fireEvent("move",S.originalEvent);for(const Y in u){const{originalEvent:ie}=u[Y];this._fireEvent(Y,ie)}const D={};let N;for(const Y in this._eventsInProgress){const{handlerName:ie,originalEvent:ve}=this._eventsInProgress[Y];this._handlersById[ie].isActive()||(delete this._eventsInProgress[Y],N=f[ie]||ve,D[`${Y}end`]=N)}for(const Y in D)this._fireEvent(Y,D[Y]);const K=qs(this._eventsInProgress);if(v&&(b||S)&&!K){this._updatingCamera=!0;const Y=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ie=ve=>ve!==0&&-this._bearingSnap<ve&&ve<this._bearingSnap;Y?(ie(Y.bearing||this._map.getBearing())&&(Y.bearing=0),this._map.easeTo(Y,{originalEvent:N})):(this._map.fire(new s.Event("moveend",{originalEvent:N})),ie(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(u,f){this._map.fire(new s.Event(u,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(u=>{this._frameId=void 0,this.handleEvent(new Ax("renderFrame",{timeStamp:u})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const ku="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class bm extends s.Evented{constructor(u,f){super(),this._moving=!1,this._zooming=!1,this.transform=u,this._bearingSnap=f.bearingSnap,this._respectPrefersReducedMotion=f.respectPrefersReducedMotion!==!1,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(u,f){return this.jumpTo({center:u},f)}panBy(u,f,v){return u=s.Point.convert(u).mult(-1),this.panTo(this.transform.center,s.extend({offset:u},f),v)}panTo(u,f,v){return this.easeTo(s.extend({center:u},f),v)}getZoom(){return this.transform.zoom}setZoom(u,f){return this.jumpTo({zoom:u},f),this}zoomTo(u,f,v){return this.easeTo(s.extend({zoom:u},f),v)}zoomIn(u,f){return this.zoomTo(this.getZoom()+1,u,f),this}zoomOut(u,f){return this.zoomTo(this.getZoom()-1,u,f),this}getBearing(){return this.transform.bearing}setBearing(u,f){return this.jumpTo({bearing:u},f),this}getPadding(){return this.transform.padding}setPadding(u,f){return this.jumpTo({padding:u},f),this}rotateTo(u,f,v){return this.easeTo(s.extend({bearing:u},f),v)}resetNorth(u,f){return this.rotateTo(0,s.extend({duration:1e3},u),f),this}resetNorthPitch(u,f){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},u),f),this}snapToNorth(u,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(u,f):this}getPitch(){return this.transform.pitch}setPitch(u,f){return this.jumpTo({pitch:u},f),this}cameraForBounds(u,f){u=s.LngLatBounds.convert(u);const v=f&&f.bearing||0,b=f&&f.pitch||0,S=u.getNorthWest(),A=u.getSouthEast();return this._cameraForBounds(this.transform,S,A,v,b,f)}_extendCameraOptions(u){const f={top:0,bottom:0,right:0,left:0};if(typeof(u=s.extend({padding:f,offset:[0,0],maxZoom:this.transform.maxZoom},u)).padding=="number"){const v=u.padding;u.padding={top:v,bottom:v,right:v,left:v}}return u.padding=s.extend(f,u.padding),u}_minimumAABBFrustumDistance(u,f){const v=f.max[0]-f.min[0],b=f.max[1]-f.min[1];return v/b>u.aspect?v/(2*Math.tan(.5*u.fovX)*u.aspect):b/(2*Math.tan(.5*u.fovY)*u.aspect)}_cameraForBoundsOnGlobe(u,f,v,b,S,A){const D=u.clone(),N=this._extendCameraOptions(A);D.bearing=b,D.pitch=S;const K=s.LngLat.convert(f),Y=s.LngLat.convert(v),ie=.5*(K.lat+Y.lat),ve=.5*(K.lng+Y.lng),we=s.latLngToECEF(ie,ve),Se=s.normalize([],we),Ce=s.normalize([],s.cross([],Se,[0,1,0])),Ee=s.cross([],Ce,Se),le=[Ce[0],Ce[1],Ce[2],0,Ee[0],Ee[1],Ee[2],0,Se[0],Se[1],Se[2],0,0,0,0,1],be=[we,s.latLngToECEF(K.lat,K.lng),s.latLngToECEF(Y.lat,K.lng),s.latLngToECEF(Y.lat,Y.lng),s.latLngToECEF(K.lat,Y.lng),s.latLngToECEF(ie,K.lng),s.latLngToECEF(ie,Y.lng),s.latLngToECEF(K.lat,ve),s.latLngToECEF(Y.lat,ve)];let Me=s.Aabb.fromPoints(be.map(At=>[s.dot(Ce,At),s.dot(Ee,At),s.dot(Se,At)]));const Ae=s.transformMat4([],Me.center,le);s.squaredLength(Ae)===0&&s.set(Ae,0,0,1),s.normalize(Ae,Ae),s.scale$2(Ae,Ae,s.GLOBE_RADIUS),D.center=s.ecefToLatLng(Ae);const $e=D.getWorldToCameraMatrix(),Ne=s.invert(new Float64Array(16),$e);Me=s.Aabb.applyTransform(Me,s.multiply([],$e,le)),s.transformMat4(Ae,Ae,$e);const Be=.5*(Me.max[2]-Me.min[2]),Je=this._minimumAABBFrustumDistance(D,Me),Ze=s.scale$2([],[0,0,1],Be),at=s.add(Ze,Ae,Ze),Vt=Je+(D.pitch===0?0:s.distance(Ae,at)),nt=D.globeCenterInViewSpace,Tt=s.sub([],Ae,[nt[0],nt[1],nt[2]]);s.normalize(Tt,Tt),s.scale$2(Tt,Tt,Vt);const ct=s.add([],Ae,Tt);s.transformMat4(ct,ct,Ne);const Nt=s.earthRadius/s.GLOBE_RADIUS,it=s.length(ct),St=s.mercatorZfromAltitude(Math.max(it*Nt-s.earthRadius,Number.EPSILON),0),Gt=Math.min(D.zoomFromMercatorZAdjusted(St),N.maxZoom);return Gt>.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"mercator"}),D.zoom=Gt,this._cameraForBounds(D,f,v,b,S,A)):{center:D.center,zoom:Gt,bearing:b,pitch:S}}queryTerrainElevation(u,f){const v=this.transform.elevation;return v?(f=s.extend({},{exaggerated:!0},f),v.getAtPoint(s.MercatorCoordinate.fromLngLat(u),null,f.exaggerated)):null}_cameraForBounds(u,f,v,b,S,A){if(u.projection.name==="globe")return this._cameraForBoundsOnGlobe(u,f,v,b,S,A);const D=u.clone(),N=this._extendCameraOptions(A),K=D.padding;D.bearing=b,D.pitch=S;const Y=s.LngLat.convert(f),ie=s.LngLat.convert(v),ve=new s.LngLat(Y.lng,ie.lat),we=new s.LngLat(ie.lng,Y.lat),Se=D.project(Y),Ce=D.project(ie),Ee=this.queryTerrainElevation(Y),le=this.queryTerrainElevation(ie),be=this.queryTerrainElevation(ve),Me=this.queryTerrainElevation(we),Ae=[[Se.x,Se.y,Math.min(Ee||0,le||0,be||0,Me||0)],[Ce.x,Ce.y,Math.max(Ee||0,le||0,be||0,Me||0)]];let $e=s.Aabb.fromPoints(Ae);const Ne=D.getWorldToCameraMatrix(),Be=s.invert(new Float64Array(16),Ne);$e=s.Aabb.applyTransform($e,Ne);const Je=s.sub([],$e.max,$e.min),Ze=K.left||0,at=K.right||0,Vt=K.bottom||0,nt=K.top||0,{left:Tt,right:ct,top:Nt,bottom:it}=N.padding,St=.5*(Ze+at),Gt=.5*(nt+Vt),At=Math.min(D.scaleZoom(D.scale*Math.min((D.width-(Ze+at+Tt+ct))/Je[0],(D.height-(Vt+nt+it+Nt))/Je[1])),N.maxZoom),Zt=D.scale/D.zoomScale(At);$e=new s.Aabb([$e.min[0]-(Tt+St)*Zt,$e.min[1]-(it+Gt)*Zt,$e.min[2]],[$e.max[0]+(ct+St)*Zt,$e.max[1]+(Nt+Gt)*Zt,$e.max[2]]);const Mn=.5*Je[2],Kn=this._minimumAABBFrustumDistance(D,$e),xn=[0,0,1,0];s.transformMat4$1(xn,xn,Ne),s.normalize$2(xn,xn);const zn=s.scale$2([],xn,Kn+Mn),pr=s.add([],$e.center,zn),fr=(typeof N.offset.x=="number"&&typeof N.offset.y=="number"?new s.Point(N.offset.x,N.offset.y):s.Point.convert(N.offset)).rotate(-s.degToRad(b));$e.center[0]-=fr.x*Zt,$e.center[1]+=fr.y*Zt,s.transformMat4($e.center,$e.center,Be),s.transformMat4(pr,pr,Be);const Pn=[$e.center[0],$e.center[1],pr[2]*D.pixelsPerMeter];s.scale$2(Pn,Pn,1/D.worldSize);const Ur=s.lngFromMercatorX(Pn[0]),Wr=s.latFromMercatorY(Pn[1]),qr=Math.min(D._zoomFromMercatorZ(Pn[2]),N.maxZoom),Zr=new s.LngLat(Ur,Wr);return D.mercatorFromTransition&&qr<.5*(s.GLOBE_ZOOM_THRESHOLD_MIN+s.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"globe"}),D.zoom=qr,this._cameraForBounds(D,f,v,b,S,A)):{center:Zr,zoom:qr,bearing:b,pitch:S}}fitBounds(u,f,v){const b=this.cameraForBounds(u,f);return this._fitInternal(b,f,v)}fitScreenCoordinates(u,f,v,b,S){const A=s.Point.convert(u),D=s.Point.convert(f),N=new s.Point(Math.min(A.x,D.x),Math.min(A.y,D.y)),K=new s.Point(Math.max(A.x,D.x),Math.max(A.y,D.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(A,D))return this;const Y=this.transform.pointLocation3D(N),ie=this.transform.pointLocation3D(K),ve=this.transform.pointLocation3D(new s.Point(N.x,K.y)),we=this.transform.pointLocation3D(new s.Point(K.x,N.y)),Se=[Math.min(Y.lng,ie.lng,ve.lng,we.lng),Math.min(Y.lat,ie.lat,ve.lat,we.lat)],Ce=[Math.max(Y.lng,ie.lng,ve.lng,we.lng),Math.max(Y.lat,ie.lat,ve.lat,we.lat)],Ee=b&&b.pitch?b.pitch:this.getPitch(),le=this._cameraForBounds(this.transform,Se,Ce,v,Ee,b);return this._fitInternal(le,b,S)}_fitInternal(u,f,v){return u?(delete(f=s.extend(u,f)).padding,f.linear?this.easeTo(f,v):this.flyTo(f,v)):this}jumpTo(u,f){this.stop();const v=u.preloadOnly?this.transform.clone():this.transform;let b=!1,S=!1,A=!1;return"zoom"in u&&v.zoom!==+u.zoom&&(b=!0,v.zoom=+u.zoom),u.center!==void 0&&(v.center=s.LngLat.convert(u.center)),"bearing"in u&&v.bearing!==+u.bearing&&(S=!0,v.bearing=+u.bearing),"pitch"in u&&v.pitch!==+u.pitch&&(A=!0,v.pitch=+u.pitch),u.padding==null||v.isPaddingEqual(u.padding)||(v.padding=u.padding),u.preloadOnly?(this._preloadTiles(v),this):(this.fire(new s.Event("movestart",f)).fire(new s.Event("move",f)),b&&this.fire(new s.Event("zoomstart",f)).fire(new s.Event("zoom",f)).fire(new s.Event("zoomend",f)),S&&this.fire(new s.Event("rotatestart",f)).fire(new s.Event("rotate",f)).fire(new s.Event("rotateend",f)),A&&this.fire(new s.Event("pitchstart",f)).fire(new s.Event("pitch",f)).fire(new s.Event("pitchend",f)),this.fire(new s.Event("moveend",f)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(ku),this.transform.getFreeCameraOptions()}setFreeCameraOptions(u,f){const v=this.transform;if(!v.projection.supportsFreeCamera)return s.warnOnce(ku),this;this.stop();const b=v.zoom,S=v.pitch,A=v.bearing;v.setFreeCameraOptions(u);const D=b!==v.zoom,N=S!==v.pitch,K=A!==v.bearing;return this.fire(new s.Event("movestart",f)).fire(new s.Event("move",f)),D&&this.fire(new s.Event("zoomstart",f)).fire(new s.Event("zoom",f)).fire(new s.Event("zoomend",f)),K&&this.fire(new s.Event("rotatestart",f)).fire(new s.Event("rotate",f)).fire(new s.Event("rotateend",f)),N&&this.fire(new s.Event("pitchstart",f)).fire(new s.Event("pitch",f)).fire(new s.Event("pitchend",f)),this.fire(new s.Event("moveend",f)),this}easeTo(u,f){this._stop(!1,u.easeId),((u=s.extend({offset:[0,0],duration:500,easing:s.ease},u)).animate===!1||this._prefersReducedMotion(u))&&(u.duration=0);const v=this.transform,b=this.getZoom(),S=this.getBearing(),A=this.getPitch(),D=this.getPadding(),N="zoom"in u?+u.zoom:b,K="bearing"in u?this._normalizeBearing(u.bearing,S):S,Y="pitch"in u?+u.pitch:A,ie="padding"in u?u.padding:v.padding,ve=s.Point.convert(u.offset);let we,Se,Ce;if(v.projection.name==="globe"){const Ze=s.MercatorCoordinate.fromLngLat(v.center),at=ve.rotate(-v.angle);Ze.x+=at.x/v.worldSize,Ze.y+=at.y/v.worldSize;const Vt=Ze.toLngLat(),nt=s.LngLat.convert(u.center||Vt);this._normalizeCenter(nt),we=v.centerPoint.add(at),Se=new s.Point(Ze.x,Ze.y).mult(v.worldSize),Ce=new s.Point(s.mercatorXfromLng(nt.lng),s.mercatorYfromLat(nt.lat)).mult(v.worldSize).sub(Se)}else{we=v.centerPoint.add(ve);const Ze=v.pointLocation(we),at=s.LngLat.convert(u.center||Ze);this._normalizeCenter(at),Se=v.project(Ze),Ce=v.project(at).sub(Se)}const Ee=v.zoomScale(N-b);let le,be;u.around&&(le=s.LngLat.convert(u.around),be=v.locationPoint(le));const Me=this._zooming||N!==b,Ae=this._rotating||S!==K,$e=this._pitching||Y!==A,Ne=!v.isPaddingEqual(ie),Be=Ze=>at=>{if(Me&&(Ze.zoom=s.number(b,N,at)),Ae&&(Ze.bearing=s.number(S,K,at)),$e&&(Ze.pitch=s.number(A,Y,at)),Ne&&(Ze.interpolatePadding(D,ie,at),we=Ze.centerPoint.add(ve)),le)Ze.setLocationAtPoint(le,be);else{const Vt=Ze.zoomScale(Ze.zoom-b),nt=N>b?Math.min(2,Ee):Math.max(.5,Ee),Tt=Math.pow(nt,1-at),ct=Ze.unproject(Se.add(Ce.mult(at*Tt)).mult(Vt));Ze.setLocationAtPoint(Ze.renderWorldCopies?ct.wrap():ct,we)}return u.preloadOnly||this._fireMoveEvents(f),Ze};if(u.preloadOnly){const Ze=this._emulate(Be,u.duration,v);return this._preloadTiles(Ze),this}const Je={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Me,this._rotating=Ae,this._pitching=$e,this._padding=Ne,this._easeId=u.easeId,this._prepareEase(f,u.noMoveStart,Je),this._ease(Be(v),Ze=>{v.recenterOnTerrain(),this._afterEase(f,Ze)},u),this}_prepareEase(u,f,v={}){this._moving=!0,this.transform.cameraElevationReference="sea",f||v.moving||this.fire(new s.Event("movestart",u)),this._zooming&&!v.zooming&&this.fire(new s.Event("zoomstart",u)),this._rotating&&!v.rotating&&this.fire(new s.Event("rotatestart",u)),this._pitching&&!v.pitching&&this.fire(new s.Event("pitchstart",u))}_fireMoveEvents(u){this.fire(new s.Event("move",u)),this._zooming&&this.fire(new s.Event("zoom",u)),this._rotating&&this.fire(new s.Event("rotate",u)),this._pitching&&this.fire(new s.Event("pitch",u))}_afterEase(u,f){if(this._easeId&&f&&this._easeId===f)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const v=this._zooming,b=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,v&&this.fire(new s.Event("zoomend",u)),b&&this.fire(new s.Event("rotateend",u)),S&&this.fire(new s.Event("pitchend",u)),this.fire(new s.Event("moveend",u))}flyTo(u,f){if(this._prefersReducedMotion(u)){const At=s.pick(u,["center","zoom","bearing","pitch","around"]);return this.jumpTo(At,f)}this.stop(),u=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},u);const v=this.transform,b=this.getZoom(),S=this.getBearing(),A=this.getPitch(),D=this.getPadding(),N="zoom"in u?s.clamp(+u.zoom,v.minZoom,v.maxZoom):b,K="bearing"in u?this._normalizeBearing(u.bearing,S):S,Y="pitch"in u?+u.pitch:A,ie="padding"in u?u.padding:v.padding,ve=v.zoomScale(N-b),we=s.Point.convert(u.offset);let Se=v.centerPoint.add(we);const Ce=v.pointLocation(Se),Ee=s.LngLat.convert(u.center||Ce);this._normalizeCenter(Ee);const le=v.project(Ce),be=v.project(Ee).sub(le);let Me=u.curve;const Ae=Math.max(v.width,v.height),$e=Ae/ve,Ne=be.mag();if("minZoom"in u){const At=s.clamp(Math.min(u.minZoom,b,N),v.minZoom,v.maxZoom),Zt=Ae/v.zoomScale(At-b);Me=Math.sqrt(Zt/Ne*2)}const Be=Me*Me;function Je(At){const Zt=($e*$e-Ae*Ae+(At?-1:1)*Be*Be*Ne*Ne)/(2*(At?$e:Ae)*Be*Ne);return Math.log(Math.sqrt(Zt*Zt+1)-Zt)}function Ze(At){return(Math.exp(At)-Math.exp(-At))/2}function at(At){return(Math.exp(At)+Math.exp(-At))/2}const Vt=Je(0);let nt=function(At){return at(Vt)/at(Vt+Me*At)},Tt=function(At){return Ae*((at(Vt)*(Ze(Zt=Vt+Me*At)/at(Zt))-Ze(Vt))/Be)/Ne;var Zt},ct=(Je(1)-Vt)/Me;if(Math.abs(Ne)<1e-6||!isFinite(ct)){if(Math.abs(Ae-$e)<1e-6)return this.easeTo(u,f);const At=$e<Ae?-1:1;ct=Math.abs(Math.log($e/Ae))/Me,Tt=function(){return 0},nt=function(Zt){return Math.exp(At*Me*Zt)}}u.duration="duration"in u?+u.duration:1e3*ct/("screenSpeed"in u?+u.screenSpeed/Me:+u.speed),u.maxDuration&&u.duration>u.maxDuration&&(u.duration=0);const Nt=S!==K,it=Y!==A,St=!v.isPaddingEqual(ie),Gt=At=>Zt=>{const Mn=Zt*ct,Kn=1/nt(Mn);At.zoom=Zt===1?N:b+At.scaleZoom(Kn),Nt&&(At.bearing=s.number(S,K,Zt)),it&&(At.pitch=s.number(A,Y,Zt)),St&&(At.interpolatePadding(D,ie,Zt),Se=At.centerPoint.add(we));const xn=Zt===1?Ee:At.unproject(le.add(be.mult(Tt(Mn))).mult(Kn));return At.setLocationAtPoint(At.renderWorldCopies?xn.wrap():xn,Se),At._updateCameraOnTerrain(),u.preloadOnly||this._fireMoveEvents(f),At};if(u.preloadOnly){const At=this._emulate(Gt,u.duration,v);return this._preloadTiles(At),this}return this._zooming=!0,this._rotating=Nt,this._pitching=it,this._padding=St,this._prepareEase(f,!1),this._ease(Gt(v),()=>this._afterEase(f),u),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(u,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const v=this._onEaseEnd;this._onEaseEnd=void 0,v.call(this,f)}if(!u){const v=this.handlers;v&&v.stop(!1)}return this}_ease(u,f,v){v.animate===!1||v.duration===0?(u(1),f()):(this._easeStart=s.exported.now(),this._easeOptions=v,this._onEaseFrame=u,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const u=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),f=this._onEaseFrame;f&&f(this._easeOptions.easing(u)),u<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(u,f){u=s.wrap(u,-180,180);const v=Math.abs(u-f);return Math.abs(u-360-f)<v&&(u-=360),Math.abs(u+360-f)<v&&(u+=360),u}_normalizeCenter(u){const f=this.transform;if(!f.renderWorldCopies||f.maxBounds)return;const v=u.lng-f.center.lng;u.lng+=v>180?-360:v<-180?360:0}_prefersReducedMotion(u){return this._respectPrefersReducedMotion&&s.exported.prefersReducedMotion&&!(u&&u.essential)}_emulate(u,f,v){const b=Math.ceil(15*f/1e3),S=[],A=u(v.clone());for(let D=0;D<=b;D++){const N=A(D/b);S.push(N.clone())}return S}}class _n{constructor(u={}){this.options=u,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(u){const f=this.options&&this.options.compact;return this._map=u,this._container=k("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=k("button","mapboxgl-ctrl-attrib-button",this._container),k("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=k("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),f&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),f===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(u,f){const v=this._map._getUIString(`AttributionControl.${f}`);u.setAttribute("aria-label",v),u.removeAttribute("title"),u.firstElementChild&&u.firstElementChild.setAttribute("title",v)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let u=this._editLink;u||(u=this._editLink=this._container.querySelector(".mapbox-improve-map"));const f=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(u){const v=f.reduce((b,S,A)=>(S.value&&(b+=`${S.key}=${S.value}${A<f.length-1?"&":""}`),b),"?");u.href=`${s.config.FEEDBACK_URL}/${v}#${zl(this._map,!0)}`,u.rel="noopener nofollow",this._setElementTitle(u,"MapFeedback")}}_updateData(u){!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let u=[];if(this._map.style.stylesheet){const b=this._map.style.stylesheet;this.styleOwner=b.owner,this.styleId=b.id}const f=this._map.style._sourceCaches;for(const b in f){const S=f[b];if(S.used){const A=S.getSource();A.attribution&&u.indexOf(A.attribution)<0&&u.push(A.attribution)}}u.sort((b,S)=>b.length-S.length),u=u.filter((b,S)=>{for(let A=S+1;A<u.length;A++)if(u[A].indexOf(b)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?u=[...this.options.customAttribution,...u]:u.unshift(this.options.customAttribution));const v=u.join(" | ");v!==this._attribHTML&&(this._attribHTML=v,u.length?(this._innerContainer.innerHTML=v,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class tv{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(u){this._map=u,this._container=k("div","mapboxgl-ctrl");const f=k("a","mapboxgl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://www.mapbox.com/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(u){u&&u.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const u=this._map.style._sourceCaches;if(Object.entries(u).length===0)return!0;for(const f in u){const v=u[f].getSource();if(v.hasOwnProperty("mapbox_logo")&&!v.mapbox_logo)return!1}return!0}_updateCompact(){const u=this._container.children;if(u.length){const f=u[0];this._map.getCanvasContainer().offsetWidth<250?f.classList.add("mapboxgl-compact"):f.classList.remove("mapboxgl-compact")}}}class nv{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(u){const f=++this._id;return this._queue.push({callback:u,id:f,cancelled:!1}),f}remove(u){const f=this._currentlyRunning,v=f?this._queue.concat(f):this._queue;for(const b of v)if(b.id===u)return void(b.cancelled=!0)}run(u=0){const f=this._currentlyRunning=this._queue;this._queue=[];for(const v of f)if(!v.cancelled&&(v.callback(u),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Hd(g,u,f){if(g=new s.LngLat(g.lng,g.lat),u){const v=new s.LngLat(g.lng-360,g.lat),b=new s.LngLat(g.lng+360,g.lat),S=360*Math.ceil(Math.abs(g.lng-f.center.lng)/360),A=f.locationPoint(g).distSqr(u),D=u.x<0||u.y<0||u.x>f.width||u.y>f.height;f.locationPoint(v).distSqr(u)<A&&(D||Math.abs(v.lng-f.center.lng)<S)?g=v:f.locationPoint(b).distSqr(u)<A&&(D||Math.abs(b.lng-f.center.lng)<S)&&(g=b)}for(;Math.abs(g.lng-f.center.lng)>180;){const v=f.locationPoint(g);if(v.x>=0&&v.y>=0&&v.x<=f.width&&v.y<=f.height)break;g.lng>f.center.lng?g.lng-=360:g.lng+=360}return g}const Iu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class mn extends s.Evented{constructor(u,f){if(super(),(u instanceof s.window.HTMLElement||f)&&(u=s.extend({element:u},f)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=u&&u.anchor||"center",this._color=u&&u.color||"#3FB1CE",this._scale=u&&u.scale||1,this._draggable=u&&u.draggable||!1,this._clickTolerance=u&&u.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=u&&u.rotation||0,this._rotationAlignment=u&&u.rotationAlignment||"auto",this._pitchAlignment=u&&u.pitchAlignment&&u.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=u&&u.occludedOpacity||.2,u&&u.element)this._element=u.element,this._offset=s.Point.convert(u&&u.offset||[0,0]);else{this._defaultMarker=!0,this._element=k("div");const b=41,S=27,A=O("svg",{display:"block",height:b*this._scale+"px",width:S*this._scale+"px",viewBox:`0 0 ${S} ${b}`},this._element),D=O("radialGradient",{id:"shadowGradient"},O("defs",{},A));O("stop",{offset:"10%","stop-opacity":.4},D),O("stop",{offset:"100%","stop-opacity":.05},D),O("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},A),O("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},A),O("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},A),O("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},A),this._offset=s.Point.convert(u&&u.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",b=>{b.preventDefault()}),this._element.addEventListener("mousedown",b=>{b.preventDefault()});const v=this._element.classList;for(const b in Iu)v.remove(`mapboxgl-marker-anchor-${b}`);v.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(u){return u===this._map||(this.remove(),this._map=u,u.getCanvasContainer().appendChild(this._element),u.on("move",this._updateMoving),u.on("moveend",this._update),u.on("remove",this._clearFadeTimer),u._addMarker(this),this.setDraggable(this._draggable),this._update(),u.on("click",this._onMapClick)),this}remove(){const u=this._map;return u&&(u.off("click",this._onMapClick),u.off("move",this._updateMoving),u.off("moveend",this._update),u.off("mousedown",this._addDragHandler),u.off("touchstart",this._addDragHandler),u.off("mouseup",this._onUp),u.off("touchend",this._onUp),u.off("mousemove",this._onMove),u.off("touchmove",this._onMove),u.off("remove",this._clearFadeTimer),u._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(u){return this._lngLat=s.LngLat.convert(u),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(u){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),u){if(!("offset"in u.options)){const b=Math.sqrt(Math.pow(13.5,2)/2);u.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[b,-1*(38.1-13.5+b)],"bottom-right":[-b,-1*(38.1-13.5+b)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=u,u._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(u){const f=u.code,v=u.charCode||u.keyCode;f!=="Space"&&f!=="Enter"&&v!==32&&v!==13||this.togglePopup()}_onMapClick(u){const f=u.originalEvent.target,v=this._element;this._popup&&(f===v||v.contains(f))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const u=this._popup;return u?(u.isOpen()?(u.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(u.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const u=this._map,f=this._pos;if(!u||!f)return!1;const v=u.unproject(f),b=u.getFreeCameraOptions();if(!b.position)return!1;const S=b.position.toLngLat();return S.distanceTo(v)<.9*S.distanceTo(this._lngLat)}_evaluateOpacity(){const u=this._map;if(!u)return;const f=this._pos;if(!f||f.x<0||f.x>u.transform.width||f.y<0||f.y>u.transform.height)return void this._clearFadeTimer();const v=u.unproject(f);let b;u._showingGlobe()&&s.isLngLatBehindGlobe(u.transform,this._lngLat)?b=0:(b=1-u._queryFogOpacity(v),u.transform._terrainEnabled()&&u.getTerrain()&&this._behindTerrain()&&(b*=this._occludedOpacity)),this._element.style.opacity=`${b}`,this._element.style.pointerEvents=b>0?"auto":"none",this._popup&&this._popup._setOpacity(b),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const u=this._pos;if(!u||!this._map)return;const f=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${u.x}px,${u.y}px)
            ${Iu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${f.x}px,${f.y}px)
        `}_calculateXYTransform(){const u=this._pos,f=this._map,v=this.getPitchAlignment();if(!f||!u||v!=="map")return"";if(!f._showingGlobe()){const N=f.getPitch();return N?`rotateX(${N}deg)`:""}const b=s.radToDeg(s.globeTiltAtLngLat(f.transform,this._lngLat)),S=u.sub(s.globeCenterToScreenPoint(f.transform)),A=Math.abs(S.x)+Math.abs(S.y);if(A===0)return"";const D=b/A;return`rotateX(${-S.y*D}deg) rotateY(${S.x*D}deg)`}_calculateZTransform(){const u=this._pos,f=this._map;if(!f||!u)return"";let v=0;const b=this.getRotationAlignment();if(b==="map")if(f._showingGlobe()){const S=f.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),A=f.project(new s.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(S);v=s.radToDeg(Math.atan2(A.y,A.x))-90}else v=-f.getBearing();else if(b==="horizon"){const S=s.smoothstep(4,6,f.getZoom()),A=s.globeCenterToScreenPoint(f.transform);A.y+=S*f.transform.height;const D=u.sub(A),N=s.radToDeg(Math.atan2(D.y,D.x));v=(N>90?N-270:N+90)*(1-S)}return v+=this._rotation,v?`rotateZ(${v}deg)`:""}_update(u){s.window.cancelAnimationFrame(this._updateFrameId);const f=this._map;f&&(f.transform.renderWorldCopies&&(this._lngLat=Hd(this._lngLat,this._pos,f.transform)),this._pos=f.project(this._lngLat),u===!0?this._updateFrameId=s.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),f._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(f._showingGlobe()||f.getTerrain()||f.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(u){return this._offset=s.Point.convert(u),this._update(),this}_onMove(u){const f=this._map;if(!f)return;const v=this._pointerdownPos,b=this._positionDelta;if(v&&b){if(!this._isDragging){const S=this._clickTolerance||f._clickTolerance;if(u.point.dist(v)<S)return;this._isDragging=!0}this._pos=u.point.sub(b),this._lngLat=f.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const u=this._map;u&&(u.off("mousemove",this._onMove),u.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(u){const f=this._map,v=this._pos;f&&v&&this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(v),this._pointerdownPos=u.point,this._state="pending",f.on("mousemove",this._onMove),f.on("touchmove",this._onMove),f.once("mouseup",this._onUp),f.once("touchend",this._onUp))}setDraggable(u){this._draggable=!!u;const f=this._map;return f&&(u?(f.on("mousedown",this._addDragHandler),f.on("touchstart",this._addDragHandler)):(f.off("mousedown",this._addDragHandler),f.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(u){return this._rotation=u||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(u){return this._rotationAlignment=u||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(u){return this._pitchAlignment=u||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(u){return this._occludedOpacity=u||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const rv={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},l2=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Rx(g=new s.Point(0,0),u="bottom"){if(typeof g=="number"){const f=Math.round(Math.sqrt(.5*Math.pow(g,2)));switch(u){case"top":return new s.Point(0,g);case"top-left":return new s.Point(f,f);case"top-right":return new s.Point(-f,f);case"bottom":return new s.Point(0,-g);case"bottom-left":return new s.Point(f,-f);case"bottom-right":return new s.Point(-f,-f);case"left":return new s.Point(g,0);case"right":return new s.Point(-g,0)}return new s.Point(0,0)}return g instanceof s.Point||Array.isArray(g)?s.Point.convert(g):s.Point.convert(g[u]||[0,0])}class ov{constructor(u){this.jumpTo(u)}getValue(u){if(u<=this._startTime)return this._start;if(u>=this._endTime)return this._end;const f=s.easeCubicInOut((u-this._startTime)/(this._endTime-this._startTime));return this._start*(1-f)+this._end*f}isEasing(u){return u>=this._startTime&&u<=this._endTime}jumpTo(u){this._startTime=-1/0,this._endTime=-1/0,this._start=u,this._end=u}easeTo(u,f,v){this._start=this.getValue(f),this._end=u,this._startTime=f,this._endTime=f+v}}const Ox={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Dx={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},c2={showCompass:!0,showZoom:!0,visualizePitch:!1};class u2{constructor(u,f,v=!1){this._clickTolerance=10,this.element=f,this.mouseRotate=new Ky({clickTolerance:u.dragRotate._mouseRotate._clickTolerance}),this.map=u,v&&(this.mousePitch=new Xy({clickTolerance:u.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),f.addEventListener("mousedown",this.mousedown),f.addEventListener("touchstart",this.touchstart,{passive:!1}),f.addEventListener("touchmove",this.touchmove),f.addEventListener("touchend",this.touchend),f.addEventListener("touchcancel",this.reset)}down(u,f){this.mouseRotate.mousedown(u,f),this.mousePitch&&this.mousePitch.mousedown(u,f),F()}move(u,f){const v=this.map,b=this.mouseRotate.mousemoveWindow(u,f),S=b&&b.bearingDelta;if(S&&v.setBearing(v.getBearing()+S),this.mousePitch){const A=this.mousePitch.mousemoveWindow(u,f),D=A&&A.pitchDelta;D&&v.setPitch(v.getPitch()+D)}}off(){const u=this.element;u.removeEventListener("mousedown",this.mousedown),u.removeEventListener("touchstart",this.touchstart,{passive:!1}),u.removeEventListener("touchmove",this.touchmove),u.removeEventListener("touchend",this.touchend),u.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){z(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(u){this.down(s.extend({},u,{ctrlKey:!0,preventDefault:()=>u.preventDefault()}),ee(this.element,u)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(u){this.move(u,ee(this.element,u))}mouseup(u){this.mouseRotate.mouseupWindow(u),this.mousePitch&&this.mousePitch.mouseupWindow(u),this.offTemp()}touchstart(u){u.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=X(this.element,u.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>u.preventDefault()},this._startPos))}touchmove(u){u.targetTouches.length!==1?this.reset():(this._lastPos=X(this.element,u.targetTouches)[0],this.move({preventDefault:()=>u.preventDefault()},this._lastPos))}touchend(u){u.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const iv={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},sv={maxWidth:100,unit:"metric"},av={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Gd={version:s.version,supported:_,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends bm{constructor(g){if(s.LivePerformanceUtils.mark(s.PerformanceMarkers.create),(g=s.extend({},Dx,g)).minZoom!=null&&g.maxZoom!=null&&g.minZoom>g.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(g.minPitch!=null&&g.maxPitch!=null&&g.minPitch>g.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(g.minPitch!=null&&g.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(g.maxPitch!=null&&g.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(g.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(g.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new To(g.minZoom,g.maxZoom,g.minPitch,g.maxPitch,g.renderWorldCopies),g),this._interactive=g.interactive,this._minTileCacheSize=g.minTileCacheSize,this._maxTileCacheSize=g.maxTileCacheSize,this._failIfMajorPerformanceCaveat=g.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=g.preserveDrawingBuffer,this._antialias=g.antialias,this._useWebGL2=g.useWebGL2,this._trackResize=g.trackResize,this._bearingSnap=g.bearingSnap,this._refreshExpiredTiles=g.refreshExpiredTiles,this._fadeDuration=g.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=g.crossSourceCollisions,this._collectResourceTiming=g.collectResourceTiming,this._optimizeForTerrain=g.optimizeForTerrain,this._language=this._parseLanguage(g.language),this._worldview=g.worldview,this._renderTaskQueue=new nv,this._domRenderTaskQueue=new nv,this._controls=[],this._markers=[],this._popups=[],this._mapId=s.uniqueId(),this._locale=s.extend({},Ox,g.locale),this._clickTolerance=g.clickTolerance,this._cooperativeGestures=g.cooperativeGestures,this._performanceMetricsCollection=g.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ov(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new s.RequestManager(g.transformRequest,g.accessToken,g.testMode),this._silenceAuthErrors=!!g.testMode,typeof g.container=="string"){if(this._container=s.window.document.getElementById(g.container),!this._container)throw new Error(`Container '${g.container}' not found.`)}else{if(!(g.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=g.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),g.maxBounds&&this.setMaxBounds(g.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Xa(this,g),this._localFontFamily=g.localFontFamily,this._localIdeographFontFamily=g.localIdeographFontFamily,g.style&&this.setStyle(g.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),g.projection&&this.setProjection(g.projection),this._hash=g.hash&&new Ka(typeof g.hash=="string"&&g.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch}),g.bounds&&(this.resize(),this.fitBounds(g.bounds,s.extend({},g.fitBoundsOptions,{duration:0})))),this.resize(),g.attributionControl&&this.addControl(new _n({customAttribution:g.customAttribution})),this._logoControl=new tv,this.addControl(this._logoControl,g.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new s.Event(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new s.Event(`${u.dataType}dataloading`,u))})}_getMapId(){return this._mapId}addControl(g,u){if(u===void 0&&(u=g.getDefaultPosition?g.getDefaultPosition():"top-right"),!g||!g.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=g.onAdd(this);this._controls.push(g);const v=this._controlPositions[u];return u.indexOf("bottom")!==-1?v.insertBefore(f,v.firstChild):v.appendChild(f),this}removeControl(g){if(!g||!g.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const u=this._controls.indexOf(g);return u>-1&&this._controls.splice(u,1),g.onRemove(this),this}hasControl(g){return this._controls.indexOf(g)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(g){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const u=!this._moving;return u&&this.fire(new s.Event("movestart",g)).fire(new s.Event("move",g)),this.fire(new s.Event("resize",g)),u&&this.fire(new s.Event("moveend",g)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(g){return this.transform.setMaxBounds(s.LngLatBounds.convert(g)),this._update()}setMinZoom(g){if((g=g??-2)>=-2&&g<=this.transform.maxZoom)return this.transform.minZoom=g,this._update(),this.getZoom()<g?this.setZoom(g):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(g){if((g=g??22)>=this.transform.minZoom)return this.transform.maxZoom=g,this._update(),this.getZoom()>g?this.setZoom(g):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(g){if((g=g??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(g>=0&&g<=this.transform.maxPitch)return this.transform.minPitch=g,this._update(),this.getPitch()<g?this.setPitch(g):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(g){if((g=g??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(g>=this.transform.minPitch)return this.transform.maxPitch=g,this._update(),this.getPitch()>g?this.setPitch(g):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(g){return this.transform.renderWorldCopies=g,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(g){return g==="auto"?s.window.navigator.language:Array.isArray(g)?g.length===0?void 0:g.map(u=>u==="auto"?s.window.navigator.language:u):g}setLanguage(g){const u=this._parseLanguage(g);if(!this.style||u===this._language)return this;this._language=u,this.style._reloadSources();for(const f of this._controls)f._setLanguage&&f._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(g){return this.style&&g!==this._worldview?(this._worldview=g,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(g){return this._lazyInitEmptyStyle(),g?typeof g=="string"&&(g={name:g}):g=null,this._useExplicitProjection=!!g,this._prioritizeAndUpdateProjection(g,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const g=this.transform,u=g.projection.name;let f;u==="globe"&&g.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?(g.setMercatorFromTransition(),f=!0):u==="mercator"&&g.zoom<s.GLOBE_ZOOM_THRESHOLD_MAX&&(g.setProjection({name:"globe"}),f=!0),f&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(g,u){return this._updateProjection(g||u||{name:"mercator"})}_updateProjection(g){let u;if(u=g.name==="globe"&&this.transform.zoom>=s.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(g),this.style.applyProjectionUpdate(),u){this.painter.clearBackgroundTiles();for(const f in this.style._sourceCaches)this.style._sourceCaches[f].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(g){return this.transform.locationPoint3D(s.LngLat.convert(g))}unproject(g){return this.transform.pointLocation3D(s.Point.convert(g))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(g,u,f){if(g==="mouseenter"||g==="mouseover"){let v=!1;const b=A=>{const D=u.filter(K=>this.getLayer(K)),N=D.length?this.queryRenderedFeatures(A.point,{layers:D}):[];N.length?v||(v=!0,f.call(this,new Ii(g,this,A.originalEvent,{features:N}))):v=!1},S=()=>{v=!1};return{layers:new Set(u),listener:f,delegates:{mousemove:b,mouseout:S}}}if(g==="mouseleave"||g==="mouseout"){let v=!1;const b=A=>{const D=u.filter(N=>this.getLayer(N));(D.length?this.queryRenderedFeatures(A.point,{layers:D}):[]).length?v=!0:v&&(v=!1,f.call(this,new Ii(g,this,A.originalEvent)))},S=A=>{v&&(v=!1,f.call(this,new Ii(g,this,A.originalEvent)))};return{layers:new Set(u),listener:f,delegates:{mousemove:b,mouseout:S}}}{const v=b=>{const S=u.filter(D=>this.getLayer(D)),A=S.length?this.queryRenderedFeatures(b.point,{layers:S}):[];A.length&&(b.features=A,f.call(this,b),delete b.features)};return{layers:new Set(u),listener:f,delegates:{[g]:v}}}}on(g,u,f){if(f===void 0)return super.on(g,u);Array.isArray(u)||(u=[u]);const v=this._createDelegatedListener(g,u,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[g]=this._delegatedListeners[g]||[],this._delegatedListeners[g].push(v);for(const b in v.delegates)this.on(b,v.delegates[b]);return this}once(g,u,f){if(f===void 0)return super.once(g,u);Array.isArray(u)||(u=[u]);const v=this._createDelegatedListener(g,u,f);for(const b in v.delegates)this.once(b,v.delegates[b]);return this}off(g,u,f){if(f===void 0)return super.off(g,u);u=new Set(Array.isArray(u)?u:[u]);const v=(S,A)=>{if(S.size!==A.size)return!1;for(const D of S)if(!A.has(D))return!1;return!0},b=this._delegatedListeners?this._delegatedListeners[g]:void 0;return b&&(S=>{for(let A=0;A<S.length;A++){const D=S[A];if(D.listener===f&&v(D.layers,u)){for(const N in D.delegates)this.off(N,D.delegates[N]);return S.splice(A,1),this}}})(b),this}queryRenderedFeatures(g,u){return this.style?(u!==void 0||g===void 0||g instanceof s.Point||Array.isArray(g)||(u=g,g=void 0),this.style.queryRenderedFeatures(g=g||[[0,0],[this.transform.width,this.transform.height]],u=u||{},this.transform)):[]}querySourceFeatures(g,u){return this.style.querySourceFeatures(g,u)}isPointOnSurface(g){const{name:u}=this.transform.projection;return u!=="globe"&&u!=="mercator"&&s.warnOnce(`${u} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(s.Point.convert(g))}setStyle(g,u){return(u=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},u)).diff!==!1&&u.localIdeographFontFamily===this._localIdeographFontFamily&&u.localFontFamily===this._localFontFamily&&this.style&&g?(this._diffStyle(g,u),this):(this._localIdeographFontFamily=u.localIdeographFontFamily,this._localFontFamily=u.localFontFamily,this._updateStyle(g,u))}_getUIString(g){const u=this._locale[g];if(u==null)throw new Error(`Missing UI string '${g}'`);return u}_updateStyle(g,u){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),g&&(this.style=new Gs(this,u||{}),this.style.setEventedParent(this,{style:this.style}),typeof g=="string"?this.style.loadURL(g):this.style.loadJSON(g)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Gs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(g,u){if(typeof g=="string"){const f=this._requestManager.normalizeStyleURL(g),v=this._requestManager.transformRequest(f,s.ResourceType.Style);s.getJSON(v,(b,S)=>{b?this.fire(new s.ErrorEvent(b)):S&&this._updateDiff(S,u)})}else typeof g=="object"&&this._updateDiff(g,u)}_updateDiff(g,u){try{this.style.setState(g)&&this._update(!0)}catch(f){s.warnOnce(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(g,u)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(g,u){return this._lazyInitEmptyStyle(),this.style.addSource(g,u),this._update(!0)}isSourceLoaded(g){return!!this.style&&this.style._isSourceCacheLoaded(g)}areTilesLoaded(){const g=this.style&&this.style._sourceCaches;for(const u in g){const f=g[u]._tiles;for(const v in f){const b=f[v];if(b.state!=="loaded"&&b.state!=="errored")return!1}}return!0}addSourceType(g,u,f){this._lazyInitEmptyStyle(),this.style.addSourceType(g,u,f)}removeSource(g){return this.style.removeSource(g),this._updateTerrain(),this._update(!0)}getSource(g){return this.style.getSource(g)}addImage(g,u,{pixelRatio:f=1,sdf:v=!1,stretchX:b,stretchY:S,content:A}={}){if(this._lazyInitEmptyStyle(),u instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&u instanceof s.window.ImageBitmap){const{width:D,height:N,data:K}=s.exported.getImageData(u);this.style.addImage(g,{data:new s.RGBAImage({width:D,height:N},K),pixelRatio:f,stretchX:b,stretchY:S,content:A,sdf:v,version:0})}else if(u.width===void 0||u.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:D,height:N}=u,K=u;this.style.addImage(g,{data:new s.RGBAImage({width:D,height:N},new Uint8Array(K.data)),pixelRatio:f,stretchX:b,stretchY:S,content:A,sdf:v,version:0,userImage:K}),K.onAdd&&K.onAdd(this,g)}}updateImage(g,u){const f=this.style.getImage(g);if(!f)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const v=u instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&u instanceof s.window.ImageBitmap?s.exported.getImageData(u):u,{width:b,height:S}=v;b!==void 0&&S!==void 0?b===f.data.width&&S===f.data.height?(f.data.replace(v.data,!(u instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&u instanceof s.window.ImageBitmap)),this.style.updateImage(g,f)):this.fire(new s.ErrorEvent(new Error(`The width and height of the updated image (${b}, ${S})
                must be that same as the previous version of the image
                (${f.data.width}, ${f.data.height})`))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(g){return g?!!this.style.getImage(g):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(g){this.style.removeImage(g)}loadImage(g,u){s.getImage(this._requestManager.transformRequest(g,s.ResourceType.Image),(f,v)=>{u(f,v instanceof s.window.HTMLImageElement?s.exported.getImageData(v):v)})}listImages(){return this.style.listImages()}addLayer(g,u){return this._lazyInitEmptyStyle(),this.style.addLayer(g,u),this._update(!0)}moveLayer(g,u){return this.style.moveLayer(g,u),this._update(!0)}removeLayer(g){return this.style.removeLayer(g),this._update(!0)}getLayer(g){return this.style.getLayer(g)}setLayerZoomRange(g,u,f){return this.style.setLayerZoomRange(g,u,f),this._update(!0)}setFilter(g,u,f={}){return this.style.setFilter(g,u,f),this._update(!0)}getFilter(g){return this.style.getFilter(g)}setPaintProperty(g,u,f,v={}){return this.style.setPaintProperty(g,u,f,v),this._update(!0)}getPaintProperty(g,u){return this.style.getPaintProperty(g,u)}setLayoutProperty(g,u,f,v={}){return this.style.setLayoutProperty(g,u,f,v),this._update(!0)}getLayoutProperty(g,u){return this.style.getLayoutProperty(g,u)}setLight(g,u={}){return this._lazyInitEmptyStyle(),this.style.setLight(g,u),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(g){return this._lazyInitEmptyStyle(),!g&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(g),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(g){return this._lazyInitEmptyStyle(),this.style.setFog(g),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(g){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(g),this.transform):0}setFeatureState(g,u){return this.style.setFeatureState(g,u),this._update()}removeFeatureState(g,u){return this.style.removeFeatureState(g,u),this._update()}getFeatureState(g){return this.style.getFeatureState(g)}_updateContainerDimensions(){if(!this._container)return;const g=this._container.getBoundingClientRect().width||400,u=this._container.getBoundingClientRect().height||300;let f,v,b,S=this._container;for(;S&&(!v||!b);){const A=s.window.getComputedStyle(S).transform;A&&A!=="none"&&(f=A.match(/matrix.*\((.+)\)/)[1].split(", "),f[0]&&f[0]!=="0"&&f[0]!=="1"&&(v=f[0]),f[3]&&f[3]!=="0"&&f[3]!=="1"&&(b=f[3])),S=S.parentElement}this._containerWidth=v?Math.abs(g/v):g,this._containerHeight=b?Math.abs(u/b):u}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const g=this._container;g.classList.add("mapboxgl-map"),(this._missingCSSCanary=k("div","mapboxgl-canary",g)).style.visibility="hidden",this._detectMissingCSS();const u=this._canvasContainer=k("div","mapboxgl-canvas-container",g);this._interactive&&u.classList.add("mapboxgl-interactive"),this._canvas=k("canvas","mapboxgl-canvas",u),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const f=this._controlContainer=k("div","mapboxgl-control-container",g),v=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(b=>{v[b]=k("div",`mapboxgl-ctrl-${b}`,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(g,u){const f=s.exported.devicePixelRatio||1;this._canvas.width=f*Math.ceil(g),this._canvas.height=f*Math.ceil(u),this._canvas.style.width=`${g}px`,this._canvas.style.height=`${u}px`}_addMarker(g){this._markers.push(g)}_removeMarker(g){const u=this._markers.indexOf(g);u!==-1&&this._markers.splice(u,1)}_addPopup(g){this._popups.push(g)}_removePopup(g){const u=this._popups.indexOf(g);u!==-1&&this._popups.splice(u,1)}_setupPainter(){const g=s.extend({},_.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),u=this._useWebGL2&&this._canvas.getContext("webgl2",g),f=u||this._canvas.getContext("webgl",g)||this._canvas.getContext("experimental-webgl",g);f?(this._useWebGL2&&!u&&s.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),s.storeAuthState(f,!0),this.painter=new Ec(f,this.transform,!!u),this.on("data",v=>{v.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.exported$1.testSupport(f)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(g){g.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:g}))}_contextRestored(g){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:g}))}_onMapScroll(g){if(g.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(g){return this.style?(this._styleDirty=this._styleDirty||g,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(g){return this._update(),this._renderTaskQueue.add(g)}_cancelRenderFrame(g){this._renderTaskQueue.remove(g)}_requestDomTask(g){!this.loaded()||this.loaded()&&!this.isMoving()?g():this._domRenderTaskQueue.add(g)}_render(g){let u;const f=this.painter.context.extTimerQuery,v=s.exported.now();if(this.listens("gpu-timing-frame")&&(u=f.createQueryEXT(),f.beginQueryEXT(f.TIME_ELAPSED_EXT,u)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],s.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],s.window.performance.now())),this._renderTaskQueue.run(g),this._domRenderTaskQueue.run(g),this._removed)return;this._updateProjectionTransition();const b=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const D=this.transform.zoom,N=this.transform.pitch,K=s.exported.now(),Y=new s.EvaluationParameters(D,{now:K,fadeDuration:b,pitch:N,transition:this.style.getTransition()});this.style.update(Y)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let S=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),S=this._updateAverageElevation(v),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):S=this._updateAverageElevation(v),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,b,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:b,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),u){const D=s.exported.now()-v;f.endQueryEXT(f.TIME_ELAPSED_EXT,u),setTimeout(()=>{const N=f.getQueryObjectEXT(u,f.QUERY_RESULT_EXT)/1e6;f.deleteQueryEXT(u),this.fire(new s.Event("gpu-timing-frame",{cpuTime:D,gpuTime:N})),s.window.performance.mark("frame-gpu",{startTime:v,detail:{gpuTime:N}})},50)}if(this.listens("gpu-timing-layer")){const D=this.painter.collectGpuTimers();setTimeout(()=>{const N=this.painter.queryGpuTimers(D);this.fire(new s.Event("gpu-timing-layer",{layerTimes:N}))},50)}if(this.listens("gpu-timing-deferred-render")){const D=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const N=this.painter.queryGpuTimeDeferredRender(D);this.fire(new s.Event("gpu-timing-deferred-render",{gpuTime:N}))},50)}const A=this._sourcesDirty||this._styleDirty||this._placementDirty||S;if(A||this._repaint)this.triggerRepaint();else{const D=!this.isMoving()&&this.loaded();if(D&&(S=this._updateAverageElevation(v,!0)),S)this.triggerRepaint();else if(this._triggerFrame(!1),D&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const N=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:N})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||A||(this._fullyLoaded=!0,s.LivePerformanceUtils.mark(s.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&s.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(g){for(const u of this._markers)g&&!this.getRenderWorldCopies()&&(u._lngLat=u._lngLat.wrap()),u._update();for(const u of this._popups)!g||this.getRenderWorldCopies()||u._trackPointer||(u._lngLat=u._lngLat.wrap()),u._update()}_updateAverageElevation(g,u=!1){const f=v=>(this.transform.averageElevation=v,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&f(0);if((u||g-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(g)){const v=this.transform.averageElevation;let b=this.transform.sampleAverageElevation(),S=!1;this.transform.elevation&&(S=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(b)?b=0:this._averageElevationLastSampledAt=g;const A=Math.abs(v-b);if(A>1){if(this._isInitialLoad||S)return this._averageElevation.jumpTo(b),f(b);this._averageElevation.easeTo(b,g,300)}else if(A>1e-4)return this._averageElevation.jumpTo(b),f(b)}return!!this._averageElevation.isEasing(g)&&f(this._averageElevation.getValue(g))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,g=>{if(g&&(g.message===s.AUTH_ERR_MSG||g.status===401)){const u=this.painter.context.gl;s.storeAuthState(u,!1),this._logoControl instanceof tv&&this._logoControl._updateLogo(),u&&u.clear(u.DEPTH_BUFFER_BIT|u.COLOR_BUFFER_BIT|u.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const g=this._isDragging();this.painter.updateTerrain(this.style,g)}_calculateSpeedIndex(){const g=this.painter.canvasCopy(),u=this.painter.getCanvasCopiesAndTimestamps();u.timeStamps.push(performance.now());const f=this.painter.context.gl,v=f.createFramebuffer();function b(S){f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,S,0);const A=new Uint8Array(f.drawingBufferWidth*f.drawingBufferHeight*4);return f.readPixels(0,0,f.drawingBufferWidth,f.drawingBufferHeight,f.RGBA,f.UNSIGNED_BYTE,A),A}return f.bindFramebuffer(f.FRAMEBUFFER,v),this._canvasPixelComparison(b(g),u.canvasCopies.map(b),u.timeStamps)}_canvasPixelComparison(g,u,f){let v=f[1]-f[0];const b=g.length/4;for(let S=0;S<u.length;S++){const A=u[S];let D=0;for(let N=0;N<A.length;N+=4)A[N]===g[N]&&A[N+1]===g[N+1]&&A[N+2]===g[N+2]&&A[N+3]===g[N+3]&&(D+=1);v+=(f[S+2]-f[S+1])*(1-D/b)}return v}remove(){this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1),s.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const g=this.painter.context.gl.getExtension("WEBGL_lose_context");g&&g.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(g){this._renderNextFrame=this._renderNextFrame||g,this.style&&!this._frame&&(this._frame=s.exported.frame(u=>{const f=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,f&&this._render(u)}))}_preloadTiles(g){const u=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(u,(f,v)=>f._preloadTiles(g,v),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(g){this._trackResize&&this.resize({originalEvent:g})._update()}_onVisibilityChange(){s.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(g){this._showTileBoundaries!==g&&(this._showTileBoundaries=g,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(g){this._showTerrainWireframe!==g&&(this._showTerrainWireframe=g,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(g){this._speedIndexTiming!==g&&(this._speedIndexTiming=g,this._update())}get showPadding(){return!!this._showPadding}set showPadding(g){this._showPadding!==g&&(this._showPadding=g,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(g){this._showCollisionBoxes!==g&&(this._showCollisionBoxes=g,g?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(g){this._showOverdrawInspector!==g&&(this._showOverdrawInspector=g,this._update())}get repaint(){return!!this._repaint}set repaint(g){this._repaint!==g&&(this._repaint=g,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(g){this._vertices=g,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(g){this._showTileAABBs!==g&&(this._showTileAABBs=g,g&&this._update())}_setCacheLimits(g,u){s.setCacheLimits(g,u)}get version(){return s.version}},NavigationControl:class{constructor(g){this.options=s.extend({},c2,g),this._container=k("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",u=>u.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",u=>{this._map&&this._map.zoomIn({},{originalEvent:u})}),k("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",u=>{this._map&&this._map.zoomOut({},{originalEvent:u})}),k("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",u=>{const f=this._map;f&&(this.options.visualizePitch?f.resetNorthPitch({},{originalEvent:u}):f.resetNorth({},{originalEvent:u}))}),this._compassIcon=k("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const g=this._map;if(!g)return;const u=g.getZoom(),f=u===g.getMaxZoom(),v=u===g.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=v,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",v.toString())}_rotateCompassArrow(){const g=this._map;if(!g)return;const u=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(g.transform.pitch*(Math.PI/180)),.5)}) rotateX(${g.transform.pitch}deg) rotateZ(${g.transform.angle*(180/Math.PI)}deg)`:`rotate(${g.transform.angle*(180/Math.PI)}deg)`;g._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=u)})}onAdd(g){return this._map=g,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),g.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&g.on("pitch",this._rotateCompassArrow),g.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new u2(g,this._compass,this.options.visualizePitch)),this._container}onRemove(){const g=this._map;g&&(this._container.remove(),this.options.showZoom&&g.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&g.off("pitch",this._rotateCompassArrow),g.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(g,u){const f=k("button",g,this._container);return f.type="button",f.addEventListener("click",u),f}_setButtonTitle(g,u){if(!this._map)return;const f=this._map._getUIString(`NavigationControl.${u}`);g.setAttribute("aria-label",f),g.firstElementChild&&g.firstElementChild.setAttribute("title",f)}},GeolocateControl:class extends s.Evented{constructor(g){super(),this.options=s.extend({geolocation:s.window.navigator.geolocation},iv,g),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=vo(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(g){return this._map=g,this._container=k("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(g){const u=(f=!!this.options.geolocation)=>{this._supportsGeolocation=f,g(f)};this._supportsGeolocation!==void 0?g(this._supportsGeolocation):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(f=>u(f.state!=="denied")).catch(()=>u()):u()}_isOutOfMapMaxBounds(g){const u=this._map.getMaxBounds(),f=g.coords;return!!u&&(f.longitude<u.getWest()||f.longitude>u.getEast()||f.latitude<u.getSouth()||f.latitude>u.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(g){if(this._map){if(this._isOutOfMapMaxBounds(g))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",g)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=g,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(g),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(g),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",g)),this._finish()}}_updateCamera(g){const u=new s.LngLat(g.coords.longitude,g.coords.latitude),f=g.coords.accuracy,v=this._map.getBearing(),b=s.extend({bearing:v},this.options.fitBoundsOptions);this._map.fitBounds(u.toBounds(f),b,{geolocateSource:!0})}_updateMarker(g){if(g){const u=new s.LngLat(g.coords.longitude,g.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=g.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const g=this._map.transform,u=s.mercatorZfromAltitude(1,g._center.lat)*g.worldSize,f=Math.ceil(2*this._accuracy*u);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(g){if(this._map){if(this.options.trackUserLocation)if(g.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",u),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(g.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",g)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(g){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",u=>u.preventDefault()),this._geolocateButton=k("button","mapboxgl-ctrl-geolocate",this._container),k("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",g===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",u),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",u),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=k("div","mapboxgl-user-location"),this._dotElement.appendChild(k("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(k("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new mn({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=k("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new mn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u.originalEvent&&u.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}}_onDeviceOrientation(g){this._userLocationDotMarker&&(g.webkitCompassHeading?this._heading=g.webkitCompassHeading:g.absolute===!0&&(this._heading=-1*g.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let g;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(g={maximumAge:6e5,timeout:0},this._noTimeout=!0):(g=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,g),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const g=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(u=>{u==="granted"&&g()}).catch(console.error):g()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:_n,ScaleControl:class{constructor(g){this.options=s.extend({},sv,g),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),s.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const g=this.options.maxWidth||100,u=this._map,f=u._containerHeight/2,v=u._containerWidth/2-g/2,b=u.unproject([v,f]),S=u.unproject([v+g,f]),A=b.distanceTo(S);if(this.options.unit==="imperial"){const D=3.2808*A;D>5280?this._setScale(g,D/5280,"mile"):this._setScale(g,D,"foot")}else this.options.unit==="nautical"?this._setScale(g,A/1852,"nautical-mile"):A>=1e3?this._setScale(g,A/1e3,"kilometer"):this._setScale(g,A,"meter")}_setScale(g,u,f){this._map._requestDomTask(()=>{const v=function(S){const A=Math.pow(10,`${Math.floor(S)}`.length-1);let D=S/A;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(N){const K=Math.pow(10,Math.ceil(-Math.log(N)/Math.LN10));return Math.round(N*K)/K}(D),A*D}(u),b=v/u;this._container.innerHTML=this._isNumberFormatSupported&&f!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:f}).format(v):`${v}&nbsp;${av[f]}`,this._container.style.width=g*b+"px"})}onAdd(g){return this._map=g,this._language=g.getLanguage(),this._container=k("div","mapboxgl-ctrl mapboxgl-ctrl-scale",g.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(g){this._language=g,this._update()}setUnit(g){this.options.unit=g,this._update()}},FullscreenControl:class{constructor(g){this._fullscreen=!1,g&&g.container&&(g.container instanceof s.window.HTMLElement?this._container=g.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(g){return this._map=g,this._container||(this._container=this._map.getContainer()),this._controlContainer=k("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const g=this._fullscreenButton=k("button","mapboxgl-ctrl-fullscreen",this._controlContainer);k("span","mapboxgl-ctrl-icon",g).setAttribute("aria-hidden","true"),g.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const g=this._getTitle();this._fullscreenButton.setAttribute("aria-label",g),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",g)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(g){super(),this.options=s.extend(Object.create(rv),g),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(g&&g.className?g.className.trim().split(/\s+/):[])}addTo(g){return this._map&&this.remove(),this._map=g,this.options.closeOnClick&&g.on("preclick",this._onClose),this.options.closeOnMove&&g.on("move",this._onClose),g.on("remove",this.remove),this._update(),g._addPopup(this),this._focusFirstElement(),this._trackPointer?(g.on("mousemove",this._onMouseEvent),g.on("mouseup",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")):g.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const g=this._map;return g&&(g.off("move",this._update),g.off("move",this._onClose),g.off("preclick",this._onClose),g.off("click",this._onClose),g.off("remove",this.remove),g.off("mousemove",this._onMouseEvent),g.off("mouseup",this._onMouseEvent),g.off("drag",this._onMouseEvent),g._canvasContainer&&g._canvasContainer.classList.remove("mapboxgl-track-pointer"),g._removePopup(this),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(g){this._lngLat=s.LngLat.convert(g),this._pos=null,this._trackPointer=!1,this._update();const u=this._map;return u&&(u.on("move",this._update),u.off("mousemove",this._onMouseEvent),u._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const g=this._map;return g&&(g.off("move",this._update),g.on("mousemove",this._onMouseEvent),g.on("drag",this._onMouseEvent),g._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(g){return this.setDOMContent(s.window.document.createTextNode(g))}setHTML(g){const u=s.window.document.createDocumentFragment(),f=s.window.document.createElement("body");let v;for(f.innerHTML=g;v=f.firstChild,v;)u.appendChild(v);return this.setDOMContent(u)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(g){return this.options.maxWidth=g,this._update(),this}setDOMContent(g){let u=this._content;if(u)for(;u.hasChildNodes();)u.firstChild&&u.removeChild(u.firstChild);else u=this._content=k("div","mapboxgl-popup-content",this._container||void 0);if(u.appendChild(g),this.options.closeButton){const f=this._closeButton=k("button","mapboxgl-popup-close-button",u);f.type="button",f.setAttribute("aria-label","Close popup"),f.setAttribute("aria-hidden","true"),f.innerHTML="&#215;",f.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(g){return this._classList.add(g),this._updateClassList(),this}removeClassName(g){return this._classList.delete(g),this._updateClassList(),this}setOffset(g){return this.options.offset=g,this._update(),this}toggleClassName(g){let u;return this._classList.delete(g)?u=!1:(this._classList.add(g),u=!0),this._updateClassList(),u}_onMouseEvent(g){this._update(g.point)}_getAnchor(g){if(this.options.anchor)return this.options.anchor;const u=this._map,f=this._container,v=this._pos;if(!u||!f||!v)return"bottom";const b=f.offsetWidth,S=f.offsetHeight,A=v.x<b/2,D=v.x>u.transform.width-b/2;if(v.y+g<S)return A?"top-left":D?"top-right":"top";if(v.y>u.transform.height-S){if(A)return"bottom-left";if(D)return"bottom-right"}return A?"left":D?"right":"bottom"}_updateClassList(){const g=this._container;if(!g)return;const u=[...this._classList];u.push("mapboxgl-popup"),this._anchor&&u.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&u.push("mapboxgl-popup-track-pointer"),g.className=u.join(" ")}_update(g){const u=this._map,f=this._content;if(!u||!this._lngLat&&!this._trackPointer||!f)return;let v=this._container;if(v||(v=this._container=k("div","mapboxgl-popup",u.getContainer()),this._tip=k("div","mapboxgl-popup-tip",v),v.appendChild(f)),this.options.maxWidth&&v.style.maxWidth!==this.options.maxWidth&&(v.style.maxWidth=this.options.maxWidth),u.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Hd(this._lngLat,this._pos,u.transform)),!this._trackPointer||g){const b=this._pos=this._trackPointer&&g?g:u.project(this._lngLat),S=Rx(this.options.offset),A=this._anchor=this._getAnchor(S.y),D=Rx(this.options.offset,A),N=b.add(D).round();u._requestDomTask(()=>{this._container&&A&&(this._container.style.transform=`${Iu[A]} translate(${N.x}px,${N.y}px)`)})}if(!this._marker&&u._showingGlobe()){const b=s.isLngLatBehindGlobe(u.transform,this._lngLat)?0:1;this._setOpacity(b)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const g=this._container.querySelector(l2);g&&g.focus()}_onClose(){this.remove()}_setOpacity(g){this._container&&(this._container.style.opacity=`${g}`),this._content&&(this._content.style.pointerEvents=g?"auto":"none")}},Marker:mn,Style:Gs,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.Point,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:Pu,Evented:s.Evented,config:s.config,prewarm:function(){mr().acquire(dt)},clearPrewarmedResources:function(){const g=Tn;g&&(g.isPreloaded()&&g.numActive()===1?(g.release(dt),Tn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(g){s.config.ACCESS_TOKEN=g},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(g){s.config.API_URL=g},get workerCount(){return tn.workerCount},set workerCount(g){tn.workerCount=g},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(g){s.config.MAX_PARALLEL_IMAGE_REQUESTS=g},clearStorage(g){s.clearTileCache(g)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return Gd});var d=i;return d})})(IH);var AH=IH.exports;const RH=fa(AH),DIe=j5({__proto__:null,default:RH},[AH]),LIe=P.createContext(null);function zIe(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function _5(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function x5(e,t){const n=t.viewState||t;let r=!1;if("longitude"in n&&"latitude"in n){const i=e.center;e.center=new i.constructor(n.longitude,n.latitude),r=r||i!==e.center}if("zoom"in n){const i=e.zoom;e.zoom=n.zoom,r=r||i!==e.zoom}if("bearing"in n){const i=e.bearing;e.bearing=n.bearing,r=r||i!==e.bearing}if("pitch"in n){const i=e.pitch;e.pitch=n.pitch,r=r||i!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(r=!0,e.padding=n.padding),r}const FIe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function b5(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const r of e.layers)t[r.id]=r;const n=e.layers.map(r=>{let i=null;"interactive"in r&&(i=Object.assign({},r),delete i.interactive);const c=t[r.ref];if(c){i=i||Object.assign({},r),delete i.ref;for(const d of FIe)d in c&&(i[d]=c[d])}return i||r});return{...e,layers:n}}function jIe(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,i=Array.isArray(t)?t[0]:t?t.x:0,c=Array.isArray(t)?t[1]:t?t.y:0;return n===i&&r===c}function wh(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!wh(e[n],t[n]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n)if(!t.hasOwnProperty(i)||!wh(e[i],t[i]))return!1;return!0}return!1}const w5={version:8,sources:{},layers:[]},C5={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},KE={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},S5={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},$Ie=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],BIe=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class _y{constructor(t,n,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=i=>{const c=this.props[S5[i.type]];c?c(i):i.type==="error"&&console.error(i.error)},this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const c=this.props[C5[i.type]];c&&(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"&&(i.features=this._hoveredFeatures||this._queryRenderedFeatures(i.point)),c(i),delete i.features)},this._onCameraEvent=i=>{if(!this._internalUpdate){const c=this.props[KE[i.type]];c&&c(i)}i.type in this._deferredEvents&&(this._deferredEvents[i.type]=!1)},this._MapClass=t,this.props=n,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const n=this.props;this.props=t;const r=this._updateSettings(t,n);r&&this._createShadowTransform(this._map);const i=this._updateSize(t),c=this._updateViewState(t,!0);this._updateStyle(t,n),this._updateStyleComponents(t,n),this._updateHandlers(t,n),(r||i||c&&!this._map.isMoving())&&this.redraw()}static reuse(t,n){const r=_y.savedMaps.pop();if(!r)return null;const i=r.map,c=i.getContainer();for(n.className=c.className;c.childNodes.length>0;)n.appendChild(c.childNodes[0]);i._container=n;const d=i._resizeObserver;d&&(d.disconnect(),d.observe(n)),r.setProps({...t,styleDiffing:!1}),i.resize();const{initialViewState:s}=t;return s&&(s.bounds?i.fitBounds(s.bounds,{...s.fitBoundsOptions,duration:0}):r._updateViewState(s,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",()=>i.fire("load")),i._update(),r}_initialize(t){const{props:n}=this,{mapStyle:r=w5}=n,i={...n,...n.initialViewState,accessToken:n.mapboxAccessToken||NIe()||null,container:t,style:b5(r)},c=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[c.longitude||0,c.latitude||0],zoom:c.zoom||0,pitch:c.pitch||0,bearing:c.bearing||0}),n.gl){const w=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=w,n.gl)}const d=new this._MapClass(i);c.padding&&d.setPadding(c.padding),n.cursor&&(d.getCanvas().style.cursor=n.cursor),this._createShadowTransform(d);const s=d._render;d._render=w=>{this._inRender=!0,s.call(d,w),this._inRender=!1};const m=d._renderTaskQueue.run;d._renderTaskQueue.run=w=>{m.call(d._renderTaskQueue,w),this._onBeforeRepaint()},d.on("render",()=>this._onAfterRepaint());const _=d.fire;d.fire=this._fireEvent.bind(this,_),d.on("resize",()=>{this._renderTransform.resize(d.transform.width,d.transform.height)}),d.on("styledata",()=>this._updateStyleComponents(this.props,{})),d.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const w in C5)d.on(w,this._onPointerEvent);for(const w in KE)d.on(w,this._onCameraEvent);for(const w in S5)d.on(w,this._onEvent);this._map=d}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n==null||n.remove(),_y.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const n=zIe(t.transform);t.painter.transform=n,this._renderTransform=n}_updateSize(t){const{viewState:n}=t;if(n){const r=this._map;if(n.width!==r.transform.width||n.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(t,n){if(this._internalUpdate)return!1;const r=this._map,i=this._renderTransform,{zoom:c,pitch:d,bearing:s}=i,m=r.isMoving();m&&(i.cameraElevationReference="sea");const _=x5(i,{..._5(r.transform),...t});if(m&&(i.cameraElevationReference="ground"),_&&n){const w=this._deferredEvents;w.move=!0,w.zoom||(w.zoom=c!==i.zoom),w.rotate||(w.rotate=s!==i.bearing),w.pitch||(w.pitch=d!==i.pitch)}return m||x5(r.transform,t),_}_updateSettings(t,n){const r=this._map;let i=!1;for(const c of $Ie)if(c in t&&!wh(t[c],n[c])){i=!0;const d=r[`set${c[0].toUpperCase()}${c.slice(1)}`];d==null||d.call(r,t[c])}return i}_updateStyle(t,n){if(t.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=t.cursor),t.mapStyle!==n.mapStyle){const{mapStyle:r=w5,styleDiffing:i=!0}=t,c={diff:i};return"localIdeographFontFamily"in t&&(c.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(b5(r),c),!0}return!1}_updateStyleComponents(t,n){const r=this._map;let i=!1;return r.isStyleLoaded()&&("light"in t&&r.setLight&&!wh(t.light,n.light)&&(i=!0,r.setLight(t.light)),"fog"in t&&r.setFog&&!wh(t.fog,n.fog)&&(i=!0,r.setFog(t.fog)),"terrain"in t&&r.setTerrain&&!wh(t.terrain,n.terrain)&&(!t.terrain||r.getSource(t.terrain.source))&&(i=!0,r.setTerrain(t.terrain))),i}_updateHandlers(t,n){var r,i;const c=this._map;let d=!1;for(const s of BIe){const m=(r=t[s])!==null&&r!==void 0?r:!0,_=(i=n[s])!==null&&i!==void 0?i:!0;wh(m,_)||(d=!0,m?c[s].enable(m):c[s].disable())}return d}_queryRenderedFeatures(t){const n=this._map,{interactiveLayerIds:r=[]}=this.props;try{return n.queryRenderedFeatures(t,{layers:r.filter(n.getLayer.bind(n))})}catch{return[]}}_updateHover(t){var n;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const c=t.type,d=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0,s=this._queryRenderedFeatures(t.point),m=s.length>0;!m&&d&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=s,m&&!d&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=c}else this._hoveredFeatures=null}_fireEvent(t,n,r){const i=this._map,c=i.transform,d=typeof n=="string"?n:n.type;return d==="move"&&this._updateViewState(this.props,!1),d in KE&&(typeof n=="object"&&(n.viewState=_5(c)),this._map.isMoving())?(i.transform=this._renderTransform,t.call(i,n,r),i.transform=c,i):(t.call(i,n,r),i)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const r in this._deferredEvents)this._deferredEvents[r]&&t.fire(r);this._internalUpdate=!1;const n=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=n}}}_y.savedMaps=[];function NIe(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{}.MapboxAccessToken}catch{}try{e=e||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const UIe=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function VIe(e){if(!e)return null;const t=e.map,n={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:r=>{const i=t.transform;t.transform=e.transform;const c=t.project(r);return t.transform=i,c},unproject:r=>{const i=t.transform;t.transform=e.transform;const c=t.unproject(r);return t.transform=i,c},queryTerrainElevation:(r,i)=>{const c=t.transform;t.transform=e.transform;const d=t.queryTerrainElevation(r,i);return t.transform=c,d}};for(const r of HIe(t))!(r in n)&&!UIe.includes(r)&&(n[r]=t[r].bind(t));return n}function HIe(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))r[0]!=="_"&&typeof e[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}const GIe=typeof document<"u"?P.useLayoutEffect:P.useEffect,WIe=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function qIe(e,t){for(const r of WIe)r in t&&(e[r]=t[r]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;n&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(n,r=>{r&&console.error(r)},!1)}const YS=P.createContext(null);function ZIe(e,t,n){const r=P.useContext(LIe),[i,c]=P.useState(null),d=P.useRef(),{current:s}=P.useRef({mapLib:null,map:null});P.useEffect(()=>{const w=e.mapLib;let E=!0,k;return Promise.resolve(w||n).then(O=>{if(!E)return;if(!O)throw new Error("Invalid mapLib");const R="Map"in O?O:O.default;if(!R.Map)throw new Error("Invalid mapLib");if(qIe(R,e),!R.supported||R.supported(e))e.reuseMaps&&(k=_y.reuse(e,d.current)),k||(k=new _y(R.Map,e,d.current)),s.map=VIe(k),s.mapLib=R,c(k),r==null||r.onMapMount(s.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(O=>{const{onError:R}=e;R?R({type:"error",target:null,originalEvent:null,error:O}):console.error(O)}),()=>{E=!1,k&&(r==null||r.onMapUnmount(e.id),e.reuseMaps?k.recycle():k.destroy())}},[]),GIe(()=>{i&&i.setProps(e)}),P.useImperativeHandle(t,()=>s.map,[i]);const m=P.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),_={height:"100%"};return P.createElement("div",{id:e.id,ref:d,style:m},i&&P.createElement(YS.Provider,{value:s},P.createElement("div",{"mapboxgl-children":"",style:_},e.children)))}const YIe=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Jp(e,t){if(!e||!t)return;const n=e.style;for(const r in t){const i=t[r];Number.isFinite(i)&&!YIe.test(r)?n[r]=`${i}px`:n[r]=i}}function KIe(e,t){const{map:n,mapLib:r}=P.useContext(YS),i=P.useRef({props:e});i.current.props=e;const c=P.useMemo(()=>{let L=!1;P.Children.forEach(e.children,z=>{z&&(L=!0)});const U={...e,element:L?document.createElement("div"):null},F=new r.Marker(U);return F.setLngLat([e.longitude,e.latitude]),F.getElement().addEventListener("click",z=>{var B,Z;(Z=(B=i.current.props).onClick)===null||Z===void 0||Z.call(B,{type:"click",target:F,originalEvent:z})}),F.on("dragstart",z=>{var B,Z;const ee=z;ee.lngLat=c.getLngLat(),(Z=(B=i.current.props).onDragStart)===null||Z===void 0||Z.call(B,ee)}),F.on("drag",z=>{var B,Z;const ee=z;ee.lngLat=c.getLngLat(),(Z=(B=i.current.props).onDrag)===null||Z===void 0||Z.call(B,ee)}),F.on("dragend",z=>{var B,Z;const ee=z;ee.lngLat=c.getLngLat(),(Z=(B=i.current.props).onDragEnd)===null||Z===void 0||Z.call(B,ee)}),F},[]);P.useEffect(()=>(c.addTo(n.getMap()),()=>{c.remove()}),[]);const{longitude:d,latitude:s,offset:m,style:_,draggable:w=!1,popup:E=null,rotation:k=0,rotationAlignment:O="auto",pitchAlignment:R="auto"}=e;return P.useEffect(()=>{Jp(c.getElement(),_)},[_]),P.useImperativeHandle(t,()=>c,[]),(c.getLngLat().lng!==d||c.getLngLat().lat!==s)&&c.setLngLat([d,s]),m&&!jIe(c.getOffset(),m)&&c.setOffset(m),c.isDraggable()!==w&&c.setDraggable(w),c.getRotation()!==k&&c.setRotation(k),c.getRotationAlignment()!==O&&c.setRotationAlignment(O),c.getPitchAlignment()!==R&&c.setPitchAlignment(R),c.getPopup()!==E&&c.setPopup(E),ef.createPortal(e.children,c.getElement())}const XIe=P.memo(P.forwardRef(KIe));function T5(e){return new Set(e?e.trim().split(/\s+/):[])}function JIe(e,t){const{map:n,mapLib:r}=P.useContext(YS),i=P.useMemo(()=>document.createElement("div"),[]),c=P.useRef({props:e});c.current.props=e;const d=P.useMemo(()=>{const s={...e},m=new r.Popup(s);return m.setLngLat([e.longitude,e.latitude]),m.once("open",_=>{var w,E;(E=(w=c.current.props).onOpen)===null||E===void 0||E.call(w,_)}),m},[]);if(P.useEffect(()=>{const s=m=>{var _,w;(w=(_=c.current.props).onClose)===null||w===void 0||w.call(_,m)};return d.on("close",s),d.setDOMContent(i).addTo(n.getMap()),()=>{d.off("close",s),d.isOpen()&&d.remove()}},[]),P.useEffect(()=>{Jp(d.getElement(),e.style)},[e.style]),P.useImperativeHandle(t,()=>d,[]),d.isOpen()&&((d.getLngLat().lng!==e.longitude||d.getLngLat().lat!==e.latitude)&&d.setLngLat([e.longitude,e.latitude]),e.offset&&!wh(d.options.offset,e.offset)&&d.setOffset(e.offset),(d.options.anchor!==e.anchor||d.options.maxWidth!==e.maxWidth)&&(d.options.anchor=e.anchor,d.setMaxWidth(e.maxWidth)),d.options.className!==e.className)){const s=T5(d.options.className),m=T5(e.className);for(const _ of s)m.has(_)||d.removeClassName(_);for(const _ of m)s.has(_)||d.addClassName(_);d.options.className=e.className}return ef.createPortal(e.children,i)}P.memo(P.forwardRef(JIe));function yx(e,t,n,r){const i=P.useContext(YS),c=P.useMemo(()=>e(i),[]);return P.useEffect(()=>{const d=r||n||t,s=typeof t=="function"&&typeof n=="function"?t:null,m=typeof n=="function"?n:typeof t=="function"?t:null,{map:_}=i;return _.hasControl(c)||(_.addControl(c,d==null?void 0:d.position),s&&s(i)),()=>{m&&m(i),_.hasControl(c)&&_.removeControl(c)}},[]),c}function QIe(e){const t=yx(({mapLib:n})=>new n.AttributionControl(e),{position:e.position});return P.useEffect(()=>{Jp(t._container,e.style)},[e.style]),null}P.memo(QIe);function eMe(e){const t=yx(({mapLib:n})=>new n.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return P.useEffect(()=>{Jp(t._controlContainer,e.style)},[e.style]),null}P.memo(eMe);function tMe(e,t){const n=P.useRef({props:e}),r=yx(({mapLib:i})=>{const c=new i.GeolocateControl(e),d=c._setupUI;return c._setupUI=s=>{c._container.hasChildNodes()||d(s)},c.on("geolocate",s=>{var m,_;(_=(m=n.current.props).onGeolocate)===null||_===void 0||_.call(m,s)}),c.on("error",s=>{var m,_;(_=(m=n.current.props).onError)===null||_===void 0||_.call(m,s)}),c.on("outofmaxbounds",s=>{var m,_;(_=(m=n.current.props).onOutOfMaxBounds)===null||_===void 0||_.call(m,s)}),c.on("trackuserlocationstart",s=>{var m,_;(_=(m=n.current.props).onTrackUserLocationStart)===null||_===void 0||_.call(m,s)}),c.on("trackuserlocationend",s=>{var m,_;(_=(m=n.current.props).onTrackUserLocationEnd)===null||_===void 0||_.call(m,s)}),c},{position:e.position});return n.current.props=e,P.useImperativeHandle(t,()=>r,[]),P.useEffect(()=>{Jp(r._container,e.style)},[e.style]),null}const nMe=P.memo(P.forwardRef(tMe));function rMe(e){const t=yx(({mapLib:n})=>new n.NavigationControl(e),{position:e.position});return P.useEffect(()=>{Jp(t._container,e.style)},[e.style]),null}const oMe=P.memo(rMe);function iMe(e){const t=yx(({mapLib:c})=>new c.ScaleControl(e),{position:e.position}),n=P.useRef(e),r=n.current;n.current=e;const{style:i}=e;return e.maxWidth!==void 0&&e.maxWidth!==r.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==r.unit&&t.setUnit(e.unit),P.useEffect(()=>{Jp(t._container,i)},[i]),null}P.memo(iMe);const sMe=BA(()=>Promise.resolve().then(()=>DIe),void 0),OH=(()=>P.forwardRef(function(t,n){return ZIe(t,n,sMe)}))(),DH=XIe,LH=oMe,aMe=nMe,lMe=Wi(e=>({glassContainer:{background:"rgba(255, 255, 255, 0.25)",boxShadow:"0 8px 32px 0 rgba(31, 38, 135, 0.37)",backdropFilter:"blur(4px)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.18)",padding:e.spacing(2)}})),cMe={dots:!0,infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,prevArrow:T.jsx(RIe,{}),nextArrow:T.jsx(OIe,{})},E5=e=>{const{phone:t,sx:n,...r}=e,[i,c]=P.useState(!0);return T.jsx(ha,{...r,sx:{...n,borderRadius:8},onClick:()=>c(!i),children:T.jsxs(pt,{sx:{display:"flex",padding:1,gap:1,alignItems:"center",backgroundColor:"#ccc",borderRadius:8,"&:hover":{"& .contact":{color:"#fff"},backgroundColor:"RGB(49, 114, 221)"}},children:[T.jsx(Ife,{className:"contact"})," ",T.jsx(Wt,{className:"contact",sx:{fontSize:"1rem",mr:.5},children:i?"Contactez":t})]})})},uMe=()=>{var R,L;const{id:e}=xM(),t=lMe(),[n,r]=P.useState(),[i,c]=P.useState(!0),d=P.useRef(),[s,m]=P.useState({width:500,height:400,latitude:0,longitude:0,zoom:11}),_=P.useRef(),w=P.useMemo(()=>{if(n)return new RH.Popup().setText(n.address)},[n]),E=P.useCallback(()=>{var U;(U=_.current)==null||U.togglePopup()},[]);P.useEffect(()=>{ho.getAnnonces(Number(e)).then(U=>U.json()).then(U=>{r(U),m({...s,latitude:U.latitude,longitude:U.longitude})}).catch(U=>console.log(U)).finally(()=>c(!1))},[]),P.useEffect(()=>{var U;i===!1&&n&&((U=d.current)==null||U.flyTo({center:[n.longitude,n.latitude],duration:2e3,zoom:14}))},[n,i,s]);const k=P.useCallback(U=>typeof U!="string"||U.length===0?"":U.charAt(0).toUpperCase()+U.slice(1),[]),O=P.useCallback(U=>W6.find(F=>F.value===U).label,[]);return T.jsxs(pt,{sx:{width:"100vw",height:"100vh",overflowX:"hidden"},children:[T.jsx(pt,{sx:{position:"relative",mb:8},children:T.jsx(zy,{})}),i&&T.jsx(dx,{height:"80vh"}),!i&&n&&T.jsxs(pt,{sx:{},children:[T.jsxs(Bh,{children:[T.jsxs("title",{children:[n==null?void 0:n.voiture.model.marque.nom," - ",n==null?void 0:n.voiture.model.nom]}),T.jsx("meta",{name:"description",content:n==null?void 0:n.description}),T.jsx("meta",{property:"og:title",content:`${n==null?void 0:n.voiture.model.marque.nom} - ${n==null?void 0:n.voiture.model.nom}`}),T.jsx("meta",{property:"og:description",content:n==null?void 0:n.description}),T.jsx("meta",{property:"og:image",content:n==null?void 0:n.voiture.images[0].photo}),T.jsx("meta",{property:"og:url",content:"https://django-annonce-ventes.onrender.com"}),T.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),T.jsx("meta",{name:"twitter:title",content:`${n==null?void 0:n.voiture.model.marque.nom} - ${n==null?void 0:n.voiture.model.nom}`}),T.jsx("meta",{name:"twitter:description",content:n==null?void 0:n.description}),T.jsx("meta",{name:"twitter:image",content:n==null?void 0:n.voiture.images[0].photo})]}),T.jsxs(Cn,{container:!0,width:"100%",children:[T.jsx(Cn,{item:!0,md:8,xs:12,sm:12,children:T.jsxs(g4,{sx:{p:5},children:[T.jsx(pt,{sx:{marginLeft:2,marginRight:2,height:"100%"},children:T.jsx(kH,{...cMe,children:(R=n==null?void 0:n.voiture.images)==null?void 0:R.map(U=>T.jsx(pt,{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",cursor:"pointer",width:"100%",backgroundColor:"red"},children:T.jsx("img",{src:U.photo,alt:n.voiture.model.marque.nom,style:{width:"100%",height:"350px",objectFit:"contain"}})},U.id))})}),T.jsxs(Cn,{container:!0,gap:3,sx:{mt:3,p:2},children:[T.jsxs(Cn,{item:!0,xs:12,sm:5,lg:5,className:t.glassContainer,children:[T.jsxs(Wt,{children:["Marque : ",n.voiture.model.marque.nom]}),T.jsxs(Wt,{children:["Modele : ",n.voiture.model.nom]}),T.jsxs(Wt,{children:["Annee : ",n.voiture.annee]}),T.jsxs(Wt,{children:["Type : ",n.voiture.type_vehicule]})]}),T.jsxs(Cn,{item:!0,xs:12,sm:5,lg:5,className:t.glassContainer,children:[T.jsxs(Wt,{children:["Prix : ",n.prix," FCFA"]}),T.jsxs(Wt,{children:["# Cheveaux : ",n.voiture.nombre_de_chevaux]}),T.jsxs(Wt,{children:["# Place : ",n.voiture.nombre_de_place]})]}),T.jsxs(Cn,{item:!0,xs:12,sm:5,lg:5,className:t.glassContainer,children:[T.jsxs(Wt,{children:["Motorisation :"," ",k(n.voiture.type_carburant)," "]}),T.jsxs(Wt,{children:["Boite Vitesse :"," ",k(n.voiture.boite_vitesse)," "]}),T.jsxs(Wt,{children:["Traction :"," ",k(O(n.voiture.traction))," "]})]}),T.jsx(Cn,{item:!0,xs:12,sm:5,lg:5,columns:2,className:t.glassContainer,children:T.jsxs(pt,{children:[T.jsx(Wt,{children:"Description"}),T.jsx(Wt,{children:n.description})]})}),T.jsxs(Cn,{item:!0,xs:12,sm:5,lg:5,className:t.glassContainer,children:[T.jsxs(Wt,{children:["Proprietaire : ",n.voiture.proprietaire.username]}),T.jsxs(Wt,{children:["Address : ",n.address]}),T.jsx(Wt,{gutterBottom:!0,children:"Tel :"}),T.jsxs(pt,{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",children:[T.jsx(E5,{phone:n.voiture.proprietaire.phone_1}),T.jsx(E5,{phone:n.voiture.proprietaire.phone_1})]})]})]})]})}),T.jsx(Cn,{item:!0,md:3.5,xs:0,sm:0,children:T.jsxs(OH,{ref:d,initialViewState:s,style:{width:"100%",height:500,borderRadius:8,marginTop:20},mapStyle:"mapbox://styles/mapbox/streets-v9",mapboxAccessToken:"pk.eyJ1IjoiaXZhbnRvbSIsImEiOiJjbDJnMGlwNnYwZm9zM2duYnQ0a3c2bXFvIn0.x29uaFl79xgLW6nCs15JWw",children:[T.jsx(LH,{}),T.jsx(DH,{longitude:n.longitude,latitude:n.latitude,anchor:"bottom",popup:w,onClick:E})]})})]}),T.jsx(pt,{sx:{m:5},children:T.jsx(Ko,{})}),T.jsxs(pt,{sx:{ml:3,mr:3,p:4},children:[T.jsx(Wt,{variant:"h4",gutterBottom:!0,children:"Voiture Similaire"}),T.jsx(Cn,{container:!0,spacing:3,children:(L=n.similar_ads)==null?void 0:L.map(U=>T.jsx(Cn,{item:!0,lg:3,children:T.jsx("a",{href:`/annonces/${U.id}/`,children:T.jsx(hR,{annonce:U})})},U.id))})]})]}),T.jsx(Fy,{})]})},dMe=Wi(e=>({formContainer:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(10px)",padding:e.spacing(2),borderRadius:e.spacing(2),boxShadow:"0 8px 22px 0 rgba(31, 38, 135, 0.37)",border:"1px solid rgba(255, 255, 255, 0.18)"},center:{display:"flex",alignItems:"center",width:"100%",flexDirection:"column"}})),hMe=US().shape({email:ui().email("Invalid email address").required("Required"),address:ui().required("Required"),first_name:ui().required("Required"),last_name:ui().required("Required"),phone_1:ui().required("Required"),phone_2:ui(),username:ui().required("Required").test("check-username","Nom D'utilisateur Existe deja",async e=>{if(!e)return!0;try{const n=await(await ho.checkUser(e)).json();return console.log(n),n.message!=="Found"}catch{return!0}}),password:ui().required("Required"),confirmPassword:ui().required("Required").oneOf([OEe("password")],"Passwords must match")}),fMe=()=>{const e=dMe(),{setUserToken:t,setUser:n}=Ga(),[r,i]=P.useState(!1),[c,d]=P.useState(!1),s={email:"",address:"",first_name:"",last_name:"",phone_1:"",phone_2:"",username:"",confirmPassword:"",password:""},m=_=>{console.log(_),ho.register(JSON.stringify(_)).then(w=>w.json()).then(w=>{w.success?(n(w.data),t(w.token),Ss.fire({toast:!0,position:"bottom-start",icon:"success",title:"Compte cree avec success",showConfirmButton:!1,timer:5e3}),setTimeout(()=>{window.location.href="/dashboard/"},2e3)):Ss.fire({toast:!0,position:"bottom-start",icon:"error",title:"Désolé, un problème est survenu",showConfirmButton:!1,timer:5e3})}).catch(w=>{console.log(w),Ss.fire({toast:!0,position:"bottom-start",icon:"error",title:"Désolé, un problème est survenu",showConfirmButton:!1,timer:5e3})})};return T.jsxs(pt,{sx:{width:"100vw",height:"100vh",overflowX:"hidden"},children:[T.jsx(Bh,{children:T.jsx("title",{children:"S'inscrire"})}),T.jsxs(g4,{children:[T.jsx(zy,{sx:{position:"relative"}}),T.jsx(Cn,{container:!0,spacing:2,width:"100%",mt:5,children:T.jsxs(Cn,{item:!0,xs:12,className:e.center,flexDirection:"column",children:[T.jsx(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",mt:5},children:T.jsx("img",{src:"/logo-blue.png",style:{width:"64px"}})}),T.jsx(pt,{className:e.formContainer,sx:{mt:3,mb:3,maxWidth:500},children:T.jsx(hS,{initialValues:s,validationSchema:hMe,onSubmit:m,children:({errors:_,touched:w})=>T.jsx(ox,{children:T.jsxs(Cn,{container:!0,spacing:2,sx:{p:2},children:[T.jsx(Cn,{item:!0,xs:12,children:T.jsxs(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[T.jsx(Wt,{variant:"h4",children:"Créer un compte"}),T.jsx(Wt,{variant:"caption",children:"C'est rapide et facile."})]})}),T.jsx("hr",{}),T.jsx(Ko,{sx:{width:"100%"},orientation:"horizontal"}),T.jsx(Cn,{item:!0,xs:12,children:T.jsx($u,{as:br,name:"username",label:"Nom d'utilisateur",fullWidth:!0,error:w.username&&!!_.username,helperText:w.username&&_.username})}),T.jsx(Cn,{item:!0,xs:12,children:T.jsx($u,{as:br,name:"email",label:"Adresse e-mail",fullWidth:!0,error:w.email&&!!_.email,helperText:w.email&&_.email})}),T.jsx(Cn,{item:!0,xs:12,sm:6,children:T.jsx($u,{as:br,name:"first_name",label:"Nom",fullWidth:!0,error:w.first_name&&!!_.first_name,helperText:w.first_name&&_.first_name})}),T.jsx(Cn,{item:!0,xs:12,sm:6,children:T.jsx($u,{as:br,name:"last_name",label:"Prénom",fullWidth:!0,error:w.last_name&&!!_.last_name,helperText:w.last_name&&_.last_name})}),T.jsx(Cn,{item:!0,xs:12,sm:6,children:T.jsx($u,{as:br,name:"phone_1",label:"Téléphone 1",fullWidth:!0,error:w.phone_1&&!!_.phone_1,helperText:w.phone_1&&_.phone_1})}),T.jsx(Cn,{item:!0,xs:12,sm:6,children:T.jsx($u,{as:br,name:"phone_2",label:"Téléphone 2",fullWidth:!0,error:w.phone_2&&!!_.phone_2,helperText:w.phone_2&&_.phone_2})}),T.jsx(Cn,{item:!0,xs:12,children:T.jsx($u,{as:br,name:"address",label:"Address",fullWidth:!0,error:w.address&&!!_.address,helperText:w.address&&_.address})}),T.jsx(Cn,{item:!0,xs:12,children:T.jsx($u,{as:br,type:r?"text":"password",name:"password",label:"Mot de passe",fullWidth:!0,error:w.password&&!!_.password,helperText:w.password&&_.password,InputProps:{endAdornment:T.jsx(dy,{position:"end",children:T.jsx(Qi,{"aria-label":"toggle password visibility",onClick:()=>i(!r),edge:"end",children:r?T.jsx(zj,{}):T.jsx(Lj,{})})})}})}),T.jsx(Cn,{item:!0,xs:12,children:T.jsx($u,{as:br,type:c?"text":"password",name:"confirmPassword",label:"Confirmer le mot de passe",fullWidth:!0,error:w.confirmPassword&&!!_.confirmPassword,helperText:w.confirmPassword&&_.confirmPassword,InputProps:{endAdornment:T.jsx(dy,{position:"end",children:T.jsx(Qi,{"aria-label":"toggle confirm password visibility",onClick:()=>d(!c),edge:"end",children:c?T.jsx(zj,{}):T.jsx(Lj,{})})})}})}),T.jsx(Cn,{item:!0,xs:12,children:T.jsx("center",{children:T.jsx(Po,{type:"submit",variant:"contained",endIcon:T.jsx(Mfe,{}),size:"large",children:"S'inscrire"})})}),T.jsx(Cn,{item:!0,xs:12,children:T.jsx("a",{href:"/login",children:T.jsx(Wt,{textAlign:"center",children:"Vous avez déjà un compte ?"})})})]})})})})]})})]}),T.jsx(Fy,{})]})};function zH(e,t){return function(){return e.apply(t,arguments)}}const{toString:pMe}=Object.prototype,{getPrototypeOf:xR}=Object,KS=(e=>t=>{const n=pMe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hu=e=>(e=e.toLowerCase(),t=>KS(t)===e),XS=e=>t=>typeof t===e,{isArray:jy}=Array,B_=XS("undefined");function mMe(e){return e!==null&&!B_(e)&&e.constructor!==null&&!B_(e.constructor)&&gl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FH=hu("ArrayBuffer");function gMe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&FH(e.buffer),t}const yMe=XS("string"),gl=XS("function"),jH=XS("number"),JS=e=>e!==null&&typeof e=="object",vMe=e=>e===!0||e===!1,A1=e=>{if(KS(e)!=="object")return!1;const t=xR(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_Me=hu("Date"),xMe=hu("File"),bMe=hu("Blob"),wMe=hu("FileList"),CMe=e=>JS(e)&&gl(e.pipe),SMe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gl(e.append)&&((t=KS(e))==="formdata"||t==="object"&&gl(e.toString)&&e.toString()==="[object FormData]"))},TMe=hu("URLSearchParams"),EMe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vx(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),jy(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const c=n?Object.getOwnPropertyNames(e):Object.keys(e),d=c.length;let s;for(r=0;r<d;r++)s=c[r],t.call(null,e[s],s,e)}}function $H(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const BH=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),NH=e=>!B_(e)&&e!==BH;function yI(){const{caseless:e}=NH(this)&&this||{},t={},n=(r,i)=>{const c=e&&$H(t,i)||i;A1(t[c])&&A1(r)?t[c]=yI(t[c],r):A1(r)?t[c]=yI({},r):jy(r)?t[c]=r.slice():t[c]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&vx(arguments[r],n);return t}const PMe=(e,t,n,{allOwnKeys:r}={})=>(vx(t,(i,c)=>{n&&gl(i)?e[c]=zH(i,n):e[c]=i},{allOwnKeys:r}),e),kMe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),IMe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},MMe=(e,t,n,r)=>{let i,c,d;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),c=i.length;c-- >0;)d=i[c],(!r||r(d,e,t))&&!s[d]&&(t[d]=e[d],s[d]=!0);e=n!==!1&&xR(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},AMe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},RMe=e=>{if(!e)return null;if(jy(e))return e;let t=e.length;if(!jH(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},OMe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xR(Uint8Array)),DMe=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const c=i.value;t.call(e,c[0],c[1])}},LMe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},zMe=hu("HTMLFormElement"),FMe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),P5=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jMe=hu("RegExp"),UH=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};vx(n,(i,c)=>{t(i,c,e)!==!1&&(r[c]=i)}),Object.defineProperties(e,r)},$Me=e=>{UH(e,(t,n)=>{if(gl(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(gl(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},BMe=(e,t)=>{const n={},r=i=>{i.forEach(c=>{n[c]=!0})};return jy(e)?r(e):r(String(e).split(t)),n},NMe=()=>{},UMe=(e,t)=>(e=+e,Number.isFinite(e)?e:t),XE="abcdefghijklmnopqrstuvwxyz",k5="0123456789",VH={DIGIT:k5,ALPHA:XE,ALPHA_DIGIT:XE+XE.toUpperCase()+k5},VMe=(e=16,t=VH.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function HMe(e){return!!(e&&gl(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const GMe=e=>{const t=new Array(10),n=(r,i)=>{if(JS(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const c=jy(r)?[]:{};return vx(r,(d,s)=>{const m=n(d,i+1);!B_(m)&&(c[s]=m)}),t[i]=void 0,c}}return r};return n(e,0)},WMe=hu("AsyncFunction"),qMe=e=>e&&(JS(e)||gl(e))&&gl(e.then)&&gl(e.catch),Bt={isArray:jy,isArrayBuffer:FH,isBuffer:mMe,isFormData:SMe,isArrayBufferView:gMe,isString:yMe,isNumber:jH,isBoolean:vMe,isObject:JS,isPlainObject:A1,isUndefined:B_,isDate:_Me,isFile:xMe,isBlob:bMe,isRegExp:jMe,isFunction:gl,isStream:CMe,isURLSearchParams:TMe,isTypedArray:OMe,isFileList:wMe,forEach:vx,merge:yI,extend:PMe,trim:EMe,stripBOM:kMe,inherits:IMe,toFlatObject:MMe,kindOf:KS,kindOfTest:hu,endsWith:AMe,toArray:RMe,forEachEntry:DMe,matchAll:LMe,isHTMLForm:zMe,hasOwnProperty:P5,hasOwnProp:P5,reduceDescriptors:UH,freezeMethods:$Me,toObjectSet:BMe,toCamelCase:FMe,noop:NMe,toFiniteNumber:UMe,findKey:$H,global:BH,isContextDefined:NH,ALPHABET:VH,generateString:VMe,isSpecCompliantForm:HMe,toJSONObject:GMe,isAsyncFn:WMe,isThenable:qMe};function Hr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Bt.inherits(Hr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const HH=Hr.prototype,GH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GH[e]={value:e}});Object.defineProperties(Hr,GH);Object.defineProperty(HH,"isAxiosError",{value:!0});Hr.from=(e,t,n,r,i,c)=>{const d=Object.create(HH);return Bt.toFlatObject(e,d,function(m){return m!==Error.prototype},s=>s!=="isAxiosError"),Hr.call(d,e.message,t,n,r,i),d.cause=e,d.name=e.name,c&&Object.assign(d,c),d};const ZMe=null;function vI(e){return Bt.isPlainObject(e)||Bt.isArray(e)}function WH(e){return Bt.endsWith(e,"[]")?e.slice(0,-2):e}function I5(e,t,n){return e?e.concat(t).map(function(i,c){return i=WH(i),!n&&c?"["+i+"]":i}).join(n?".":""):t}function YMe(e){return Bt.isArray(e)&&!e.some(vI)}const KMe=Bt.toFlatObject(Bt,{},null,function(t){return/^is[A-Z]/.test(t)});function QS(e,t,n){if(!Bt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Bt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,U){return!Bt.isUndefined(U[L])});const r=n.metaTokens,i=n.visitor||w,c=n.dots,d=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&Bt.isSpecCompliantForm(t);if(!Bt.isFunction(i))throw new TypeError("visitor must be a function");function _(R){if(R===null)return"";if(Bt.isDate(R))return R.toISOString();if(!m&&Bt.isBlob(R))throw new Hr("Blob is not supported. Use a Buffer instead.");return Bt.isArrayBuffer(R)||Bt.isTypedArray(R)?m&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function w(R,L,U){let F=R;if(R&&!U&&typeof R=="object"){if(Bt.endsWith(L,"{}"))L=r?L:L.slice(0,-2),R=JSON.stringify(R);else if(Bt.isArray(R)&&YMe(R)||(Bt.isFileList(R)||Bt.endsWith(L,"[]"))&&(F=Bt.toArray(R)))return L=WH(L),F.forEach(function(B,Z){!(Bt.isUndefined(B)||B===null)&&t.append(d===!0?I5([L],Z,c):d===null?L:L+"[]",_(B))}),!1}return vI(R)?!0:(t.append(I5(U,L,c),_(R)),!1)}const E=[],k=Object.assign(KMe,{defaultVisitor:w,convertValue:_,isVisitable:vI});function O(R,L){if(!Bt.isUndefined(R)){if(E.indexOf(R)!==-1)throw Error("Circular reference detected in "+L.join("."));E.push(R),Bt.forEach(R,function(F,z){(!(Bt.isUndefined(F)||F===null)&&i.call(t,F,Bt.isString(z)?z.trim():z,L,k))===!0&&O(F,L?L.concat(z):[z])}),E.pop()}}if(!Bt.isObject(e))throw new TypeError("data must be an object");return O(e),t}function M5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function bR(e,t){this._pairs=[],e&&QS(e,this,t)}const qH=bR.prototype;qH.append=function(t,n){this._pairs.push([t,n])};qH.toString=function(t){const n=t?function(r){return t.call(this,r,M5)}:M5;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function XMe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZH(e,t,n){if(!t)return e;const r=n&&n.encode||XMe,i=n&&n.serialize;let c;if(i?c=i(t,n):c=Bt.isURLSearchParams(t)?t.toString():new bR(t,n).toString(r),c){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class JMe{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Bt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const A5=JMe,YH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QMe=typeof URLSearchParams<"u"?URLSearchParams:bR,eAe=typeof FormData<"u"?FormData:null,tAe=typeof Blob<"u"?Blob:null,nAe=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),rAe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Zc={isBrowser:!0,classes:{URLSearchParams:QMe,FormData:eAe,Blob:tAe},isStandardBrowserEnv:nAe,isStandardBrowserWebWorkerEnv:rAe,protocols:["http","https","file","blob","url","data"]};function oAe(e,t){return QS(e,new Zc.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,c){return Zc.isNode&&Bt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function iAe(e){return Bt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sAe(e){const t={},n=Object.keys(e);let r;const i=n.length;let c;for(r=0;r<i;r++)c=n[r],t[c]=e[c];return t}function KH(e){function t(n,r,i,c){let d=n[c++];const s=Number.isFinite(+d),m=c>=n.length;return d=!d&&Bt.isArray(i)?i.length:d,m?(Bt.hasOwnProp(i,d)?i[d]=[i[d],r]:i[d]=r,!s):((!i[d]||!Bt.isObject(i[d]))&&(i[d]=[]),t(n,r,i[d],c)&&Bt.isArray(i[d])&&(i[d]=sAe(i[d])),!s)}if(Bt.isFormData(e)&&Bt.isFunction(e.entries)){const n={};return Bt.forEachEntry(e,(r,i)=>{t(iAe(r),i,n,0)}),n}return null}const aAe={"Content-Type":void 0};function lAe(e,t,n){if(Bt.isString(e))try{return(t||JSON.parse)(e),Bt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const e2={transitional:YH,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,c=Bt.isObject(t);if(c&&Bt.isHTMLForm(t)&&(t=new FormData(t)),Bt.isFormData(t))return i&&i?JSON.stringify(KH(t)):t;if(Bt.isArrayBuffer(t)||Bt.isBuffer(t)||Bt.isStream(t)||Bt.isFile(t)||Bt.isBlob(t))return t;if(Bt.isArrayBufferView(t))return t.buffer;if(Bt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oAe(t,this.formSerializer).toString();if((s=Bt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return QS(s?{"files[]":t}:t,m&&new m,this.formSerializer)}}return c||i?(n.setContentType("application/json",!1),lAe(t)):t}],transformResponse:[function(t){const n=this.transitional||e2.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&Bt.isString(t)&&(r&&!this.responseType||i)){const d=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(s){if(d)throw s.name==="SyntaxError"?Hr.from(s,Hr.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zc.classes.FormData,Blob:Zc.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Bt.forEach(["delete","get","head"],function(t){e2.headers[t]={}});Bt.forEach(["post","put","patch"],function(t){e2.headers[t]=Bt.merge(aAe)});const wR=e2,cAe=Bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uAe=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(d){i=d.indexOf(":"),n=d.substring(0,i).trim().toLowerCase(),r=d.substring(i+1).trim(),!(!n||t[n]&&cAe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},R5=Symbol("internals");function y0(e){return e&&String(e).trim().toLowerCase()}function R1(e){return e===!1||e==null?e:Bt.isArray(e)?e.map(R1):String(e)}function dAe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const hAe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function JE(e,t,n,r,i){if(Bt.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Bt.isString(t)){if(Bt.isString(r))return t.indexOf(r)!==-1;if(Bt.isRegExp(r))return r.test(t)}}function fAe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function pAe(e,t){const n=Bt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,c,d){return this[r].call(this,t,i,c,d)},configurable:!0})})}class t2{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function c(s,m,_){const w=y0(m);if(!w)throw new Error("header name must be a non-empty string");const E=Bt.findKey(i,w);(!E||i[E]===void 0||_===!0||_===void 0&&i[E]!==!1)&&(i[E||m]=R1(s))}const d=(s,m)=>Bt.forEach(s,(_,w)=>c(_,w,m));return Bt.isPlainObject(t)||t instanceof this.constructor?d(t,n):Bt.isString(t)&&(t=t.trim())&&!hAe(t)?d(uAe(t),n):t!=null&&c(n,t,r),this}get(t,n){if(t=y0(t),t){const r=Bt.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return dAe(i);if(Bt.isFunction(n))return n.call(this,i,r);if(Bt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=y0(t),t){const r=Bt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||JE(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function c(d){if(d=y0(d),d){const s=Bt.findKey(r,d);s&&(!n||JE(r,r[s],s,n))&&(delete r[s],i=!0)}}return Bt.isArray(t)?t.forEach(c):c(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const c=n[r];(!t||JE(this,this[c],c,t,!0))&&(delete this[c],i=!0)}return i}normalize(t){const n=this,r={};return Bt.forEach(this,(i,c)=>{const d=Bt.findKey(r,c);if(d){n[d]=R1(i),delete n[c];return}const s=t?fAe(c):String(c).trim();s!==c&&delete n[c],n[s]=R1(i),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Bt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Bt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[R5]=this[R5]={accessors:{}}).accessors,i=this.prototype;function c(d){const s=y0(d);r[s]||(pAe(i,d),r[s]=!0)}return Bt.isArray(t)?t.forEach(c):c(t),this}}t2.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Bt.freezeMethods(t2.prototype);Bt.freezeMethods(t2);const nd=t2;function QE(e,t){const n=this||wR,r=t||n,i=nd.from(r.headers);let c=r.data;return Bt.forEach(e,function(s){c=s.call(n,c,i.normalize(),t?t.status:void 0)}),i.normalize(),c}function XH(e){return!!(e&&e.__CANCEL__)}function _x(e,t,n){Hr.call(this,e??"canceled",Hr.ERR_CANCELED,t,n),this.name="CanceledError"}Bt.inherits(_x,Hr,{__CANCEL__:!0});function mAe(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Hr("Request failed with status code "+n.status,[Hr.ERR_BAD_REQUEST,Hr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const gAe=Zc.isStandardBrowserEnv?function(){return{write:function(n,r,i,c,d,s){const m=[];m.push(n+"="+encodeURIComponent(r)),Bt.isNumber(i)&&m.push("expires="+new Date(i).toGMTString()),Bt.isString(c)&&m.push("path="+c),Bt.isString(d)&&m.push("domain="+d),s===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function yAe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vAe(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function JH(e,t){return e&&!yAe(t)?vAe(e,t):t}const _Ae=Zc.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(c){let d=c;return t&&(n.setAttribute("href",d),d=n.href),n.setAttribute("href",d),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(d){const s=Bt.isString(d)?i(d):d;return s.protocol===r.protocol&&s.host===r.host}}():function(){return function(){return!0}}();function xAe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bAe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,c=0,d;return t=t!==void 0?t:1e3,function(m){const _=Date.now(),w=r[c];d||(d=_),n[i]=m,r[i]=_;let E=c,k=0;for(;E!==i;)k+=n[E++],E=E%e;if(i=(i+1)%e,i===c&&(c=(c+1)%e),_-d<t)return;const O=w&&_-w;return O?Math.round(k*1e3/O):void 0}}function O5(e,t){let n=0;const r=bAe(50,250);return i=>{const c=i.loaded,d=i.lengthComputable?i.total:void 0,s=c-n,m=r(s),_=c<=d;n=c;const w={loaded:c,total:d,progress:d?c/d:void 0,bytes:s,rate:m||void 0,estimated:m&&d&&_?(d-c)/m:void 0,event:i};w[t?"download":"upload"]=!0,e(w)}}const wAe=typeof XMLHttpRequest<"u",CAe=wAe&&function(e){return new Promise(function(n,r){let i=e.data;const c=nd.from(e.headers).normalize(),d=e.responseType;let s;function m(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Bt.isFormData(i)&&(Zc.isStandardBrowserEnv||Zc.isStandardBrowserWebWorkerEnv?c.setContentType(!1):c.setContentType("multipart/form-data;",!1));let _=new XMLHttpRequest;if(e.auth){const O=e.auth.username||"",R=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";c.set("Authorization","Basic "+btoa(O+":"+R))}const w=JH(e.baseURL,e.url);_.open(e.method.toUpperCase(),ZH(w,e.params,e.paramsSerializer),!0),_.timeout=e.timeout;function E(){if(!_)return;const O=nd.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),L={data:!d||d==="text"||d==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:O,config:e,request:_};mAe(function(F){n(F),m()},function(F){r(F),m()},L),_=null}if("onloadend"in _?_.onloadend=E:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(E)},_.onabort=function(){_&&(r(new Hr("Request aborted",Hr.ECONNABORTED,e,_)),_=null)},_.onerror=function(){r(new Hr("Network Error",Hr.ERR_NETWORK,e,_)),_=null},_.ontimeout=function(){let R=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||YH;e.timeoutErrorMessage&&(R=e.timeoutErrorMessage),r(new Hr(R,L.clarifyTimeoutError?Hr.ETIMEDOUT:Hr.ECONNABORTED,e,_)),_=null},Zc.isStandardBrowserEnv){const O=(e.withCredentials||_Ae(w))&&e.xsrfCookieName&&gAe.read(e.xsrfCookieName);O&&c.set(e.xsrfHeaderName,O)}i===void 0&&c.setContentType(null),"setRequestHeader"in _&&Bt.forEach(c.toJSON(),function(R,L){_.setRequestHeader(L,R)}),Bt.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),d&&d!=="json"&&(_.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&_.addEventListener("progress",O5(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",O5(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=O=>{_&&(r(!O||O.type?new _x(null,e,_):O),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const k=xAe(w);if(k&&Zc.protocols.indexOf(k)===-1){r(new Hr("Unsupported protocol "+k+":",Hr.ERR_BAD_REQUEST,e));return}_.send(i||null)})},O1={http:ZMe,xhr:CAe};Bt.forEach(O1,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const SAe={getAdapter:e=>{e=Bt.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=Bt.isString(n)?O1[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Hr(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Bt.hasOwnProp(O1,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Bt.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:O1};function eP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _x(null,e)}function D5(e){return eP(e),e.headers=nd.from(e.headers),e.data=QE.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),SAe.getAdapter(e.adapter||wR.adapter)(e).then(function(r){return eP(e),r.data=QE.call(e,e.transformResponse,r),r.headers=nd.from(r.headers),r},function(r){return XH(r)||(eP(e),r&&r.response&&(r.response.data=QE.call(e,e.transformResponse,r.response),r.response.headers=nd.from(r.response.headers))),Promise.reject(r)})}const L5=e=>e instanceof nd?e.toJSON():e;function xy(e,t){t=t||{};const n={};function r(_,w,E){return Bt.isPlainObject(_)&&Bt.isPlainObject(w)?Bt.merge.call({caseless:E},_,w):Bt.isPlainObject(w)?Bt.merge({},w):Bt.isArray(w)?w.slice():w}function i(_,w,E){if(Bt.isUndefined(w)){if(!Bt.isUndefined(_))return r(void 0,_,E)}else return r(_,w,E)}function c(_,w){if(!Bt.isUndefined(w))return r(void 0,w)}function d(_,w){if(Bt.isUndefined(w)){if(!Bt.isUndefined(_))return r(void 0,_)}else return r(void 0,w)}function s(_,w,E){if(E in t)return r(_,w);if(E in e)return r(void 0,_)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:s,headers:(_,w)=>i(L5(_),L5(w),!0)};return Bt.forEach(Object.keys(Object.assign({},e,t)),function(w){const E=m[w]||i,k=E(e[w],t[w],w);Bt.isUndefined(k)&&E!==s||(n[w]=k)}),n}const QH="1.4.0",CR={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{CR[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const z5={};CR.transitional=function(t,n,r){function i(c,d){return"[Axios v"+QH+"] Transitional option '"+c+"'"+d+(r?". "+r:"")}return(c,d,s)=>{if(t===!1)throw new Hr(i(d," has been removed"+(n?" in "+n:"")),Hr.ERR_DEPRECATED);return n&&!z5[d]&&(z5[d]=!0,console.warn(i(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(c,d,s):!0}};function TAe(e,t,n){if(typeof e!="object")throw new Hr("options must be an object",Hr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const c=r[i],d=t[c];if(d){const s=e[c],m=s===void 0||d(s,c,e);if(m!==!0)throw new Hr("option "+c+" must be "+m,Hr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Hr("Unknown option "+c,Hr.ERR_BAD_OPTION)}}const _I={assertOptions:TAe,validators:CR},sh=_I.validators;class Jw{constructor(t){this.defaults=t,this.interceptors={request:new A5,response:new A5}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=xy(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:c}=n;r!==void 0&&_I.assertOptions(r,{silentJSONParsing:sh.transitional(sh.boolean),forcedJSONParsing:sh.transitional(sh.boolean),clarifyTimeoutError:sh.transitional(sh.boolean)},!1),i!=null&&(Bt.isFunction(i)?n.paramsSerializer={serialize:i}:_I.assertOptions(i,{encode:sh.function,serialize:sh.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d;d=c&&Bt.merge(c.common,c[n.method]),d&&Bt.forEach(["delete","get","head","post","put","patch","common"],R=>{delete c[R]}),n.headers=nd.concat(d,c);const s=[];let m=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(n)===!1||(m=m&&L.synchronous,s.unshift(L.fulfilled,L.rejected))});const _=[];this.interceptors.response.forEach(function(L){_.push(L.fulfilled,L.rejected)});let w,E=0,k;if(!m){const R=[D5.bind(this),void 0];for(R.unshift.apply(R,s),R.push.apply(R,_),k=R.length,w=Promise.resolve(n);E<k;)w=w.then(R[E++],R[E++]);return w}k=s.length;let O=n;for(E=0;E<k;){const R=s[E++],L=s[E++];try{O=R(O)}catch(U){L.call(this,U);break}}try{w=D5.call(this,O)}catch(R){return Promise.reject(R)}for(E=0,k=_.length;E<k;)w=w.then(_[E++],_[E++]);return w}getUri(t){t=xy(this.defaults,t);const n=JH(t.baseURL,t.url);return ZH(n,t.params,t.paramsSerializer)}}Bt.forEach(["delete","get","head","options"],function(t){Jw.prototype[t]=function(n,r){return this.request(xy(r||{},{method:t,url:n,data:(r||{}).data}))}});Bt.forEach(["post","put","patch"],function(t){function n(r){return function(c,d,s){return this.request(xy(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}Jw.prototype[t]=n(),Jw.prototype[t+"Form"]=n(!0)});const D1=Jw;class SR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const r=this;this.promise.then(i=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](i);r._listeners=null}),this.promise.then=i=>{let c;const d=new Promise(s=>{r.subscribe(s),c=s}).then(i);return d.cancel=function(){r.unsubscribe(c)},d},t(function(c,d,s){r.reason||(r.reason=new _x(c,d,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new SR(function(i){t=i}),cancel:t}}}const EAe=SR;function PAe(e){return function(n){return e.apply(null,n)}}function kAe(e){return Bt.isObject(e)&&e.isAxiosError===!0}const xI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xI).forEach(([e,t])=>{xI[t]=e});const IAe=xI;function eG(e){const t=new D1(e),n=zH(D1.prototype.request,t);return Bt.extend(n,D1.prototype,t,{allOwnKeys:!0}),Bt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return eG(xy(e,i))},n}const Hi=eG(wR);Hi.Axios=D1;Hi.CanceledError=_x;Hi.CancelToken=EAe;Hi.isCancel=XH;Hi.VERSION=QH;Hi.toFormData=QS;Hi.AxiosError=Hr;Hi.Cancel=Hi.CanceledError;Hi.all=function(t){return Promise.all(t)};Hi.spread=PAe;Hi.isAxiosError=kAe;Hi.mergeConfig=xy;Hi.AxiosHeaders=nd;Hi.formToJSON=e=>KH(Bt.isHTMLForm(e)?new FormData(e):e);Hi.HttpStatusCode=IAe;Hi.default=Hi;const F5=Hi,MAe="aedf3186d09b474abd1a8808eaf0bcc1",AAe={width:500,height:400,latitude:0,longitude:0,zoom:3},RAe=US().shape({titre:ui().required("Le titre est requis"),description:ui().required("La description est requise"),prix:qu().required("Le prix est requis").positive("Le prix doit être un nombre positif").integer("Le prix doit être un nombre entier"),voiture:ui().required("La voiture est requise"),latitude:qu().required("La latitude est requise").min(-90,"La latitude doit être supérieure ou égale à -90").max(90,"La latitude doit être inférieure ou égale à 90"),longitude:qu().required("La longitude est requise").min(-180,"La longitude doit être supérieure ou égale à -180").max(180,"La longitude doit être inférieure ou égale à 180"),address:ui().required("L'adresse est requise")}),OAe=()=>{const{annonceId:e}=xM(),t=P.useRef(),{userToken:n}=Ga(),[r,i]=P.useState(!0),c={titre:"",description:"",prix:0,voiture:"",latitude:0,longitude:0,address:""},[d,s]=P.useState({titre:"",description:"",prix:0,voiture:"",latitude:0,longitude:0,address:""}),[m,_]=P.useState({longitude:0,latitude:0,zoom:2}),[w,E]=P.useState([]),[k,O]=P.useState(""),[R,L]=P.useState([]);P.useEffect(()=>{const z=localStorage.getItem("AuserToken");z&&e&&r&&!d.titre&&ho.getAnnonce(Number(e),z).then(B=>B.json()).then(B=>{const Z={titre:B.titre,description:B.description,prix:B.prix,voiture:B.voiture.id.toString(),latitude:B.latitude,longitude:B.longitude,address:B.address};s(Z),console.log(B),O(B.address),_({...m,longitude:B.longitude,latitude:B.latitude})}).catch(B=>console.log(B.message)).finally(()=>i(!1))},[]),P.useEffect(()=>{var z;m&&((z=t.current)==null||z.flyTo({center:[m.longitude,m.latitude],duration:2e3,zoom:14}))},[m]),P.useEffect(()=>{const z=localStorage.getItem("AuserToken");z&&ho.listVoiture(z).then(B=>B.json()).then(B=>E(B)).catch(B=>console.log(B))},[]),P.useEffect(()=>{if(m&&m.latitude!==0&&m.longitude!==0){const{longitude:z,latitude:B}=m;r||(async()=>{try{const ee=await F5.get(`https://api.geoapify.com/v1/geocode/reverse?lat=${B}&lon=${z}&apiKey=aedf3186d09b474abd1a8808eaf0bcc1`),{formatted:X}=ee.data.features[0].properties;O(X)}catch(ee){console.error(ee)}})().catch(ee=>console.log(ee))}},[m,r]);const U=async z=>{const B=z.target.value;O(B);try{if(B&&B.length>=3){const ee=(await F5.get(`https://api.geoapify.com/v1/geocode/autocomplete?text=${B}&limit=5&apiKey=${MAe}`)).data.features.map(X=>({label:X.properties.formatted,latitude:X.properties.lat,longitude:X.properties.lon}));L(ee)}}catch(Z){console.error(Z)}},F=Tr.useCallback(z=>{z&&z.trigger()},[]);return T.jsx(Wp,{children:T.jsx(pt,{children:T.jsx(Cn,{container:!0,width:"100%",height:"100%",children:T.jsxs(Cn,{item:!0,md:12,xs:12,sm:12,pl:2,pr:2,children:[T.jsx(pt,{children:T.jsxs(uy,{"aria-label":"breadcrumb",sx:{mt:2,backgroundColor:"#295ad6",p:2,borderRadius:1,color:"#fff"},children:[T.jsx(qh,{underline:"hover",color:"inherit",href:"/dashboard",children:"Dashboard"}),T.jsx(qh,{underline:"hover",color:"inherit",href:"/dashboard/annonce/",children:"Annonce"}),T.jsx(Wt,{children:e})]})}),r&&d.titre===""?T.jsx(dx,{}):T.jsxs(T.Fragment,{children:[T.jsxs(Bh,{children:[T.jsx("meta",{charSet:"utf-8"}),T.jsx("title",{children:`Dashboard | Annonce ${d.titre}`})]}),T.jsx(hS,{initialValues:{...c,...d},validationSchema:RAe,onSubmit:console.log,children:({values:z,handleChange:B,handleBlur:Z,errors:ee,touched:X,isValid:W,handleReset:ne})=>T.jsxs(ox,{method:"post",onSubmit:J=>{J.preventDefault();const re=new FormData(J.currentTarget),se={};for(const[pe,ae]of re.entries())pe==="prix"?se[pe]=parseInt(ae.toString()):se[pe]=ae;se.latitude=m.latitude,se.longitude=m.longitude;const de=JSON.stringify(se);ho.updateAnnonce(Number(e),de,n).then(pe=>pe.json()).then(pe=>{console.log(pe),ne(J),Ss.fire({toast:!0,position:"bottom-start",icon:"success",title:"Annonce actualisée",showConfirmButton:!1,timer:5e3}),window.location.href="/dashboard/annonce/"}).catch(pe=>{console.log(pe.message),console.log(pe),Ss.fire({toast:!0,position:"bottom-start",icon:"error",title:"Désolé, un problème est survenu",showConfirmButton:!1,timer:5e3})})},children:[T.jsx(Wt,{variant:"h2",textAlign:"center",sx:{fontSize:"3rem"},children:"Metre ajour l'annonce"}),T.jsxs(Cn,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:5,flexDirection:"row",width:"100%",mt:5},container:!0,p:3,children:[T.jsxs(Cn,{md:5,sm:12,xs:12,item:!0,sx:{display:"flex",gap:1,flexDirection:"column",alignItems:"flex-start"},component:pi,p:1,children:[T.jsx(br,{label:"Titre",name:"titre",value:z.titre,onChange:B("titre"),onBlur:Z("titre"),error:!!(X.titre&&ee.titre),helperText:X.titre&&ee.titre.toString(),fullWidth:!0}),T.jsx(br,{label:"Voiture",name:"voiture",value:z.voiture,onChange:B("voiture"),onBlur:Z("voiture"),error:!!(X.voiture&&ee.voiture),helperText:X.voiture&&ee.voiture.toString(),fullWidth:!0,select:!0,children:w==null?void 0:w.map(J=>{var re;return T.jsxs(Oi,{value:J.id,children:[(re=J.model.marque)==null?void 0:re.nom," ",J.model.nom," ",J.type_carburant," ",J.annee]},J.id)})}),T.jsx(br,{label:"Prix",InputProps:{startAdornment:T.jsx(dy,{position:"start",children:"XAF"})},name:"prix",type:"number",value:z.prix,onChange:B("prix"),onBlur:Z("prix"),error:!!(X.prix&&ee.prix),helperText:X.prix&&ee.prix.toString(),fullWidth:!0}),T.jsx(br,{label:"Description",multiline:!0,rows:4,name:"description",value:z.description,onChange:B("description"),onBlur:Z("description"),error:!!(X.description&&ee.description),helperText:X.description&&ee.description.toString(),fullWidth:!0}),T.jsx(JM,{freeSolo:!0,options:R,getOptionLabel:J=>J.label,inputValue:k,onInputChange:J=>{U(J).catch(re=>console.log(re))},onChange:(J,re)=>{O(re?re.label:""),_({...m,longitude:re.longitude,latitude:re.latitude})},fullWidth:!0,renderInput:J=>T.jsx(br,{...J,name:"address",label:"Address",variant:"outlined"})}),T.jsxs(pt,{style:{width:"100%",display:"flex",gap:5},children:[T.jsx(br,{label:"Latitude",name:"latitude",value:m.latitude,disabled:!0,fullWidth:!0,onChange:B("latitude"),onBlur:Z("latitude"),error:!!(X.latitude&&ee.latitude),helperText:X.latitude&&ee.latitude.toString()}),T.jsx(br,{label:"Longitude",name:"longitude",value:m.longitude,disabled:!0,fullWidth:!0,onChange:B("longitude"),onBlur:Z("longitude"),error:!!(X.longitude&&ee.longitude),helperText:X.longitude&&ee.longitude.toString()})]}),T.jsx(pt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:T.jsx(Po,{startIcon:T.jsx(Lfe,{}),size:"large",color:"success",variant:"contained",type:"submit",disabled:!W&&k===""||m.latitude===0||m.longitude===0,children:"Mettre a jour"})})]}),T.jsx(Cn,{md:5,sm:12,xs:12,item:!0,component:pi,children:T.jsxs(OH,{ref:t,initialViewState:AAe,style:{width:"100%",height:500},mapStyle:"mapbox://styles/mapbox/streets-v9",mapboxAccessToken:"pk.eyJ1IjoiaXZhbnRvbSIsImEiOiJjbDJnMGlwNnYwZm9zM2duYnQ0a3c2bXFvIn0.x29uaFl79xgLW6nCs15JWw",children:[T.jsx(LH,{}),T.jsx(aMe,{showAccuracyCircle:!0,showUserLocation:!0,ref:F,onGeolocate:J=>_({...m,longitude:J.coords.longitude,latitude:J.coords.latitude})}),T.jsx(DH,{onDragEnd:J=>_({...m,latitude:J.lngLat.lat,longitude:J.lngLat.lng}),draggable:!0,longitude:m.longitude,latitude:m.latitude,anchor:"bottom"})]})})]})]})})]})]})})})})},DAe=()=>T.jsxs(pt,{sx:{width:"100vw",height:"100vh",overflowX:"hidden",display:"flex",padding:0,margin:0},children:[T.jsx(Bh,{children:T.jsx("title",{children:"Annonce Ventes | Not Found"})}),T.jsxs(pt,{sx:{flex:1,width:"100vw",height:"100vh"},children:[T.jsx(zy,{sx:{position:"relative"}}),T.jsx(Cn,{container:!0,width:"100%",height:"66%",children:T.jsx(Cn,{item:!0,xs:12,mb:5,height:"100%",sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsxs(pt,{component:pi,sx:{textAlign:"center",mt:10,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",width:"25%",padding:5,borderRadius:3},children:[T.jsx(Wt,{variant:"h1",component:"h1",color:"error",gutterBottom:!0,children:"404"}),T.jsx(Wt,{variant:"h5",component:"h2",gutterBottom:!0,children:"Oops! Page not found."}),T.jsx(Po,{variant:"contained",href:"/",sx:{mt:2,"&:hover":{color:"#ccc"}},children:"Go to Home"})]})})}),T.jsx(Fy,{})]})]}),LAe=()=>!!localStorage.getItem("AuserToken"),zAe=({redirectPath:e="/login",children:t})=>LAe()?t||T.jsx(Gq,{}):T.jsx(Hq,{to:e,replace:!0}),FAe=()=>T.jsx(Qq,{children:T.jsxs(qq,{children:[T.jsx(bs,{path:"/",element:T.jsx(gIe,{})}),T.jsx(bs,{path:"/login/",element:T.jsx(Efe,{})}),T.jsx(bs,{path:"/register/",element:T.jsx(fMe,{})}),T.jsx(bs,{path:"/contact/",element:T.jsx(vIe,{})}),T.jsx(bs,{path:"/annonces/",element:T.jsx(AIe,{})}),T.jsx(bs,{path:"/annonces/:id/",element:T.jsx(uMe,{})}),T.jsxs(bs,{path:"/dashboard/",element:T.jsx(zAe,{}),children:[T.jsx(bs,{path:"",element:T.jsx(Xme,{})}),T.jsx(bs,{path:"marque/",element:T.jsx(Qme,{})}),T.jsx(bs,{path:"modele/",element:T.jsx(swe,{})}),T.jsx(bs,{path:"voiture/",element:T.jsx(nCe,{})}),T.jsx(bs,{path:"voiture/:id/",element:T.jsx(iPe,{})}),T.jsx(bs,{path:"annonce/",element:T.jsx(oEe,{})}),T.jsx(bs,{path:"annonce/:annonceId/",element:T.jsx(OAe,{})})]}),T.jsx(bs,{path:"*",element:T.jsx(DAe,{})})]})});const jAe=e=>{const{children:t}=e,[n,r]=P.useState(""),[i,c]=P.useState(null),d=()=>{localStorage.clear(),r(""),c(null)};return P.useEffect(()=>{i&&localStorage.setItem("Auser",JSON.stringify(i)),n&&localStorage.setItem("AuserToken",n.trim())},[i,n]),P.useEffect(()=>{const s=localStorage.getItem("Auser");if(s){const _=JSON.parse(s);c(_)}const m=localStorage.getItem("AuserToken");m&&r(m||"")},[]),T.jsx(pA.Provider,{value:{userToken:n,setUserToken:r,user:i,setUser:c,logoutUser:d},children:t})},$Ae=DX(BM({typography:{fontFamily:"Fira Code"}}));tP.createRoot(document.getElementById("root")).render(T.jsx(Tr.StrictMode,{children:T.jsx(JK,{theme:$Ae,children:T.jsx(Tg,{children:T.jsx(jAe,{children:T.jsx(FAe,{})})})})}));export{ho as A,pt as B,F5 as C,v4 as D,hS as F,Cn as G,Qi as I,Oi as M,LH as N,pi as P,Tr as R,Lfe as S,q6 as T,Lp as _,ox as a,Wt as b,XEe as c,Ko as d,br as e,ePe as f,dy as g,JEe as h,QEe as i,T as j,W6 as k,Po as l,Wi as m,mU as n,gA as o,Gn as p,US as q,P as r,ui as s,qu as t,Ga as u,JM as v,ha as w,OH as x,aMe as y,DH as z};
